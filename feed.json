{
    "version": "https://jsonfeed.org/version/1",
    "title": "氨基酸小童鞋的博客",
    "subtitle": "氨基酸小童鞋的博客",
    "icon": "https://zhihao-a.github.io/images/favicon.ico",
    "description": "氨基酸小童鞋的博客",
    "home_page_url": "https://zhihao-a.github.io",
    "items": [
        {
            "id": "https://zhihao-a.github.io/2024/12/10/My%20First%20Blog/",
            "url": "https://zhihao-a.github.io/2024/12/10/My%20First%20Blog/",
            "title": "Hello World",
            "date_published": "2024-12-10T06:48:34.763Z",
            "content_html": "<p>Welcome to <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvLw==\">Hexo</span>! This is your very first post. Check <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mv\">documentation</span> for more info. If you get any problems when using Hexo, you can find the answer in <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3MvdHJvdWJsZXNob290aW5nLmh0bWw=\">troubleshooting</span> or you can ask me on <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2hleG9qcy9oZXhvL2lzc3Vlcw==\">GitHub</span>.</p>\n<h2 id=\"quick-start\"><a class=\"anchor\" href=\"#quick-start\">#</a> Quick Start</h2>\n<h3 id=\"create-a-new-post\"><a class=\"anchor\" href=\"#create-a-new-post\">#</a> Create a new post</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvd3JpdGluZy5odG1s\">Writing</span></p>\n<h3 id=\"run-server\"><a class=\"anchor\" href=\"#run-server\">#</a> Run server</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvc2VydmVyLmh0bWw=\">Server</span></p>\n<h3 id=\"generate-static-files\"><a class=\"anchor\" href=\"#generate-static-files\">#</a> Generate static files</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3MvZ2VuZXJhdGluZy5odG1s\">Generating</span></p>\n<h3 id=\"deploy-to-remote-sites\"><a class=\"anchor\" href=\"#deploy-to-remote-sites\">#</a> Deploy to remote sites</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvb25lLWNvbW1hbmQtZGVwbG95bWVudC5odG1s\">Deployment</span></p>\n",
            "tags": []
        },
        {
            "id": "https://zhihao-a.github.io/2024/12/09/MyBatis-Plus/",
            "url": "https://zhihao-a.github.io/2024/12/09/MyBatis-Plus/",
            "title": "mybatis-plus",
            "date_published": "2024-12-09T01:25:37.000Z",
            "content_html": "<h1 id=\"一-mybatis-plus\"><a class=\"anchor\" href=\"#一-mybatis-plus\">#</a> 一、MyBatis-Plus</h1>\n<h2 id=\"1简介\"><a class=\"anchor\" href=\"#1简介\">#</a> 1. 简介</h2>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2Jhb21pZG91L215YmF0aXMtcGx1cw==\">MyBatis-Plus (opens new window)</span>（简称 MP）是一个 <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubXliYXRpcy5vcmcvbXliYXRpcy0zLw==\">MyBatis (opens new window)</span> 的增强工具，在 MyBatis 的基础上只做增强不做改变，为简化开发、提高效率而生。</p>\n<blockquote>\n<p>我们的愿景是成为 MyBatis 最好的搭档，就像 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9iYW9taWRvdS5jb20vaW1nL2NvbnRyYS5qcGc=\">魂斗罗</span> 中的 1P、2P，基友搭配，效率翻倍。</p>\n</blockquote>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/relationship-with-mybatis.png\" alt=\"img\"></p>\n<h2 id=\"2特性\"><a class=\"anchor\" href=\"#2特性\">#</a> 2. 特性</h2>\n<ul>\n<li><strong>无侵入</strong>：只做增强不做改变，引入它不会对现有工程产生影响，如丝般顺滑</li>\n<li><strong>损耗小</strong>：启动即会自动注入基本 CURD，性能基本无损耗，直接面向对象操作</li>\n<li><strong>强大的 CRUD 操作</strong>：内置通用 Mapper、通用 Service，仅仅通过少量配置即可实现单表大部分 CRUD 操作，更有强大的条件构造器，满足各类使用需求</li>\n<li><strong>支持 Lambda 形式调用</strong>：通过 Lambda 表达式，方便的编写各类查询条件，无需再担心字段写错</li>\n<li><strong>支持主键自动生成</strong>：支持多达 4 种主键策略（内含分布式唯一 ID 生成器 - Sequence），可自由配置，完美解决主键问题</li>\n<li><strong>支持 ActiveRecord 模式</strong>：支持 ActiveRecord 形式调用，实体类只需继承 Model 类即可进行强大的 CRUD 操作</li>\n<li><strong>支持自定义全局通用操作</strong>：支持全局通用方法注入（ Write once, use anywhere ）</li>\n<li><strong>内置代码生成器</strong>：采用代码或者 Maven 插件可快速生成 Mapper 、 Model 、 Service 、 Controller 层代码，支持模板引擎，更有超多自定义配置等您来使用</li>\n<li><strong>内置分页插件</strong>：基于 MyBatis 物理分页，开发者无需关心具体操作，配置好插件之后，写分页等同于普通 List 查询</li>\n<li><strong>分页插件支持多种数据库</strong>：支持 MySQL、MariaDB、Oracle、DB2、H2、HSQL、SQLite、Postgre、SQLServer 等多种数据库</li>\n<li><strong>内置性能分析插件</strong>：可输出 SQL 语句以及其执行时间，建议开发测试时启用该功能，能快速揪出慢查询</li>\n<li><strong>内置全局拦截插件</strong>：提供全表 delete 、 update 操作智能分析阻断，也可自定义拦截规则，预防误操作</li>\n</ul>\n<h2 id=\"3支持数据库\"><a class=\"anchor\" href=\"#3支持数据库\">#</a> 3. 支持数据库</h2>\n<blockquote>\n<p>任何能使用  <code>MyBatis</code>  进行 CRUD, 并且支持标准 SQL 的数据库，具体支持情况如下，如果不在下列表查看分页部分教程 PR 您的支持。</p>\n</blockquote>\n<ul>\n<li>MySQL，Oracle，DB2，H2，HSQL，SQLite，PostgreSQL，SQLServer，Phoenix，Gauss ，ClickHouse，Sybase，OceanBase，Firebird，Cubrid，Goldilocks，csiidb</li>\n<li>达梦数据库，虚谷数据库，人大金仓数据库，南大通用 (华库) 数据库，南大通用数据库，神通数据库，瀚高数据库</li>\n</ul>\n<h2 id=\"4框架结构\"><a class=\"anchor\" href=\"#4框架结构\">#</a> 4. 框架结构</h2>\n<img data-src=\"https://baomidou.com/img/mybatis-plus-framework.jpg\" alt=\"framework\" style=\"zoom:50%;\" />\n<h2 id=\"5官方地址\"><a class=\"anchor\" href=\"#5官方地址\">#</a> 5. 官方地址</h2>\n<blockquote>\n<p>** 官方网站：**<span class=\"exturl\" data-url=\"aHR0cHM6Ly9iYW9taWRvdS5jb20v\">https://baomidou.com/</span></p>\n<p>** 官方文档：**<span class=\"exturl\" data-url=\"aHR0cHM6Ly9iYW9taWRvdS5jb20vcGFnZXMvMjQxMTJmLw==\">https://baomidou.com/pages/24112f/</span></p>\n</blockquote>\n<h1 id=\"二-入门案例\"><a class=\"anchor\" href=\"#二-入门案例\">#</a> 二、入门案例</h1>\n<h2 id=\"1开发环境\"><a class=\"anchor\" href=\"#1开发环境\">#</a> 1. 开发环境</h2>\n<ul>\n<li><strong>IDE：IDEA 2019.3.5</strong></li>\n<li><strong>JDK：JDK8+</strong></li>\n<li><strong>构建工具：Maven 3.5.4</strong></li>\n<li><strong>MySQL：MySQL 8.0.24</strong></li>\n<li><strong>Navicat：Navicat Premium 15</strong></li>\n<li><strong>Spring Boot：2.6.7</strong></li>\n<li><strong>MyBatis-Plus：3.5.1</strong></li>\n</ul>\n<h2 id=\"2建库建表\"><a class=\"anchor\" href=\"#2建库建表\">#</a> 2. 建库建表</h2>\n<ul>\n<li>\n<p><strong>打开 Navicat 运行以下 SQL 脚本进行建库建表</strong></p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> DATABASE `mybatis_plus` <span class=\"comment\">/*!40100 DEFAULT CHARACTER SET utf8mb4 */</span>; </span><br><span class=\"line\">use `mybatis_plus`; </span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> `<span class=\"keyword\">user</span>` ( </span><br><span class=\"line\">    `id` <span class=\"type\">bigint</span>(<span class=\"number\">20</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27;主键ID&#x27;</span>, </span><br><span class=\"line\">    `name` <span class=\"type\">varchar</span>(<span class=\"number\">30</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27;姓名&#x27;</span>, </span><br><span class=\"line\">    `age` <span class=\"type\">int</span>(<span class=\"number\">11</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27;年龄&#x27;</span>, </span><br><span class=\"line\">    `email` <span class=\"type\">varchar</span>(<span class=\"number\">50</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27;邮箱&#x27;</span>, </span><br><span class=\"line\">    <span class=\"keyword\">PRIMARY</span> KEY (`id`) </span><br><span class=\"line\">) ENGINE<span class=\"operator\">=</span>InnoDB <span class=\"keyword\">DEFAULT</span> CHARSET<span class=\"operator\">=</span>utf8;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>插入几条测试数据</strong></p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> <span class=\"keyword\">user</span> (id, name, age, email) <span class=\"keyword\">VALUES</span> </span><br><span class=\"line\">(<span class=\"number\">1</span>, <span class=\"string\">&#x27;Jone&#x27;</span>, <span class=\"number\">18</span>, <span class=\"string\">&#x27;test1@baomidou.com&#x27;</span>), </span><br><span class=\"line\">(<span class=\"number\">2</span>, <span class=\"string\">&#x27;Jack&#x27;</span>, <span class=\"number\">20</span>, <span class=\"string\">&#x27;test2@baomidou.com&#x27;</span>), </span><br><span class=\"line\">(<span class=\"number\">3</span>, <span class=\"string\">&#x27;Tom&#x27;</span>, <span class=\"number\">28</span>, <span class=\"string\">&#x27;test3@baomidou.com&#x27;</span>), </span><br><span class=\"line\">(<span class=\"number\">4</span>, <span class=\"string\">&#x27;Sandy&#x27;</span>, <span class=\"number\">21</span>, <span class=\"string\">&#x27;test4@baomidou.com&#x27;</span>), </span><br><span class=\"line\">(<span class=\"number\">5</span>, <span class=\"string\">&#x27;Billie&#x27;</span>, <span class=\"number\">24</span>, <span class=\"string\">&#x27;test5@baomidou.com&#x27;</span>);</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"3创建工程\"><a class=\"anchor\" href=\"#3创建工程\">#</a> 3. 创建工程</h2>\n<ul>\n<li>\n<p><strong>使用 <code>Spring Initializer</code>  快速初始化一个 Spring Boot 工程</strong></p>\n<img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220519140839640.png\" alt=\"image-20220519140839640\" style=\"zoom:80%;\" />\n<img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220519141335981.png\" alt=\"image-20220519141335981\" style=\"zoom:80%;\" />\n<img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220519141737405.png\" alt=\"image-20220519141737405\" style=\"zoom:80%;\" />\n<img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220519141849937.png\" alt=\"image-20220519141849937\" style=\"zoom:80%;\" />\n</li>\n<li>\n<p><strong>引入 <code>MyBatis-Plus</code>  的依赖</strong></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.baomidou<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>3.5.1<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>安装 <code>Lombok</code>  插件</strong></p>\n<img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220519143257305.png\" alt=\"image-20220519143257305\" style=\"zoom:80%;\" />\n</li>\n</ul>\n<h2 id=\"4配置编码\"><a class=\"anchor\" href=\"#4配置编码\">#</a> 4. 配置编码</h2>\n<ul>\n<li>\n<p><strong>配置 <code>application.yml</code>  文件</strong></p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#配置端口</span></span><br><span class=\"line\"><span class=\"attr\">server:</span></span><br><span class=\"line\">  <span class=\"attr\">port:</span> <span class=\"number\">80</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"comment\">#配置数据源</span></span><br><span class=\"line\">  <span class=\"attr\">datasource:</span></span><br><span class=\"line\">    <span class=\"comment\">#配置数据源类型</span></span><br><span class=\"line\">    <span class=\"attr\">type:</span> <span class=\"string\">com.zaxxer.hikari.HikariDataSource</span></span><br><span class=\"line\">    <span class=\"comment\">#配置连接数据库的信息</span></span><br><span class=\"line\">    <span class=\"attr\">driver-class-name:</span> <span class=\"string\">com.mysql.cj.jdbc.Driver</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&amp;useSSL=false</span></span><br><span class=\"line\">    <span class=\"attr\">username:</span> &#123;<span class=\"string\">username</span>&#125;</span><br><span class=\"line\">    <span class=\"attr\">password:</span> &#123;<span class=\"string\">password</span>&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#MyBatis-Plus相关配置</span></span><br><span class=\"line\"><span class=\"attr\">mybatis-plus:</span></span><br><span class=\"line\">  <span class=\"attr\">configuration:</span></span><br><span class=\"line\">    <span class=\"comment\">#配置日志</span></span><br><span class=\"line\">    <span class=\"attr\">log-impl:</span> <span class=\"string\">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>在 Spring Boot 启动类中添加  <code>@MapperScan</code>  注解，扫描 Mapper 文件夹</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@SpringBootApplication</span></span><br><span class=\"line\"><span class=\"meta\">@MapperScan(&quot;指定Mapper接口所在的包&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">MybatisPlusDemoApplication</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">\t\tSpringApplication.run(MybatisPlusDemoApplication.class, args);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>编写实体类  <code>User.java</code> （此处使用了 Lombok 简化代码）</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">User</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Long id;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Integer age;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String email;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>编写 Mapper 包下的  <code>UserMapper</code>  接口</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">UserMapper</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">BaseMapper</span>&lt;User&gt; &#123;&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"5测试查询\"><a class=\"anchor\" href=\"#5测试查询\">#</a> 5. 测试查询</h2>\n<ul>\n<li>\n<p><strong>编写一个测试类 <code>MyBatisPlusTest.java</code> </strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@SpringBootTest</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">MyBatisPlusTest</span> &#123;</span><br><span class=\"line\">    <span class=\"meta\">@Resource</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> UserMapper userMapper;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 测试查询所有数据</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"meta\">@Test</span></span><br><span class=\"line\">    <span class=\"keyword\">void</span> <span class=\"title function_\">testSelectList</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//通过条件构造器查询一个list集合，若没有条件，则可以设置null为参数</span></span><br><span class=\"line\">        List&lt;User&gt; users = userMapper.selectList(<span class=\"literal\">null</span>);</span><br><span class=\"line\">        users.forEach(System.out::println);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>控制台打印查询结果</strong></p>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220519150454211.png\" alt=\"image-20220519150454211\"></p>\n</li>\n</ul>\n<h1 id=\"三-增删改查\"><a class=\"anchor\" href=\"#三-增删改查\">#</a> 三、增删改查</h1>\n<h2 id=\"1basemappert\"><a class=\"anchor\" href=\"#1basemappert\">#</a> 1.BaseMapper&lt;T&gt;</h2>\n<blockquote>\n<p>说明:</p>\n<ul>\n<li>通用 CRUD 封装 BaseMapper 接口，为  <code>Mybatis-Plus</code>  启动时自动解析实体表关系映射转换为  <code>Mybatis</code>  内部对象注入容器</li>\n<li>泛型  <code>T</code>  为任意实体对象</li>\n<li>参数  <code>Serializable</code>  为任意类型主键  <code>Mybatis-Plus</code>  不推荐使用复合主键约定每一张表都有自己的唯一  <code>id</code>  主键</li>\n<li>对象  <code>Wrapper</code>  为条件构造器</li>\n</ul>\n</blockquote>\n<p>MyBatis-Plus 中的基本 CRUD 在内置的 BaseMapper 中都已得到了实现，因此我们继承该接口以后可以直接使用。</p>\n<p>本次演示的 CRUD 操作不包含参数带有条件构造器的方法，关于条件构造器将单独在一个章节进行演示。</p>\n<hr>\n<blockquote>\n<p><strong>BaseMapper 中提供的 CRUD 方法：</strong></p>\n</blockquote>\n<ul>\n<li>\n<p><strong>增加：Insert</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 插入一条记录</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">insert</span><span class=\"params\">(T entity)</span>;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>删除：Delete</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 根据 entity 条件，删除记录</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">delete</span><span class=\"params\">(<span class=\"meta\">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; wrapper)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 删除（根据ID 批量删除）</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">deleteBatchIds</span><span class=\"params\">(<span class=\"meta\">@Param(Constants.COLLECTION)</span> Collection&lt;? extends Serializable&gt; idList)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 ID 删除</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">deleteById</span><span class=\"params\">(Serializable id)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 columnMap 条件，删除记录</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">deleteByMap</span><span class=\"params\">(<span class=\"meta\">@Param(Constants.COLUMN_MAP)</span> Map&lt;String, Object&gt; columnMap)</span>;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>修改：Update</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 根据 whereWrapper 条件，更新记录</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">update</span><span class=\"params\">(<span class=\"meta\">@Param(Constants.ENTITY)</span> T updateEntity, <span class=\"meta\">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; whereWrapper)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 ID 修改</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">updateById</span><span class=\"params\">(<span class=\"meta\">@Param(Constants.ENTITY)</span> T entity)</span>;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>查询：Selete</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 根据 ID 查询</span></span><br><span class=\"line\">T <span class=\"title function_\">selectById</span><span class=\"params\">(Serializable id)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 entity 条件，查询一条记录</span></span><br><span class=\"line\">T <span class=\"title function_\">selectOne</span><span class=\"params\">(<span class=\"meta\">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 查询（根据ID 批量查询）</span></span><br><span class=\"line\">List&lt;T&gt; <span class=\"title function_\">selectBatchIds</span><span class=\"params\">(<span class=\"meta\">@Param(Constants.COLLECTION)</span> Collection&lt;? extends Serializable&gt; idList)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 entity 条件，查询全部记录</span></span><br><span class=\"line\">List&lt;T&gt; <span class=\"title function_\">selectList</span><span class=\"params\">(<span class=\"meta\">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 查询（根据 columnMap 条件）</span></span><br><span class=\"line\">List&lt;T&gt; <span class=\"title function_\">selectByMap</span><span class=\"params\">(<span class=\"meta\">@Param(Constants.COLUMN_MAP)</span> Map&lt;String, Object&gt; columnMap)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 Wrapper 条件，查询全部记录</span></span><br><span class=\"line\">List&lt;Map&lt;String, Object&gt;&gt; <span class=\"title function_\">selectMaps</span><span class=\"params\">(<span class=\"meta\">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 Wrapper 条件，查询全部记录。注意： 只返回第一个字段的值</span></span><br><span class=\"line\">List&lt;Object&gt; <span class=\"title function_\">selectObjs</span><span class=\"params\">(<span class=\"meta\">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 根据 entity 条件，查询全部记录（并翻页）</span></span><br><span class=\"line\">IPage&lt;T&gt; <span class=\"title function_\">selectPage</span><span class=\"params\">(IPage&lt;T&gt; page, <span class=\"meta\">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 Wrapper 条件，查询全部记录（并翻页）</span></span><br><span class=\"line\">IPage&lt;Map&lt;String, Object&gt;&gt; <span class=\"title function_\">selectMapsPage</span><span class=\"params\">(IPage&lt;T&gt; page, <span class=\"meta\">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 Wrapper 条件，查询总记录数</span></span><br><span class=\"line\">Integer <span class=\"title function_\">selectCount</span><span class=\"params\">(<span class=\"meta\">@Param(Constants.WRAPPER)</span> Wrapper&lt;T&gt; queryWrapper)</span>;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"2调用mapper层实现crud\"><a class=\"anchor\" href=\"#2调用mapper层实现crud\">#</a> 2. 调用 Mapper 层实现 CRUD</h2>\n<h3 id=\"21插入\"><a class=\"anchor\" href=\"#21插入\">#</a> 2.1\t插入</h3>\n<hr>\n<blockquote>\n<p><strong>最终执行的结果，所获取的 id 为 1527206783590903810</strong></p>\n<p><strong>这是因为 MyBatis-Plus 在实现插入数据时，会默认基于雪花算法的策略生成 id</strong></p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * 测试插入一条数据</span></span><br><span class=\"line\"><span class=\"comment\">  * MyBatis-Plus在实现插入数据时，会默认基于雪花算法的策略生成id</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">testInsert</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"type\">User</span> <span class=\"variable\">user</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">User</span>();</span><br><span class=\"line\">    user.setName(<span class=\"string\">&quot;Vz&quot;</span>);</span><br><span class=\"line\">    user.setAge(<span class=\"number\">21</span>);</span><br><span class=\"line\">    user.setEmail(<span class=\"string\">&quot;vz@oz6.cn&quot;</span>);</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">result</span> <span class=\"operator\">=</span> userMapper.insert(user);</span><br><span class=\"line\">    System.out.println(result &gt; <span class=\"number\">0</span> ? <span class=\"string\">&quot;添加成功！&quot;</span> : <span class=\"string\">&quot;添加失败！&quot;</span>);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;受影响的行数为：&quot;</span> + result);</span><br><span class=\"line\">    <span class=\"comment\">//1527206783590903810（当前 id 为雪花算法自动生成的id）</span></span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;id自动获取&quot;</span> + user.getId());</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"22删除\"><a class=\"anchor\" href=\"#22删除\">#</a> 2.2\t删除</h3>\n<hr>\n<h4 id=\"a-根据id删除数据\"><a class=\"anchor\" href=\"#a-根据id删除数据\">#</a> a、根据 ID 删除数据</h4>\n<blockquote>\n<p><strong>调用方法：int deleteById (Serializable id);</strong></p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * 测试根据id删除一条数据</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">testDeleteById</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">result</span> <span class=\"operator\">=</span> userMapper.deleteById(<span class=\"number\">1527206783590903810L</span>);</span><br><span class=\"line\">    System.out.println(result &gt; <span class=\"number\">0</span> ? <span class=\"string\">&quot;删除成功！&quot;</span> : <span class=\"string\">&quot;删除失败！&quot;</span>);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;受影响的行数为：&quot;</span> + result);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"b-根据id批量删除数据\"><a class=\"anchor\" href=\"#b-根据id批量删除数据\">#</a> b、根据 ID 批量删除数据</h4>\n<blockquote>\n<p><strong>调用方法：int deleteBatchIds (@Param (Constants.COLLECTION) Collection&lt;? extends Serializable&gt; idList);</strong></p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * 测试通过id批量删除数据</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">testDeleteBatchIds</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    List&lt;Long&gt; ids = Arrays.asList(<span class=\"number\">6L</span>,<span class=\"number\">7L</span>,<span class=\"number\">8L</span>);</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">result</span> <span class=\"operator\">=</span> userMapper.deleteBatchIds(ids);</span><br><span class=\"line\">    System.out.println(result &gt; <span class=\"number\">0</span> ? <span class=\"string\">&quot;删除成功！&quot;</span> : <span class=\"string\">&quot;删除失败！&quot;</span>);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;受影响的行数为：&quot;</span> + result);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"c-根据map条件删除数据\"><a class=\"anchor\" href=\"#c-根据map条件删除数据\">#</a> c、根据 Map 条件删除数据</h4>\n<blockquote>\n<p><strong>调用方法：int deleteByMap (@Param (Constants.COLUMN_MAP) Map&lt;String, Object&gt; columnMap);</strong></p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * 测试根据Map集合中所设置的条件删除数据</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">testDeleteByMap</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//当前演示为根据name和age删除数据</span></span><br><span class=\"line\">    <span class=\"comment\">//执行SQL为：DELETE FROM user WHERE name = ? AND age = ?</span></span><br><span class=\"line\">    Map&lt;String,Object&gt; map = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\">    map.put(<span class=\"string\">&quot;name&quot;</span>,<span class=\"string\">&quot;Vz&quot;</span>);</span><br><span class=\"line\">    map.put(<span class=\"string\">&quot;age&quot;</span>,<span class=\"number\">21</span>);</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">result</span> <span class=\"operator\">=</span> userMapper.deleteByMap(map);</span><br><span class=\"line\">    System.out.println(result &gt; <span class=\"number\">0</span> ? <span class=\"string\">&quot;删除成功！&quot;</span> : <span class=\"string\">&quot;删除失败！&quot;</span>);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;受影响的行数为：&quot;</span> + result);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"23修改\"><a class=\"anchor\" href=\"#23修改\">#</a> 2.3\t修改</h3>\n<blockquote>\n<p><strong>调用方法：int updateById (@Param (Constants.ENTITY) T entity);</strong></p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * 测试根据id修改用户信息</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">testUpdateById</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//执行SQL为： UPDATE user SET name=?, age=?, email=? WHERE id=?</span></span><br><span class=\"line\">    <span class=\"type\">User</span> <span class=\"variable\">user</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">User</span>();</span><br><span class=\"line\">    user.setId(<span class=\"number\">6L</span>);</span><br><span class=\"line\">    user.setName(<span class=\"string\">&quot;VzUpdate&quot;</span>);</span><br><span class=\"line\">    user.setAge(<span class=\"number\">18</span>);</span><br><span class=\"line\">    user.setEmail(<span class=\"string\">&quot;Vz@sina.com&quot;</span>);</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">result</span> <span class=\"operator\">=</span> userMapper.updateById(user);</span><br><span class=\"line\">    System.out.println(result &gt; <span class=\"number\">0</span> ? <span class=\"string\">&quot;修改成功！&quot;</span> : <span class=\"string\">&quot;修改失败！&quot;</span>);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;受影响的行数为：&quot;</span> + result);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"24查询\"><a class=\"anchor\" href=\"#24查询\">#</a> 2.4\t查询</h3>\n<hr>\n<h4 id=\"a-根据id查询用户信息\"><a class=\"anchor\" href=\"#a-根据id查询用户信息\">#</a> a、根据 ID 查询用户信息</h4>\n<blockquote>\n<p><strong>调用方法：T selectById (Serializable id);</strong></p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * 测试根据id查询用户数据</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">testSelectById</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"type\">User</span> <span class=\"variable\">user</span> <span class=\"operator\">=</span> userMapper.selectById(<span class=\"number\">1L</span>);</span><br><span class=\"line\">    System.out.println(user);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"b-根据多个id查询多个用户信息\"><a class=\"anchor\" href=\"#b-根据多个id查询多个用户信息\">#</a> b、根据多个 ID 查询多个用户信息</h4>\n<blockquote>\n<p><strong>调用方法：List<T> selectBatchIds(@Param(Constants.COLLECTION) Collection&lt;? extends Serializable&gt; idList);</strong></p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * 根据多个id查询用户数据</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">testSelectBatchIds</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//执行SQL为：SELECT id,name,age,email FROM user WHERE id IN ( ? , ? , ? )</span></span><br><span class=\"line\">    List&lt;Long&gt; ids = Arrays.asList(<span class=\"number\">1L</span>,<span class=\"number\">2L</span>,<span class=\"number\">3L</span>);</span><br><span class=\"line\">    List&lt;User&gt; users = userMapper.selectBatchIds(ids);</span><br><span class=\"line\">    users.forEach(System.out::println);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"c-根据map条件查询用户信息\"><a class=\"anchor\" href=\"#c-根据map条件查询用户信息\">#</a> c、根据 Map 条件查询用户信息</h4>\n<blockquote>\n<p><strong>调用方法：List<T> selectByMap(@Param(Constants.COLUMN_MAP) Map&lt;String, Object&gt; columnMap);</strong></p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * 根据Map所设置的条件查询用户</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">testSelectByMap</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//执行SQL为：SELECT id,name,age,email FROM user WHERE age = ?</span></span><br><span class=\"line\">    Map&lt;String,Object&gt; map = <span class=\"keyword\">new</span> <span class=\"title class_\">HashMap</span>&lt;&gt;();</span><br><span class=\"line\">    map.put(<span class=\"string\">&quot;age&quot;</span>,<span class=\"number\">18</span>);</span><br><span class=\"line\">    List&lt;User&gt; users = userMapper.selectByMap(map);</span><br><span class=\"line\">    users.forEach(System.out::println);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"d-查询所有用户信息\"><a class=\"anchor\" href=\"#d-查询所有用户信息\">#</a> d、查询所有用户信息</h4>\n<blockquote>\n<p><strong>调用方法：List<T> selectList(@Param(Constants.WRAPPER) Wrapper<T> queryWrapper);</strong></p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * 测试查询所有数据</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"keyword\">void</span> <span class=\"title function_\">testSelectList</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    List&lt;User&gt; users = userMapper.selectList(<span class=\"literal\">null</span>);</span><br><span class=\"line\">    users.forEach(System.out::println);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"3通用service\"><a class=\"anchor\" href=\"#3通用service\">#</a> 3. 通用 Service</h2>\n<blockquote>\n<p>说明:</p>\n<ul>\n<li>通用 Service CRUD 封装 <code>IService</code>  接口，进一步封装 CRUD 采用  <code>get 查询单行</code>   <code>remove 删除</code>   <code>list 查询集合</code>   <code>page 分页</code>  前缀命名方式区分  <code>Mapper</code>  层避免混淆，</li>\n<li>泛型  <code>T</code>  为任意实体对象</li>\n<li>建议如果存在自定义通用 Service 方法的可能，请创建自己的  <code>IBaseService</code>  继承  <code>Mybatis-Plus</code>  提供的基类</li>\n<li>对象  <code>Wrapper</code>  为 条件构造器</li>\n</ul>\n</blockquote>\n<p>MyBatis-Plus 中有一个接口 ** <code>IService</code> ** 和其实现类 <strong> <code>ServiceImpl</code> </strong>，封装了常见的业务层逻辑，详情查看源码 IService 和 ServiceImpl</p>\n<p>因此我们在使用的时候仅需在自己定义的 ** <code>Service</code> <strong> 接口中继承</strong> <code>IService</code> <strong> 接口，在自己的实现类中实现自己的 Service 并继承</strong> <code>ServiceImpl</code> ** 即可</p>\n<hr>\n<blockquote>\n<p><strong>IService 中的 CRUD 方法</strong></p>\n</blockquote>\n<ul>\n<li>\n<p><strong>增加：Save、SaveOrUpdate</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 插入一条记录（选择字段，策略插入）</span></span><br><span class=\"line\"><span class=\"type\">boolean</span> <span class=\"title function_\">save</span><span class=\"params\">(T entity)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 插入（批量）</span></span><br><span class=\"line\"><span class=\"type\">boolean</span> <span class=\"title function_\">saveBatch</span><span class=\"params\">(Collection&lt;T&gt; entityList)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 插入（批量）</span></span><br><span class=\"line\"><span class=\"type\">boolean</span> <span class=\"title function_\">saveBatch</span><span class=\"params\">(Collection&lt;T&gt; entityList, <span class=\"type\">int</span> batchSize)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// TableId 注解存在更新记录，否插入一条记录</span></span><br><span class=\"line\"><span class=\"type\">boolean</span> <span class=\"title function_\">saveOrUpdate</span><span class=\"params\">(T entity)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据updateWrapper尝试更新，否继续执行saveOrUpdate(T)方法</span></span><br><span class=\"line\"><span class=\"type\">boolean</span> <span class=\"title function_\">saveOrUpdate</span><span class=\"params\">(T entity, Wrapper&lt;T&gt; updateWrapper)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 批量修改插入</span></span><br><span class=\"line\"><span class=\"type\">boolean</span> <span class=\"title function_\">saveOrUpdateBatch</span><span class=\"params\">(Collection&lt;T&gt; entityList)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 批量修改插入</span></span><br><span class=\"line\"><span class=\"type\">boolean</span> <span class=\"title function_\">saveOrUpdateBatch</span><span class=\"params\">(Collection&lt;T&gt; entityList, <span class=\"type\">int</span> batchSize)</span>;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>删除：Remove</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 根据 entity 条件，删除记录</span></span><br><span class=\"line\"><span class=\"type\">boolean</span> <span class=\"title function_\">remove</span><span class=\"params\">(Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 ID 删除</span></span><br><span class=\"line\"><span class=\"type\">boolean</span> <span class=\"title function_\">removeById</span><span class=\"params\">(Serializable id)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 columnMap 条件，删除记录</span></span><br><span class=\"line\"><span class=\"type\">boolean</span> <span class=\"title function_\">removeByMap</span><span class=\"params\">(Map&lt;String, Object&gt; columnMap)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 删除（根据ID 批量删除）</span></span><br><span class=\"line\"><span class=\"type\">boolean</span> <span class=\"title function_\">removeByIds</span><span class=\"params\">(Collection&lt;? extends Serializable&gt; idList)</span>;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>修改：Update</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 根据 UpdateWrapper 条件，更新记录 需要设置sqlset</span></span><br><span class=\"line\"><span class=\"type\">boolean</span> <span class=\"title function_\">update</span><span class=\"params\">(Wrapper&lt;T&gt; updateWrapper)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 whereWrapper 条件，更新记录</span></span><br><span class=\"line\"><span class=\"type\">boolean</span> <span class=\"title function_\">update</span><span class=\"params\">(T updateEntity, Wrapper&lt;T&gt; whereWrapper)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 ID 选择修改</span></span><br><span class=\"line\"><span class=\"type\">boolean</span> <span class=\"title function_\">updateById</span><span class=\"params\">(T entity)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据ID 批量更新</span></span><br><span class=\"line\"><span class=\"type\">boolean</span> <span class=\"title function_\">updateBatchById</span><span class=\"params\">(Collection&lt;T&gt; entityList)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据ID 批量更新</span></span><br><span class=\"line\"><span class=\"type\">boolean</span> <span class=\"title function_\">updateBatchById</span><span class=\"params\">(Collection&lt;T&gt; entityList, <span class=\"type\">int</span> batchSize)</span>;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>查询：Get、List、Count</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 根据 ID 查询</span></span><br><span class=\"line\">T <span class=\"title function_\">getById</span><span class=\"params\">(Serializable id)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 Wrapper，查询一条记录。结果集，如果是多个会抛出异常，随机取一条加上限制条件 wrapper.last(&quot;LIMIT 1&quot;)</span></span><br><span class=\"line\">T <span class=\"title function_\">getOne</span><span class=\"params\">(Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 Wrapper，查询一条记录</span></span><br><span class=\"line\">T <span class=\"title function_\">getOne</span><span class=\"params\">(Wrapper&lt;T&gt; queryWrapper, <span class=\"type\">boolean</span> throwEx)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 Wrapper，查询一条记录</span></span><br><span class=\"line\">Map&lt;String, Object&gt; <span class=\"title function_\">getMap</span><span class=\"params\">(Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 Wrapper，查询一条记录</span></span><br><span class=\"line\">&lt;V&gt; V <span class=\"title function_\">getObj</span><span class=\"params\">(Wrapper&lt;T&gt; queryWrapper, Function&lt;? <span class=\"built_in\">super</span> Object, V&gt; mapper)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 查询所有</span></span><br><span class=\"line\">List&lt;T&gt; <span class=\"title function_\">list</span><span class=\"params\">()</span>;</span><br><span class=\"line\"><span class=\"comment\">// 查询列表</span></span><br><span class=\"line\">List&lt;T&gt; <span class=\"title function_\">list</span><span class=\"params\">(Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 查询（根据ID 批量查询）</span></span><br><span class=\"line\">Collection&lt;T&gt; <span class=\"title function_\">listByIds</span><span class=\"params\">(Collection&lt;? extends Serializable&gt; idList)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 查询（根据 columnMap 条件）</span></span><br><span class=\"line\">Collection&lt;T&gt; <span class=\"title function_\">listByMap</span><span class=\"params\">(Map&lt;String, Object&gt; columnMap)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 查询所有列表</span></span><br><span class=\"line\">List&lt;Map&lt;String, Object&gt;&gt; <span class=\"title function_\">listMaps</span><span class=\"params\">()</span>;</span><br><span class=\"line\"><span class=\"comment\">// 查询列表</span></span><br><span class=\"line\">List&lt;Map&lt;String, Object&gt;&gt; <span class=\"title function_\">listMaps</span><span class=\"params\">(Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 查询全部记录</span></span><br><span class=\"line\">List&lt;Object&gt; <span class=\"title function_\">listObjs</span><span class=\"params\">()</span>;</span><br><span class=\"line\"><span class=\"comment\">// 查询全部记录</span></span><br><span class=\"line\">&lt;V&gt; List&lt;V&gt; <span class=\"title function_\">listObjs</span><span class=\"params\">(Function&lt;? <span class=\"built_in\">super</span> Object, V&gt; mapper)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 Wrapper 条件，查询全部记录</span></span><br><span class=\"line\">List&lt;Object&gt; <span class=\"title function_\">listObjs</span><span class=\"params\">(Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 Wrapper 条件，查询全部记录</span></span><br><span class=\"line\">&lt;V&gt; List&lt;V&gt; <span class=\"title function_\">listObjs</span><span class=\"params\">(Wrapper&lt;T&gt; queryWrapper, Function&lt;? <span class=\"built_in\">super</span> Object, V&gt; mapper)</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 查询总记录数</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">count</span><span class=\"params\">()</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 Wrapper 条件，查询总记录数</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"title function_\">count</span><span class=\"params\">(Wrapper&lt;T&gt; queryWrapper)</span>;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>分页：Page</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 根据 ID 查询</span></span><br><span class=\"line\">T <span class=\"title function_\">getById</span><span class=\"params\">(Serializable id)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 Wrapper，查询一条记录。结果集，如果是多个会抛出异常，随机取一条加上限制条件 wrapper.last(&quot;LIMIT 1&quot;)</span></span><br><span class=\"line\">T <span class=\"title function_\">getOne</span><span class=\"params\">(Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 Wrapper，查询一条记录</span></span><br><span class=\"line\">T <span class=\"title function_\">getOne</span><span class=\"params\">(Wrapper&lt;T&gt; queryWrapper, <span class=\"type\">boolean</span> throwEx)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 Wrapper，查询一条记录</span></span><br><span class=\"line\">Map&lt;String, Object&gt; <span class=\"title function_\">getMap</span><span class=\"params\">(Wrapper&lt;T&gt; queryWrapper)</span>;</span><br><span class=\"line\"><span class=\"comment\">// 根据 Wrapper，查询一条记录</span></span><br><span class=\"line\">&lt;V&gt; V <span class=\"title function_\">getObj</span><span class=\"params\">(Wrapper&lt;T&gt; queryWrapper, Function&lt;? <span class=\"built_in\">super</span> Object, V&gt; mapper)</span>;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"4调用service层操作数据\"><a class=\"anchor\" href=\"#4调用service层操作数据\">#</a> 4. 调用 Service 层操作数据</h2>\n<blockquote>\n<p>我们在自己的 Service 接口中通过继承 MyBatis-Plus 提供的 IService 接口，不仅可以获得其提供的 CRUD 方法，而且还可以使用自身定义的方法。</p>\n</blockquote>\n<ul>\n<li>\n<p><strong>创建 <code>UserService</code>  并继承 <code>IService</code> </strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * UserService继承IService模板提供的基础功能 </span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">UserService</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">IService</span>&lt;User&gt; &#123;&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>创建 <code>UserService</code>  的实现类并继承 <code>ServiceImpl</code> </strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * ServiceImpl实现了IService，提供了IService中基础功能的实现 </span></span><br><span class=\"line\"><span class=\"comment\">  * 若ServiceImpl无法满足业务需求，则可以使用自定的UserService定义方法，并在实现类中实现</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\"><span class=\"meta\">@Service</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">UserServiceImpl</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">ServiceImpl</span>&lt;UserMapper,User&gt; <span class=\"keyword\">implements</span> <span class=\"title class_\">UserService</span>&#123;&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>测试查询记录数</strong></p>\n<blockquote>\n<p><strong>调用方法：int count ();</strong></p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">testGetCount</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//查询总记录数</span></span><br><span class=\"line\">    <span class=\"comment\">//执行的SQL为：SELECT COUNT( * ) FROM user</span></span><br><span class=\"line\">    <span class=\"type\">long</span> <span class=\"variable\">count</span> <span class=\"operator\">=</span> userService.count();</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;总记录数：&quot;</span> + count);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>测试批量插入数据</strong></p>\n<blockquote>\n<p><strong>调用方法：boolean saveBatch (Collection<T> entityList);</strong></p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">test</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    List&lt;User&gt; list = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayList</span>&lt;&gt;();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> <span class=\"variable\">i</span> <span class=\"operator\">=</span> <span class=\"number\">1</span>; i &lt;= <span class=\"number\">10</span>; i++) &#123;</span><br><span class=\"line\">        <span class=\"type\">User</span> <span class=\"variable\">user</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">User</span>();</span><br><span class=\"line\">        user.setName(<span class=\"string\">&quot;Vz&quot;</span>+i);</span><br><span class=\"line\">        user.setAge(<span class=\"number\">20</span>+i);</span><br><span class=\"line\">        list.add(user);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"type\">boolean</span> <span class=\"variable\">b</span> <span class=\"operator\">=</span> userService.saveBatch(list);</span><br><span class=\"line\">    System.out.println(b ? <span class=\"string\">&quot;添加成功！&quot;</span> : <span class=\"string\">&quot;添加失败！&quot;</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h1 id=\"四-常用注解\"><a class=\"anchor\" href=\"#四-常用注解\">#</a> 四、常用注解</h1>\n<blockquote>\n<p>MyBatis-Plus 提供的注解可以帮我们解决一些数据库与实体之间相互映射的问题。</p>\n</blockquote>\n<h2 id=\"1tablename\"><a class=\"anchor\" href=\"#1tablename\">#</a> 1.@TableName</h2>\n<blockquote>\n<p>经过以上的测试，在使用 MyBatis-Plus 实现基本的 CRUD 时，我们并没有指定要操作的表，只是在 Mapper 接口继承 BaseMapper 时，设置了泛型 User，而操作的表为 user 表，由此得出结论，MyBatis-Plus 在确定操作的表时，由 BaseMapper 的泛型决定，即实体类型决定，且默认操作的表名和实体类型的类名一致。</p>\n</blockquote>\n<h3 id=\"11引出问题\"><a class=\"anchor\" href=\"#11引出问题\">#</a> 1.1\t引出问题</h3>\n<hr>\n<blockquote>\n<p><strong>若实体类类型的类名和要操作的表的表名不一致，会出现什么问题？</strong></p>\n</blockquote>\n<ul>\n<li>\n<p>我们将表 <code>user</code>  更名为 <code>t_user</code> ，测试查询功能</p>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520093844842.png\" alt=\"image-20220520093844842\"></p>\n</li>\n<li>\n<p>程序抛出异常，<strong>Table ‘mybatis_plus.user’ doesn’t exist</strong>，因为现在的表名为 <code>t_user</code> ，而默认操作的表名和实体类型的类名一致，即 <code>user</code>  表</p>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520094126411.png\" alt=\"image-20220520094126411\"></p>\n</li>\n</ul>\n<h3 id=\"12解决问题\"><a class=\"anchor\" href=\"#12解决问题\">#</a> 1.2\t解决问题</h3>\n<hr>\n<h4 id=\"a-使用注解解决问题\"><a class=\"anchor\" href=\"#a-使用注解解决问题\">#</a> a、使用注解解决问题</h4>\n<blockquote>\n<p><strong>在实体类类型上添加 <code>@TableName(&quot;t_user&quot;)</code> ，标识实体类对应的表，即可成功执行 SQL 语句</strong></p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"meta\">@TableName(&quot;t_user&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">User</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Long id;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Integer age;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String email;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"b-使用全局配置解决问题\"><a class=\"anchor\" href=\"#b-使用全局配置解决问题\">#</a> b、使用全局配置解决问题</h4>\n<blockquote>\n<p><strong>在开发的过程中，我们经常遇到以上的问题，即实体类所对应的表都有固定的前缀，例如  <code>t_</code>  或  <code>tbl_</code>  此时，可以使用 MyBatis-Plus 提供的全局配置，为实体类所对应的表名设置默认的前缀，那么就不需要在每个实体类上通过 @TableName 标识实体类对应的表</strong></p>\n</blockquote>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">mybatis-plus:</span></span><br><span class=\"line\">  <span class=\"attr\">global-config:</span></span><br><span class=\"line\">    <span class=\"attr\">db-config:</span></span><br><span class=\"line\">      <span class=\"comment\"># 设置实体类所对应的表的统一前缀</span></span><br><span class=\"line\">      <span class=\"attr\">table-prefix:</span> <span class=\"string\">t_</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"2tableid\"><a class=\"anchor\" href=\"#2tableid\">#</a> 2.@TableId</h2>\n<blockquote>\n<p><strong>经过以上的测试，MyBatis-Plus 在实现 CRUD 时，会默认将 id 作为主键列，并在插入数据时，默认基于雪花算法的策略生成 id</strong></p>\n</blockquote>\n<h3 id=\"21引出问题\"><a class=\"anchor\" href=\"#21引出问题\">#</a> 2.1\t引出问题</h3>\n<hr>\n<blockquote>\n<p><strong>若实体类和表中表示主键的不是 id，而是其他字段，例如 uid，MyBatis-Plus 会自动识别 uid 为主键列吗？</strong></p>\n</blockquote>\n<ul>\n<li>\n<p>我们实体类中的属性 <code>id</code>  改为 <code>uid</code> ，将表中的字段 <code>id</code>  也改为 <code>uid</code> ，测试添加功能</p>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520100939157.png\" alt=\"image-20220520100939157\"></p>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520100715109.png\" alt=\"image-20220520100715109\"></p>\n</li>\n<li>\n<p>程序抛出异常，<strong>Field ‘uid’ doesn’t have a default value</strong>，说明 MyBatis-Plus 没有将 <code>uid</code>  作为主键赋值</p>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520101317761.png\" alt=\"image-20220520101317761\"></p>\n</li>\n</ul>\n<h3 id=\"22解决问题\"><a class=\"anchor\" href=\"#22解决问题\">#</a> 2.2\t解决问题</h3>\n<hr>\n<blockquote>\n<p><strong>在实体类中 uid 属性上通过 <code>@TableId</code>  将其标识为主键，即可成功执行 SQL 语句</strong></p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Date</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">User</span> &#123;</span><br><span class=\"line\">    <span class=\"meta\">@TableId</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Long uid;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Integer age;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String email;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"23tableid的value属性\"><a class=\"anchor\" href=\"#23tableid的value属性\">#</a> 2.3\t@TableId 的 value 属性</h3>\n<hr>\n<blockquote>\n<p>若实体类中主键对应的属性为 id，而表中表示主键的字段为 uid，此时若只在属性 id 上添加注解 @TableId，则抛出异常<strong> Unknown column ‘id’ in ‘field list’</strong>，即 MyBatis-Plus 仍然会将 id 作为表的主键操作，而表中表示主键的是字段 uid 此时需要通过 @TableId 注解的 value 属性，指定表中的主键字段， <code>@TableId(&quot;uid&quot;)</code>  或 <code>@TableId(value=&quot;uid&quot;)</code></p>\n</blockquote>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520103030977.png\" alt=\"image-20220520103030977\"></p>\n<h3 id=\"24tableid的type属性\"><a class=\"anchor\" href=\"#24tableid的type属性\">#</a> 2.4\t@TableId 的 type 属性</h3>\n<hr>\n<blockquote>\n<p><strong>type 属性用来定义主键策略：默认雪花算法</strong></p>\n</blockquote>\n<p><strong>常用的主键策略：</strong></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">值</th>\n<th style=\"text-align:center\">描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">IdType.ASSIGN_ID（默认）</td>\n<td style=\"text-align:center\">基于雪花算法的策略生成数据 id，与数据库 id 是否设置自增无关</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">IdType.AUTO</td>\n<td style=\"text-align:center\">使用数据库的自增策略，注意，该类型请确保数据库设置了 id 自增，</td>\n</tr>\n</tbody>\n</table>\n<p><strong>配置全局主键策略：</strong></p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#MyBatis-Plus相关配置</span></span><br><span class=\"line\"><span class=\"attr\">mybatis-plus:</span></span><br><span class=\"line\">  <span class=\"attr\">configuration:</span></span><br><span class=\"line\">    <span class=\"comment\">#配置日志</span></span><br><span class=\"line\">    <span class=\"attr\">log-impl:</span> <span class=\"string\">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br><span class=\"line\">  <span class=\"attr\">global-config:</span></span><br><span class=\"line\">    <span class=\"attr\">db-config:</span></span><br><span class=\"line\">      <span class=\"comment\">#配置mp的主键策略为自增</span></span><br><span class=\"line\">      <span class=\"attr\">id-type:</span> <span class=\"string\">auto</span></span><br><span class=\"line\">      <span class=\"comment\"># 设置实体类所对应的表的统一前缀</span></span><br><span class=\"line\">      <span class=\"attr\">table-prefix:</span> <span class=\"string\">t_</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"3tbalefield\"><a class=\"anchor\" href=\"#3tbalefield\">#</a> 3.@TbaleField</h2>\n<blockquote>\n<p>经过以上的测试，我们可以发现，MyBatis-Plus 在执行 SQL 语句时，要保证实体类中的属性名和表中的字段名一致</p>\n<p>如果实体类中的属性名和字段名不一致的情况，会出现什么问题呢？</p>\n</blockquote>\n<h3 id=\"31情况一\"><a class=\"anchor\" href=\"#31情况一\">#</a> 3.1\t情况一</h3>\n<hr>\n<p>若实体类中的属性使用的是驼峰命名风格，而表中的字段使用的是下划线命名风格</p>\n<p>例如实体类属性 <code>userName</code> ，表中字段 <code>user_name</code></p>\n<p>此时 MyBatis-Plus 会自动将下划线命名风格转化为驼峰命名风格</p>\n<p>相当于在 MyBatis 中配置</p>\n<h3 id=\"32情况二\"><a class=\"anchor\" href=\"#32情况二\">#</a> 3.2\t情况二</h3>\n<hr>\n<blockquote>\n<p>若实体类中的属性和表中的字段不满足情况 1</p>\n<p>例如实体类属性 <code>name</code> ，表中字段 <code>username</code></p>\n<p>此时需要在实体类属性上使用 <code>@TableField(&quot;username&quot;)</code>  设置属性所对应的字段名</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">User</span> &#123;</span><br><span class=\"line\">    <span class=\"meta\">@TableId(&quot;uid&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Long id;</span><br><span class=\"line\">    <span class=\"meta\">@TableField(&quot;username&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Integer age;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String email;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"4tablelogic\"><a class=\"anchor\" href=\"#4tablelogic\">#</a> 4.@TableLogic</h2>\n<h3 id=\"41逻辑删除\"><a class=\"anchor\" href=\"#41逻辑删除\">#</a> 4.1\t逻辑删除</h3>\n<hr>\n<blockquote>\n<p>物理删除：真实删除，将对应数据从数据库中删除，之后查询不到此条被删除的数据</p>\n<p>逻辑删除：假删除，将对应数据中代表是否被删除字段的状态修改为 “被删除状态”，之后在数据库中仍旧能看到此条数据记录</p>\n<p>使用场景：可以进行数据恢复</p>\n</blockquote>\n<h3 id=\"42实现逻辑删除\"><a class=\"anchor\" href=\"#42实现逻辑删除\">#</a> 4.2\t实现逻辑删除</h3>\n<hr>\n<ul>\n<li>\n<p><strong>数据库中创建逻辑删除状态列，设置默认值为 0</strong></p>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520134529809.png\" alt=\"image-20220520134529809\"></p>\n</li>\n<li>\n<p><strong>实体类中添加逻辑删除属性</strong></p>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520134636112.png\" alt=\"image-20220520134636112\"></p>\n</li>\n<li>\n<p><strong>测试删除功能，真正执行的是修改</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">testDeleteById</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">result</span> <span class=\"operator\">=</span> userMapper.deleteById(<span class=\"number\">1527472864163348482L</span>);</span><br><span class=\"line\">    System.out.println(result &gt; <span class=\"number\">0</span> ? <span class=\"string\">&quot;删除成功！&quot;</span> : <span class=\"string\">&quot;删除失败！&quot;</span>);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;受影响的行数为：&quot;</span> + result);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520135637388.png\" alt=\"image-20220520135637388\"></p>\n</li>\n<li>\n<p><strong>此时执行查询方法，查询的结果为自动添加条件 <code>is_deleted=0</code> </strong></p>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220520140036445.png\" alt=\"image-20220520140036445\"></p>\n</li>\n</ul>\n<h1 id=\"五-条件构造器\"><a class=\"anchor\" href=\"#五-条件构造器\">#</a> 五、条件构造器</h1>\n<h2 id=\"1wrapper介绍\"><a class=\"anchor\" href=\"#1wrapper介绍\">#</a> 1.Wrapper 介绍</h2>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220521092812125.png\" alt=\"image-20220521092812125\"></p>\n<ul>\n<li>\n<p><code>Wrapper</code>  ： 条件构造抽象类，最顶端父类</p>\n<ul>\n<li>\n<p><code>AbstractWrapper </code> ： 用于查询条件封装，生成 sql 的 where 条件</p>\n<ul>\n<li>\n<p><code>QueryWrapper </code> ： 查询条件封装</p>\n</li>\n<li>\n<p><code>UpdateWrapper </code> ： Update 条件封装</p>\n</li>\n<li>\n<p><code>AbstractLambdaWrapper </code> ： 使用 Lambda 语法</p>\n<ul>\n<li>\n<p><code>LambdaQueryWrapper </code> ：用于 Lambda 语法使用的查询 Wrapper</p>\n</li>\n<li>\n<p><code>LambdaUpdateWrapper </code> ： Lambda 更新封装 Wrapper</p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"2querywrapper\"><a class=\"anchor\" href=\"#2querywrapper\">#</a> 2.QueryWrapper</h2>\n<ul>\n<li>\n<p><strong>组装查询条件</strong></p>\n<blockquote>\n<p>** 执行 SQL：**SELECT uid AS id,username AS name,age,email,is_deleted FROM t_user WHERE is_deleted=0 AND (username LIKE ? AND age BETWEEN ? AND ? AND email IS NOT NULL)</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">test01</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//查询用户名包含a，年龄在20到30之间，邮箱信息不为null的用户信息</span></span><br><span class=\"line\">    QueryWrapper&lt;User&gt; queryWrapper = <span class=\"keyword\">new</span> <span class=\"title class_\">QueryWrapper</span>&lt;&gt;();</span><br><span class=\"line\">    queryWrapper.like(<span class=\"string\">&quot;username&quot;</span>,<span class=\"string\">&quot;a&quot;</span>).between(<span class=\"string\">&quot;age&quot;</span>,<span class=\"number\">20</span>,<span class=\"number\">30</span>).isNotNull(<span class=\"string\">&quot;email&quot;</span>);</span><br><span class=\"line\">    List&lt;User&gt; users = userMapper.selectList(queryWrapper);</span><br><span class=\"line\">    users.forEach(System.out::println);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>组装排序条件</strong></p>\n<blockquote>\n<p>** 执行 SQL：**SELECT uid AS id,username AS name,age,email,is_deleted FROM t_user WHERE is_deleted=0 ORDER BY age DESC,id ASC</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">test02</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//查询用户信息，按照年龄的降序排序，若年龄相同，则按照id升序排序</span></span><br><span class=\"line\">    QueryWrapper&lt;User&gt; queryWrapper = <span class=\"keyword\">new</span> <span class=\"title class_\">QueryWrapper</span>&lt;&gt;();</span><br><span class=\"line\">    queryWrapper.orderByDesc(<span class=\"string\">&quot;age&quot;</span>).orderByAsc(<span class=\"string\">&quot;id&quot;</span>);</span><br><span class=\"line\">    List&lt;User&gt; users = userMapper.selectList(queryWrapper);</span><br><span class=\"line\">    users.forEach(System.out::println);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>组装删除条件</strong></p>\n<blockquote>\n<p>** 执行 SQL：**UPDATE t_user SET is_deleted=1 WHERE is_deleted=0 AND (email IS NULL)</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">test03</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//删除邮箱地址为null的用户信息</span></span><br><span class=\"line\">    QueryWrapper&lt;User&gt; queryWrapper = <span class=\"keyword\">new</span> <span class=\"title class_\">QueryWrapper</span>&lt;&gt;();</span><br><span class=\"line\">    queryWrapper.isNull(<span class=\"string\">&quot;email&quot;</span>);</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">result</span> <span class=\"operator\">=</span> userMapper.delete(queryWrapper);</span><br><span class=\"line\">    System.out.println(result &gt; <span class=\"number\">0</span> ? <span class=\"string\">&quot;删除成功！&quot;</span> : <span class=\"string\">&quot;删除失败！&quot;</span>);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;受影响的行数为：&quot;</span> + result);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>条件的优先级</strong></p>\n<blockquote>\n<p>** 执行 SQL：**UPDATE t_user SET user_name=?, email=? WHERE is_deleted=0 AND (age&gt; ? AND user_name LIKE ? OR email IS NULL)</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">test04</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//将（年龄大于20并且用户名中包含有a）或邮箱为null的用户信息修改</span></span><br><span class=\"line\">    UpdateWrapper&lt;User&gt; updateWrapper = <span class=\"keyword\">new</span> <span class=\"title class_\">UpdateWrapper</span>&lt;&gt;();</span><br><span class=\"line\">    updateWrapper.gt(<span class=\"string\">&quot;age&quot;</span>,<span class=\"number\">20</span>).like(<span class=\"string\">&quot;username&quot;</span>,<span class=\"string\">&quot;a&quot;</span>).or().isNull(<span class=\"string\">&quot;email&quot;</span>);</span><br><span class=\"line\">    <span class=\"type\">User</span> <span class=\"variable\">user</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">User</span>();</span><br><span class=\"line\">    user.setName(<span class=\"string\">&quot;Oz&quot;</span>);</span><br><span class=\"line\">    user.setEmail(<span class=\"string\">&quot;test@oz6.com&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">result</span> <span class=\"operator\">=</span> userMapper.update(user, updateWrapper);</span><br><span class=\"line\">    System.out.println(result &gt; <span class=\"number\">0</span> ? <span class=\"string\">&quot;修改成功！&quot;</span> : <span class=\"string\">&quot;修改失败！&quot;</span>);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;受影响的行数为：&quot;</span> + result);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>** 执行 SQL：**UPDATE t_user SET username=?, email=? WHERE is_deleted=0 AND (username LIKE ? AND (age&gt; ? OR email IS NULL))</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">test05</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//将用户名中包含有a并且（年龄大于20或邮箱为null）的用户信息修改</span></span><br><span class=\"line\">    UpdateWrapper&lt;User&gt; updateWrapper = <span class=\"keyword\">new</span> <span class=\"title class_\">UpdateWrapper</span>&lt;&gt;();</span><br><span class=\"line\">    updateWrapper.like(<span class=\"string\">&quot;username&quot;</span>,<span class=\"string\">&quot;a&quot;</span>).and(i-&gt;i.gt(<span class=\"string\">&quot;age&quot;</span>,<span class=\"number\">20</span>).or().isNull(<span class=\"string\">&quot;email&quot;</span>));</span><br><span class=\"line\">    <span class=\"type\">User</span> <span class=\"variable\">user</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">User</span>();</span><br><span class=\"line\">    user.setName(<span class=\"string\">&quot;Vz7797&quot;</span>);</span><br><span class=\"line\">    user.setEmail(<span class=\"string\">&quot;test@ss8o.com&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">result</span> <span class=\"operator\">=</span> userMapper.update(user, updateWrapper);</span><br><span class=\"line\">    System.out.println(result &gt; <span class=\"number\">0</span> ? <span class=\"string\">&quot;修改成功！&quot;</span> : <span class=\"string\">&quot;修改失败！&quot;</span>);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;受影响的行数为：&quot;</span> + result);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>组装 select 子句</strong></p>\n<blockquote>\n<p>** 执行 SQL：**SELECT username,age,email FROM t_user WHERE is_deleted=0</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">test06</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//查询用户的用户名、年龄、邮箱信息</span></span><br><span class=\"line\">    QueryWrapper&lt;User&gt; queryWrapper = <span class=\"keyword\">new</span> <span class=\"title class_\">QueryWrapper</span>&lt;&gt;();</span><br><span class=\"line\">    queryWrapper.select(<span class=\"string\">&quot;username&quot;</span>,<span class=\"string\">&quot;age&quot;</span>,<span class=\"string\">&quot;email&quot;</span>);</span><br><span class=\"line\">    List&lt;Map&lt;String, Object&gt;&gt; maps = userMapper.selectMaps(queryWrapper);</span><br><span class=\"line\">    maps.forEach(System.out::println);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>实现子查询</strong></p>\n<blockquote>\n<p>** 执行 SQL：**SELECT uid AS id,user_name AS name,age,email,is_deleted FROM t_user WHERE is_deleted=0 AND (uid IN (select uid from t_user where uid &lt;= 100))</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">test07</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//查询id小于等于100的用户信息</span></span><br><span class=\"line\">    QueryWrapper&lt;User&gt; queryWrapper = <span class=\"keyword\">new</span> <span class=\"title class_\">QueryWrapper</span>&lt;&gt;();</span><br><span class=\"line\">    queryWrapper.inSql(<span class=\"string\">&quot;uid&quot;</span>, <span class=\"string\">&quot;select uid from t_user where uid &lt;= 100&quot;</span>);</span><br><span class=\"line\">    List&lt;User&gt; list = userMapper.selectList(queryWrapper);</span><br><span class=\"line\">    list.forEach(System.out::println);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"3updatewrapper\"><a class=\"anchor\" href=\"#3updatewrapper\">#</a> 3.UpdateWrapper</h2>\n<blockquote>\n<p>UpdateWrapper 不仅拥有 QueryWrapper 的组装条件功能，还提供了 set 方法进行修改对应条件的数据库信息</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">test08</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//将用户名中包含有a并且（年龄大于20或邮箱为null）的用户信息修改</span></span><br><span class=\"line\">    UpdateWrapper&lt;User&gt; updateWrapper = <span class=\"keyword\">new</span> <span class=\"title class_\">UpdateWrapper</span>&lt;&gt;();</span><br><span class=\"line\">    updateWrapper.like(<span class=\"string\">&quot;username&quot;</span>,<span class=\"string\">&quot;a&quot;</span>).and( i -&gt; i.gt(<span class=\"string\">&quot;age&quot;</span>,<span class=\"number\">20</span>).or().isNull(<span class=\"string\">&quot;email&quot;</span>)).set(<span class=\"string\">&quot;email&quot;</span>,<span class=\"string\">&quot;svip@qq.com&quot;</span>);</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">result</span> <span class=\"operator\">=</span> userMapper.update(<span class=\"literal\">null</span>, updateWrapper);</span><br><span class=\"line\">    System.out.println(result &gt; <span class=\"number\">0</span> ? <span class=\"string\">&quot;修改成功！&quot;</span> : <span class=\"string\">&quot;修改失败！&quot;</span>);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;受影响的行数为：&quot;</span> + result);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"4condition\"><a class=\"anchor\" href=\"#4condition\">#</a> 4.condition</h2>\n<blockquote>\n<p>在真正开发的过程中，组装条件是常见的功能，而这些条件数据来源于用户输入，是可选的，因此我们在组装这些条件时，必须先判断用户是否选择了这些条件，若选择则需要组装该条件，若没有选择则一定不能组装，以免影响 SQL 执行的结果</p>\n</blockquote>\n<ul>\n<li>\n<p><strong>思路一</strong></p>\n<blockquote>\n<p>** 执行 SQL：**SELECT uid AS id,user_name AS name,age,email,is_deleted FROM t_user WHERE is_deleted=0 AND (user_name LIKE ? AND age &lt;= ?)</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">test09</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"type\">String</span> <span class=\"variable\">username</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;a&quot;</span>;</span><br><span class=\"line\">    <span class=\"type\">Integer</span> <span class=\"variable\">ageBegin</span> <span class=\"operator\">=</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"type\">Integer</span> <span class=\"variable\">ageEnd</span> <span class=\"operator\">=</span> <span class=\"number\">30</span>;</span><br><span class=\"line\">    QueryWrapper&lt;User&gt; queryWrapper = <span class=\"keyword\">new</span> <span class=\"title class_\">QueryWrapper</span>&lt;&gt;();</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(StringUtils.isNotBlank(username))&#123;</span><br><span class=\"line\">        <span class=\"comment\">//isNotBlank判断某个字符创是否不为空字符串、不为null、不为空白符</span></span><br><span class=\"line\">        queryWrapper.like(<span class=\"string\">&quot;user_name&quot;</span>, username);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(ageBegin != <span class=\"literal\">null</span>)&#123;</span><br><span class=\"line\">        queryWrapper.ge(<span class=\"string\">&quot;age&quot;</span>, ageBegin);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(ageEnd != <span class=\"literal\">null</span>)&#123;</span><br><span class=\"line\">        queryWrapper.le(<span class=\"string\">&quot;age&quot;</span>, ageEnd);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    List&lt;User&gt; list = userMapper.selectList(queryWrapper);</span><br><span class=\"line\">    list.forEach(System.out::println);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>思路二</strong></p>\n<blockquote>\n<p>上面的实现方案没有问题，但是代码比较复杂，我们可以使用带 condition 参数的重载方法构建查询条件，简化代码的编写</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">test10</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"type\">String</span> <span class=\"variable\">username</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;a&quot;</span>;</span><br><span class=\"line\">    <span class=\"type\">Integer</span> <span class=\"variable\">ageBegin</span> <span class=\"operator\">=</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"type\">Integer</span> <span class=\"variable\">ageEnd</span> <span class=\"operator\">=</span> <span class=\"number\">30</span>;</span><br><span class=\"line\">    QueryWrapper&lt;User&gt; queryWrapper = <span class=\"keyword\">new</span> <span class=\"title class_\">QueryWrapper</span>&lt;&gt;();</span><br><span class=\"line\">    queryWrapper.like(StringUtils.isNotBlank(username), <span class=\"string\">&quot;user_name&quot;</span>, username)</span><br><span class=\"line\">        .ge(ageBegin != <span class=\"literal\">null</span>, <span class=\"string\">&quot;age&quot;</span>, ageBegin)</span><br><span class=\"line\">        .le(ageEnd != <span class=\"literal\">null</span>, <span class=\"string\">&quot;age&quot;</span>, ageEnd);</span><br><span class=\"line\">    List&lt;User&gt; list = userMapper.selectList(queryWrapper);</span><br><span class=\"line\">    list.forEach(System.out::println);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"5lambdaquerywrapper\"><a class=\"anchor\" href=\"#5lambdaquerywrapper\">#</a> 5.LambdaQueryWrapper</h2>\n<blockquote>\n<p>功能等同于 QueryWrapper，提供了 Lambda 表达式的语法可以避免填错列名。</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">test11</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"type\">String</span> <span class=\"variable\">username</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;a&quot;</span>;</span><br><span class=\"line\">    <span class=\"type\">Integer</span> <span class=\"variable\">ageBegin</span> <span class=\"operator\">=</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">    <span class=\"type\">Integer</span> <span class=\"variable\">ageEnd</span> <span class=\"operator\">=</span> <span class=\"number\">30</span>;</span><br><span class=\"line\">    LambdaQueryWrapper&lt;User&gt; queryWrapper = <span class=\"keyword\">new</span> <span class=\"title class_\">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class=\"line\">    queryWrapper.like(StringUtils.isNotBlank(username), User::getName, username)</span><br><span class=\"line\">        .ge(ageBegin != <span class=\"literal\">null</span>, User::getAge, ageBegin)</span><br><span class=\"line\">        .le(ageEnd != <span class=\"literal\">null</span>, User::getAge, ageEnd);</span><br><span class=\"line\">    List&lt;User&gt; list = userMapper.selectList(queryWrapper);</span><br><span class=\"line\">    list.forEach(System.out::println);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"6lambdaupdatewrapper\"><a class=\"anchor\" href=\"#6lambdaupdatewrapper\">#</a> 6.LambdaUpdateWrapper</h2>\n<blockquote>\n<p>功能等同于 UpdateWrapper，提供了 Lambda 表达式的语法可以避免填错列名。</p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">test12</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//将用户名中包含有a并且（年龄大于20或邮箱为null）的用户信息修改</span></span><br><span class=\"line\">    LambdaUpdateWrapper&lt;User&gt; updateWrapper = <span class=\"keyword\">new</span> <span class=\"title class_\">LambdaUpdateWrapper</span>&lt;&gt;();</span><br><span class=\"line\">    updateWrapper.like(User::getName, <span class=\"string\">&quot;a&quot;</span>)</span><br><span class=\"line\">        .and(i -&gt; i.gt(User::getAge, <span class=\"number\">20</span>).or().isNull(User::getEmail));</span><br><span class=\"line\">    updateWrapper.set(User::getName, <span class=\"string\">&quot;小黑&quot;</span>).set(User::getEmail,<span class=\"string\">&quot;abc@atguigu.com&quot;</span>);</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">result</span> <span class=\"operator\">=</span> userMapper.update(<span class=\"literal\">null</span>, updateWrapper);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;result：&quot;</span>+result);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h1 id=\"六-常用插件\"><a class=\"anchor\" href=\"#六-常用插件\">#</a> 六、常用插件</h1>\n<h2 id=\"1分页插件\"><a class=\"anchor\" href=\"#1分页插件\">#</a> 1. 分页插件</h2>\n<blockquote>\n<p>MyBatis Plus 自带分页插件，只要简单的配置即可实现分页功能</p>\n</blockquote>\n<ul>\n<li>\n<p><strong>添加配置类 <code>MyBatisPlusConfig</code> </strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Configuration</span></span><br><span class=\"line\"><span class=\"meta\">@MapperScan(&quot;com.atguigu.mybatisplus.mapper&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">MyBatisPlusConfig</span> &#123;</span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> MybatisPlusInterceptor <span class=\"title function_\">mybatisPlusInterceptor</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"type\">MybatisPlusInterceptor</span> <span class=\"variable\">interceptor</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">MybatisPlusInterceptor</span>();</span><br><span class=\"line\">        <span class=\"comment\">//添加分页插件</span></span><br><span class=\"line\">        interceptor.addInnerInterceptor(<span class=\"keyword\">new</span> <span class=\"title class_\">PaginationInnerInterceptor</span>(DbType.MYSQL));</span><br><span class=\"line\">        <span class=\"keyword\">return</span> interceptor;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>编写测试方法</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">testPage</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//new Page()中的两个参数分别是当前页码，每页显示数量</span></span><br><span class=\"line\">    Page&lt;User&gt; page = userMapper.selectPage(<span class=\"keyword\">new</span> <span class=\"title class_\">Page</span>&lt;&gt;(<span class=\"number\">1</span>, <span class=\"number\">2</span>), <span class=\"literal\">null</span>);</span><br><span class=\"line\">    List&lt;User&gt; users = page.getRecords();</span><br><span class=\"line\">    users.forEach(System.out::println);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"2自定义分页\"><a class=\"anchor\" href=\"#2自定义分页\">#</a> 2. 自定义分页</h2>\n<blockquote>\n<p>上面调用的是 MyBatis-Plus 提供的带有分页的方法，那么我们自己定义的方法如何实现分页呢？</p>\n</blockquote>\n<ul>\n<li>\n<p><strong>在 <code>UserMapper</code>  接口中定义一个方法</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">  * 根据年龄查询用户列表，分页显示 </span></span><br><span class=\"line\"><span class=\"comment\">  * <span class=\"doctag\">@param</span> page 分页对象,xml中可以从里面进行取值,传递参数 Page 即自动分页,必须放在第一位 </span></span><br><span class=\"line\"><span class=\"comment\">  * <span class=\"doctag\">@param</span> age 年龄 </span></span><br><span class=\"line\"><span class=\"comment\">  * <span class=\"doctag\">@return</span> </span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\">Page&lt;User&gt; <span class=\"title function_\">selectPageVo</span><span class=\"params\">(<span class=\"meta\">@Param(&quot;page&quot;)</span> Page&lt;User&gt; page,<span class=\"meta\">@Param(&quot;age&quot;)</span> Integer age)</span>;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>在 <code>UserMapper.xml</code>  中编写 SQL 实现该方法</strong></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">select</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;selectPageVo&quot;</span> <span class=\"attr\">resultType</span>=<span class=\"string\">&quot;User&quot;</span>&gt;</span></span><br><span class=\"line\">    select id,username as name,age,email from t_user where age &gt; #&#123;age&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">select</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>编写测试方法</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">testPageVo</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    Page&lt;User&gt; page = userMapper.selectPageVo(<span class=\"keyword\">new</span> <span class=\"title class_\">Page</span>&lt;User&gt;(<span class=\"number\">1</span>,<span class=\"number\">2</span>), <span class=\"number\">20</span>);</span><br><span class=\"line\">    List&lt;User&gt; users = page.getRecords();</span><br><span class=\"line\">    users.forEach(System.out::println);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"3乐观锁\"><a class=\"anchor\" href=\"#3乐观锁\">#</a> 3. 乐观锁</h2>\n<blockquote>\n<p><strong>作用：当要更新一条记录的时候，希望这条记录没有被别人更新</strong></p>\n</blockquote>\n<p>乐观锁的实现方式：</p>\n<ul>\n<li>取出记录时，获取当前 version</li>\n<li>更新时，带上这个 version</li>\n<li>执行更新时， set version = newVersion where version = oldVersion</li>\n<li>如果 version 不对，就更新失败</li>\n</ul>\n<h3 id=\"31场景\"><a class=\"anchor\" href=\"#31场景\">#</a> 3.1\t场景</h3>\n<hr>\n<ul>\n<li>一件商品，成本价是 80 元，售价是 100 元。老板先是通知小李，说你去把商品价格增加 50 元。小李正在玩游戏，耽搁了一个小时。正好一个小时后，老板觉得商品价格增加到 150 元，价格太高，可能会影响销量。又通知小王，你把商品价格降低 30 元。</li>\n<li>此时，小李和小王同时操作商品后台系统。小李操作的时候，系统先取出商品价格 100 元；小王也在操作，取出的商品价格也是 100 元。小李将价格加了 50 元，并将 100+50=150 元存入了数据库；小王将商品减了 30 元，并将 100-30=70 元存入了数据库。是的，如果没有锁，小李的操作就完全被小王的覆盖了。</li>\n<li>现在商品价格是 70 元，比成本价低 10 元。几分钟后，这个商品很快出售了 1 千多件商品，老板亏 1 万多。</li>\n</ul>\n<h3 id=\"32乐观锁与悲观锁\"><a class=\"anchor\" href=\"#32乐观锁与悲观锁\">#</a> 3.2\t乐观锁与悲观锁</h3>\n<hr>\n<ul>\n<li>上面的故事，如果是乐观锁，小王保存价格前，会检查下价格是否被人修改过了。如果被修改过了，则重新取出的被修改后的价格，150 元，这样他会将 120 元存入数据库。</li>\n<li>如果是悲观锁，小李取出数据后，小王只能等小李操作完之后，才能对价格进行操作，也会保证最终的价格是 120 元。</li>\n</ul>\n<h3 id=\"33模拟修改冲突\"><a class=\"anchor\" href=\"#33模拟修改冲突\">#</a> 3.3\t模拟修改冲突</h3>\n<hr>\n<ul>\n<li>\n<p><strong>数据库中增加商品表</strong></p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> t_product ( </span><br><span class=\"line\">    id <span class=\"type\">BIGINT</span>(<span class=\"number\">20</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27;主键ID&#x27;</span>, </span><br><span class=\"line\">    NAME <span class=\"type\">VARCHAR</span>(<span class=\"number\">30</span>) <span class=\"keyword\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27;商品名称&#x27;</span>, </span><br><span class=\"line\">    price <span class=\"type\">INT</span>(<span class=\"number\">11</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"number\">0</span> COMMENT <span class=\"string\">&#x27;价格&#x27;</span>, </span><br><span class=\"line\">    VERSION <span class=\"type\">INT</span>(<span class=\"number\">11</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"number\">0</span> COMMENT <span class=\"string\">&#x27;乐观锁版本号&#x27;</span>, </span><br><span class=\"line\">    <span class=\"keyword\">PRIMARY</span> KEY (id) </span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>添加一条数据</strong></p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> t_product (id, NAME, price) <span class=\"keyword\">VALUES</span> (<span class=\"number\">1</span>, <span class=\"string\">&#x27;外星人笔记本&#x27;</span>, <span class=\"number\">100</span>);</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>添加一个实体类 <code>Product</code> </strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Product</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Long id;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Integer price;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Integer version;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>添加一个 Mapper 接口 <code>ProductMapper</code> </strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">ProductMapper</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">BaseMapper</span>&lt;Product&gt; &#123;&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>测试方法</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">testProduct01</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//1.小李获取商品价格</span></span><br><span class=\"line\">    <span class=\"type\">Product</span> <span class=\"variable\">productLi</span> <span class=\"operator\">=</span> productMapper.selectById(<span class=\"number\">1</span>);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;小李获取的商品价格为：&quot;</span> + productLi.getPrice());</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//2.小王获取商品价格</span></span><br><span class=\"line\">    <span class=\"type\">Product</span> <span class=\"variable\">productWang</span> <span class=\"operator\">=</span> productMapper.selectById(<span class=\"number\">1</span>);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;小李获取的商品价格为：&quot;</span> + productWang.getPrice());</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//3.小李修改商品价格+50</span></span><br><span class=\"line\">    productLi.setPrice(productLi.getPrice()+<span class=\"number\">50</span>);</span><br><span class=\"line\">    productMapper.updateById(productLi);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//4.小王修改商品价格-30</span></span><br><span class=\"line\">    productWang.setPrice(productWang.getPrice()-<span class=\"number\">30</span>);</span><br><span class=\"line\">    productMapper.updateById(productWang);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//5.老板查询商品价格</span></span><br><span class=\"line\">    <span class=\"type\">Product</span> <span class=\"variable\">productBoss</span> <span class=\"operator\">=</span> productMapper.selectById(<span class=\"number\">1</span>);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;老板获取的商品价格为：&quot;</span> + productBoss.getPrice());</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>执行结果</strong></p>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220521225803162.png\" alt=\"image-20220521225803162\"></p>\n</li>\n</ul>\n<h3 id=\"34乐观锁解决问题\"><a class=\"anchor\" href=\"#34乐观锁解决问题\">#</a> 3.4\t乐观锁解决问题</h3>\n<hr>\n<ul>\n<li>\n<p><strong>实体类 <code>version</code>  字段添加注解 <code>@Version</code> </strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Product</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Long id;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Integer price;</span><br><span class=\"line\">    <span class=\"meta\">@Version</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> Integer version;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>添加乐观锁插件配置</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Bean</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> MybatisPlusInterceptor <span class=\"title function_\">mybatisPlusInterceptor</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"type\">MybatisPlusInterceptor</span> <span class=\"variable\">interceptor</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">MybatisPlusInterceptor</span>();</span><br><span class=\"line\">    <span class=\"comment\">//添加分页插件</span></span><br><span class=\"line\">    interceptor.addInnerInterceptor(<span class=\"keyword\">new</span> <span class=\"title class_\">PaginationInnerInterceptor</span>(DbType.MYSQL));</span><br><span class=\"line\">    <span class=\"comment\">//添加乐观锁插件</span></span><br><span class=\"line\">    interceptor.addInnerInterceptor(<span class=\"keyword\">new</span> <span class=\"title class_\">OptimisticLockerInnerInterceptor</span>());</span><br><span class=\"line\">    <span class=\"keyword\">return</span> interceptor;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>再次执行测试方法</strong></p>\n<blockquote>\n<p>小李查询商品信息：</p>\n<p>​\tSELECT id,name,price,version FROM t_product WHERE id=?</p>\n<p>小王查询商品信息：</p>\n<p>​\tSELECT id,name,price,version FROM t_product WHERE id=?</p>\n<p>小李修改商品价格，自动将 version+1</p>\n<p>​\tUPDATE t_product SET name=?, price=?, version=? WHERE id=? AND version=?</p>\n<p>​\tParameters: 外星人笔记本 (String), 150 (Integer), 1 (Integer), 1 (Long), 0 (Integer)</p>\n<p>小王修改商品价格，此时 version 已更新，条件不成立，修改失败</p>\n<p>​\tUPDATE t_product SET name=?, price=?, version=? WHERE id=? AND version=?</p>\n<p>​\tParameters: 外星人笔记本 (String), 70 (Integer), 1 (Integer), 1 (Long), 0 (Integer)</p>\n<p>最终，小王修改失败，查询价格：150</p>\n<p>​\tSELECT id,name,price,version FROM t_product WHERE id=?</p>\n</blockquote>\n</li>\n<li>\n<p><strong>优化执行流程</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">testProduct01</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//1.小李获取商品价格</span></span><br><span class=\"line\">    <span class=\"type\">Product</span> <span class=\"variable\">productLi</span> <span class=\"operator\">=</span> productMapper.selectById(<span class=\"number\">1</span>);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;小李获取的商品价格为：&quot;</span> + productLi.getPrice());</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//2.小王获取商品价格</span></span><br><span class=\"line\">    <span class=\"type\">Product</span> <span class=\"variable\">productWang</span> <span class=\"operator\">=</span> productMapper.selectById(<span class=\"number\">1</span>);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;小李获取的商品价格为：&quot;</span> + productWang.getPrice());</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//3.小李修改商品价格+50</span></span><br><span class=\"line\">    productLi.setPrice(productLi.getPrice()+<span class=\"number\">50</span>);</span><br><span class=\"line\">    productMapper.updateById(productLi);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//4.小王修改商品价格-30</span></span><br><span class=\"line\">    productWang.setPrice(productWang.getPrice()-<span class=\"number\">30</span>);</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">result</span> <span class=\"operator\">=</span> productMapper.updateById(productWang);</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(result == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">        <span class=\"comment\">//操作失败，重试</span></span><br><span class=\"line\">        <span class=\"type\">Product</span> <span class=\"variable\">productNew</span> <span class=\"operator\">=</span> productMapper.selectById(<span class=\"number\">1</span>);</span><br><span class=\"line\">        productNew.setPrice(productNew.getPrice()-<span class=\"number\">30</span>);</span><br><span class=\"line\">        productMapper.updateById(productNew);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//5.老板查询商品价格</span></span><br><span class=\"line\">    <span class=\"type\">Product</span> <span class=\"variable\">productBoss</span> <span class=\"operator\">=</span> productMapper.selectById(<span class=\"number\">1</span>);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;老板获取的商品价格为：&quot;</span> + productBoss.getPrice());</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220521230448577.png\" alt=\"image-20220521230448577\"></p>\n</li>\n</ul>\n<h1 id=\"七-通用枚举\"><a class=\"anchor\" href=\"#七-通用枚举\">#</a> 七、通用枚举</h1>\n<blockquote>\n<p>表中的有些字段值是固定的，例如性别（男或女），此时我们可以使用 MyBatis-Plus 的通用枚举来实现</p>\n</blockquote>\n<ul>\n<li>\n<p><strong>数据库表添加字段 <code>sex</code> </strong></p>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220521231317777.png\" alt=\"image-20220521231317777\"></p>\n</li>\n<li>\n<p><strong>创建通用枚举类型</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Getter</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">enum</span> <span class=\"title class_\">SexEnum</span> &#123;</span><br><span class=\"line\">    MALE(<span class=\"number\">1</span>, <span class=\"string\">&quot;男&quot;</span>),</span><br><span class=\"line\">    FEMALE(<span class=\"number\">2</span>, <span class=\"string\">&quot;女&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@EnumValue</span> <span class=\"comment\">//将注解所标识的属性的值存储到数据库中</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> sex;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String sexName;</span><br><span class=\"line\"></span><br><span class=\"line\">    SexEnum(Integer sex, String sexName) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.sex = sex;</span><br><span class=\"line\">        <span class=\"built_in\">this</span>.sexName = sexName;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>User 实体类中添加属性 sex</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">User</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Long id;</span><br><span class=\"line\">    <span class=\"meta\">@TableField(&quot;username&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Integer age;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String email;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@TableLogic</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> isDeleted;  <span class=\"comment\">//逻辑删除</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> SexEnum sex;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>配置扫描通用枚举</strong></p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#MyBatis-Plus相关配置</span></span><br><span class=\"line\"><span class=\"attr\">mybatis-plus:</span></span><br><span class=\"line\">  <span class=\"comment\">#指定mapper文件所在的地址</span></span><br><span class=\"line\">  <span class=\"attr\">mapper-locations:</span> <span class=\"string\">classpath:mapper/*.xml</span></span><br><span class=\"line\">  <span class=\"attr\">configuration:</span></span><br><span class=\"line\">    <span class=\"comment\">#配置日志</span></span><br><span class=\"line\">    <span class=\"attr\">log-impl:</span> <span class=\"string\">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br><span class=\"line\">  <span class=\"attr\">global-config:</span></span><br><span class=\"line\">    <span class=\"attr\">banner:</span> <span class=\"string\">off</span></span><br><span class=\"line\">    <span class=\"attr\">db-config:</span></span><br><span class=\"line\">      <span class=\"comment\">#配置mp的主键策略为自增</span></span><br><span class=\"line\">      <span class=\"attr\">id-type:</span> <span class=\"string\">auto</span></span><br><span class=\"line\">      <span class=\"comment\"># 设置实体类所对应的表的统一前缀</span></span><br><span class=\"line\">      <span class=\"attr\">table-prefix:</span> <span class=\"string\">t_</span></span><br><span class=\"line\">  <span class=\"comment\">#配置类型别名所对应的包</span></span><br><span class=\"line\">  <span class=\"attr\">type-aliases-package:</span> <span class=\"string\">com.atguigu.mybatisplus.pojo</span></span><br><span class=\"line\">  <span class=\"comment\"># 扫描通用枚举的包</span></span><br><span class=\"line\">  <span class=\"attr\">type-enums-package:</span> <span class=\"string\">com.atguigu.mybatisplus.enums</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>执行测试方法</strong></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Test</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">test</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    <span class=\"type\">User</span> <span class=\"variable\">user</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">User</span>();</span><br><span class=\"line\">    user.setName(<span class=\"string\">&quot;admin&quot;</span>);</span><br><span class=\"line\">    user.setAge(<span class=\"number\">33</span>);</span><br><span class=\"line\">    user.setSex(SexEnum.MALE);</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">result</span> <span class=\"operator\">=</span> userMapper.insert(user);</span><br><span class=\"line\">    System.out.println(<span class=\"string\">&quot;result:&quot;</span>+result);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h1 id=\"八-多数据源\"><a class=\"anchor\" href=\"#八-多数据源\">#</a> 八、多数据源</h1>\n<blockquote>\n<p>适用于多种场景：纯粹多库、 读写分离、 一主多从、 混合模式等</p>\n</blockquote>\n<p>场景说明：</p>\n<p>我们创建两个库，分别为： <code>mybatis_plus</code> （以前的库不动）与 <code>mybatis_plus_1</code> （新建），将 mybatis_plus 库的 <code>product</code>  表移动到 mybatis_plus_1 库，这样每个库一张表，通过一个测试用例分别获取用户数据与商品数据，如果获取到说明多库模拟成功</p>\n<h2 id=\"1创建数据库及表\"><a class=\"anchor\" href=\"#1创建数据库及表\">#</a> 1. 创建数据库及表</h2>\n<ul>\n<li>\n<p><strong>创建数据库 <code>mybatis_plus_1</code>  和表 `product</strong></p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> DATABASE `mybatis_plus_1` <span class=\"comment\">/*!40100 DEFAULT CHARACTER SET utf8mb4 */</span>;</span><br><span class=\"line\">use `mybatis_plus_1`; </span><br><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> product ( </span><br><span class=\"line\">    id <span class=\"type\">BIGINT</span>(<span class=\"number\">20</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27;主键ID&#x27;</span>, </span><br><span class=\"line\">    name <span class=\"type\">VARCHAR</span>(<span class=\"number\">30</span>) <span class=\"keyword\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27;商品名称&#x27;</span>, </span><br><span class=\"line\">    price <span class=\"type\">INT</span>(<span class=\"number\">11</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"number\">0</span> COMMENT <span class=\"string\">&#x27;价格&#x27;</span>, </span><br><span class=\"line\">    version <span class=\"type\">INT</span>(<span class=\"number\">11</span>) <span class=\"keyword\">DEFAULT</span> <span class=\"number\">0</span> COMMENT <span class=\"string\">&#x27;乐观锁版本号&#x27;</span>, </span><br><span class=\"line\">    <span class=\"keyword\">PRIMARY</span> KEY (id) </span><br><span class=\"line\">);</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>添加测试数据</strong></p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">INSERT</span> <span class=\"keyword\">INTO</span> product (id, NAME, price) <span class=\"keyword\">VALUES</span> (<span class=\"number\">1</span>, <span class=\"string\">&#x27;外星人笔记本&#x27;</span>, <span class=\"number\">100</span>);</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>删除 <code>mybatis_plus</code>  库中的 <code>product</code>  表</strong></p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use mybatis_plus; </span><br><span class=\"line\"><span class=\"keyword\">DROP</span> <span class=\"keyword\">TABLE</span> IF <span class=\"keyword\">EXISTS</span> product;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"2新建工程引入依赖\"><a class=\"anchor\" href=\"#2新建工程引入依赖\">#</a> 2. 新建工程引入依赖</h2>\n<blockquote>\n<p><strong>自行新建一个 Spring Boot 工程并选择 MySQL 驱动及 Lombok 依赖</strong></p>\n</blockquote>\n<p><strong>引入 MyBaits-Plus 的依赖及多数据源的依赖</strong></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.baomidou<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>3.5.1<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.baomidou<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>dynamic-datasource-spring-boot-starter<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>3.5.0<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"3编写配置文件\"><a class=\"anchor\" href=\"#3编写配置文件\">#</a> 3. 编写配置文件</h2>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"comment\"># 配置数据源信息</span></span><br><span class=\"line\">  <span class=\"attr\">datasource:</span></span><br><span class=\"line\">    <span class=\"attr\">dynamic:</span></span><br><span class=\"line\">      <span class=\"comment\"># 设置默认的数据源或者数据源组,默认值即为master</span></span><br><span class=\"line\">      <span class=\"attr\">primary:</span> <span class=\"string\">master</span></span><br><span class=\"line\">      <span class=\"comment\"># 严格匹配数据源,默认false.true未匹配到指定数据源时抛异常,false使用默认数据源</span></span><br><span class=\"line\">      <span class=\"attr\">strict:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">      <span class=\"attr\">datasource:</span></span><br><span class=\"line\">        <span class=\"attr\">master:</span></span><br><span class=\"line\">          <span class=\"attr\">url:</span> <span class=\"string\">jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&amp;useSSL=false</span></span><br><span class=\"line\">          <span class=\"attr\">driver-class-name:</span> <span class=\"string\">com.mysql.cj.jdbc.Driver</span></span><br><span class=\"line\">          <span class=\"attr\">username:</span> <span class=\"string\">root</span></span><br><span class=\"line\">          <span class=\"attr\">password:</span> <span class=\"number\">132537</span></span><br><span class=\"line\">        <span class=\"attr\">slave_1:</span></span><br><span class=\"line\">          <span class=\"attr\">url:</span> <span class=\"string\">jdbc:mysql://localhost:3306/mybatis_plus_1?characterEncoding=utf-8&amp;useSSL=false</span></span><br><span class=\"line\">          <span class=\"attr\">driver-class-name:</span> <span class=\"string\">com.mysql.cj.jdbc.Driver</span></span><br><span class=\"line\">          <span class=\"attr\">username:</span> <span class=\"string\">root</span></span><br><span class=\"line\">          <span class=\"attr\">password:</span> <span class=\"number\">132537</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"4创建实体类\"><a class=\"anchor\" href=\"#4创建实体类\">#</a> 4. 创建实体类</h2>\n<ul>\n<li>\n<p>新建一个 <code>User</code>  实体类（如果数据库表名有 t_前缀记得配置）</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">User</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Long id;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Integer age;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String email;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>新建一个实体类 <code>Product</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Data</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Product</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Long id;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Integer price;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> Integer version;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"5创建mapper及service\"><a class=\"anchor\" href=\"#5创建mapper及service\">#</a> 5. 创建 Mapper 及 Service</h2>\n<ul>\n<li>\n<p>新建接口 <code>UserMapper</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">UserMapper</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">BaseMapper</span>&lt;User&gt; &#123;&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>新建接口 <code>ProductMapper</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">ProductMapper</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">BaseMapper</span>&lt;Product&gt; &#123;&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>新建 Service 接口 <code>UserService</code>  指定操作的数据源</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@DS(&quot;master&quot;)</span> <span class=\"comment\">//指定操作的数据源，master为user表</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">UserService</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">IService</span>&lt;User&gt; &#123;&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>新建 Service 接口 <code>ProductService</code>  指定操作的数据源</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@DS(&quot;slave_1&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">ProductService</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">IService</span>&lt;Product&gt; &#123;&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>自行建立 Service 的实现类</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"6编写测试方法\"><a class=\"anchor\" href=\"#6编写测试方法\">#</a> 6. 编写测试方法</h2>\n<blockquote>\n<p><strong>记得在启动类中添加注解 <code>@MapperScan()</code> </strong></p>\n</blockquote>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">TestDatasourceApplicationTests</span> &#123;</span><br><span class=\"line\">\t<span class=\"meta\">@Resource</span></span><br><span class=\"line\">\tUserService userService;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Resource</span></span><br><span class=\"line\">\tProductService productService;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"meta\">@Test</span></span><br><span class=\"line\">\t<span class=\"keyword\">void</span> <span class=\"title function_\">contextLoads</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">User</span> <span class=\"variable\">user</span> <span class=\"operator\">=</span> userService.getById(<span class=\"number\">1L</span>);</span><br><span class=\"line\">\t\t<span class=\"type\">Product</span> <span class=\"variable\">product</span> <span class=\"operator\">=</span> productService.getById(<span class=\"number\">1L</span>);</span><br><span class=\"line\">\t\tSystem.out.println(<span class=\"string\">&quot;User = &quot;</span> + user);</span><br><span class=\"line\">\t\tSystem.out.println(<span class=\"string\">&quot;Product = &quot;</span> + product);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522113049945.png\" alt=\"image-20220522113049945\"></p>\n<h1 id=\"九-mybatisx插件\"><a class=\"anchor\" href=\"#九-mybatisx插件\">#</a> 九、MyBatisX 插件</h1>\n<blockquote>\n<p>MyBatis-Plus 为我们提供了强大的 mapper 和 service 模板，能够大大的提高开发效率。</p>\n<p>但是在真正开发过程中，MyBatis-Plus 并不能为我们解决所有问题，例如一些复杂的 SQL，多表联查，我们就需要自己去编写代码和 SQL 语句，我们该如何快速的解决这个问题呢，这个时候可以使用 MyBatisX 插件。</p>\n<p>MyBatisX 一款基于 IDEA 的快速开发插件，为效率而生。</p>\n</blockquote>\n<h2 id=\"1安装mybatisx插件\"><a class=\"anchor\" href=\"#1安装mybatisx插件\">#</a> 1. 安装 MyBatisX 插件</h2>\n<blockquote>\n<p><strong>打开 IDEA，File-&gt; Setteings-&gt;Plugins-&gt;MyBatisX，搜索栏搜索 MyBatisX 然后安装。</strong></p>\n</blockquote>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522115718361.png\" alt=\"image-20220522115718361\"></p>\n<h2 id=\"2快速生成代码\"><a class=\"anchor\" href=\"#2快速生成代码\">#</a> 2. 快速生成代码</h2>\n<ul>\n<li>\n<p>新建一个 Spring Boot 项目引入依赖（创建工程时记得勾选 lombok 及 mysql 驱动）</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.baomidou<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>3.5.1<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>com.baomidou<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>dynamic-datasource-spring-boot-starter<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>3.5.0<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>配置数据源信息</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">spring:</span></span><br><span class=\"line\">  <span class=\"attr\">datasource:</span></span><br><span class=\"line\">    <span class=\"attr\">type:</span> <span class=\"string\">com.zaxxer.hikari.HikariDataSource</span></span><br><span class=\"line\">    <span class=\"attr\">driver-class-name:</span> <span class=\"string\">com.mysql.cj.jdbc.Driver</span></span><br><span class=\"line\">    <span class=\"attr\">url:</span> <span class=\"string\">jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&amp;useSSL=false</span></span><br><span class=\"line\">    <span class=\"attr\">username:</span> <span class=\"string\">root</span></span><br><span class=\"line\">    <span class=\"attr\">password:</span> <span class=\"number\">132537</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>在 IDEA 中与数据库建立链接</p>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522120758740.png\" alt=\"image-20220522120758740\"></p>\n</li>\n<li>\n<p>填写数据库信息并保存</p>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522121434468.png\" alt=\"image-20220522121434468\"></p>\n</li>\n<li>\n<p>找到我们需要生成的表点击右键</p>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522121613909.png\" alt=\"image-20220522121613909\"></p>\n</li>\n<li>\n<p>填写完信息以后下一步</p>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522122127649.png\" alt=\"image-20220522122127649\"></p>\n</li>\n<li>\n<p>继续填写信息</p>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522122525598.png\" alt=\"image-20220522122525598\"></p>\n</li>\n<li>\n<p><strong>大功告成（真特么好用 yyds）</strong></p>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522122612334.png\" alt=\"image-20220522122612334\"></p>\n</li>\n</ul>\n<h2 id=\"3快速生成crud\"><a class=\"anchor\" href=\"#3快速生成crud\">#</a> 3. 快速生成 CRUD</h2>\n<blockquote>\n<p>MyBaitsX 可以根据我们在 Mapper 接口中输入的方法名快速帮我们生成对应的 sql 语句</p>\n</blockquote>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522123143852.png\" alt=\"image-20220522123143852\"></p>\n<p><img data-src=\"https://image-bed-vz.oss-cn-hangzhou.aliyuncs.com/MyBatis-Plus/image-20220522123202310.png\" alt=\"image-20220522123202310\"></p>\n",
            "tags": []
        },
        {
            "id": "https://zhihao-a.github.io/2024/08/28/docker/",
            "url": "https://zhihao-a.github.io/2024/08/28/docker/",
            "title": "docker",
            "date_published": "2024-08-28T15:00:08.000Z",
            "content_html": "<h3 id=\"docker-下载\"><a class=\"anchor\" href=\"#docker-下载\">#</a> docker 下载</h3>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt install -y docker.io</span><br></pre></td></tr></table></figure>\n<h3 id=\"验证docker是否安装成功\"><a class=\"anchor\" href=\"#验证docker是否安装成功\">#</a> 验证 docker 是否安装成功</h3>\n<figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker <span class=\"built_in\">version</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"docker-compose\"><a class=\"anchor\" href=\"#docker-compose\">#</a> docker-compose</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">apt install -y docker-compose</span><br><span class=\"line\"><span class=\"comment\"># 验证</span></span><br><span class=\"line\">docker-compose version</span><br></pre></td></tr></table></figure>\n<h3 id=\"docker-镜像\"><a class=\"anchor\" href=\"#docker-镜像\">#</a> docker 镜像</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /etc/docker/daemon.json</span><br></pre></td></tr></table></figure>\n<h4 id=\"最近能用的镜像\"><a class=\"anchor\" href=\"#最近能用的镜像\">#</a> 最近能用的镜像</h4>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">        <span class=\"attr\">&quot;registry-mirrors&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">        <span class=\"string\">&quot;https://hub.uuuadc.top&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        <span class=\"string\">&quot;https://docker.anyhub.us.kg&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        <span class=\"string\">&quot;https://dockerhub.jobcher.com&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        <span class=\"string\">&quot;https://docker.ckyl.me&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        <span class=\"string\">&quot;https://docker.awsl9527.cn&quot;</span><span class=\"punctuation\">]</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"重启docker服务\"><a class=\"anchor\" href=\"#重启docker服务\">#</a> 重启 docker 服务</h3>\n<figure class=\"highlight nsis\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"params\">system</span>ctl reload docker</span><br><span class=\"line\"><span class=\"params\">system</span>ctl restart docker</span><br></pre></td></tr></table></figure>\n<h3 id=\"查询docker镜像仓库是否更新\"><a class=\"anchor\" href=\"#查询docker镜像仓库是否更新\">#</a> 查询 docker 镜像仓库是否更新</h3>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">docker</span> <span class=\"literal\">info</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"docker安装后使用中经常出现\"><a class=\"anchor\" href=\"#docker安装后使用中经常出现\">#</a> docker 安装后，使用中经常出现：</h5>\n<figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Cannot connect <span class=\"built_in\">to</span> <span class=\"keyword\">the</span> Docker daemon <span class=\"keyword\">at</span> (unix:<span class=\"comment\">///var/run/docker.sock. Is the docker daemon running?) </span></span><br></pre></td></tr></table></figure>\n<h5 id=\"一-什么原因导致的\"><a class=\"anchor\" href=\"#一-什么原因导致的\">#</a> 一、什么原因导致的：</h5>\n<p>触发此错误的一些原因包括：<br>\nThe Docker daemon is not running.   Docker 守护程序未运行。Docker doesn’t shutdown cleanly.     Docker 无法完全关闭。Lack of root privileges to start the docker service.   缺少启动 docker 服务的 root 权限。</p>\n<p>解决方法：<br>\n（1）在终端中执行 – unmask docker.</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl unmask docker</span><br></pre></td></tr></table></figure>\n<p>如果 docker 被 masked 了，一般会有这样的提示：‘Failed to start docker.service: Unit is masked.’</p>\n<p>（2）启动 start the docker daemon</p>\n<figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl <span class=\"literal\">start</span> docker</span><br></pre></td></tr></table></figure>\n<p>（3）验证 docker 是否激活</p>\n<figure class=\"highlight ebnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">systemctl status docker</span></span><br></pre></td></tr></table></figure>\n<p>如果出现以下内容，则已经激活了。</p>\n<p>原文链接：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzU4Mzk0NjQ3L2FydGljbGUvZGV0YWlscy8xMzE4MTU4MjI=\">https://blog.csdn.net/m0_58394647/article/details/131815822</span></p>\n<h2 id=\"docker常用操作\"><a class=\"anchor\" href=\"#docker常用操作\">#</a> docker 常用操作</h2>\n<h3 id=\"下载已有的docker镜像\"><a class=\"anchor\" href=\"#下载已有的docker镜像\">#</a> 下载已有的 docker 镜像</h3>\n<figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker pull 镜像名称:<span class=\"keyword\">tag</span></span><br><span class=\"line\"><span class=\"title\">docker</span> pull ubuntu:<span class=\"number\">18.04</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"查询docker镜像\"><a class=\"anchor\" href=\"#查询docker镜像\">#</a> 查询 docker 镜像</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker images</span><br><span class=\"line\">docker images -a  <span class=\"comment\"># 显示临时镜像</span></span><br><span class=\"line\">docker images -digests=true <span class=\"comment\"># 显示哈希值</span></span><br><span class=\"line\">docker inspect 镜像名称  <span class=\"comment\"># 显示镜像具体信息</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"镜像打标签\"><a class=\"anchor\" href=\"#镜像打标签\">#</a> 镜像打标签</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker tag 旧镜像名 新镜像名</span><br></pre></td></tr></table></figure>\n<h3 id=\"搜索线上镜像\"><a class=\"anchor\" href=\"#搜索线上镜像\">#</a> 搜索线上镜像</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># docker search 镜像名称</span></span><br><span class=\"line\">docker search ubuntu </span><br><span class=\"line\"><span class=\"comment\"># docker search --filter=stars = 4 镜像名称  ## 过滤指定镜像stars指数大于4的</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"创建docker镜像\"><a class=\"anchor\" href=\"#创建docker镜像\">#</a> 创建 docker 镜像</h3>\n<h4 id=\"1-基于已有容器进行手动修改创建新镜像\"><a class=\"anchor\" href=\"#1-基于已有容器进行手动修改创建新镜像\">#</a> 1 基于已有容器（进行手动修改），创建新镜像</h4>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker commit -m <span class=\"string\">&#x27;第一次提交&#x27;</span> -a <span class=\"string\">&#x27;作者信息&#x27;</span> 容器ID 自定义新镜像名称</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 运行并进入容器</span></span><br><span class=\"line\">docker run -it ubuntu:latest /<span class=\"built_in\">bin</span>/bash</span><br><span class=\"line\"><span class=\"comment\"># 修改</span></span><br><span class=\"line\"><span class=\"comment\"># 创建镜像</span></span><br><span class=\"line\">docker commit -m <span class=\"string\">&#x27;第一次提交&#x27;</span> -a <span class=\"string\">&#x27;作者信息&#x27;</span> 容器ID 自定义新镜像名称</span><br></pre></td></tr></table></figure>\n<h4 id=\"2-通过本地压缩文件创建\"><a class=\"anchor\" href=\"#2-通过本地压缩文件创建\">#</a> 2 通过本地压缩文件创建</h4>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">cat</span> ubuntu.tar | docker import - ubuntu:<span class=\"number\">18</span>.<span class=\"number\">04</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"3-通过dockerfile创建\"><a class=\"anchor\" href=\"#3-通过dockerfile创建\">#</a> 3 通过 Dockerfile 创建</h4>\n<figure class=\"highlight excel\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker build . -<span class=\"built_in\">t</span> ubun<span class=\"symbol\">tu:la</span>test</span><br></pre></td></tr></table></figure>\n<h3 id=\"导入导出镜像\"><a class=\"anchor\" href=\"#导入导出镜像\">#</a> 导入导出镜像</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 导出</span></span><br><span class=\"line\">docker save -o ubuntu.tar ubuntu:latest</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 导入</span></span><br><span class=\"line\">docker load -i[&lt;] ubuntu.tar</span><br></pre></td></tr></table></figure>\n<h3 id=\"删除镜像\"><a class=\"anchor\" href=\"#删除镜像\">#</a> 删除镜像</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker rmi 镜像名称 (镜像ID)</span><br></pre></td></tr></table></figure>\n<h2 id=\"容器操作\"><a class=\"anchor\" href=\"#容器操作\">#</a> 容器操作</h2>\n<h3 id=\"创建容器\"><a class=\"anchor\" href=\"#创建容器\">#</a> 创建容器</h3>\n<figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker <span class=\"built_in\">create</span> -<span class=\"keyword\">it</span> 镜像名称</span><br></pre></td></tr></table></figure>\n<h3 id=\"启动容器\"><a class=\"anchor\" href=\"#启动容器\">#</a> 启动容器</h3>\n<figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker <span class=\"literal\">start</span> <span class=\"literal\">start</span> 容器ID</span><br></pre></td></tr></table></figure>\n<h3 id=\"新建并启动容器\"><a class=\"anchor\" href=\"#新建并启动容器\">#</a> 新建并启动容器</h3>\n<figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker <span class=\"built_in\">run</span> -<span class=\"keyword\">it</span> 容器ID</span><br></pre></td></tr></table></figure>\n<h3 id=\"新建后台启动\"><a class=\"anchor\" href=\"#新建后台启动\">#</a> 新建后台启动</h3>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker <span class=\"built_in\">run</span> -d 容器ID </span><br></pre></td></tr></table></figure>\n<h3 id=\"高级命令\"><a class=\"anchor\" href=\"#高级命令\">#</a> 高级命令</h3>\n<h4 id=\"复制本地文件到容器\"><a class=\"anchor\" href=\"#复制本地文件到容器\">#</a> 复制本地文件到容器</h4>\n<figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">docker</span> <span class=\"meta\">cp</span> 本地目录 容器ID:/容器目录</span><br></pre></td></tr></table></figure>\n<h4 id=\"查看端口映射\"><a class=\"anchor\" href=\"#查看端口映射\">#</a> 查看端口映射</h4>\n<figure class=\"highlight elm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title\">docker</span> <span class=\"keyword\">port</span> 容器ID</span><br></pre></td></tr></table></figure>\n<h4 id=\"更新配置\"><a class=\"anchor\" href=\"#更新配置\">#</a> 更新配置</h4>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">docker</span> update --restart=always[<span class=\"literal\">no</span>]  容器ID  <span class=\"comment\"># 配置自动启动[禁止自动启动]</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"卷卷映射\"><a class=\"anchor\" href=\"#卷卷映射\">#</a> 卷（卷映射）</h3>\n<figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker <span class=\"keyword\">volume</span><span class=\"language-bash\"> <span class=\"built_in\">ls</span></span></span><br><span class=\"line\">docker <span class=\"keyword\">volume</span><span class=\"language-bash\"> create 卷名</span></span><br><span class=\"line\">dokcer <span class=\"keyword\">volume</span><span class=\"language-bash\"> inspect 卷名</span></span><br></pre></td></tr></table></figure>\n",
            "tags": [
                "code"
            ]
        },
        {
            "id": "https://zhihao-a.github.io/2024/05/27/%E8%AF%AD%E6%B3%95%E7%9F%A5%E8%AF%86%E8%AE%B0%E5%BD%95/",
            "url": "https://zhihao-a.github.io/2024/05/27/%E8%AF%AD%E6%B3%95%E7%9F%A5%E8%AF%86%E8%AE%B0%E5%BD%95/",
            "title": "语法知识记录",
            "date_published": "2024-05-27T01:25:37.000Z",
            "content_html": "<h2 id=\"c中vector求和方式\"><a class=\"anchor\" href=\"#c中vector求和方式\">#</a> C++ 中 vector 求和方式</h2>\n<p>在 C++ 中， <code>std::vector</code>  是一个容器，用于存储动态大小的数组。如果你要对 <code>std::vector</code>  中的元素进行求和，可以使用以下几种方式：</p>\n<h3 id=\"1-使用循环手动求和\"><a class=\"anchor\" href=\"#1-使用循环手动求和\">#</a> 1. 使用循环手动求和</h3>\n<p>最直接的方式是使用循环遍历 <code>vector</code>  中的每个元素，并将它们相加。</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    std::vector&lt;<span class=\"type\">int</span>&gt; vec = &#123;<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>&#125;;</span><br><span class=\"line\">    <span class=\"type\">int</span> sum = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> num : vec) &#123;</span><br><span class=\"line\">        sum += num;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    std::cout &lt;&lt; <span class=\"string\">&quot;Sum: &quot;</span> &lt;&lt; sum &lt;&lt; std::endl;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-使用stdaccumulate\"><a class=\"anchor\" href=\"#2-使用stdaccumulate\">#</a> 2. 使用 <code>std::accumulate</code></h3>\n<p>C++ 标准库提供了 <code>std::accumulate</code>  函数，它可以用于计算容器中元素的总和。</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;numeric&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    std::vector&lt;<span class=\"type\">int</span>&gt; vec = &#123;<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>&#125;;</span><br><span class=\"line\">    <span class=\"type\">int</span> sum = std::<span class=\"built_in\">accumulate</span>(vec.<span class=\"built_in\">begin</span>(), vec.<span class=\"built_in\">end</span>(), <span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    std::cout &lt;&lt; <span class=\"string\">&quot;Sum: &quot;</span> &lt;&lt; sum &lt;&lt; std::endl;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>std::accumulate</code>  函数接受三个参数：容器的开始迭代器、结束迭代器和一个初始累加值。在这个例子中，初始累加值是 0。</p>\n<h3 id=\"3-使用stdreduce-c20\"><a class=\"anchor\" href=\"#3-使用stdreduce-c20\">#</a> 3. 使用 <code>std::reduce</code>  (C++20)</h3>\n<p>从 C++20 开始，标准库引入了 <code>std::reduce</code>  函数，它与 <code>std::accumulate</code>  类似，但返回一个对的值，其中第一个元素是累加的结果，第二个元素是累加过程中的状态。</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;numeric&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    std::vector&lt;<span class=\"type\">int</span>&gt; vec = &#123;<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>&#125;;</span><br><span class=\"line\">    <span class=\"keyword\">auto</span> [sum, <span class=\"comment\">/* state */</span>] = std::<span class=\"built_in\">reduce</span>(vec.<span class=\"built_in\">begin</span>(), vec.<span class=\"built_in\">end</span>(), <span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    std::cout &lt;&lt; <span class=\"string\">&quot;Sum: &quot;</span> &lt;&lt; sum &lt;&lt; std::endl;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-使用lambda表达式\"><a class=\"anchor\" href=\"#4-使用lambda表达式\">#</a> 4. 使用 Lambda 表达式</h3>\n<p>你还可以使用 Lambda 表达式结合 <code>std::accumulate</code>  来定义更复杂的求和逻辑。</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;numeric&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;functional&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    std::vector&lt;<span class=\"type\">int</span>&gt; vec = &#123;<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>&#125;;</span><br><span class=\"line\">    <span class=\"type\">int</span> sum = std::<span class=\"built_in\">accumulate</span>(vec.<span class=\"built_in\">begin</span>(), vec.<span class=\"built_in\">end</span>(), <span class=\"number\">0</span>, [](<span class=\"type\">int</span> acc, <span class=\"type\">int</span> x) &#123; <span class=\"keyword\">return</span> acc + x * x; &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">    std::cout &lt;&lt; <span class=\"string\">&quot;Sum of squares: &quot;</span> &lt;&lt; sum &lt;&lt; std::endl;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>在这个例子中，Lambda 表达式 <code>[](int acc, int x) &#123; return acc + x * x; &#125;</code>  定义了累加逻辑，即累加每个元素的平方。</p>\n<p>这些是 C++ 中对 <code>std::vector</code>  进行求和的几种常见方式。选择哪种方式取决于你的具体需求和个人偏好。</p>\n<h2 id=\"numpyasarray\"><a class=\"anchor\" href=\"#numpyasarray\">#</a> numpy.asarray()</h2>\n<p>y_diff = np.asarray(y_diff)</p>\n<p>这行代码使用了 NumPy 库，它是一个用于科学计算的 Python 库，广泛用于数据处理和数值计算。</p>\n<p>以下是代码的详细解释：</p>\n<ul>\n<li><code>np</code> : 这是 NumPy 库的常用缩写，是 <code>numpy</code>  的简写形式。</li>\n<li><code>asarray</code> : 这是 NumPy 库中的一个函数，它将输入转换成一个 NumPy 数组。 <code>np.asarray()</code>  函数会创建数组的浅拷贝，如果输入已经是一个 NumPy 数组，它将不会复制数据，而是直接返回原数组。</li>\n<li><code>y_diff</code> : 这是代码中的一个变量，它可能是一个列表、元组或其他 Python 容器类型，或者是已经是一个 NumPy 数组。</li>\n<li><code>np.asarray(y_diff)</code> : 这将 <code>y_diff</code>  转换成一个 NumPy 数组。如果 <code>y_diff</code>  已经是一个数组，它将返回原数组；如果不是，它将创建一个新的数组。</li>\n</ul>\n<p>这段代码的目的是确保 <code>y_diff</code>  是一个 NumPy 数组，这样你就可以利用 NumPy 提供的各种高效数组操作和数学函数。如果 <code>y_diff</code>  已经是一个 NumPy 数组，使用 <code>np.asarray()</code>  是多余的，但这样做不会影响性能或结果。</p>\n<h2 id=\"保留小数点后指定位数的写法\"><a class=\"anchor\" href=\"#保留小数点后指定位数的写法\">#</a> 保留小数点后指定位数的写法</h2>\n<h3 id=\"1-四舍五入保留两位小数\"><a class=\"anchor\" href=\"#1-四舍五入保留两位小数\">#</a> 1. 四舍五入保留两位小数</h3>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;cmath&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">double</span> num = <span class=\"number\">123.456789</span>;</span><br><span class=\"line\"><span class=\"type\">double</span> multiplier = <span class=\"number\">100.0</span>;</span><br><span class=\"line\">num = <span class=\"built_in\">round</span>(num * multiplier) / multiplier; <span class=\"comment\">// 四舍五入到小数点后两位</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"2-向下保留truncation即直接去掉小数部分\"><a class=\"anchor\" href=\"#2-向下保留truncation即直接去掉小数部分\">#</a> 2. 向下保留（Truncation，即直接去掉小数部分）</h3>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">double</span> num = <span class=\"number\">123.456789</span>;</span><br><span class=\"line\"><span class=\"type\">double</span> truncatedValue = std::<span class=\"built_in\">trunc</span>(num * <span class=\"number\">100</span>) / <span class=\"number\">100</span>; <span class=\"comment\">// 向下取整到小数点后两位</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"3-向上保留ceiling即向上取整到最接近的整数\"><a class=\"anchor\" href=\"#3-向上保留ceiling即向上取整到最接近的整数\">#</a> 3. 向上保留（Ceiling，即向上取整到最接近的整数）</h3>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;cmath&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">double</span> num = <span class=\"number\">123.456789</span>;</span><br><span class=\"line\"><span class=\"type\">double</span> ceilingValue = std::<span class=\"built_in\">ceil</span>(num * <span class=\"number\">100</span>) / <span class=\"number\">100</span>; <span class=\"comment\">// 向上取整到小数点后两位</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"4-直接保留两位小数不进行四舍五入\"><a class=\"anchor\" href=\"#4-直接保留两位小数不进行四舍五入\">#</a> 4. 直接保留两位小数（不进行四舍五入）</h3>\n<p>直接保留两位小数而不进行四舍五入，可以通过乘以 100，然后取整，最后再除以 100 来实现：</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">double</span> num = <span class=\"number\">123.456789</span>;</span><br><span class=\"line\"><span class=\"type\">double</span> directValue = (std::<span class=\"built_in\">floor</span>(num * <span class=\"number\">100</span>)) / <span class=\"number\">100</span>; <span class=\"comment\">// 直接保留两位小数</span></span><br></pre></td></tr></table></figure>\n<p>这里使用 <code>std::floor</code>  代替 <code>std::trunc</code>  是因为 <code>std::floor</code>  总是向下取整到最接近的整数，即使数字已经在整数上。而 <code>std::trunc</code>  在正数上与 <code>std::floor</code>  表现相同，但在负数上会向零方向截断。</p>\n<h3 id=\"注意事项\"><a class=\"anchor\" href=\"#注意事项\">#</a> 注意事项</h3>\n<ul>\n<li>四舍五入可能会改变数值的大小，向上或向下取整则不会增加数值的大小，但可能会损失精度。</li>\n<li>直接保留两位小数的方法通过 <code>std::floor</code>  实现，这种方法在处理正数时与四舍五入相同，但在处理负数时会向下取整，因此可能与期望的行为不同。</li>\n<li>根据你的具体需求选择合适的方法，如果需要保持数值的精确度，可能需要考虑其他方法或自定义逻辑。</li>\n</ul>\n",
            "tags": []
        },
        {
            "id": "https://zhihao-a.github.io/2024/05/21/bug%E6%B1%87%E6%80%BB/",
            "url": "https://zhihao-a.github.io/2024/05/21/bug%E6%B1%87%E6%80%BB/",
            "title": "bug汇总",
            "date_published": "2024-05-21T07:17:17.000Z",
            "content_html": "<h3 id=\"在vscode的bash终端中运行conda出错\"><a class=\"anchor\" href=\"#在vscode的bash终端中运行conda出错\">#</a> 在 vscode 的 bash 终端中运行 conda 出错</h3>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20240521152334634.png\" alt=\"image-20240521152334634\"></p>\n<p>但是在 Prompt 和不在 vscode 的 bash 终端还有 cmd 终端中都很正常，而且还出现了相同环境在不同项目的 bash 终端中的 Python 版本不一致的问题</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20240521152708110.png\" alt=\"image-20240521152708110\"></p>\n<h4 id=\"解决办法\"><a class=\"anchor\" href=\"#解决办法\">#</a> 解决办法</h4>\n<p>先在终端中激活环境，不要先在 vscode 中选择环境</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20240521152727046.png\" alt=\"image-20240521152727046\"></p>\n<h3 id=\"出现omp错误\"><a class=\"anchor\" href=\"#出现omp错误\">#</a> 出现 OMP 错误</h3>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20240521152859831.png\" alt=\"image-20240521152859831\"></p>\n<p>1、解决 OMP: Error #15: Initializing libiomp5md.dll, but found libiomp5md.dll already initialized. 报错问题<br>\n错误如下所示：<br>\nOMP: Error #15: Initializing libiomp5md.dll, but found libiomp5md.dll already initialized.<br>\nOMP: Hint This means that multiple copies of the OpenMP runtime have been linked into the program. That is dangerous, since it can degrade performance or cause incorrect results. The best thing to do is to ensure that only a single OpenMP runtime is linked into the process, e.g. by avoiding static linking of the OpenMP runtime in any library. As an unsafe, unsupported, undocumented workaround you can set the environment variable KMP_DUPLICATE_LIB_OK=TRUE to allow the program to continue to execute, but that may cause crashes or silently produce incorrect results. For more information, please see <span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5pbnRlbC5jb20vc29mdHdhcmUvcHJvZHVjdHMvc3VwcG9ydC8=\">http://www.intel.com/software/products/support/</span>.<br>\n 解决办法 1：<br>\n在 pycharm 里调试程序时可以直接通过在程序前添加这两个语句解决</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\">os.environ[“KMP_DUPLICATE_LIB_OK”]=“TRUE”</span><br></pre></td></tr></table></figure>\n<p>解决办法 2：<br>\n办法 1 不能解决问题的话，甚至直接在 terminal 上 import torch 也会出现这种问题：</p>\n<p>究其原因其实是，anaconda 的环境下存在两个 libiomp5md.dll 文件。所以直接去虚拟环境的路径下搜索这个文件，可以看到在环境里有两个 dll 文件：</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/0490096b07044f8f81a4d25bbddc8ab2.png\" alt=\"img\"></p>\n<p>其中第一个是 torch 路径下的，第二个是虚拟环境本身路径下的，转到第二个目录下把它剪切到其他路径下备份就好（最好把路径也备份一下）。</p>\n<p>第一个目录下的：</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20240521154115558.png\" alt=\"image-20240521154115558\"></p>\n<p>第二个目录下的</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20240521153940001.png\" alt=\"image-20240521153940001\"></p>\n<p>备份路径：</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20240521153847869.png\" alt=\"image-20240521153847869\"></p>\n<h3 id=\"安装对应版本的cuda-pytorch-cudnn\"><a class=\"anchor\" href=\"#安装对应版本的cuda-pytorch-cudnn\">#</a> 安装对应版本的 cuda pytorch cudnn</h3>\n<p>网上很多关于 python+pytorch+cuda+cuDNN 的教程，作为一只新手小菜鸟，好不容易跟着众多大佬们成功安装了 cuda 和 cuDNN（从官网下载 cuda 和 cuDNN 到本地，在本地进行安装并配置了环境变量），并通过了检测！好家伙啊，发现我不会加到虚拟环境里！（事实是不用单独下载 cuda 和 cudnn，可以直接用 conda 安装）</p>\n<p>​    接着各种查怎么把安装到本地的 cuda 整到目标虚拟环境里，发现很多是从 conda 里直接 install，不过直接下载会很慢，大多是在 conda 中直接从清华大学开源软件镜像站 网址中链接（通过 channel）下载，或者从清华大学开源软件镜像站下载 cuda 和 cuDNN 包，在 conda 中从本地 install，下文会都提到。</p>\n<p>踩坑做法：<br>\n从 Nvidia 官网下载 cuda10.2 并安装到电脑中，no！no！no！不是这样的！</p>\n<p>​    首先，我们要明确，我们是要在虚拟环境中安装 cuda 和 cuDNN！！！只需要在虚拟环境中安装就可以了。</p>\n<p>一套整理过的踩坑做法！（在电脑里安装 cuda 等）</p>\n<p>正确做法 (三种都可以）：</p>\n<h4 id=\"一-安装包下载到本地离线安装到虚拟环境中这个更保险\"><a class=\"anchor\" href=\"#一-安装包下载到本地离线安装到虚拟环境中这个更保险\">#</a> 一。安装包下载到本地，离线安装到虚拟环境中（这个更保险）</h4>\n<p>conda 环境下安装 GPU 版本的 pytorch</p>\n<h5 id=\"1下载离线包\"><a class=\"anchor\" href=\"#1下载离线包\">#</a> 1. 下载离线包</h5>\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">离线包下载地址：https:<span class=\"regexp\">//</span>download.pytorch.org<span class=\"regexp\">/whl/</span>torch_stable.html</span><br></pre></td></tr></table></figure>\n<p>win 系统下：torch = 1.10.0，torchvision = 0.11.1，torchaudio = 0.10.0 ，cuda=11.3</p>\n<p>​    PS：系统和包的版本可以换成别的版本，按照自己的需求下载即可。太老的包版本可能在这里找不到，建议换高一些的版本。如果直接有以下安装包，可以直接进入第二步，安装。</p>\n<p>（1）下载 torch = 1.10.0 版本</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/zhihao-a/blog-img@main/9bb43e44d5be45299e4e436f9dba09b9.png\" alt=\"img\"></p>\n<p>（2）下载 torchvision = 0.11.1</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/zhihao-a/blog-img@main/f58bd99e6786411ca04cf66a482db947.png\" alt=\"img\"></p>\n<p>（3）下载 torchaudio = 0.10.0</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/zhihao-a/blog-img@main/bf50a2437c3948a48a51049053176adc.png\" alt=\"img\"></p>\n<h5 id=\"2安装\"><a class=\"anchor\" href=\"#2安装\">#</a> 2. 安装</h5>\n<p>在 anaconda 的虚拟环境中，cd 到这三个文件存储的路径</p>\n<p>我存放的位置：</p>\n<p><img data-src=\"https://img-blog.csdnimg.cn/bac931a6e68c4cbdb00d8017f2145e68.png\" alt=\"img\"></p>\n<p>下图第一行是激活虚拟环境，想要安装在哪个虚拟环境下，就激活相应的虚拟环境。</p>\n<p><img data-src=\"https://cdn.jsdelivr.net/gh/zhihao-a/blog-img@main/7bb82038dc6f418b8701da78c79bc609.png\" alt=\"img\"></p>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">pip</span> install torch-<span class=\"number\">1</span>.<span class=\"number\">10</span>.<span class=\"number\">0</span>+cu113-cp38-cp38-win_amd64.whl</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">pip</span> install torchvision-<span class=\"number\">0</span>.<span class=\"number\">11</span>.<span class=\"number\">1</span>+cu113-cp38-cp38-win_amd64.whl</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">pip</span> install torchaudio-<span class=\"number\">0</span>.<span class=\"number\">10</span>.<span class=\"number\">0</span>+cu113-cp38-cp38-win_amd64.whl</span><br></pre></td></tr></table></figure>\n<h5 id=\"3测试是否安装好\"><a class=\"anchor\" href=\"#3测试是否安装好\">#</a> 3. 测试是否安装好</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import torch</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(torch.cuda.is_available()</span></span>)</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"https://img-blog.csdnimg.cn/b56d1bc77c1f4ff5a0a58d3498bab8f4.png\" alt=\"img\"></p>\n<p>ok</p>\n<h4 id=\"二-评论区大佬提供的下载方法这个超级好用\"><a class=\"anchor\" href=\"#二-评论区大佬提供的下载方法这个超级好用\">#</a> 二、评论区大佬提供的下载方法（这个超级好用！！！）</h4>\n<p>​        orz  orz  orz  感谢大佬们在评论区里互动，帮助解决大家的困难，以及提供更好的办法！</p>\n<p>可以直接在虚拟环境中下载 cuda11.1 以及对应的 torch 版本等，利用命令：</p>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">pip3</span> install torch==<span class=\"number\">1</span>.<span class=\"number\">8</span>.<span class=\"number\">1</span>+cu111 torchvision==<span class=\"number\">0</span>.<span class=\"number\">9</span>.<span class=\"number\">1</span>+cu111 torchaudio==<span class=\"number\">0</span>.<span class=\"number\">8</span>.<span class=\"number\">1</span> -f https://download.pytorch.org/whl/torch_stable.html</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attribute\">pip3</span> install torch==<span class=\"number\">1</span>.<span class=\"number\">10</span>.<span class=\"number\">0</span>+cu113 torchvision==<span class=\"number\">0</span>.<span class=\"number\">11</span>.<span class=\"number\">1</span>+cu113 torchaudio==<span class=\"number\">0</span>.<span class=\"number\">10</span>.<span class=\"number\">0</span> -f https://download.pytorch.org/whl/torch_stable.html</span><br></pre></td></tr></table></figure>\n<p>orz   救命，这个命令也太好用了吧！！！   推推推！！！</p>\n<h4 id=\"三-联网下载\"><a class=\"anchor\" href=\"#三-联网下载\">#</a> 三。联网下载</h4>\n<p>​        直接在 anaconda 虚拟环境中下载安装，由于 torch 比较大，可能会很难联网下载成功，可以试一试。</p>\n<p>​    首先， 在如下位置找到 .condarc 文件以记事本形式打开</p>\n<p><img data-src=\"https://img-blog.csdnimg.cn/a060926faeec4286a43fece6d093d7a6.png\" alt=\"img\"></p>\n<p>将里面的内容，替换成以下内容：（清华的镜像、还有一些其他镜像，下载地址）</p>\n<p>（1）原本的内容：</p>\n<figure class=\"highlight nestedtext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">channels</span><span class=\"punctuation\">:</span></span><br><span class=\"line\"><span class=\"punctuation\"></span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">defaults</span></span><br><span class=\"line\">    <span class=\"attribute\">ssl_verify</span><span class=\"punctuation\">:</span> <span class=\"string\">true</span></span><br></pre></td></tr></table></figure>\n<p>（2）把（1）中内容替换成：</p>\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">channels:</span><br><span class=\"line\"></span><br><span class=\"line\">  - http:<span class=\"regexp\">//mi</span>rrors.tuna.tsinghua.edu.cn<span class=\"regexp\">/anaconda/</span>pkgs<span class=\"regexp\">/free/</span></span><br><span class=\"line\">  - http:<span class=\"regexp\">//mi</span>rrors.tuna.tsinghua.edu.cn<span class=\"regexp\">/anaconda/</span>cloud<span class=\"regexp\">/conda-forge/</span></span><br><span class=\"line\">  - http:<span class=\"regexp\">//mi</span>rrors.tuna.tsinghua.edu.cn<span class=\"regexp\">/anaconda/</span>cloud<span class=\"regexp\">/msys2/</span></span><br><span class=\"line\">  - http:<span class=\"regexp\">//mi</span>rrors.tuna.tsinghua.edu.cn<span class=\"regexp\">/anaconda/</span>cloud<span class=\"regexp\">/bioconda/</span></span><br><span class=\"line\">  - http:<span class=\"regexp\">//mi</span>rrors.tuna.tsinghua.edu.cn<span class=\"regexp\">/anaconda/</span>pkgs<span class=\"regexp\">/main/</span></span><br><span class=\"line\">  - https:<span class=\"regexp\">//mi</span>rrors.tuna.tsinghua.edu.cn<span class=\"regexp\">/anaconda/</span>cloud<span class=\"regexp\">/pytorch/</span></span><br><span class=\"line\"></span><br><span class=\"line\">  - https:<span class=\"regexp\">//</span>conda.anaconda.org/</span><br><span class=\"line\">  - http:<span class=\"regexp\">//</span>pypi.douban.com<span class=\"regexp\">/simple/</span>  </span><br><span class=\"line\">  - http:<span class=\"regexp\">//mi</span>rrors.aliyun.com<span class=\"regexp\">/pypi/</span>simple/</span><br><span class=\"line\"></span><br><span class=\"line\">show_channel_urls: true</span><br><span class=\"line\">ssl_verify: false</span><br></pre></td></tr></table></figure>\n<p>更新！！！</p>\n<p>（3）如果上述 channels 已无法使用，即使用步骤（2）后，经常提示 http 错误信息，可以尝试这一步，把（1）中的内容替换成：</p>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">channels:</span><br><span class=\"line\"></span><br><span class=\"line\">  - defaults</span><br><span class=\"line\">    show_channel_urls: true</span><br><span class=\"line\">    default_channels:</span><br><span class=\"line\">  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main</span><br><span class=\"line\">  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free</span><br><span class=\"line\">  - http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/<span class=\"attribute\">r</span></span><br><span class=\"line\"><span class=\"attribute\">    custom_channels</span>:</span><br><span class=\"line\">      <span class=\"attribute\">conda-forge</span>: <span class=\"attribute\">http</span>:<span class=\"comment\">//mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span></span><br><span class=\"line\">      <span class=\"attribute\">msys2</span>: <span class=\"attribute\">http</span>:<span class=\"comment\">//mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span></span><br><span class=\"line\">      <span class=\"attribute\">bioconda</span>: <span class=\"attribute\">http</span>:<span class=\"comment\">//mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span></span><br><span class=\"line\">      <span class=\"attribute\">menpo</span>: <span class=\"attribute\">http</span>:<span class=\"comment\">//mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span></span><br><span class=\"line\">      <span class=\"attribute\">pytorch</span>: <span class=\"attribute\">http</span>:<span class=\"comment\">//mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span></span><br><span class=\"line\">      <span class=\"attribute\">simpleitk</span>: <span class=\"attribute\">http</span>:<span class=\"comment\">//mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span></span><br></pre></td></tr></table></figure>\n<p>亲测有效</p>\n<p>否则会出现如下错误：</p>\n<p><img data-src=\"https://img-blog.csdnimg.cn/c8471b5a2f6a4ea9bbf4c20c51b0ed9c.png\" alt=\"img\"></p>\n<p>可以创建一个新的虚拟环境安装：</p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">（1）conda create -n env_name <span class=\"attribute\">python</span>=3.8</span><br><span class=\"line\"></span><br><span class=\"line\">（2）conda install <span class=\"attribute\">pytorch</span>==1.7.0 <span class=\"attribute\">torchvision</span>==0.8.0 <span class=\"attribute\">torchaudio</span>==0.7.0 <span class=\"attribute\">cudatoolkit</span>=10.2 <span class=\"attribute\">cudnn</span>=7.6.5</span><br></pre></td></tr></table></figure>\n<p>也可以在旧的虚拟环境中安装：</p>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">conda</span> install pytorch==<span class=\"number\">1</span>.<span class=\"number\">7</span>.<span class=\"number\">0</span> torchvision==<span class=\"number\">0</span>.<span class=\"number\">8</span>.<span class=\"number\">0</span> torchaudio==<span class=\"number\">0</span>.<span class=\"number\">7</span>.<span class=\"number\">0</span> cudatoolkit=<span class=\"number\">10</span>.<span class=\"number\">2</span> cudnn=<span class=\"number\">7</span>.<span class=\"number\">6</span>.<span class=\"number\">5</span></span><br></pre></td></tr></table></figure>\n<p>上面的包版本可以换成你想要的版本，注意要对应，才能成功启用 cuda。</p>\n<p>（2022.10.28，上面这套应该已经无法下载了，可以最好换成其他版本）</p>\n<p>到此，已经完成安装啦！</p>\n<p>有帮助的话可以点个小赞嘛  嘿嘿  狠狠地期待住了</p>\n<p>其他包的安装：超好用！！！！</p>\n<p>​    百分之八九十的包用下面的命令都能快速安装，除了一些比较特殊的，主要有用的就是安装命令后面的镜像地址，如果直接使用源地址，下载会很慢，还可能中途崩溃，就很麻烦，可以在安装命令的后面加上国内的免费镜像地址，不仅限于豆瓣、清华，其他的也可以，一般使用这下面其中一种就可以下载成功！！！狠狠地码住！！！</p>\n<ol>\n<li>使用豆瓣镜像</li>\n</ol>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install 包名 -<span class=\"selector-tag\">i</span> http:<span class=\"comment\">//pypi.douban.com/simple/ --trusted-host pypi.douban.com</span></span><br><span class=\"line\"></span><br><span class=\"line\">或者 </span><br><span class=\"line\"></span><br><span class=\"line\">pip install 包名 -<span class=\"selector-tag\">i</span> https:<span class=\"comment\">//pypi.douban.com/simple/</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"number\">2</span>. 使用清华镜像</span><br><span class=\"line\"></span><br><span class=\"line\">pip install 包名 -<span class=\"selector-tag\">i</span> https:<span class=\"comment\">//pypi.tuna.tsinghua.edu.cn/simple</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"虚拟环境中使用pip安装包出现内存不足问题\"><a class=\"anchor\" href=\"#虚拟环境中使用pip安装包出现内存不足问题\">#</a> 虚拟环境中使用 pip 安装包出现内存不足问题</h3>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20240523232439352.png\" alt=\"image-20240523232439352\"></p>\n<h4 id=\"分析\"><a class=\"anchor\" href=\"#分析\">#</a> 分析</h4>\n<p>有可能是 pip 缓存路径的硬件内存不足导致的，所以要更改具体的缓存路径</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20240523232603087.png\" alt=\"image-20240523232603087\"></p>\n<p><strong>注意</strong>：如果原先缓存路径中有东西的话，最好将所有文件剪切到 新缓存路径中</p>\n<p><strong>pip 缓存默认路径</strong></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20240523232849406.png\" alt=\"image-20240523232849406\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20240523232826696.png\" alt=\"image-20240523232826696\"></p>\n<p>可以在指定虚拟环境中使用以下命令来查找 pip 的缓存目录：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python -m pip cache dir</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20240523233100928.png\" alt=\"image-20240523233100928\"></p>\n<h4 id=\"但是仍没有解决\"><a class=\"anchor\" href=\"#但是仍没有解决\">#</a> 但是仍没有解决</h4>\n<p><strong>查资料得到一个解决办法</strong></p>\n<p>今天跑模型，，然后前面好好的环境，今天突然跟我说 pytorch 和 cuda 不匹配？？？？</p>\n<p>于是，在我一通鼓捣下，环境彻底废了，</p>\n<p>于是，我干脆破罐子破摔，全删掉，重新下 cuda，anaconda，cudnn，pytorch！！</p>\n<p>前面都很顺利，就是 C 盘不知道怎么就被我干到只剩 5 个 g 不到了，，，欲哭无泪！</p>\n<p>最后安到这一步，，把我整神了，如下：<br>\n我在终端里面运行这个<br>\n pip install torch<mark>2.0.0+cu118 torchvision</mark>0.15.1+cu118 torchaudio==2.0.1 --index-url <span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb3dubG9hZC5weXRvcmNoLm9yZy93aGwvY3UxMTg=\">https://download.pytorch.org/whl/cu118</span><br>\n 报错，，ERROR: Could not install packages due to an OSError: [Errno 28] No space left on device</p>\n<p>于是，我修改了 pip 的默认下载存储地址：</p>\n<p>再来 run 一遍</p>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">pip</span> install torch==<span class=\"number\">2</span>.<span class=\"number\">0</span>.<span class=\"number\">0</span>+cu118 torchvision==<span class=\"number\">0</span>.<span class=\"number\">15</span>.<span class=\"number\">1</span>+cu118 torchaudio==<span class=\"number\">2</span>.<span class=\"number\">0</span>.<span class=\"number\">1</span> --index-url https://download.pytorch.org/whl/cu118</span><br></pre></td></tr></table></figure>\n<p>报错！再改，还错！…(中间不知道还断了多少次下载)</p>\n<p>我无语了。。。</p>\n<p>我明明设置好了 pip 的默认安装位置，并且空间足够大，但是下载到最后的时候，还是会报错：空间不足。ERROR: Could not install packages due to an OSError: [Errno 28] No space left on device</p>\n<p>注：哦对，该文章只对于 C 盘空间所剩无几的朋友们有效（说起来都是泪啊）</p>\n<p>最后偶然间了解到：<br>\npip 安装下载过程中，还会有一个地方作为临时文件夹，而这个文件夹一般是默认在 c 盘（大无语，真相了）。</p>\n<p>所以即使你修改了 “<span class=\"exturl\" data-url=\"aHR0cDovL3NpdGUucHk=\">site.py</span>” 文件里面对应的路径，过程中的路径其实你还是没有改动的，还是会默认在 c 盘。而这时候如果你 C 盘空间所剩无几，无法提供充足的空间，那你的下载过程肯定九无法正常了，所以我们要做的就是修改 “temp” 文件夹所在位置</p>\n<p>在 windows 系统中使用 pip 安装 Python 包时，如果你想要修改临时文件的存储路径，可以通过设置环境变量 TMPDIR 来实现。</p>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">set</span> TMPDIR=C:\\<span class=\"type\">path</span>\\<span class=\"keyword\">to</span>\\<span class=\"built_in\">new</span>\\<span class=\"keyword\">temp</span></span><br><span class=\"line\">pip install package-<span class=\"type\">name</span></span><br></pre></td></tr></table></figure>\n<p>将 C:/path/to/new/temp 替换为你希望 pip 使用的新临时目录路径。然后再下载那个体积比较大的包，就没有问题了</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20240525004722254.png\" alt=\"image-20240525004722254\"></p>\n<p>啊啊啊啊啊～舒畅！（浪费我好多时间和流量！，中间好多次下载还不稳定，下载一半就 time out 的痛谁懂！！）</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20240525004905845.png\" alt=\"image-20240525004905845\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/7578edda452b48caaba40bcac775c8e8.png\" alt=\"在这里插入图片描述\"></p>\n<p>最后测试一下</p>\n<p>呜～～</p>\n<h3 id=\"出现pip版本太旧的错误\"><a class=\"anchor\" href=\"#出现pip版本太旧的错误\">#</a> 出现 pip 版本太旧的错误</h3>\n<p>当你在运行 Python 的包管理工具 pip 时，如果收到这样的警告信息：</p>\n<figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">WARNING: </span>There was an error checking the latest version of pip.</span><br></pre></td></tr></table></figure>\n<p>这通常意味着 pip 在尝试检查是否有更新版本时遇到了问题。这可能是由于多种原因造成的，包括网络连接问题、pip 配置错误、或者是 pip 自身的问题。</p>\n<p>以下是一些解决这个问题的建议步骤：</p>\n<ol>\n<li>\n<p><strong>检查网络连接</strong>：确保你的设备可以正常访问互联网。</p>\n</li>\n<li>\n<p><strong>更新 pip</strong>：尽管 pip 在检查更新时遇到了问题，但你可以尝试手动更新它。在命令行中运行以下命令：</p>\n<figure class=\"highlight ada\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python -m pip install <span class=\"comment\">--upgrade pip</span></span><br></pre></td></tr></table></figure>\n<p>或者如果你有多个 Python 版本，使用：</p>\n<figure class=\"highlight ada\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python3 -m pip install <span class=\"comment\">--upgrade pip</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p><strong>检查 pip 配置</strong>：检查 pip 的配置文件（通常位于用户目录下的 <code>pip.ini</code>  或 <code>pip.conf</code> ），确保没有错误的配置。</p>\n</li>\n<li>\n<p><strong>使用虚拟环境</strong>：如果你在使用虚拟环境，确保你的虚拟环境是激活的，并且在虚拟环境中更新 pip。</p>\n</li>\n<li>\n<p><strong>清除 pip 缓存</strong>：有时候，清除 pip 的缓存可以解决问题。运行以下命令：</p>\n<figure class=\"highlight lasso\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">复制</span><br><span class=\"line\">python <span class=\"params\">-m</span> pip <span class=\"keyword\">cache</span> purge</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h4 id=\"虚拟环境清理缓存方法\"><a class=\"anchor\" href=\"#虚拟环境清理缓存方法\">#</a> 虚拟环境清理缓存方法</h4>\n<p><code>conda clean</code>  是 Anaconda 中的一个命令，用于清理不再需要的文件和缓存，以释放磁盘空间。这个命令非常有助于管理 Anaconda 环境中的存储使用情况。</p>\n<p><code>conda clean --all</code>  这个命令的作用是删除所有可以安全删除的未使用的文件。具体来说，它执行以下操作：</p>\n<ol>\n<li><strong>清理包缓存</strong>：删除下载的包文件，这些文件通常存储在  <code>~/anaconda3/conda/pkgs/</code>  或  <code>~/.conda/pkgs/</code>  目录下。</li>\n<li><strong>删除旧的包版本</strong>：如果一个包的新版本已经安装， <code>conda clean</code>  会删除旧版本的包文件。</li>\n<li><strong>清理索引缓存</strong>：删除 conda 的索引缓存，这包括包的元数据和依赖信息。</li>\n<li><strong>删除锁文件</strong>：删除在包安装过程中创建的锁文件。</li>\n<li><strong>清理未使用的构建环境</strong>：删除在构建包时创建的不再需要的环境。</li>\n</ol>\n<p>运行  <code>conda clean --all</code>  会释放大量空间，特别是如果你经常安装和卸载包的话。然而，请注意，这个命令不会删除当前安装的包或环境，也不会影响你的工作目录或项目文件。</p>\n<p>要运行这个命令，你需要打开 Anaconda Prompt（在 Windows 上）或终端（在 Linux 或 macOS 上），然后输入：</p>\n<figure class=\"highlight ada\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda clean <span class=\"comment\">--all</span></span><br></pre></td></tr></table></figure>\n<p>或者，如果你只想清理特定的未使用文件，可以使用不同的选项，例如：</p>\n<ul>\n<li><code>conda clean --tarballs</code> ：只清理下载的包文件。</li>\n<li><code>conda clean --index-cache</code> ：只清理索引缓存。</li>\n</ul>\n<p>使用  <code>conda clean</code>  是维护 Anaconda 环境和避免磁盘空间不足问题的一个好习惯。</p>\n<h3 id=\"yaml文件创建conda环境报错collecting-package-metadata-repodatajson-done-solving-environment-failed\"><a class=\"anchor\" href=\"#yaml文件创建conda环境报错collecting-package-metadata-repodatajson-done-solving-environment-failed\">#</a> YAML 文件创建 Conda 环境，报错 Collecting package metadata (repodata.json): done Solving environment: failed</h3>\n<p><img data-src=\"E:%5Ctypora%E5%9B%BE%E7%89%87%5Cimage-20240530160542850.png\" alt=\"image-20240530160542850\"></p>\n<h4 id=\"解决办法-2\"><a class=\"anchor\" href=\"#解决办法-2\">#</a> 解决办法</h4>\n<p>1. 去除第二个等号后面的配置限制</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/4a0fffe9ebc04f4db2ec7cb4eca328aa.png\" alt=\"img\"></p>\n<ol start=\"2\">\n<li>如果还不能解决就把找不到的包都弄到 - pip：中去再保存</li>\n</ol>\n<h3 id=\"使用matplotlib库进行画图时发现出错\"><a class=\"anchor\" href=\"#使用matplotlib库进行画图时发现出错\">#</a> 使用 matplotlib 库进行画图时，发现出错</h3>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20240607233420948.png\" alt=\"image-20240607233420948\"></p>\n<h4 id=\"原因\"><a class=\"anchor\" href=\"#原因\">#</a> 原因</h4>\n<p>因为 （3,1）尺寸的图，为一维的列表类型，不能用二维的进行访问</p>\n<p>直接这样访问</p>\n",
            "tags": []
        },
        {
            "id": "https://zhihao-a.github.io/2024/03/21/git%E9%85%8D%E7%BD%AE%E7%9B%B8%E5%85%B3/",
            "url": "https://zhihao-a.github.io/2024/03/21/git%E9%85%8D%E7%BD%AE%E7%9B%B8%E5%85%B3/",
            "title": "git配置相关",
            "date_published": "2024-03-21T15:37:11.000Z",
            "content_html": "<h1 id=\"imggit-bash-的配置\"><a class=\"anchor\" href=\"#imggit-bash-的配置\">#</a> <img data-src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==\" alt=\"img\">Git Bash 的配置</h1>\n<p>通过这篇文章，可以了解到:</p>\n<ul>\n<li><strong>为什么要使用 Git-Bash, 以及 Git-Bash 的优点</strong></li>\n<li><strong>Git-Bash 的外观主题配置</strong></li>\n<li><strong>Git-Bash 修改提示符 PS1</strong></li>\n<li><strong>Git-Bash 命令行基础</strong></li>\n<li><strong>Git-Bash 快捷键</strong></li>\n</ul>\n<p>可以在这里 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0hlbnJ5VFNaL2ZpbGVzL3RyZWUvbWFzdGVyL2dpdC1iYXNo\">files/git-bash at master · HenryTSZ/files (opens new window)</span> 获取设置文件，下载后放到  <code>C:\\Users\\你电脑的用户名</code></p>\n<h2 id=\"\"><a class=\"anchor\" href=\"#\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNnaXQtYmFzaC0lRTclOUElODQlRTQlQkMlOTglRTclODIlQjk=\">#</span>Git-Bash 的优点</h2>\n<p>在开发的过程中，我们可能需要使用大量的命令行工具，或者远程连接到服务器进行操作。然而，由于  <code>Window</code>  自带的  <code>CMD</code>  和  <code>PowerShell</code>  都不太好用，而且在  <code>Window</code>  下的命令又与  <code>Linux</code>  和  <code>MacOS</code>  的命令不太一样，如果需要经常跨平台操作，学习  <code>Window</code>  的命令行命令无疑是增加了学习成本，因此就有了需要一个能做到通用命令的工具.</p>\n<p>在  <code>Window</code>  下使用类似  <code>Linux</code>  命令的工具有很多，例如  <code>Window10</code>  上提供的  <code>WSL(Window Sub Linux)</code>  ,  <code>CygWin</code>  以及  <code>Git-Bash</code>  .</p>\n<h3 id=\"-2\"><a class=\"anchor\" href=\"#-2\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyN3c2w=\">#</span>WSL</h3>\n<blockquote>\n<p>The Windows Subsystem for Linux lets developers run Linux environments – including most command-line tools, utilities, and applications – directly on Windows, unmodified, without the overhead of a virtual machine.</p>\n</blockquote>\n<p><code>WSL</code>  是微软提供的一套可以运行  <code>Linux</code>  环境而又不用加载虚拟机的子系统。使用  <code>WSL</code>  可以像使用  <code>Ubuntu</code>  一样的操作，而且还能访问  <code>Window</code>  上的文件系统.</p>\n<h3 id=\"-3\"><a class=\"anchor\" href=\"#-3\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNjeWd3aW4=\">#</span>CygWin</h3>\n<p><code>CygWin</code>  是运行在  <code>Window</code>  平台的类  <code>Unix</code>  环境， <code>CygWIn</code>  通过将部分  <code>Posix</code>  调用转换成  <code>Window</code>  的  <code>API</code>  调用，从而实现相关功能.</p>\n<h3 id=\"-4\"><a class=\"anchor\" href=\"#-4\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNnaXQtYmFzaA==\">#</span>Git-Bash</h3>\n<p>我们这篇文章介绍的  <code>Git-Bash</code>  , 是 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXQtc2NtLmNvbS8=\">Git 官网 (opens new window)</span> 上提供的一个  <code>Git</code>  开发工具包里的一个命令行组件.</p>\n<p><code>Git-Bash</code>  源自  <code>MinGW</code>  , 是一个用于开发原生  <code>Window</code>  应用的开发环境，提供了针对  <code>Win32</code>  应用的  <code>GCC、GNUbinutils</code>  等工具.</p>\n<p>我们可以根据自己的需求，进行选择，这里我选择  <code>Git-Bash</code>  的原因，是我的开发需求主要为启动前端服务及提交代码，因此选择  <code>Git-Bash</code>  较为方便、简单.</p>\n<h2 id=\"-5\"><a class=\"anchor\" href=\"#-5\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNnaXQtYmFzaC0lRTQlQjglOEIlRTglQkQlQkQlRTUlQUUlODklRTglQTMlODU=\">#</span>Git-Bash 下载安装</h2>\n<p>可以在 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXQtc2NtLmNvbS9kb3dubG9hZHM=\">Git 官网 (opens new window)</span> 下载，不过国内比较慢；推荐从<span class=\"exturl\" data-url=\"aHR0cHM6Ly9ucG0udGFvYmFvLm9yZy9taXJyb3JzL2dpdC1mb3Itd2luZG93cy8=\">淘宝镜像 (opens new window)</span> 下载</p>\n<p>安装比较简单，基本上就是傻瓜式安装: <span class=\"exturl\" data-url=\"aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC8xNTc1ODIwNTE=\">Windows Git 2.27.0 的快速下载与安装 - 知乎 (opens new window)</span></p>\n<h2 id=\"-6\"><a class=\"anchor\" href=\"#-6\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNnaXQtYmFzaC0lRTclOUElODQlRTQlQjglQkIlRTklQTIlOTglRTklODUlOEQlRTclQkQlQUU=\">#</span>Git-Bash 的主题配置</h2>\n<p><code>Git-Bash</code>  原生的主题，其实也并不难看，更换  <code>Git-Bash</code>  的需求主要在于:  <code>Git-Bash</code>  原生的主题配色和  <code>MacOS</code>  下  <code>iTerm Solarized</code>  主题配色差距甚大。因此，一是视觉上不统一，看上去不习惯，二是本着手贱的探索精神，总希望做点特别的挑战，就有了去修改  <code>Git-Bash</code>  主题的需求.</p>\n<p>修改  <code>Git-Bash</code>  主题主要有两个困难：一是  <code>Git-Bash</code>  自带的  <code>Options</code>  下  <code>Text</code>  设置有缺陷，只有有限的字体可选，一些系统上已经安装了的字体，这里并没有得选择。二要使用  <code>Git-Bash SSH</code>  连接使用了  <code>agnoster</code>  主题的  <code>ZSH</code>  , 需要一种含特殊字符的字体  <code>Powerline</code>  , 没有了这种字体，就会出现乱码.</p>\n<h3 id=\"-7\"><a class=\"anchor\" href=\"#-7\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNnaXQtYmFzaC0lRTklODUlOEQlRTglODklQjIlRTQlQjglQkIlRTklQTIlOTglRTglQUUlQkUlRTclQkQlQUU=\">#</span>Git-Bash 配色主题设置</h3>\n<p>配置方法很简单，在  <code>Git-Bash</code>  中我们输入以下代码:  <code>vi ~/.minttyrc</code>  , 然后把以下内容添加到配置文件里面</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">BoldAsFont=<span class=\"built_in\">yes</span></span><br><span class=\"line\">FontHeight=12</span><br><span class=\"line\">Scrollbar=none</span><br><span class=\"line\">Term=xterm-256color</span><br><span class=\"line\">BoldAsColour=<span class=\"built_in\">yes</span></span><br><span class=\"line\">Black=7,54,66</span><br><span class=\"line\">Red=220,50,47</span><br><span class=\"line\">Green=133,153,0</span><br><span class=\"line\">Yellow=181,137,0</span><br><span class=\"line\">Blue=38,139,210</span><br><span class=\"line\">Magenta=211,54,130</span><br><span class=\"line\">Cyan=42,161,152</span><br><span class=\"line\">White=238,232,213</span><br><span class=\"line\">BoldBlack=0,43,54</span><br><span class=\"line\">BoldRed=203,75,22</span><br><span class=\"line\">BoldGreen=88,110,117</span><br><span class=\"line\">BoldYellow=101,123,131</span><br><span class=\"line\">BoldBlue=131,148,150</span><br><span class=\"line\">BoldMagenta=108,113,196</span><br><span class=\"line\">BoldCyan=147,161,161</span><br><span class=\"line\">BoldWhite=253,246,227</span><br><span class=\"line\">ForegroundColour=192,192,192</span><br><span class=\"line\">BackgroundColour=0,43,54</span><br><span class=\"line\">CursorColour=133,153,0</span><br><span class=\"line\">Columns=80</span><br><span class=\"line\">Rows=25</span><br><span class=\"line\"></span><br><span class=\"line\">BoldAsFont=-1</span><br><span class=\"line\">Locale=zh_CN</span><br><span class=\"line\">Charset=UTF-8</span><br><span class=\"line\">Font=Consolas</span><br><span class=\"line\">Transparency=off</span><br><span class=\"line\">CursorType=block</span><br><span class=\"line\">CursorBlinks=<span class=\"built_in\">yes</span></span><br></pre></td></tr></table></figure>\n<p>在  <code>vim</code>  编辑器下，你可以使用方向键移动光标，按  <code>i</code>  进入编辑模式，编辑好后按  <code>esc</code>  退出编辑模式，随后输入  <code>:wq</code>   并回车即可保存。有关  <code>Vim</code>  的更多使用方法你可以参考<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cucnVub29iLmNvbS9saW51eC9saW51eC12aW0uaHRtbA==\">这篇教程 (opens new window)</span>.</p>\n<p>然后重启  <code>Git-Bash</code>  , 即可看到新的主题配色，以下是我的  <code>Git-Bash</code>  外观主题配置样例.</p>\n<p><img data-src=\"https://tszv.vercel.app/img/git/014.png\" alt=\"img\"></p>\n<h2 id=\"-8\"><a class=\"anchor\" href=\"#-8\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNnaXQtYmFzaC0lRTQlQkYlQUUlRTYlOTQlQjklRTYlOEYlOTAlRTclQTQlQkElRTclQUMlQTYtcHMx\">#</span>Git-Bash 修改提示符 PS1</h2>\n<p><code>PS1</code>  被称为  <code>prompt</code>  (提示符), 是终端环境变量的其中之一，主要用于  <code>bash</code>  命令前的提示词。可以改成各种奇形怪状的内容，自定义空间超大。除了  <code>PS1</code>  , 还有  <code>PS2-4</code>  , 这些暂时没有用到。搜索  <code>linux ps1</code>  能看到相关介绍.</p>\n<p><img data-src=\"https://tszv.vercel.app/img/git/015.png\" alt=\"default PS1\"></p>\n<p>默认的  <code>PS1</code>  最前面的 用户名 @主机名 一般我们是用不到的，一层一层目录实在太长太占地方，而且截屏时也不方便把全路径显示出来， <code>git</code>  分支没有提示当前状态，配色也不太好看，丑兮兮的</p>\n<h3 id=\"-9\"><a class=\"anchor\" href=\"#-9\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyMlRTglOEUlQjclRTUlOEYlOTYlRTUlQkQlOTMlRTUlODklOEQtcHMxLSVFOSU4NSU4RCVFNyVCRCVBRQ==\">#</span>获取当前 PS1 配置</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"variable\">$PS1</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"-10\"><a class=\"anchor\" href=\"#-10\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNwczEtJUU0JUJGJUFFJUU2JTk0JUI5JUU4JUFGJUFEJUU2JUIzJTk1\">#</span>PS1 修改语法</h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 引号里面可以写任何内容</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> PS1=<span class=\"string\">&quot;$&quot;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"-11\"><a class=\"anchor\" href=\"#-11\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNwczEtJUU0JUJGJUFFJUU2JTk0JUI5JUU2JUFEJUE1JUU5JUFBJUE0\">#</span>PS1 修改步骤</h3>\n<ol>\n<li>\n<p>打开 bash 配置文件</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vi ~/.bash_profile</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>添加 PS1 配置</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 折叠路径</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">_getShortPwd</span></span>() &#123;</span><br><span class=\"line\">  <span class=\"built_in\">echo</span> -n `<span class=\"built_in\">pwd</span> | sed -e <span class=\"string\">&quot;s!<span class=\"variable\">$HOME</span>!~!&quot;</span> | sed <span class=\"string\">&quot;s:\\([^/]\\)[^/]*/:\\1/:g&quot;</span>`</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\"># git</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"function\"><span class=\"title\">_getGitPS1</span></span>() &#123;</span><br><span class=\"line\">  git status &gt; /dev/null 2&gt;&amp;1</span><br><span class=\"line\">  <span class=\"keyword\">if</span> [ $? == 0 ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">    <span class=\"built_in\">local</span> branch= `git branch | grep \\* | <span class=\"built_in\">cut</span> -d <span class=\"string\">&#x27; &#x27;</span> -f2`</span><br><span class=\"line\">    status= `git status 2&gt;&amp;1 | <span class=\"built_in\">tee</span>`</span><br><span class=\"line\">    dirty= `<span class=\"built_in\">echo</span> -n <span class=\"string\">&quot;<span class=\"variable\">$&#123;status&#125;</span>&quot;</span> 2&gt; /dev/null | grep <span class=\"string\">&quot;modified:&quot;</span> &amp;&gt; /dev/null; <span class=\"built_in\">echo</span> <span class=\"string\">&quot;$?&quot;</span>`</span><br><span class=\"line\">    untracked= `<span class=\"built_in\">echo</span> -n <span class=\"string\">&quot;<span class=\"variable\">$&#123;status&#125;</span>&quot;</span> 2&gt; /dev/null | grep <span class=\"string\">&quot;Untracked files&quot;</span> &amp;&gt; /dev/null; <span class=\"built_in\">echo</span> <span class=\"string\">&quot;$?&quot;</span>`</span><br><span class=\"line\">    ahead= `<span class=\"built_in\">echo</span> -n <span class=\"string\">&quot;<span class=\"variable\">$&#123;status&#125;</span>&quot;</span> 2&gt; /dev/null | grep <span class=\"string\">&quot;Your branch is ahead of&quot;</span> &amp;&gt; /dev/null; <span class=\"built_in\">echo</span> <span class=\"string\">&quot;$?&quot;</span>`</span><br><span class=\"line\">    newfile= `<span class=\"built_in\">echo</span> -n <span class=\"string\">&quot;<span class=\"variable\">$&#123;status&#125;</span>&quot;</span> 2&gt; /dev/null | grep <span class=\"string\">&quot;new file:&quot;</span> &amp;&gt; /dev/null; <span class=\"built_in\">echo</span> <span class=\"string\">&quot;$?&quot;</span>`</span><br><span class=\"line\">    renamed= `<span class=\"built_in\">echo</span> -n <span class=\"string\">&quot;<span class=\"variable\">$&#123;status&#125;</span>&quot;</span> 2&gt; /dev/null | grep <span class=\"string\">&quot;renamed:&quot;</span> &amp;&gt; /dev/null; <span class=\"built_in\">echo</span> <span class=\"string\">&quot;$?&quot;</span>`</span><br><span class=\"line\">    deleted= `<span class=\"built_in\">echo</span> -n <span class=\"string\">&quot;<span class=\"variable\">$&#123;status&#125;</span>&quot;</span> 2&gt; /dev/null | grep <span class=\"string\">&quot;deleted:&quot;</span> &amp;&gt; /dev/null; <span class=\"built_in\">echo</span> <span class=\"string\">&quot;$?&quot;</span>`</span><br><span class=\"line\">    bits=<span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> [ <span class=\"string\">&quot;<span class=\"variable\">$&#123;renamed&#125;</span>&quot;</span> == <span class=\"string\">&quot;0&quot;</span> ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">      bits=<span class=\"string\">&quot;&gt;<span class=\"variable\">$&#123;bits&#125;</span>&quot;</span></span><br><span class=\"line\">    <span class=\"keyword\">fi</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> [ <span class=\"string\">&quot;<span class=\"variable\">$&#123;ahead&#125;</span>&quot;</span> == <span class=\"string\">&quot;0&quot;</span> ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">      bits=<span class=\"string\">&quot;*<span class=\"variable\">$&#123;bits&#125;</span>&quot;</span></span><br><span class=\"line\">    <span class=\"keyword\">fi</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> [ <span class=\"string\">&quot;<span class=\"variable\">$&#123;newfile&#125;</span>&quot;</span> == <span class=\"string\">&quot;0&quot;</span> ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">      bits=<span class=\"string\">&quot;+<span class=\"variable\">$&#123;bits&#125;</span>&quot;</span></span><br><span class=\"line\">    <span class=\"keyword\">fi</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> [ <span class=\"string\">&quot;<span class=\"variable\">$&#123;untracked&#125;</span>&quot;</span> == <span class=\"string\">&quot;0&quot;</span> ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">      bits=<span class=\"string\">&quot;?<span class=\"variable\">$&#123;bits&#125;</span>&quot;</span></span><br><span class=\"line\">    <span class=\"keyword\">fi</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> [ <span class=\"string\">&quot;<span class=\"variable\">$&#123;deleted&#125;</span>&quot;</span> == <span class=\"string\">&quot;0&quot;</span> ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">      bits=<span class=\"string\">&quot;x<span class=\"variable\">$&#123;bits&#125;</span>&quot;</span></span><br><span class=\"line\">    <span class=\"keyword\">fi</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> [ <span class=\"string\">&quot;<span class=\"variable\">$&#123;dirty&#125;</span>&quot;</span> == <span class=\"string\">&quot;0&quot;</span> ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">      bits=<span class=\"string\">&quot;!<span class=\"variable\">$&#123;bits&#125;</span>&quot;</span></span><br><span class=\"line\">    <span class=\"keyword\">fi</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> [ ! <span class=\"string\">&quot;<span class=\"variable\">$&#123;bits&#125;</span>&quot;</span> == <span class=\"string\">&quot;&quot;</span> ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">      <span class=\"built_in\">echo</span> <span class=\"string\">&quot; <span class=\"variable\">$branch</span> <span class=\"variable\">$bits</span>&quot;</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">      <span class=\"built_in\">echo</span> <span class=\"string\">&quot; <span class=\"variable\">$branch</span>&quot;</span></span><br><span class=\"line\">    <span class=\"keyword\">fi</span></span><br><span class=\"line\">  <span class=\"keyword\">fi</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">PS1=<span class=\"string\">&#x27;\\[\\e[38;5;166m\\]$(_getShortPwd)\\[\\e[0m\\]\\[\\e[38;5;135m\\] &gt;\\[\\e[0m\\]\\[\\e[38;5;118m\\]$(_getGitPS1)\\[\\e[0m\\] \\$ &#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># title show path</span></span><br><span class=\"line\"><span class=\"built_in\">export</span> PS1=<span class=\"string\">&quot;\\[\\e]0;\\w\\a\\]<span class=\"variable\">$PS1</span>&quot;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>生效配置</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">source</span> ~/.bash_profile</span><br></pre></td></tr></table></figure>\n<p>1</p>\n</li>\n</ol>\n<p><img data-src=\"https://tszv.vercel.app/img/git/016.png\" alt=\"changed PS1\"></p>\n<p>以上配置大部分参考了这篇文章: <span class=\"exturl\" data-url=\"aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC81MTAwODA4Nw==\">你不需要花哨的命令提示符 - 知乎 (opens new window)</span></p>\n<p><code>PS1</code>  具体配置可以看这篇文章: <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvNmNlNDg0Lw==\">linux 下 PS1 命令提示符设置</span>，这里就不再详述</p>\n<h2 id=\"-12\"><a class=\"anchor\" href=\"#-12\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNnaXQtYmFzaC0lRTUlOTElQkQlRTQlQkIlQTQlRTglQTElOEMlRTUlOUYlQkElRTclQTElODA=\">#</span>Git-Bash 命令行基础</h2>\n<h3 id=\"-13\"><a class=\"anchor\" href=\"#-13\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyMlRTQlQjglODAlRTMlODAlODElRTUlQjglQjglRTglQTclODElRTUlOTElQkQlRTQlQkIlQTQ=\">#</span>一、常见命令</h3>\n<table>\n<thead>\n<tr>\n<th>操作</th>\n<th>命令</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>进入目录</td>\n<td>cd</td>\n</tr>\n<tr>\n<td>显示当前目录</td>\n<td>pwd</td>\n</tr>\n<tr>\n<td>创建目录</td>\n<td>mkdir 目录名</td>\n</tr>\n<tr>\n<td>创建目录</td>\n<td>mkdir -p 目录路径</td>\n</tr>\n<tr>\n<td>我是谁</td>\n<td>whoami</td>\n</tr>\n<tr>\n<td>查看路径</td>\n<td>ls 路径</td>\n</tr>\n<tr>\n<td>查看路径</td>\n<td>ls -a 路径 (显示隐藏文件)</td>\n</tr>\n<tr>\n<td>查看路径</td>\n<td>ls -l 路径 (显示更多信息 (drwx:d 是否是目录，rw 是否可以读写，x 是否可以执行))</td>\n</tr>\n<tr>\n<td>查看路径</td>\n<td>ls -al 路径 (显示隐藏信息和详细信息)</td>\n</tr>\n<tr>\n<td>创建文件</td>\n<td>echo ‘1’ &gt; 文件路径 (并且把内容 &quot;1&quot; 写入文件)</td>\n</tr>\n<tr>\n<td>强制创建文件</td>\n<td>echo ‘1’ &gt;! 文件路径 (只能用在 linux, windows 出错) 强制重定向，覆盖原来有的内容</td>\n</tr>\n<tr>\n<td>追加文件内容</td>\n<td>echo ‘1’ &gt;&gt; 文件路径 (只能用在 linux, windows 出错)</td>\n</tr>\n<tr>\n<td>创建文件</td>\n<td>touch 文件名</td>\n</tr>\n<tr>\n<td>改变文件更新时间</td>\n<td>touch 文件名</td>\n</tr>\n<tr>\n<td>复制文件</td>\n<td>cp 源路径 目标路径 (可以覆盖原来有的文件)</td>\n</tr>\n<tr>\n<td>复制目录</td>\n<td>cp -r 源路径 目标路径</td>\n</tr>\n<tr>\n<td>移动节点</td>\n<td>mv 源路径 目标路径 (修改文件名)</td>\n</tr>\n<tr>\n<td>删除文件</td>\n<td>rm 文件路径</td>\n</tr>\n<tr>\n<td>强制删除文件</td>\n<td>rm -f 文件路径</td>\n</tr>\n<tr>\n<td>删除目录</td>\n<td>rm -r 目录路径</td>\n</tr>\n<tr>\n<td>强制删除目录</td>\n<td>rm -rf 目录路径</td>\n</tr>\n<tr>\n<td>查看目录结构</td>\n<td>tree (windows 不支持)</td>\n</tr>\n<tr>\n<td>建立软链接</td>\n<td>ln -s 真实文件 链接</td>\n</tr>\n<tr>\n<td>下载文件</td>\n<td>curl -L <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYmFpZHUuY29tLw==\">https://www.baidu.com (opens new window)</span> &gt; baidu.html</td>\n</tr>\n<tr>\n<td>拷贝网页</td>\n<td>wget -p -H -e robots=off <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYmFpZHUuY29tLw==\">https://www.baidu.com (opens new window)</span> (整个网页所有文件)</td>\n</tr>\n<tr>\n<td>磁盘占用</td>\n<td>df -kh</td>\n</tr>\n<tr>\n<td>当前目录大小</td>\n<td>du -sh .</td>\n</tr>\n<tr>\n<td>各文件大小</td>\n<td>du -h</td>\n</tr>\n<tr>\n<td>查看文件内容</td>\n<td>cat</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"-14\"><a class=\"anchor\" href=\"#-14\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyMlRTklOUMlODAlRTglQTYlODElRTYlQjMlQTglRTYlODQlOEYlRTclOUElODQlRTclODIlQjk=\">#</span>需要注意的点</h4>\n<ol>\n<li>各种符号代表的含义</li>\n</ol>\n<ul>\n<li><code>~</code>  : 用户目录：我的电脑上就是  <code>C:/Users/lih-y</code></li>\n<li><code>/</code>  : 根目录，一个  <code>/</code>  就是根目录，不管你有多少个硬盘，他会把所有硬盘联合起来当作一块</li>\n<li><code>.</code>  : 一个点表示当前目录，</li>\n<li><code>../</code>  : 两个点表示父目录</li>\n<li>TAB 键可以补全文件名或者目录</li>\n</ul>\n<ol>\n<li>绝对路径与相对路径</li>\n</ol>\n<ul>\n<li>如果一个路径是用  <code>/</code>  开始的，Windows 就从根目录开始找起 (绝对路径), 否则就从当前目录开始找 (相对路径).</li>\n</ul>\n<h3 id=\"-15\"><a class=\"anchor\" href=\"#-15\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyMlRTQlQkElOEMlRTMlODAlODElRTUlOTElQkQlRTQlQkIlQTQlRTglQTElOEMlRTYlOEElODAlRTUlQjclQTc=\">#</span>二、命令行技巧</h3>\n<h4 id=\"-16\"><a class=\"anchor\" href=\"#-16\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNfMS0lRTYlODklOTMlRTUlQkMlODAtZ2l0LWJhc2gtJUU4JTg3JUFBJUU1JThBJUE4JUU4JUJGJTkwJUU4JUExJThD\">#</span>1. 打开 Git Bash 自动运行</h4>\n<ol>\n<li>首先在命令行输入  <code>vi ~/.bashrc</code>  创建一下这个文件</li>\n<li>按  <code>i</code>  进入编辑模式编辑这个文件，内容为  <code>echo 'Hi'</code></li>\n<li>你也可以用命令行编辑文件  <code>echo &quot;echo 'hi'&quot; &gt;&gt; ~/.bashrc</code></li>\n<li>关闭退出 Git Bash, 然后打开 Git Bash, 是不是看到了 Hi, 这说明每次进入 Git Bash, 就会优先运行  <code>~/.bashrc</code>  里面的命令</li>\n<li>如果没有看到 Hi, 运行  <code>source ~/.bashrc</code>  , 作用是执行  <code>~/.bashrc</code></li>\n<li>重新编辑  <code>~/.bashrc</code>  , 内容改为  <code>cd ~/Desktop</code>  , 重启 Git Bash, 有没有发现默认就进入桌面目录了？</li>\n<li>你可以用  <code>~/.bashrc</code>  在进入 Git Bash 前执行任何命令，十分方便.</li>\n</ol>\n<h4 id=\"-17\"><a class=\"anchor\" href=\"#-17\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNfMi1hbGlhcy0lRTUlOTElQkQlRTQlQkIlQTQlRTglQTElOEMlRTclQkMlQTklRTUlODYlOTk=\">#</span>2.  <code>alias</code>  命令行缩写</h4>\n<ol>\n<li>\n<p>在  <code>~/.bashrc</code>  里新增一行  <code>alias f=&quot;echo 'frank is awesome'&quot;</code>  , 等于号两边不能有空格，你最好一个字都不要错.</p>\n</li>\n<li>\n<p>运行  <code>source ~/.bashrc</code>  , 作用是执行  <code>~/.bashrc</code></p>\n</li>\n<li>\n<p>运行  <code>f</code>  , 就会看到  <code>frank is awesome</code></p>\n</li>\n<li>\n<p>也就是说，现在  <code>f</code>  就是  <code>echo 'frank is awesome'</code>  的缩写了，利用这个技巧，我们可以把很多常见的命令缩写一下，比如:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">alias</span> ll=<span class=\"string\">&#x27;ls -l&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> .=<span class=\"string\">&#x27;../&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> ..=<span class=\"string\">&#x27;../../&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> ...=<span class=\"string\">&#x27;../../../&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">alias</span> gl=<span class=\"string\">&#x27;git pull&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> gaa=<span class=\"string\">&#x27;git add .&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> gcmsg=<span class=\"string\">&#x27;git commit -m&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> gcam=<span class=\"string\">&#x27;git commit -a -m&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> gp=<span class=\"string\">&#x27;git push&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> gco=<span class=\"string\">&#x27;git checkout&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> gm=<span class=\"string\">&#x27;git merge&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> gss=<span class=\"string\">&#x27;git status -s&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> glol=<span class=\"string\">&#x27;git log –graph –pretty = format:’%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset’ –abbrev-commit&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> grh=<span class=\"string\">&#x27;git reset HEAD&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> gba=<span class=\"string\">&#x27;git branch -a&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> gcf=<span class=\"string\">&#x27;git config –list&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> gcl=<span class=\"string\">&#x27;git clone –recursive&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> gd=<span class=\"string\">&#x27;git diff&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> ghh=<span class=\"string\">&#x27;git help&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">alias</span> ns=<span class=\"string\">&#x27;npm run serve&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> nb=<span class=\"string\">&#x27;npm run build&#x27;</span></span><br><span class=\"line\"><span class=\"built_in\">alias</span> nd=<span class=\"string\">&#x27;npm run dev&#x27;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>保存退出，然后运行  <code>source ~/.bashrc</code></p>\n<p>这样一来，你的 Git 操作就会简单很多:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gl</span><br><span class=\"line\">gaa</span><br><span class=\"line\">gcam <span class=\"string\">&#x27;msg&#x27;</span></span><br><span class=\"line\">gp</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h4 id=\"-18\"><a class=\"anchor\" href=\"#-18\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNfMy0lRTUlOTAlQUYlRTUlOEElQTglRTklOTclQUUlRTUlODAlOTklRTglQUYlQUQ=\">#</span>3. 启动问候语</h4>\n<p>设想一下：每次打开 Git Bash, 就会输出问候语，告诉你当前时间，今天天气状况，是不是感觉一天的心情都是棒棒哒.</p>\n<p>在命令行获取天气可以使用 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2NodWJpbi93dHRyLmlu\">chubin/wttr.in: The right way to check the weather (opens new window)</span> 这个库</p>\n<p>在  <code>~/.bashrc</code>  里新增以下代码:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">hello</span></span>() &#123;</span><br><span class=\"line\">  weather=$(curl wttr.in/?format=<span class=\"string\">&quot;%E6%82%A8%E7%8E%B0%E5%9C%A8%E7%9A%84%E4%BD%8D%E7%BD%AE%E5%9C%A8:%20%l,%20%E5%A4%A9%E6%B0%94%E4%B8%BA:%20%C,%20%E6%B8%A9%E5%BA%A6%E4%B8%BA:%20%t,%20%E6%B9%BF%E5%BA%A6%E4%B8%BA:%20%h,%20%E9%A3%8E%E5%8A%9B%E4%B8%BA:%20%w,%20%E9%99%8D%E6%B0%B4%E4%B8%BA:%20%p&amp;lang=zh&quot;</span> -#)</span><br><span class=\"line\">  me=<span class=\"string\">&quot;亲爱的 <span class=\"subst\">$(whoami)</span>,&quot;</span></span><br><span class=\"line\">  time=<span class=\"string\">&quot;今天是 <span class=\"subst\">$(date <span class=\"string\">&quot;+%F %T %A&quot;</span>)</span>,&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  arr=(<span class=\"string\">&#x27;Hi!&#x27;</span> <span class=\"variable\">$&#123;me&#125;</span> <span class=\"variable\">$&#123;time&#125;</span> <span class=\"variable\">$&#123;weather&#125;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">  i=0</span><br><span class=\"line\">  l=<span class=\"variable\">$&#123;#arr[*]&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">while</span> [ <span class=\"variable\">$i</span> -le <span class=\"variable\">$l</span> ]</span><br><span class=\"line\">  <span class=\"keyword\">do</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> [ <span class=\"variable\">$i</span> == <span class=\"variable\">$l</span> ]</span><br><span class=\"line\">    <span class=\"keyword\">then</span></span><br><span class=\"line\">      <span class=\"built_in\">echo</span> <span class=\"variable\">$&#123;arr[$i]&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">      <span class=\"built_in\">echo</span> -e <span class=\"string\">&quot;<span class=\"variable\">$&#123;arr[$i]&#125;</span> \\c&quot;</span></span><br><span class=\"line\">    <span class=\"keyword\">fi</span></span><br><span class=\"line\">    <span class=\"built_in\">let</span> <span class=\"string\">&quot;i++&quot;</span></span><br><span class=\"line\">    <span class=\"built_in\">sleep</span> 0.2</span><br><span class=\"line\">    <span class=\"built_in\">wait</span></span><br><span class=\"line\">  <span class=\"keyword\">done</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">hello</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"https://tszv.vercel.app/img/git/017.png\" alt=\"hello\"></p>\n<h3 id=\"-19\"><a class=\"anchor\" href=\"#-19\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyMlRTQlQjglODktJUU4JUE3JUEzJUU1JTg2JUIzLWJhc2hyYy0lRTYlOTYlODclRTQlQkIlQjYlRTYlQUYlOEYlRTYlQUMlQTElRTYlODklOTMlRTUlQkMlODAlRTclQkIlODglRTclQUIlQUYlRTklODMlQkQlRTklOUMlODAlRTglQTYlODEtc291cmNlLSVFNyU5QSU4NCVFOSU5NyVBRSVFOSVBMiU5OA==\">#</span>三。解决.bashrc 文件每次打开终端都需要 source 的问题</h3>\n<p>这个问题困扰我很久，我明明改了  <code>~/.bashrc</code>  文件，每次打开 Git Bash 都要手动输入  <code>source ~/.bashrc</code>  , 配置才会生效，很是头疼，于是我就研究了一下解决办法以及问题的原因是什么.</p>\n<h4 id=\"-20\"><a class=\"anchor\" href=\"#-20\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyMlRTglQTclQTMlRTUlODYlQjMlRTYlOTYlQjklRTYlQjMlOTU=\">#</span>解决方法</h4>\n<p><code>vi ~/.bash_profile</code>  在文件内部输入:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Loading .bashrc File</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"built_in\">test</span> -f ~/.bashrc; <span class=\"keyword\">then</span></span><br><span class=\"line\">  <span class=\"built_in\">source</span> ~/.bashrc</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure>\n<p>在  <code>.bash_profile</code>  文件中自动加载  <code>.bashrc</code>  文件.</p>\n<h2 id=\"-21\"><a class=\"anchor\" href=\"#-21\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNnaXQtYmFzaC0lRTUlQkYlQUIlRTYlOEQlQjclRTklOTQlQUU=\">#</span>Git-Bash 快捷键</h2>\n<h3 id=\"-22\"><a class=\"anchor\" href=\"#-22\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyMlRTUlOUYlQkElRTYlOUMlQUMlRTYlOTMlOEQlRTQlQkQlOUM=\">#</span>基本操作</h3>\n<table>\n<thead>\n<tr>\n<th>命令</th>\n<th>介绍</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Ctrl + Insert</td>\n<td>复制</td>\n</tr>\n<tr>\n<td>Shift + Insert</td>\n<td>黏贴</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"-23\"><a class=\"anchor\" href=\"#-23\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyMlRTYlOEUlQTclRTUlODglQjYlRTUlOTElQkQlRTQlQkIlQTQ=\">#</span>控制命令</h3>\n<table>\n<thead>\n<tr>\n<th>命令</th>\n<th>介绍</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Ctrl + l</td>\n<td>清屏</td>\n</tr>\n<tr>\n<td>Ctrl + o</td>\n<td>执行当前命令，并选择上一条命令</td>\n</tr>\n<tr>\n<td>Ctrl + s</td>\n<td>阻止屏幕输出</td>\n</tr>\n<tr>\n<td>Ctrl + q</td>\n<td>允许屏幕输出</td>\n</tr>\n<tr>\n<td>Ctrl + c</td>\n<td>终止命令</td>\n</tr>\n<tr>\n<td>Ctrl + z</td>\n<td>挂起命令</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"-24\"><a class=\"anchor\" href=\"#-24\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyMlRTclQkMlOTYlRTglQkUlOTElRTUlOTElQkQlRTQlQkIlQTQ=\">#</span>编辑命令</h3>\n<table>\n<thead>\n<tr>\n<th>命令</th>\n<th>介绍</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Ctrl + a</td>\n<td>移到命令行首</td>\n</tr>\n<tr>\n<td>Ctrl + e</td>\n<td>移到命令行尾</td>\n</tr>\n<tr>\n<td>Ctrl + f</td>\n<td>按字符前移 (右向)</td>\n</tr>\n<tr>\n<td>Ctrl + b</td>\n<td>按字符后移 (左向)</td>\n</tr>\n<tr>\n<td>Alt + f</td>\n<td>按单词前移 (右向)</td>\n</tr>\n<tr>\n<td>Alt + b</td>\n<td>按单词后移 (左向)</td>\n</tr>\n<tr>\n<td>Ctrl + xx</td>\n<td>在命令行首和光标之间移动</td>\n</tr>\n<tr>\n<td>Ctrl + u</td>\n<td>从光标处删除至命令行首</td>\n</tr>\n<tr>\n<td>Ctrl + k</td>\n<td>从光标处删除至命令行尾</td>\n</tr>\n<tr>\n<td>Ctrl + w</td>\n<td>从光标处删除至字首</td>\n</tr>\n<tr>\n<td>Alt + d</td>\n<td>从光标处删除至字尾</td>\n</tr>\n<tr>\n<td>Ctrl + d</td>\n<td>删除光标处的字符</td>\n</tr>\n<tr>\n<td>Ctrl + h</td>\n<td>删除光标前的字符</td>\n</tr>\n<tr>\n<td>Ctrl + y</td>\n<td>粘贴至光标后</td>\n</tr>\n<tr>\n<td>Alt + c</td>\n<td>从光标处更改为首字母大写的单词</td>\n</tr>\n<tr>\n<td>Alt + u</td>\n<td>从光标处更改为全部大写的单词</td>\n</tr>\n<tr>\n<td>Alt + l</td>\n<td>从光标处更改为全部小写的单词</td>\n</tr>\n<tr>\n<td>Ctrl + t</td>\n<td>交换光标处和之前的字符</td>\n</tr>\n<tr>\n<td>Alt + t</td>\n<td>交换光标处和之前的单词</td>\n</tr>\n<tr>\n<td>Alt + Backspace</td>\n<td>与 Ctrl + w 类似，分隔符有些差别</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"-25\"><a class=\"anchor\" href=\"#-25\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyMlRTklODclOEQlRTYlOTYlQjAlRTYlODklQTclRTglQTElOEMlRTUlOTElQkQlRTQlQkIlQTQ=\">#</span>重新执行命令</h3>\n<table>\n<thead>\n<tr>\n<th>命令</th>\n<th>介绍</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Ctrl + r</td>\n<td>逆向搜索命令历史</td>\n</tr>\n<tr>\n<td>Ctrl + g</td>\n<td>从历史搜索模式退出</td>\n</tr>\n<tr>\n<td>Ctrl + p</td>\n<td>历史中的上一条命令</td>\n</tr>\n<tr>\n<td>Ctrl + n</td>\n<td>历史中的下一条命令</td>\n</tr>\n<tr>\n<td>Alt + .</td>\n<td>使用上一条命令的最后一个参数</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"-26\"><a class=\"anchor\" href=\"#-26\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyMlRTUlOEYlODIlRTglODAlODMlRTglQjUlODQlRTYlOTYlOTk=\">#</span>参考资料</h2>\n<ul>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC81YWNiOGQ4Y2VmMzI=\">Window 平台 Git-Bash 的主题配置 - 简书 (opens new window)</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cDovL3d3dy5tYW5vbmdqYy5jb20vYXJ0aWNsZS83OTE0Ny5odG1s\">Git Bash 主题配置 - 码农教程 (opens new window)</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC9lZTQ0MmNiNGQ2YzI=\">Bash shell / Zsh 里修改前缀 (隐藏用户 @主机，添加 Git 分支名称) - 简书 (opens new window)</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC9jZTU3M2MxOGIyOTM=\">终端可以使用 emoji🖖🏻 表情作为提示词呢 - Coder 们，来搞一个花哨的终端吧！- 简书 (opens new window)</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC81MTAwODA4Nw==\">你不需要花哨的命令提示符 - 知乎 (opens new window)</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly9zZWdtZW50ZmF1bHQuY29tL2EvMTE5MDAwMDAxMzczNjcxMQ==\">Git Bash 命令行基础 - 马涛涛的博客 —— 前端的征途 - SegmentFault 思否 (opens new window)</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC9jNDk0NjAyNGI5NDY=\">解决.bashrc 文件每次打开终端都需要 source 的问题 - 简书 (opens new window)</span></li>\n<li><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cua2FuY2xvdWQuY24vYW1laGltZS9sYXJhdmVsLW5vdGUvNDcwOTk3\">Git Bash 使用技巧・Laravel 5.5 学习笔记・看云</span></li>\n</ul>\n",
            "tags": [
                "Git"
            ]
        },
        {
            "id": "https://zhihao-a.github.io/2024/03/02/Domain-adversarial-neural-networks-for-domain-generalizationwhen-it-works-and-how-to-improve/",
            "url": "https://zhihao-a.github.io/2024/03/02/Domain-adversarial-neural-networks-for-domain-generalizationwhen-it-works-and-how-to-improve/",
            "title": "Domain adversarial neural networks for domain generalizationwhen it works and how to improve",
            "date_published": "2024-03-02T09:11:08.000Z",
            "content_html": "<h2 id=\"摘要\"><a class=\"anchor\" href=\"#摘要\">#</a> 摘要</h2>\n<p>理论上，域自适应是一个已被充分研究的问题。此外，该理论在实践中得到了广泛的应用。特别是，我们注意到 BenDavid<span class=\"exturl\" data-url=\"aHR0cHM6Ly9pZWVleHBsb3JlLmllZWUub3JnL2RvY3VtZW50LzYyODc0MDI=\"> 等人给出的目标误差界和著名的域对齐算法</span>，<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYWxleGt1bGVzemEuY29tL3B1YnMvYWRhcHRfbWxqMTAucGRm\">2010a</span>，使用域对抗神经网络<span class=\"exturl\" data-url=\"aHR0cHM6Ly9wcm9jZWVkaW5ncy5tbHIucHJlc3MvdjM3L2dhbmluMTUuaHRtbA==\">（DANN）</span> 。最近，针对域泛化的相关问题提出了 DANN 的多种变体，但没有对原始激励界进行过多讨论。本文从这一角度研究了 DANN 在域泛化中的有效性。我们研究了 DANN 应用有意义的条件，并进一步考虑 DANN 作为训练过程中的一个动态过程。我们的研究表明，DANN 在领域泛化中的应用可能并不像看起来那么简单。为了解决这个问题，我们在域泛化的情况下设计了一个对 DANN 的算法扩展。实验验证了理论和算法的有效性。</p>\n<h2 id=\"引言\"><a class=\"anchor\" href=\"#引言\">#</a> 引言</h2>\n<p>普遍情况下，在机器学习中，假定用学习算法和训练集训练出的模型能够很好的表示测试集。也就是说，我们假设我们的训练数据与我们的测试数据遵循相同的分布。本文最感兴趣的是这个假设不成立的情况：我们考虑在存在多个领域的学习。我们将感兴趣的多域问题形式化为（在训练时间）我们观察到 k 个域称为源，它们的分布为ℙ1，ℙ2，…，在某个空间 X 上的ℙk。在测试时，我们在一个不同的分布在ℚ上的目标域上进行评估。所有这些特征分布都有（潜在的）不同的标记功能，我们的目标是学习目标上的标记功能。通常，我们假设在训练时对目标域的观察有一些限制。在文献中，大量的工作涉及领域适应（DA）问题，该问题假设可以访问来自ℚ的样本，但限制了对这些样本标签的访问。最近，也对域泛化（DG）问题进行了积极的研究，而不是假定绝对没有访问目标域。尽管有这些限制，但在这两种情况下，我们的目标是在源上训练，在目标上评估时表现良好。</p>\n<p>一种流行的 DA 方法是使用域对抗神经网络（DANN），最初由 Ganin 和兰皮斯基（2015）提出。直观地说，这种方法试图通过学习两者的特征表示来对齐源域和目标域，这两种特征表示是无法通过训练来区分两种分布的。非正式地说，这似乎是对地方检察官的明智做法。通过完成这种域对齐，当神经网络在测试时对目标域进行评估时，它仍然应该擅长于学习到的任务。虽然 DANN 最初是为 DA 提出的，但这种推理的采用促使了 DG 对该方法的调整（阿尔伯克基等人，2020 年；李等人，2018b，c；松村和原田，2020 年）。事实上，DG 的早期工作（Muandet et al.，2013）同样是受到了领域不可知的特征表示的目标的激励。</p>\n<p>本文需要关注的问题就是：<strong>在 DG 中使用 DANN 进行源对齐有正当的理由吗？</strong></p>\n<p>特别是，我们关注的是一个类似于 Ben-David 等人（2010a）提供的目标误差界限。为了回答这个问题，我们采用 al 伯克基等人（2020）<span class=\"exturl\" data-url=\"aHR0cHM6Ly9hcnhpdi5vcmcvYWJzLzE5MTEuMDA4MDQ=\">最近的一个理论建议</span>，该建议使用参考对象（即源的混合分布集合）来推导出域泛化设置中的目标误差界。在此框架的基础上，我们提供了两个重要考虑因素的答案：</p>\n<p><strong>1. 哪些额外的参考对象（除了混合分布的集合）满足在 DG 中用于推导目标误差边界的主要条件？</strong></p>\n<p><strong>2. 在训练过程中，目标误差界限如何表现为一个动态量？</strong></p>\n<h3 id=\"目标误差边界\"><a class=\"anchor\" href=\"#目标误差边界\">#</a> 目标误差边界</h3>\n<h4 id=\"设置\"><a class=\"anchor\" href=\"#设置\">#</a> 设置</h4>\n<p>对于一个二元假设 h，一个分布ℙ，在分布ℙ上的标签函数<em> f</em>，我们将在分布ℙ上的假设标签函数 h 的损失为</p>\n",
            "tags": [
                "文献笔记"
            ]
        },
        {
            "id": "https://zhihao-a.github.io/2024/03/02/Domain-Agnostic-Learning-with-Disentangled-Representations/",
            "url": "https://zhihao-a.github.io/2024/03/02/Domain-Agnostic-Learning-with-Disentangled-Representations/",
            "title": "Domain Agnostic Learning with Disentangled Representations",
            "date_published": "2024-03-02T09:09:05.000Z",
            "content_html": "",
            "tags": [
                "文献笔记"
            ]
        },
        {
            "id": "https://zhihao-a.github.io/2023/12/17/javaWeb%E5%85%A8%E6%A0%88/",
            "url": "https://zhihao-a.github.io/2023/12/17/javaWeb%E5%85%A8%E6%A0%88/",
            "title": "javaWeb全栈",
            "date_published": "2023-12-17T13:49:12.000Z",
            "content_html": "<h3 id=\"javaweb\"><a class=\"anchor\" href=\"#javaweb\">#</a> javaWeb</h3>\n<h4 id=\"junit单元测试\"><a class=\"anchor\" href=\"#junit单元测试\">#</a> Junit 单元测试</h4>\n<h5 id=\"test测试\"><a class=\"anchor\" href=\"#test测试\">#</a> test 测试</h5>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//test方法使用步骤</span></span><br><span class=\"line\"><span class=\"number\">1.</span>定义测试类（测试用例）</span><br><span class=\"line\">  建议：</span><br><span class=\"line\">      测试类名：被测试的类名Test   CalculatorTest</span><br><span class=\"line\">      包名：   XXX.XXX.test    cn.itcast.test</span><br><span class=\"line\"><span class=\"number\">2.</span>定义测试方法：可以独立运行</span><br><span class=\"line\">   建议：</span><br><span class=\"line\">       方法名：test+测试的方法名    testAdd（）</span><br><span class=\"line\">       返回值：<span class=\"keyword\">void</span></span><br><span class=\"line\">       参数列表：空参</span><br><span class=\"line\"> <span class=\"number\">3.</span>给方法加上Test注解（<span class=\"meta\">@Test</span>）</span><br><span class=\"line\"> <span class=\"number\">4.</span>导入Junit依赖的环境</span><br><span class=\"line\"> <span class=\"comment\">//判定结果</span></span><br><span class=\"line\">      红色：失败</span><br><span class=\"line\">      绿色：成功</span><br><span class=\"line\">      一般我们会使用断言操作来处理结果</span><br><span class=\"line\">         Assert.assertEquals(期望的结果，函数的结果)</span><br><span class=\"line\">  <span class=\"comment\">//补充：</span></span><br><span class=\"line\">      <span class=\"meta\">@Before</span></span><br><span class=\"line\">          修饰的方法会在测试方法之前被自动执行</span><br><span class=\"line\">      <span class=\"meta\">@After</span></span><br><span class=\"line\">          修饰的方法会在测试方法执行之后自动被执行</span><br></pre></td></tr></table></figure>\n<h4 id=\"反射\"><a class=\"anchor\" href=\"#反射\">#</a> 反射</h4>\n<h5 id=\"java类的存在形式\"><a class=\"anchor\" href=\"#java类的存在形式\">#</a> java 类的存在形式</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20210829191737025.png\" alt=\"image-20210829191737025\"></p>\n<h5 id=\"获得类的字节码文件的方法\"><a class=\"anchor\" href=\"#获得类的字节码文件的方法\">#</a> 获得类的字节码文件的方法</h5>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1.</span>class.forName(<span class=\"string\">&quot;全类名&quot;</span>)</span><br><span class=\"line\"><span class=\"number\">2.</span>类名.class   </span><br><span class=\"line\"><span class=\"number\">3.</span>对象.getClass()    </span><br><span class=\"line\"><span class=\"comment\">//结论</span></span><br><span class=\"line\">    同一个字节码文件（*.class）在一次程序运行过程中，只会被加载一次，不论通过哪一种方式获取的class对象都是同一个</span><br></pre></td></tr></table></figure>\n<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20210829194740660.png\" alt=\"image-20210829194740660\" style=\"zoom:80%;\" />\n<h5 id=\"class对象的功能\"><a class=\"anchor\" href=\"#class对象的功能\">#</a> class 对象的功能</h5>\n<p>获取功能：</p>\n<p>​    1. 获取成员变量  ：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Field[] getFields()    <span class=\"comment\">//  只能得到类的public修饰的成员变量名</span></span><br><span class=\"line\">Field <span class=\"title function_\">getField</span><span class=\"params\">(String name)</span></span><br><span class=\"line\">Field[] getDeclaredFields()</span><br><span class=\"line\">Field   <span class=\"title function_\">getDeclaredField</span><span class=\"params\">(String name)</span></span><br><span class=\"line\"> <span class=\"comment\">//成员变量对象的功能</span></span><br><span class=\"line\">   <span class=\"number\">1.</span>设置值</span><br><span class=\"line\">    <span class=\"keyword\">void</span> <span class=\"title function_\">set</span><span class=\"params\">(Object obj,object value)</span></span><br><span class=\"line\">   <span class=\"number\">2.</span>获取值</span><br><span class=\"line\">    get(Object obj)</span><br><span class=\"line\">   <span class=\"number\">3.</span>忽略访问权限修饰符的安全检查</span><br><span class=\"line\">     setAccessible(<span class=\"literal\">true</span>)   <span class=\"comment\">//暴力反射</span></span><br></pre></td></tr></table></figure>\n<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20210829200429277.png\" alt=\"image-20210829200429277\" style=\"zoom: 80%;\" />\n<p>2. 获取构造方法</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Constructor&lt;&gt;[] getConstructors()</span><br><span class=\"line\">Constructor&lt;&gt;    getConstructor()</span><br><span class=\"line\">Constructor&lt;&gt;[]  getDeclaredConstructors()</span><br><span class=\"line\">Constructor&lt;&gt;    getDeclaredConstructor()</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"comment\">//利用空参的构造函数进行对象的创造（简便）</span></span><br><span class=\"line\">    类对象.newInstance()  <span class=\"comment\">// 创建类对象</span></span><br></pre></td></tr></table></figure>\n<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20210829202041934.png\" alt=\"image-20210829202041934\" style=\"zoom:150%;\" />\n<p>3. 获取成员方法</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Method[] getMethods()</span><br><span class=\"line\">Method <span class=\"title function_\">getMethod</span><span class=\"params\">(String name)</span></span><br><span class=\"line\">Method[] getDeclaredMethods()</span><br><span class=\"line\">method <span class=\"title function_\">getDeclaredMethod</span><span class=\"params\">()</span></span><br></pre></td></tr></table></figure>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20210829203156133.png\" alt=\"image-20210829203156133\"></p>\n<p>4. 获取类名</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String  <span class=\"title function_\">getName</span><span class=\"params\">()</span></span><br><span class=\"line\">    </span><br></pre></td></tr></table></figure>\n<p>5. 通过反射的机制利用配置文件自己定义 “框架”</p>\n<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20210829210220503.png\" alt=\"image-20210829210220503\" style=\"zoom: 200%;\" />\n<h4 id=\"注解\"><a class=\"anchor\" href=\"#注解\">#</a> 注解</h4>\n<h5 id=\"概念\"><a class=\"anchor\" href=\"#概念\">#</a> 概念</h5>\n<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20210829213434456.png\" alt=\"image-20210829213434456\" style=\"zoom:200%;\" />\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//概念描述</span></span><br><span class=\"line\">   * JDK1<span class=\"number\">.5</span>之后的新特性</span><br><span class=\"line\">   * 说明程序的</span><br><span class=\"line\">   * 使用注解 ：@注解名称</span><br></pre></td></tr></table></figure>\n<h5 id=\"jdk中预定义的一些注解\"><a class=\"anchor\" href=\"#jdk中预定义的一些注解\">#</a> JDK 中预定义的一些注解</h5>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Override</span>     <span class=\"comment\">// 检测被该注解标注的方法是否是继承自父类（接口）的</span></span><br><span class=\"line\"><span class=\"meta\">@Deprecad</span>     <span class=\"comment\">// 该注解标注的内容，表示已过时</span></span><br><span class=\"line\"><span class=\"meta\">@SupperssWarning</span>    <span class=\"comment\">// 压制警告  一般传参数all</span></span><br><span class=\"line\">  </span><br></pre></td></tr></table></figure>\n<h5 id=\"自定义注解\"><a class=\"anchor\" href=\"#自定义注解\">#</a> 自定义注解</h5>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//格式</span></span><br><span class=\"line\">   <span class=\"number\">1.</span>元注解</span><br><span class=\"line\">   <span class=\"number\">2.</span><span class=\"keyword\">public</span> <span class=\"meta\">@interface</span> 注解名称&#123;&#125;</span><br><span class=\"line\"><span class=\"comment\">//本质</span></span><br><span class=\"line\">     <span class=\"comment\">//注解本质上就是一个接口，该接口默认继承Annotation接口</span></span><br><span class=\"line\">      * <span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">MyAnno</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">java</span>.lang.annotation.Annotation&#123;&#125;</span><br><span class=\"line\"><span class=\"comment\">//属性：接口中的抽象方法</span></span><br><span class=\"line\">    <span class=\"comment\">//要求</span></span><br><span class=\"line\">         <span class=\"number\">1.</span>属性的返回值类型有下列取值</span><br><span class=\"line\">             * 基本数据类型（<span class=\"type\">int</span> , <span class=\"type\">double</span>....）</span><br><span class=\"line\">             * String </span><br><span class=\"line\">             * 枚举</span><br><span class=\"line\">             * 注解</span><br><span class=\"line\">             * 以上类型的数组</span><br><span class=\"line\">         <span class=\"number\">2.</span>定义了属性，在使用时需要给属性赋值</span><br><span class=\"line\">             * 如果定义属性是使用<span class=\"keyword\">default</span>关键字给属性默认初始化值，则使用注解时，可以不进行属性的赋值</span><br><span class=\"line\">             * 如果只有一个属性需要赋值，并且属性的名称是value，则value可以省略，直接定义即可</span><br><span class=\"line\">             * 数组赋值时，使用&#123;&#125;包裹，如果数组只有一个值，则&#123;&#125;可以省略</span><br><span class=\"line\">  <span class=\"comment\">//自定义元注解</span></span><br><span class=\"line\">     元注解:用于描述注解的注解</span><br><span class=\"line\">     * <span class=\"meta\">@Target</span>:  描述注解能够作用的位置</span><br><span class=\"line\">         *ElementType取值：</span><br><span class=\"line\">              TYPE:可以坐用于类上</span><br><span class=\"line\">              METHOD:可以作用于方法上</span><br><span class=\"line\">              FIELD:可以坐用于成员变量上</span><br><span class=\"line\">     * <span class=\"meta\">@Retention</span> :描述注解被保留的阶段</span><br><span class=\"line\">           * <span class=\"meta\">@Retention(RetentionPolicy.RUNTIME)</span> :当前被描述的注解会保留到class字节码文件中，并被jvm读取到</span><br><span class=\"line\">     * <span class=\"meta\">@Documented</span>: 描述注解是否被抽取到api文档中</span><br><span class=\"line\">     * <span class=\"meta\">@Inherited</span>: 描述注解是否被子类自动继承</span><br></pre></td></tr></table></figure>\n<h5 id=\"在程序中使用解析注解\"><a class=\"anchor\" href=\"#在程序中使用解析注解\">#</a> 在程序中使用（解析）注解</h5>\n<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20210830215142345.png\" alt=\"image-20210830215142345\" style=\"zoom:200%;\" />\n<h4 id=\"mysql数据库\"><a class=\"anchor\" href=\"#mysql数据库\">#</a> mysql 数据库</h4>\n<h5 id=\"配置\"><a class=\"anchor\" href=\"#配置\">#</a> 配置</h5>\n<h6 id=\"mysql服务启动\"><a class=\"anchor\" href=\"#mysql服务启动\">#</a> mysql 服务启动</h6>\n<ul>\n<li>\n<p>手动</p>\n</li>\n<li>\n<p>cmd–&gt;services.msc  打开服务的窗口</p>\n</li>\n<li>\n<p>使用管理员打开 cmd</p>\n<ul>\n<li>\n<p>net start mysql :  启动 mysql 的服务</p>\n</li>\n<li>\n<p>net stop mysql： 关闭 mysql 服务</p>\n</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"mysql登录\"><a class=\"anchor\" href=\"#mysql登录\">#</a> mysql 登录</h6>\n<ul>\n<li>mysql -uroot  -p 密码</li>\n<li>mysql -h+ip 地址  -uroot   -p 连接目标的密码</li>\n<li>mysql   --host=ip   --user=root  --password = 密码 -P 端口号 (默认 3306)</li>\n</ul>\n<h6 id=\"mysql退出\"><a class=\"anchor\" href=\"#mysql退出\">#</a> mysql 退出</h6>\n<ul>\n<li>exit</li>\n<li>quit</li>\n</ul>\n<h5 id=\"sql通用语法\"><a class=\"anchor\" href=\"#sql通用语法\">#</a> sql 通用语法</h5>\n<h6 id=\"ddl操作数据库和表的部分\"><a class=\"anchor\" href=\"#ddl操作数据库和表的部分\">#</a> DDL（操作数据库和表的部分）</h6>\n<ul>\n<li>操作数据库</li>\n</ul>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#C(<span class=\"keyword\">create</span>):创建</span><br><span class=\"line\">    #创建数据库：</span><br><span class=\"line\">        <span class=\"keyword\">create</span> database 数据库名称;</span><br><span class=\"line\">     #创建数据库，判断不存在，再创建</span><br><span class=\"line\">        <span class=\"keyword\">create</span> database if <span class=\"keyword\">not</span> <span class=\"keyword\">exists</span> 数据库名称;</span><br><span class=\"line\">     #创建数据库，指定字符集</span><br><span class=\"line\">        <span class=\"keyword\">create</span> database 数据库名称 <span class=\"type\">character</span> <span class=\"keyword\">set</span> 字符集名称;</span><br><span class=\"line\">     #创建数据库，判断是否存在，并且指定字符集</span><br><span class=\"line\">        <span class=\"keyword\">create</span> database if <span class=\"keyword\">not</span> <span class=\"keyword\">exists</span> 数据库名称 <span class=\"type\">character</span> <span class=\"keyword\">set</span> 字符集名称;</span><br><span class=\"line\">#R(Retrieve):查询</span><br><span class=\"line\">      #查询所有数据库名称</span><br><span class=\"line\">        <span class=\"keyword\">show</span> databases;</span><br><span class=\"line\">      #查询某个数据库的字符集</span><br><span class=\"line\">        <span class=\"keyword\">show</span> <span class=\"keyword\">create</span> database 数据库名称;</span><br><span class=\"line\">       </span><br><span class=\"line\">#U(<span class=\"keyword\">Update</span>):修改</span><br><span class=\"line\">    # 修改数据库的字符集</span><br><span class=\"line\">       <span class=\"keyword\">alter</span> database 数据库名称 <span class=\"type\">character</span> <span class=\"keyword\">set</span> 字符集名称;</span><br><span class=\"line\">       </span><br><span class=\"line\">#D(<span class=\"keyword\">Delete</span>):删除</span><br><span class=\"line\">     # 删除数据库</span><br><span class=\"line\">       <span class=\"keyword\">drop</span> database  数据库名称;</span><br><span class=\"line\">      # 判断数据库存在，存在再删除</span><br><span class=\"line\">       <span class=\"keyword\">drop</span> database if <span class=\"keyword\">exists</span> 数据库名称;</span><br><span class=\"line\">#使用数据库</span><br><span class=\"line\">    # 查询当前正在使用的数据库名称</span><br><span class=\"line\">     <span class=\"keyword\">select</span> database();</span><br><span class=\"line\">    #使用数据库</span><br><span class=\"line\">     use 数据库名称;</span><br><span class=\"line\">#查看数据库中表的字符集</span><br><span class=\"line\">   <span class=\"keyword\">show</span> <span class=\"keyword\">table</span> status <span class=\"keyword\">from</span> 库名 <span class=\"keyword\">like</span>  表名;</span><br><span class=\"line\">#查看表中每一列的字符集</span><br><span class=\"line\">   <span class=\"keyword\">show</span> <span class=\"keyword\">full</span> columns <span class=\"keyword\">from</span> 表名;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>操作表</li>\n</ul>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#C(<span class=\"keyword\">create</span>)：创建</span><br><span class=\"line\">   <span class=\"keyword\">create</span> <span class=\"keyword\">table</span> 表名(</span><br><span class=\"line\">    列名<span class=\"number\">1</span>, 数据类型<span class=\"number\">1</span>,</span><br><span class=\"line\">    列名<span class=\"number\">2</span>, 数据类型<span class=\"number\">2</span>,</span><br><span class=\"line\">    列名<span class=\"number\">3</span>, 数据类型<span class=\"number\">3</span>,</span><br><span class=\"line\">     ...</span><br><span class=\"line\">   );</span><br><span class=\"line\">   #常用数据类型</span><br><span class=\"line\">    <span class=\"type\">int</span> : 整数类型</span><br><span class=\"line\">    <span class=\"keyword\">double</span> :小数类型</span><br><span class=\"line\">       score <span class=\"keyword\">double</span>(总位数，小数点后位数)</span><br><span class=\"line\">    <span class=\"type\">date</span> : 日期，只包含年月日，yyyy<span class=\"operator\">-</span>MM<span class=\"operator\">-</span>dd</span><br><span class=\"line\">    datetime: 日期，包含年月日时分秒 yyyy<span class=\"operator\">-</span>MM<span class=\"operator\">-</span>dd HH:mm:ss</span><br><span class=\"line\">    <span class=\"type\">timestamp</span>: 时间戳类型  yyyy<span class=\"operator\">-</span>MM<span class=\"operator\">-</span>dd HH:mm:ss  # 如果将来不给这个字段赋值或赋值为<span class=\"keyword\">null</span>，则默认使用系统时间，自动赋值</span><br><span class=\"line\">    <span class=\"type\">varchar</span>:字符串</span><br><span class=\"line\">       name <span class=\"type\">varchar</span>(最大字符数)</span><br><span class=\"line\">    #要复制一个已有表</span><br><span class=\"line\">     <span class=\"keyword\">create</span> <span class=\"keyword\">table</span> 表名 <span class=\"keyword\">like</span> 被赋值的表名;</span><br><span class=\"line\">#R(Retrieve):查询</span><br><span class=\"line\">    #展示所有表</span><br><span class=\"line\">      <span class=\"keyword\">show</span> tables;</span><br><span class=\"line\">    #显示指定表的结构</span><br><span class=\"line\">      <span class=\"keyword\">desc</span> 表名;</span><br><span class=\"line\">#U(<span class=\"keyword\">Update</span>):修改</span><br><span class=\"line\">  #修改表名</span><br><span class=\"line\">    <span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> 表名 rename <span class=\"keyword\">to</span> 新表名;</span><br><span class=\"line\">  #修改表的字符集</span><br><span class=\"line\">    <span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> 表名 <span class=\"type\">character</span> <span class=\"keyword\">set</span> 字符集名称;</span><br><span class=\"line\">  # 添加一列</span><br><span class=\"line\">    <span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> 表名 <span class=\"keyword\">add</span> 列名  数据类型;</span><br><span class=\"line\">  #修改名称,类型</span><br><span class=\"line\">    # 列名和数据类型一起更改</span><br><span class=\"line\">    <span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> 表名 change 列名 新列名 新数据类型;</span><br><span class=\"line\">    # 只修改数据类型</span><br><span class=\"line\">    <span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> 表名 modify 列名 新数据类型;</span><br><span class=\"line\">    #删除列</span><br><span class=\"line\">    <span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> 表名 <span class=\"keyword\">drop</span> 列名;</span><br><span class=\"line\">#D(<span class=\"keyword\">Delete</span>):删除</span><br><span class=\"line\">   #直接删除</span><br><span class=\"line\">    <span class=\"keyword\">drop</span> <span class=\"keyword\">table</span> 表名;</span><br><span class=\"line\">   #先判断，在进行删除</span><br><span class=\"line\">   <span class=\"keyword\">drop</span> <span class=\"keyword\">table</span> if <span class=\"keyword\">exists</span> 表名;</span><br><span class=\"line\">   </span><br><span class=\"line\">   </span><br></pre></td></tr></table></figure>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20210902215855727.png\" alt=\"image-20210902215855727\"></p>\n<h6 id=\"dml增删改表中的数据\"><a class=\"anchor\" href=\"#dml增删改表中的数据\">#</a> DML (增删改表中的数据)</h6>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#添加数据</span><br><span class=\"line\">  <span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> 表名 (列名<span class=\"number\">1</span>,列名<span class=\"number\">2</span>,列名<span class=\"number\">3.</span>..) <span class=\"keyword\">values</span> (值<span class=\"number\">1</span>,值<span class=\"number\">2</span>,值<span class=\"number\">3.</span>..);</span><br><span class=\"line\">  #注意</span><br><span class=\"line\">      # <span class=\"number\">1.</span>列名要保持一一对应</span><br><span class=\"line\">      # <span class=\"number\">2.</span>如果不写列名，则默认给所有列添加值</span><br><span class=\"line\">       <span class=\"keyword\">insert</span> <span class=\"keyword\">into</span> 表名 <span class=\"keyword\">values</span>(值<span class=\"number\">1</span>,值<span class=\"number\">2</span>,值<span class=\"number\">3.</span>..值n);</span><br><span class=\"line\">      # 除了数字类型，其他类型要用引号引起来（包括时间类型）</span><br><span class=\"line\">#删除数据</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> <span class=\"keyword\">from</span> 表名[<span class=\"keyword\">where</span> 条件];</span><br><span class=\"line\">    #注意</span><br><span class=\"line\">       # <span class=\"number\">1.</span>如果不加条件则删除所有记录</span><br><span class=\"line\">       # <span class=\"number\">2.</span>如果要删除所有记录有两种方法</span><br><span class=\"line\">          <span class=\"keyword\">delete</span> <span class=\"keyword\">from</span> 表名;  # 不推荐使用，因为操作次数过多，效率低</span><br><span class=\"line\">          <span class=\"keyword\">truncate</span> <span class=\"keyword\">table</span> 表名; # 推荐使用，效率更高，先删除表，在创建一个一样的表</span><br><span class=\"line\">#修改数据</span><br><span class=\"line\">     <span class=\"keyword\">update</span> 表名 <span class=\"keyword\">set</span> [列名<span class=\"operator\">=</span>值,...] <span class=\"keyword\">where</span> 条件</span><br><span class=\"line\">     #注意</span><br><span class=\"line\">        #如果不加条件的话，就修改所有行</span><br></pre></td></tr></table></figure>\n<h6 id=\"dql查询表\"><a class=\"anchor\" href=\"#dql查询表\">#</a> DQL (查询表)</h6>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#基础查询</span><br><span class=\"line\">    <span class=\"number\">1.</span>多个字段查询</span><br><span class=\"line\">      <span class=\"keyword\">select</span> 字段名<span class=\"number\">1</span>,字段名<span class=\"number\">2.</span>... <span class=\"keyword\">from</span> 表名;</span><br><span class=\"line\">      #注意:</span><br><span class=\"line\">          # 如果查询所有字段，则可以使用<span class=\"operator\">*</span>来代替</span><br><span class=\"line\">    <span class=\"number\">2.</span>去除重复行</span><br><span class=\"line\">     <span class=\"keyword\">select</span> <span class=\"keyword\">distinct</span>  字段<span class=\"number\">1</span>,字段<span class=\"number\">2.</span>.. <span class=\"keyword\">from</span> 表名;</span><br><span class=\"line\">    <span class=\"number\">3.</span>计算列</span><br><span class=\"line\">      #一般使用四则混合运算计算一些列的值(一般只会进行数值型数据的计算)</span><br><span class=\"line\">      # ifnull(表达式<span class=\"number\">1</span>，表达式<span class=\"number\">2</span>)</span><br><span class=\"line\">           表达式<span class=\"number\">1</span> :  需要判断是否是<span class=\"keyword\">null</span>的字段</span><br><span class=\"line\">           表达式<span class=\"number\">2</span> :  如果表达式<span class=\"number\">1</span>是<span class=\"keyword\">null</span>的话，就替代成该表达式的值;若不是，就仍然是原来的值</span><br><span class=\"line\">     <span class=\"number\">4.</span>起别名</span><br><span class=\"line\">       <span class=\"keyword\">select</span> id , name <span class=\"keyword\">as</span> mingzi <span class=\"keyword\">from</span> student   # 可以原查询的列名后面用<span class=\"keyword\">as</span>关键字修改</span><br><span class=\"line\">       <span class=\"keyword\">select</span> id ,name mingzi <span class=\"keyword\">from</span> student      # 可以在原查询的列名后面留有一个空格，然后进行修改</span><br><span class=\"line\">#条件查询</span><br><span class=\"line\">    #<span class=\"keyword\">where</span>后面跟条件</span><br><span class=\"line\">    #运算符</span><br><span class=\"line\">      <span class=\"operator\">=</span> <span class=\"operator\">!=</span> <span class=\"operator\">&lt;&gt;</span> <span class=\"operator\">&lt;</span> <span class=\"operator\">&gt;</span> <span class=\"operator\">=</span><span class=\"operator\">&lt;</span> <span class=\"operator\">&gt;=</span></span><br><span class=\"line\">      <span class=\"keyword\">in</span></span><br><span class=\"line\">      <span class=\"keyword\">between</span> </span><br><span class=\"line\">      <span class=\"keyword\">and</span>  <span class=\"operator\">&amp;&amp;</span></span><br><span class=\"line\">      <span class=\"keyword\">or</span> <span class=\"operator\">||</span></span><br><span class=\"line\">      <span class=\"keyword\">not</span> <span class=\"operator\">!</span></span><br><span class=\"line\">      <span class=\"keyword\">like</span>  #模糊查询</span><br><span class=\"line\">            #  _  : 表示单个任意字符</span><br><span class=\"line\">            #  <span class=\"operator\">%</span>  : 表示多个任意字符</span><br></pre></td></tr></table></figure>\n<ul>\n<li>排序查询</li>\n</ul>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">select</span> 字段名称 <span class=\"keyword\">from</span>  表名  <span class=\"keyword\">order</span> <span class=\"keyword\">by</span> 字段名称<span class=\"number\">1</span> 排序方式<span class=\"number\">1</span>(<span class=\"keyword\">asc</span> \\ <span class=\"keyword\">desc</span>) ,字段名称<span class=\"number\">2</span> 排序方式<span class=\"number\">2</span>(<span class=\"keyword\">asc</span> \\ <span class=\"keyword\">desc</span>);</span><br><span class=\"line\">#排序方式</span><br><span class=\"line\">  <span class=\"keyword\">asc</span>: 升序，默认的</span><br><span class=\"line\">  <span class=\"keyword\">desc</span>: 降序</span><br><span class=\"line\">#注意</span><br><span class=\"line\">   #如果有多个排序条件，则会优先比较前边的值，当前边值一样时，才会比较下一个</span><br><span class=\"line\">   </span><br></pre></td></tr></table></figure>\n<ul>\n<li>聚合查询</li>\n</ul>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#聚合函数</span><br><span class=\"line\">  <span class=\"number\">1.</span>count : 计算个数</span><br><span class=\"line\">  <span class=\"number\">2.</span>max: 计算最大值</span><br><span class=\"line\">  <span class=\"number\">3.</span>min: 计算最小值</span><br><span class=\"line\">  <span class=\"number\">4.</span>sum: 计算和</span><br><span class=\"line\">  <span class=\"number\">5.</span>avg: 计算平均值</span><br><span class=\"line\">#注意：聚合函数的计算，排除<span class=\"keyword\">null</span>的值</span><br><span class=\"line\">   <span class=\"keyword\">select</span> <span class=\"built_in\">count</span>(字段名称) <span class=\"keyword\">from</span>  表名; </span><br></pre></td></tr></table></figure>\n<ul>\n<li>分组查询</li>\n</ul>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#<span class=\"keyword\">group</span> <span class=\"keyword\">by</span> 字段</span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"keyword\">select</span> 分组字段<span class=\"operator\">|</span>聚合函数 <span class=\"keyword\">from</span> 表名 <span class=\"keyword\">group</span> <span class=\"keyword\">by</span> 分组字段;</span><br><span class=\"line\"></span><br><span class=\"line\"># 注意</span><br><span class=\"line\">     <span class=\"number\">1.</span>分组之后查询的字段：只能是分组字段和某些聚合函数</span><br><span class=\"line\">     <span class=\"number\">2.</span><span class=\"keyword\">where</span> 和 <span class=\"keyword\">having</span>的区别</span><br><span class=\"line\">        <span class=\"operator\">*</span> <span class=\"keyword\">where</span> 在分组之前限定，如果不满足条件，则不参与分组;<span class=\"keyword\">having</span> 在分组之后进行限定，如果不满足条件，则不会显示。</span><br><span class=\"line\">        <span class=\"operator\">*</span> <span class=\"keyword\">where</span> 后面不可以跟聚合函数</span><br><span class=\"line\"><span class=\"keyword\">select</span> 分组字段<span class=\"operator\">|</span>聚合函数 <span class=\"keyword\">from</span> 表名</span><br><span class=\"line\">                  <span class=\"keyword\">where</span> 条件（不能包含聚合函数）</span><br><span class=\"line\">                  <span class=\"keyword\">group</span> <span class=\"keyword\">by</span> 分组字段</span><br><span class=\"line\">                  <span class=\"keyword\">having</span> 条件 (可以包含聚合函数);</span><br></pre></td></tr></table></figure>\n<ul>\n<li>分页查询</li>\n</ul>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># limit 本页开始索引 , 每页查询的条数</span><br><span class=\"line\"># 公式：本页开始的索引 <span class=\"operator\">=</span> (当前页码<span class=\"number\">-1</span>)<span class=\"operator\">*</span>每页查询的条数</span><br><span class=\"line\">   <span class=\"keyword\">select</span> 字段名称 <span class=\"keyword\">from</span> 表名 limit 本页开始索引 , 每页查询的条数;</span><br><span class=\"line\"># 注意 :limit分页操作是mysql的一个“方言”</span><br></pre></td></tr></table></figure>\n<h6 id=\"约束\"><a class=\"anchor\" href=\"#约束\">#</a> 约束</h6>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#主键约束</span><br><span class=\"line\">     <span class=\"keyword\">primary</span> key</span><br><span class=\"line\">     #删除主键的方法</span><br><span class=\"line\">      <span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> 表名  <span class=\"keyword\">drop</span> <span class=\"keyword\">primary</span> key;</span><br><span class=\"line\">#非空约束</span><br><span class=\"line\">     <span class=\"keyword\">not</span> <span class=\"keyword\">null</span></span><br><span class=\"line\">#唯一约束</span><br><span class=\"line\">     <span class=\"keyword\">unique</span></span><br><span class=\"line\">#外键约束</span><br><span class=\"line\">     <span class=\"keyword\">foreign</span> key</span><br><span class=\"line\">      #在创建表时进行指定</span><br><span class=\"line\">        <span class=\"keyword\">create</span> <span class=\"keyword\">table</span> 表名 (</span><br><span class=\"line\">         id <span class=\"type\">int</span> <span class=\"keyword\">primary</span> key <span class=\"keyword\">not</span> <span class=\"keyword\">null</span>,</span><br><span class=\"line\">         name <span class=\"type\">varchar</span>(<span class=\"number\">10</span>) <span class=\"keyword\">not</span> <span class=\"keyword\">null</span>,</span><br><span class=\"line\">         id_m <span class=\"type\">int</span>,</span><br><span class=\"line\">         <span class=\"keyword\">constraint</span> 约束名称 <span class=\"keyword\">foreign</span> key (外键列名称) <span class=\"keyword\">references</span> 主表名称(主表列名称)</span><br><span class=\"line\">           </span><br><span class=\"line\">       ); </span><br><span class=\"line\">       </span><br><span class=\"line\">      #删除外键</span><br><span class=\"line\">        <span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> 表名 <span class=\"keyword\">drop</span> <span class=\"keyword\">foreign</span> key 约束名称;</span><br><span class=\"line\">      #创建表之后，添加外键</span><br><span class=\"line\">        <span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> 表名 <span class=\"keyword\">add</span> <span class=\"keyword\">constraint</span> 约束名称 <span class=\"keyword\">foreign</span> key (外键列名称) <span class=\"keyword\">references</span> 主表名称(主表列名称);</span><br><span class=\"line\"> #添加方式</span><br><span class=\"line\">    <span class=\"number\">1.</span>创建时添加</span><br><span class=\"line\">       <span class=\"keyword\">create</span> <span class=\"keyword\">table</span> 表名 (</span><br><span class=\"line\">         id <span class=\"type\">int</span> <span class=\"keyword\">primary</span> key <span class=\"keyword\">not</span> <span class=\"keyword\">null</span>,</span><br><span class=\"line\">         name <span class=\"type\">varchar</span>(<span class=\"number\">10</span>) <span class=\"keyword\">not</span> <span class=\"keyword\">null</span></span><br><span class=\"line\">           </span><br><span class=\"line\">       );</span><br><span class=\"line\">     <span class=\"number\">2.</span>后期修改</span><br><span class=\"line\">        <span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> 表名 modify id  <span class=\"type\">int</span> ; #主键用这种方法是删不掉的所以不用带上主键就是只删除了<span class=\"keyword\">not</span> <span class=\"keyword\">null</span>约束</span><br><span class=\"line\">        </span><br><span class=\"line\">#自动增长 auto_increment</span><br><span class=\"line\">  #给主键添加自动增长</span><br><span class=\"line\">     <span class=\"keyword\">create</span> <span class=\"keyword\">table</span> 表名(</span><br><span class=\"line\">      id <span class=\"type\">int</span> <span class=\"keyword\">primary</span> key auto_increment,  </span><br><span class=\"line\">       name <span class=\"type\">varchar</span>(<span class=\"number\">10</span>) <span class=\"keyword\">not</span> <span class=\"keyword\">null</span></span><br><span class=\"line\">     );</span><br><span class=\"line\">     </span><br><span class=\"line\">#级联操作</span><br><span class=\"line\">  <span class=\"keyword\">on</span> <span class=\"keyword\">update</span> cascade   #级联更新</span><br><span class=\"line\">  <span class=\"keyword\">on</span> <span class=\"keyword\">delete</span> cascade   #级联删除s</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">alter</span> <span class=\"keyword\">table</span> 表名 <span class=\"keyword\">add</span> <span class=\"keyword\">constraint</span> 约束名称 <span class=\"keyword\">foreign</span> key (外键列名称) <span class=\"keyword\">references</span> 主表名称(主表列名称) <span class=\"keyword\">on</span> <span class=\"keyword\">update</span>       cascade <span class=\"keyword\">on</span> <span class=\"keyword\">delete</span> cascade; </span><br></pre></td></tr></table></figure>\n<h5 id=\"数据库的备份\"><a class=\"anchor\" href=\"#数据库的备份\">#</a> 数据库的备份</h5>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#用代码备份</span><br><span class=\"line\">   mysql <span class=\"operator\">-</span>uroot <span class=\"operator\">-</span>p密码 数据库名称 <span class=\"operator\">&gt;</span> 存储路径</span><br><span class=\"line\">#数据库还原</span><br><span class=\"line\">    <span class=\"number\">1.</span>登录mysql</span><br><span class=\"line\">    <span class=\"number\">2.</span>创建数据库</span><br><span class=\"line\">    <span class=\"number\">3.</span>使用数据库</span><br><span class=\"line\">    <span class=\"number\">4.</span>还原数据库信息</span><br><span class=\"line\">       source 存储路径  #这样就将备份的数据库给还原了</span><br></pre></td></tr></table></figure>\n<h5 id=\"多表查询\"><a class=\"anchor\" href=\"#多表查询\">#</a> 多表查询</h5>\n<h6 id=\"内连接\"><a class=\"anchor\" href=\"#内连接\">#</a> 内连接</h6>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#隐式内连接</span><br><span class=\"line\">   <span class=\"keyword\">select</span> 查询字段名称列表  <span class=\"keyword\">from</span> 表<span class=\"number\">1</span>  ,表<span class=\"number\">2</span>  <span class=\"keyword\">where</span> 表<span class=\"number\">1.</span>外键<span class=\"operator\">=</span>表<span class=\"number\">2.</span>主键  </span><br><span class=\"line\"> </span><br><span class=\"line\">#显式内连接</span><br><span class=\"line\">    <span class=\"keyword\">select</span> 查询字段名称列表 <span class=\"keyword\">from</span> 表<span class=\"number\">1</span> [<span class=\"keyword\">inner</span>] <span class=\"keyword\">join</span> 表<span class=\"number\">2</span> <span class=\"keyword\">on</span> 表<span class=\"number\">1.</span>外键<span class=\"operator\">=</span>表<span class=\"number\">2.</span>主键 </span><br><span class=\"line\">    #其中innner可以省略不写</span><br></pre></td></tr></table></figure>\n<h6 id=\"外连接\"><a class=\"anchor\" href=\"#外连接\">#</a> 外连接</h6>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#左外连接 : 左边表的全部以及他们的交集</span><br><span class=\"line\">  <span class=\"keyword\">select</span> 查询字段名称列表 <span class=\"keyword\">from</span> 表<span class=\"number\">1</span> <span class=\"keyword\">left</span> [<span class=\"keyword\">outer</span>] <span class=\"keyword\">join</span> 表<span class=\"number\">2</span> <span class=\"keyword\">on</span> 表<span class=\"number\">1.</span>外键<span class=\"operator\">=</span>表<span class=\"number\">2.</span>主键  </span><br><span class=\"line\">#右外连接</span><br><span class=\"line\">  <span class=\"keyword\">select</span> 查询字段名称列表 <span class=\"keyword\">from</span> 表<span class=\"number\">1</span> <span class=\"keyword\">right</span> [<span class=\"keyword\">outer</span>] <span class=\"keyword\">join</span> 表<span class=\"number\">2</span> <span class=\"keyword\">on</span> 表<span class=\"number\">1.</span>外键<span class=\"operator\">=</span>表<span class=\"number\">2.</span>主键  </span><br><span class=\"line\">  # 其中<span class=\"keyword\">outer</span>可以省略不写</span><br></pre></td></tr></table></figure>\n<h6 id=\"子查询\"><a class=\"anchor\" href=\"#子查询\">#</a> 子查询</h6>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#<span class=\"number\">1.</span>子查询的结果是单行单列的</span><br><span class=\"line\">  #子查询结果可以作为值来用</span><br><span class=\"line\">#<span class=\"number\">2.</span>子查询的结果是多行单列的</span><br><span class=\"line\">  # 可以使用<span class=\"keyword\">in</span>关键进行使用</span><br><span class=\"line\">#<span class=\"number\">3.</span>子查询的结果是多行多列的</span><br><span class=\"line\">  #可以将子查询的结果作为一张虚拟表使用</span><br></pre></td></tr></table></figure>\n<h5 id=\"事务\"><a class=\"anchor\" href=\"#事务\">#</a> 事务</h5>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#事务:一系列操作组成一个整体，要么同时完成，要么同时取消</span><br><span class=\"line\">    #开启事务</span><br><span class=\"line\">      <span class=\"keyword\">start</span> transaction;</span><br><span class=\"line\">    #回滚（一回滚事务，就说明事务就已取消）</span><br><span class=\"line\">      <span class=\"keyword\">rollback</span>;</span><br><span class=\"line\">    #提交事务(一提交事务，说明事务就已完成)</span><br><span class=\"line\">      <span class=\"keyword\">commit</span>;  </span><br></pre></td></tr></table></figure>\n<h6 id=\"事务的两种提交方式\"><a class=\"anchor\" href=\"#事务的两种提交方式\">#</a> 事务的两种提交方式</h6>\n<ul>\n<li>自动提交\n<ul>\n<li>mysql 就是自动提交的</li>\n<li>一条 DML (增删改) 语句就会自动提交一次事务</li>\n<li>如果在运行 DML 语句前，开启事务，则默认为手动提交</li>\n</ul>\n</li>\n<li>手动提交\n<ul>\n<li>Oracle 数据库默认是手动提交的</li>\n<li>需要先开启事务，再提交</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"修改事务的默认提交方式\"><a class=\"anchor\" href=\"#修改事务的默认提交方式\">#</a> 修改事务的默认提交方式</h6>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 查看事务的默认提交方式</span><br><span class=\"line\">    <span class=\"keyword\">select</span> @<span class=\"variable\">@autocommit</span>;  <span class=\"comment\">-- 1 代表自动提交，  0 代表手动提交</span></span><br><span class=\"line\"># 修改默认提交方式</span><br><span class=\"line\">    <span class=\"keyword\">set</span> @<span class=\"variable\">@autocommit</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;  (修改后，需要重启才能显示出来)</span><br></pre></td></tr></table></figure>\n<h6 id=\"事务的四大特征\"><a class=\"anchor\" href=\"#事务的四大特征\">#</a> 事务的四大特征</h6>\n<ul>\n<li>原子性：是不可分割的最小操作单位，要么同时成功，要么同时失败</li>\n<li>持久性：当事务提交或回滚后，数据库会持久化的保存数据</li>\n<li>隔离性：多个事务之间，相互独立</li>\n<li>一致性：事务操作前后，数据的总量不变</li>\n</ul>\n<h6 id=\"事务的隔离级别\"><a class=\"anchor\" href=\"#事务的隔离级别\">#</a> 事务的隔离级别</h6>\n<ul>\n<li>概念：多个事务之间相互隔离的，相互独立的，但是如果多个事务操作同一批数据，则会引发一些问题，设置不同的隔离级别就可以解决这样的问题</li>\n<li>存在的问题\n<ul>\n<li>脏读：一个事务，读取到另一个事务中没有提交的数据</li>\n<li>不可重复读（虚读）：在同一个事务中，两次读取到的数据不一样</li>\n<li>幻读：一个事务操作（DML）数据表中的所有记录，另一个事务添加了一条数据，则第一个事务查询不到自己的修改</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"隔离级别\"><a class=\"anchor\" href=\"#隔离级别\">#</a> 隔离级别</h6>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1.</span>read uncommitted : 读未提交</span><br><span class=\"line\">   # 产生的问题：脏读、不可重复读、幻读</span><br><span class=\"line\"><span class=\"number\">2.</span>read committed : 读已提交 （Oracle默认）</span><br><span class=\"line\">   # 产生的问题：不可重复读、幻读</span><br><span class=\"line\"><span class=\"number\">3.</span>repeatable read : 可重复读（MySQL默认）</span><br><span class=\"line\">   # 产生的问题：幻读</span><br><span class=\"line\"><span class=\"number\">4.</span>serializable: 串行化</span><br><span class=\"line\">   # 可以解决所有问题</span><br><span class=\"line\">   </span><br><span class=\"line\">#注意：隔离级别从小到大安全性越来越高，但是效率越来越低</span><br><span class=\"line\">#数据库查询隔离级别</span><br><span class=\"line\">   <span class=\"keyword\">select</span> @<span class=\"variable\">@tx_isolation</span>;</span><br><span class=\"line\">#数据库设置隔离级别</span><br><span class=\"line\">   <span class=\"keyword\">set</span> <span class=\"keyword\">global</span> transaction isolation level 级别字符串;(修改后，需要重启才能显示出来)</span><br></pre></td></tr></table></figure>\n<h5 id=\"dcl管理用户授权\"><a class=\"anchor\" href=\"#dcl管理用户授权\">#</a> DCL（管理用户，授权）</h5>\n<h6 id=\"管理用户\"><a class=\"anchor\" href=\"#管理用户\">#</a> 管理用户</h6>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#添加用户</span><br><span class=\"line\">    <span class=\"keyword\">create</span> <span class=\"keyword\">user</span> <span class=\"string\">&#x27;用户名&#x27;</span>@<span class=\"string\">&#x27;主机名&#x27;</span> identified <span class=\"keyword\">by</span> <span class=\"string\">&#x27;密码&#x27;</span>;</span><br><span class=\"line\">#删除用户</span><br><span class=\"line\">    <span class=\"keyword\">drop</span> <span class=\"keyword\">user</span> <span class=\"string\">&#x27;用户名&#x27;</span>@<span class=\"string\">&#x27;主机名&#x27;</span>;</span><br><span class=\"line\">#修改用户密码：</span><br><span class=\"line\">     <span class=\"keyword\">update</span> <span class=\"keyword\">user</span> <span class=\"keyword\">set</span> password <span class=\"operator\">=</span> password(<span class=\"string\">&#x27;新密码&#x27;</span>) <span class=\"keyword\">where</span> <span class=\"keyword\">user</span> <span class=\"operator\">=</span> <span class=\"string\">&#x27;用户名&#x27;</span>;</span><br><span class=\"line\">     <span class=\"keyword\">set</span> password <span class=\"keyword\">for</span> <span class=\"string\">&#x27;用户名&#x27;</span>@<span class=\"string\">&#x27;主机名&#x27;</span> <span class=\"operator\">=</span> password(<span class=\"string\">&#x27;新密码&#x27;</span>);</span><br><span class=\"line\"> #mysql中忘记了root用户的密码</span><br><span class=\"line\">     <span class=\"number\">1.</span>cmd <span class=\"operator\">-</span><span class=\"operator\">&gt;</span>net stop mysql  停止mysql服务</span><br><span class=\"line\">     <span class=\"number\">2.</span>使用无验证方式启动mysql服务: mysqld <span class=\"comment\">--skip-grant-tables;</span></span><br><span class=\"line\">     <span class=\"number\">3.</span>打开新的窗口，直接输入mysql命令，就可登录成功</span><br><span class=\"line\">     <span class=\"number\">4.</span>use mysql;</span><br><span class=\"line\">     <span class=\"number\">5.</span><span class=\"keyword\">update</span> <span class=\"keyword\">user</span> <span class=\"keyword\">set</span> password <span class=\"operator\">=</span> password(&quot;你的新密码&quot;) <span class=\"keyword\">where</span> <span class=\"keyword\">user</span> <span class=\"operator\">=</span> <span class=\"string\">&#x27;root&#x27;</span>;</span><br><span class=\"line\">     <span class=\"number\">6.</span>关闭两个窗口</span><br><span class=\"line\">     <span class=\"number\">7.</span>打开任务管理器，手动结束mysql.exe 的进程</span><br><span class=\"line\">     <span class=\"number\">8.</span>启动mysql服务</span><br><span class=\"line\">     <span class=\"number\">9.</span>使用新密码登录mysql</span><br><span class=\"line\"> #查询用户</span><br><span class=\"line\">     <span class=\"number\">1.</span>切换到mysql数据库</span><br><span class=\"line\">       use mysql;</span><br><span class=\"line\">     <span class=\"number\">2.</span>查询<span class=\"keyword\">user</span>表</span><br><span class=\"line\">      <span class=\"keyword\">select</span> <span class=\"operator\">*</span> <span class=\"keyword\">from</span> <span class=\"keyword\">user</span>;</span><br><span class=\"line\">     # 通配符: <span class=\"operator\">%</span> 表示可以在任意主机上使用用户登录数据库</span><br></pre></td></tr></table></figure>\n<h6 id=\"权限管理\"><a class=\"anchor\" href=\"#权限管理\">#</a> 权限管理</h6>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#查询权限</span><br><span class=\"line\">   <span class=\"keyword\">show</span> grants <span class=\"keyword\">for</span> <span class=\"string\">&#x27;用户名&#x27;</span><span class=\"operator\">%</span><span class=\"string\">&#x27;主机名&#x27;</span>;</span><br><span class=\"line\">#授予权限</span><br><span class=\"line\">   <span class=\"keyword\">grant</span> 权限列表 <span class=\"keyword\">on</span> 数据库.表名 <span class=\"keyword\">to</span> <span class=\"string\">&#x27;用户名&#x27;</span><span class=\"operator\">%</span><span class=\"string\">&#x27;主机名&#x27;</span>;</span><br><span class=\"line\">   #授予全部权限在所有数据库的任意表上</span><br><span class=\"line\">   <span class=\"keyword\">grant</span> <span class=\"keyword\">all</span> <span class=\"keyword\">on</span> <span class=\"operator\">*</span>.<span class=\"operator\">*</span> <span class=\"keyword\">to</span> <span class=\"string\">&#x27;用户名&#x27;</span><span class=\"operator\">%</span><span class=\"string\">&#x27;主机名&#x27;</span>;</span><br><span class=\"line\">#撤销权限</span><br><span class=\"line\">    <span class=\"keyword\">revoke</span> 权限列表 <span class=\"keyword\">on</span> 数据库.表名 <span class=\"keyword\">from</span> <span class=\"string\">&#x27;用户名&#x27;</span><span class=\"operator\">%</span><span class=\"string\">&#x27;主机名&#x27;</span>;</span><br><span class=\"line\">    #撤销全部权限在所有数据库的任意表上</span><br><span class=\"line\">    <span class=\"keyword\">revoke</span> <span class=\"keyword\">all</span> <span class=\"keyword\">on</span> <span class=\"operator\">*</span>.<span class=\"operator\">*</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;用户名&#x27;</span><span class=\"operator\">%</span><span class=\"string\">&#x27;主机名&#x27;</span>;</span><br></pre></td></tr></table></figure>\n<h4 id=\"jdbc\"><a class=\"anchor\" href=\"#jdbc\">#</a> JDBC</h4>\n<h5 id=\"详解各个对象\"><a class=\"anchor\" href=\"#详解各个对象\">#</a> 详解各个对象</h5>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">DriverManager   <span class=\"comment\">// 驱动管理对象</span></span><br><span class=\"line\">   <span class=\"comment\">//功能  </span></span><br><span class=\"line\">       <span class=\"number\">1.</span>注册驱动：告诉程序该使用哪一个数据驱动jar包</span><br><span class=\"line\">        <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">registerDriver</span><span class=\"params\">(Driver driver)</span>  <span class=\"comment\">//注册给定的驱动程序</span></span><br><span class=\"line\">        <span class=\"comment\">//在代码中使用可直接注册驱动</span></span><br><span class=\"line\">                 Class.forName(<span class=\"string\">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class=\"line\">        <span class=\"comment\">//通过查看源代码发现：在com.mysql.jdbc.Driver类中存在静态代码块 </span></span><br><span class=\"line\">        <span class=\"number\">2.</span>获取数据库连接：</span><br><span class=\"line\">            <span class=\"keyword\">static</span> Connection <span class=\"title function_\">getConnection</span><span class=\"params\">(String url,String user,String password)</span>   <span class=\"comment\">//获取连接对象的方法</span></span><br><span class=\"line\">            url :    jdbc:mysql:<span class=\"comment\">//ip地址:端口号/数据库名称</span></span><br><span class=\"line\">     </span><br><span class=\"line\">Connection   <span class=\"comment\">//数据库连接对象</span></span><br><span class=\"line\">      <span class=\"comment\">//功能</span></span><br><span class=\"line\">           <span class=\"number\">1.</span>获取执行sql的对象</span><br><span class=\"line\">              Statement <span class=\"title function_\">createStatement</span><span class=\"params\">()</span>   <span class=\"comment\">// 调用该方法返回一个Statement 对象即为sql执行对象</span></span><br><span class=\"line\">           <span class=\"number\">2.</span>管理实务</span><br><span class=\"line\">              <span class=\"keyword\">void</span> <span class=\"title function_\">setAutoCommit</span><span class=\"params\">(<span class=\"type\">boolean</span> autoCommit)</span>  <span class=\"comment\">// 调用该方法设置参数为false，即开启事务</span></span><br><span class=\"line\">              <span class=\"keyword\">void</span> <span class=\"title function_\">commit</span><span class=\"params\">()</span>   <span class=\"comment\">//提交事务</span></span><br><span class=\"line\">              <span class=\"keyword\">void</span> <span class=\"title function_\">rollback</span><span class=\"params\">()</span>  <span class=\"comment\">//回滚事务</span></span><br><span class=\"line\">Statement     <span class=\"comment\">// 执行sql的对象</span></span><br><span class=\"line\">        <span class=\"comment\">// 执行sql</span></span><br><span class=\"line\">             <span class=\"number\">1.</span> <span class=\"type\">boolean</span> <span class=\"title function_\">execute</span><span class=\"params\">(String sql)</span>    <span class=\"comment\">//可以执行任意的sql  不常用</span></span><br><span class=\"line\">             <span class=\"number\">2.</span> <span class=\"type\">int</span> <span class=\"title function_\">executeUpdate</span><span class=\"params\">(String sql)</span>    <span class=\"comment\">// 执行DML(insert、update、delete) 语句 、DDL(create、alter、                                                      drop)语句</span></span><br><span class=\"line\">        <span class=\"comment\">// 返回值：影响的行数</span></span><br><span class=\"line\">             <span class=\"number\">3.</span>ResultSet <span class=\"title function_\">executeQuery</span><span class=\"params\">(String sql)</span>   <span class=\"comment\">// 执行DQL(select)查询语句</span></span><br><span class=\"line\">           </span><br><span class=\"line\">ResultSet  <span class=\"comment\">// 结果集对象,封装查询结果</span></span><br><span class=\"line\">      <span class=\"type\">boolean</span> <span class=\"title function_\">next</span><span class=\"params\">()</span>      <span class=\"comment\">//游标向下移动一行 返回boolean值，若此行有数据就返回true，若没有就返回false，利用此特点，可                             以借助循环进行多行输出</span></span><br><span class=\"line\">       getXXX()     <span class=\"comment\">//获取数据</span></span><br><span class=\"line\">           XXX:    代表数据类型 如：getInt() getString() getDouble()</span><br><span class=\"line\">           参数：  </span><br><span class=\"line\">                <span class=\"number\">1.</span><span class=\"type\">int</span>     <span class=\"comment\">// 代表列的编号，列从1开始  如：getString(1)</span></span><br><span class=\"line\">                <span class=\"number\">2.</span>String  <span class=\"comment\">// 代表列名称  如：getString(&quot;name&quot;)</span></span><br><span class=\"line\">PreparedStatement    <span class=\"comment\">//Statement 的子类 </span></span><br><span class=\"line\">          <span class=\"comment\">//功能</span></span><br><span class=\"line\">               <span class=\"comment\">//使用预编译sql语句执行sql，解决了静态sql的sql注入问题</span></span><br><span class=\"line\">          <span class=\"comment\">//预编译的sql：参数用?作为占位符</span></span><br><span class=\"line\">   <span class=\"comment\">//和获取Statement对象的方法不同</span></span><br><span class=\"line\">          <span class=\"number\">1.</span> connection.prepareStatement(String sql)    <span class=\"comment\">// 要将预编译sql(参数用?代替的sql)作为参数传入进去</span></span><br><span class=\"line\">          <span class=\"number\">2.</span> <span class=\"comment\">//给问号赋值</span></span><br><span class=\"line\">               setXXX(参数<span class=\"number\">1</span>,,参数<span class=\"number\">2</span>)</span><br><span class=\"line\">               * 参数<span class=\"number\">1</span>：?的位置编号(从<span class=\"number\">1</span>开始)</span><br><span class=\"line\">               * 参数<span class=\"number\">2</span>：?的值</span><br><span class=\"line\">          <span class=\"number\">3.</span>执行sql      </span><br><span class=\"line\">               <span class=\"title function_\">execute</span><span class=\"params\">()</span>    <span class=\"comment\">// prepareStatement 对象执行sql不用传入参数</span></span><br><span class=\"line\">               executeUpdate()</span><br><span class=\"line\">               executeQuery()</span><br><span class=\"line\">              </span><br></pre></td></tr></table></figure>\n<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20210901145955401.png\" alt=\"image-20210901145955401\" style=\"zoom: 67%;\" />\n<h5 id=\"数据库连接池技术\"><a class=\"anchor\" href=\"#数据库连接池技术\">#</a> 数据库连接池技术</h5>\n<p>概念：其实就是一个容器（集合），存放数据库连接的容器，当系统初始化好后，容器被创建，容器中会申请一些连接对象，当用户来访问数据时，从容器中获取连接对象，用户访问完成之后，会将连接对象归还给容器</p>\n<p>好处：</p>\n<pre><code>    1. 节约资源\n       2. 用户访问高效\n</code></pre>\n<h6 id=\"c3p0数据库连接池技术\"><a class=\"anchor\" href=\"#c3p0数据库连接池技术\">#</a> C3P0 数据库连接池技术</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//步骤</span></span><br><span class=\"line\">    <span class=\"number\">1.</span>导入jar包  c3p0-<span class=\"number\">0.9</span><span class=\"number\">.5</span><span class=\"number\">.2</span>.jar  mchange-comons-java-<span class=\"number\">0.2</span><span class=\"number\">.12</span>.jar  </span><br><span class=\"line\">        <span class=\"comment\">//不要忘记导入数据库驱动jar包</span></span><br><span class=\"line\">    <span class=\"number\">2.</span>定义配置文件</span><br><span class=\"line\">        <span class=\"comment\">//名称：c3p0.properties 或者 c3p0-config.xml</span></span><br><span class=\"line\">        <span class=\"comment\">//路径：直接放在src目录下即可，可以自动加载配置文件</span></span><br><span class=\"line\">    <span class=\"number\">3.</span>创建和新对象，数据库连接池对象 ComboPooleDataSource</span><br><span class=\"line\">    <span class=\"number\">4.</span>获取连接：getConnection()</span><br></pre></td></tr></table></figure>\n<ul>\n<li>C3P0 配置文件 c3p0-config.xml</li>\n</ul>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">c3p0-config</span>&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">default-config</span>&gt;</span>   </span><br><span class=\"line\"><span class=\"comment\">&lt;!--当连接池中的连接耗尽的时候c3p0一次同时获取的连接数。Default: 3 --&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;acquireIncrement&quot;</span>&gt;</span>3<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--定义在从数据库获取新连接失败后重复尝试的次数。Default: 30 --&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;acquireRetryAttempts&quot;</span>&gt;</span>30<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--两次连接中间隔时间，单位毫秒。Default: 1000 --&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;acquireRetryDelay&quot;</span>&gt;</span>1000<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--连接关闭时默认将所有未提交的操作回滚。Default: false --&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;autoCommitOnClose&quot;</span>&gt;</span>false<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--c3p0将建一张名为Test的空表，并使用其自带的查询语句进行测试。如果定义了这个参数那么   </span></span><br><span class=\"line\"><span class=\"comment\">属性preferredTestQuery将被忽略。你不能在这张Test表上进行任何操作，它将只供c3p0测试   </span></span><br><span class=\"line\"><span class=\"comment\">使用。Default: null--&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;automaticTestTable&quot;</span>&gt;</span>Test<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--获取连接失败将会引起所有等待连接池来获取连接的线程抛出异常。但是数据源仍有效   </span></span><br><span class=\"line\"><span class=\"comment\">保留，并在下次调用getConnection()的时候继续尝试获取连接。如果设为true，那么在尝试   </span></span><br><span class=\"line\"><span class=\"comment\">获取连接失败后该数据源将申明已断开并永久关闭。Default: false--&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;breakAfterAcquireFailure&quot;</span>&gt;</span>false<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--当连接池用完时客户端调用getConnection()后等待获取新连接的时间，超时后将抛出   </span></span><br><span class=\"line\"><span class=\"comment\">SQLException,如设为0则无限期等待。单位毫秒。Default: 0 --&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;checkoutTimeout&quot;</span>&gt;</span>100<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--通过实现ConnectionTester或QueryConnectionTester的类来测试连接。类名需制定全路径。   </span></span><br><span class=\"line\"><span class=\"comment\">Default: com.mchange.v2.c3p0.impl.DefaultConnectionTester--&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;connectionTesterClassName&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--指定c3p0 libraries的路径，如果（通常都是这样）在本地即可获得那么无需设置，默认null即可   </span></span><br><span class=\"line\"><span class=\"comment\">Default: null--&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;factoryClassLocation&quot;</span>&gt;</span>null<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--Strongly disrecommended. Setting this to true may lead to subtle and bizarre bugs.   </span></span><br><span class=\"line\"><span class=\"comment\">（文档原文）作者强烈建议不使用的一个属性--&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;forceIgnoreUnresolvedTransactions&quot;</span>&gt;</span>false<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--每60秒检查所有连接池中的空闲连接。Default: 0 --&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;idleConnectionTestPeriod&quot;</span>&gt;</span>60<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--初始化时获取三个连接，取值应在minPoolSize与maxPoolSize之间。Default: 3 --&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;initialPoolSize&quot;</span>&gt;</span>3<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--最大空闲时间,60秒内未使用则连接被丢弃。若为0则永不丢弃。Default: 0 --&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;maxIdleTime&quot;</span>&gt;</span>60<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--连接池中保留的最大连接数。Default: 15 --&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;maxPoolSize&quot;</span>&gt;</span>15<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--JDBC的标准参数，用以控制数据源内加载的PreparedStatements数量。但由于预缓存的statements   </span></span><br><span class=\"line\"><span class=\"comment\">属于单个connection而不是整个连接池。所以设置这个参数需要考虑到多方面的因素。   </span></span><br><span class=\"line\"><span class=\"comment\">如果maxStatements与maxStatementsPerConnection均为0，则缓存被关闭。Default: 0--&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;maxStatements&quot;</span>&gt;</span>100<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--maxStatementsPerConnection定义了连接池内单个连接所拥有的最大缓存statements数。Default: 0 --&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;maxStatementsPerConnection&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--c3p0是异步操作的，缓慢的JDBC操作通过帮助进程完成。扩展这些操作可以有效的提升性能   </span></span><br><span class=\"line\"><span class=\"comment\">通过多线程实现多个操作同时被执行。Default: 3--&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;numHelperThreads&quot;</span>&gt;</span>3<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--当用户调用getConnection()时使root用户成为去获取连接的用户。主要用于连接池连接非c3p0   </span></span><br><span class=\"line\"><span class=\"comment\">的数据源时。Default: null--&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;overrideDefaultUser&quot;</span>&gt;</span>root<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--与overrideDefaultUser参数对应使用的一个参数。Default: null--&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;overrideDefaultPassword&quot;</span>&gt;</span>password<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--密码。Default: null--&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;password&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--定义所有连接测试都执行的测试语句。在使用连接测试的情况下这个一显著提高测试速度。注意：   </span></span><br><span class=\"line\"><span class=\"comment\">测试的表必须在初始数据源的时候就存在。Default: null--&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;preferredTestQuery&quot;</span>&gt;</span>select id from test where id=1<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--用户修改系统配置参数执行前最多等待300秒。Default: 300 --&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;propertyCycle&quot;</span>&gt;</span>300<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--因性能消耗大请只在需要的时候使用它。如果设为true那么在每个connection提交的   </span></span><br><span class=\"line\"><span class=\"comment\">时候都将校验其有效性。建议使用idleConnectionTestPeriod或automaticTestTable   </span></span><br><span class=\"line\"><span class=\"comment\">等方法来提升连接测试的性能。Default: false --&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;testConnectionOnCheckout&quot;</span>&gt;</span>false<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--如果设为true那么在取得连接的同时将校验连接的有效性。Default: false --&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;testConnectionOnCheckin&quot;</span>&gt;</span>true<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--用户名。Default: null--&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;user&quot;</span>&gt;</span>root<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">&lt;!--早期的c3p0版本对JDBC接口采用动态反射代理。在早期版本用途广泛的情况下这个参数   </span></span><br><span class=\"line\"><span class=\"comment\">允许用户恢复到动态反射代理以解决不稳定的故障。最新的非反射代理更快并且已经开始   </span></span><br><span class=\"line\"><span class=\"comment\">广泛的被使用，所以这个参数未必有用。现在原先的动态反射与新的非反射代理同时受到   </span></span><br><span class=\"line\"><span class=\"comment\">支持，但今后可能的版本可能不支持动态反射代理。Default: false--&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;usesTraditionalReflectiveProxies&quot;</span>&gt;</span>false<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;automaticTestTable&quot;</span>&gt;</span>con_test<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;checkoutTimeout&quot;</span>&gt;</span>30000<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;idleConnectionTestPeriod&quot;</span>&gt;</span>30<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;initialPoolSize&quot;</span>&gt;</span>10<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;maxIdleTime&quot;</span>&gt;</span>30<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;maxPoolSize&quot;</span>&gt;</span>25<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;minPoolSize&quot;</span>&gt;</span>10<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;maxStatements&quot;</span>&gt;</span>0<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">user-overrides</span> <span class=\"attr\">user</span>=<span class=\"string\">&quot;swaldman&quot;</span>&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">user-overrides</span>&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">default-config</span>&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">named-config</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;dumbTestConfig&quot;</span>&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;maxStatements&quot;</span>&gt;</span>200<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">user-overrides</span> <span class=\"attr\">user</span>=<span class=\"string\">&quot;poop&quot;</span>&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">property</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;maxStatements&quot;</span>&gt;</span>300<span class=\"tag\">&lt;/<span class=\"name\">property</span>&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">user-overrides</span>&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">named-config</span>&gt;</span>   </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">c3p0-config</span>&gt;</span>  </span><br></pre></td></tr></table></figure>\n<ul>\n<li>C3P0 配置文件  c3p0.properties</li>\n</ul>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">#配置url</span></span><br><span class=\"line\"><span class=\"attr\">c3p0.jdbcUrl</span>=<span class=\"string\">jdbc:mysql://localhost:3306/tv_guide  </span></span><br><span class=\"line\"><span class=\"comment\">#配置驱动</span></span><br><span class=\"line\"><span class=\"attr\">c3p0.driverClass</span>=<span class=\"string\">com.mysql.jdbc.Driver  </span></span><br><span class=\"line\"><span class=\"comment\">#配置用户名</span></span><br><span class=\"line\"><span class=\"attr\">c3p0.user</span>=<span class=\"string\">root</span></span><br><span class=\"line\"><span class=\"comment\">#密码</span></span><br><span class=\"line\"><span class=\"attr\">c3p0.password</span>=<span class=\"string\">root  </span></span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"attr\">c3p0.acquireIncrement</span>=<span class=\"string\">3   </span></span><br><span class=\"line\"><span class=\"attr\">c3p0.idleConnectionTestPeriod</span>=<span class=\"string\">60 </span></span><br><span class=\"line\"><span class=\"comment\">#初始连接池中的连接对象的个数</span></span><br><span class=\"line\"><span class=\"attr\">c3p0.initialPoolSize</span>=<span class=\"string\">10  </span></span><br><span class=\"line\">   </span><br><span class=\"line\"><span class=\"attr\">c3p0.maxIdleTime</span>=<span class=\"string\">60  </span></span><br><span class=\"line\"><span class=\"comment\">#连接池中的连接对象的最大个数</span></span><br><span class=\"line\"><span class=\"attr\">c3p0.maxPoolSize</span>=<span class=\"string\">20   </span></span><br><span class=\"line\"><span class=\"attr\">c3p0.maxStatements</span>=<span class=\"string\">100 </span></span><br><span class=\"line\"><span class=\"comment\">#连接池中的连接对象的最小个数</span></span><br><span class=\"line\"><span class=\"attr\">c3p0.minPoolSize</span>=<span class=\"string\">5    </span></span><br><span class=\"line\"> </span><br></pre></td></tr></table></figure>\n<h6 id=\"druid数据库连接池技术\"><a class=\"anchor\" href=\"#druid数据库连接池技术\">#</a> Druid 数据库连接池技术</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1.</span>导入jar包  c3p0-<span class=\"number\">0.9</span><span class=\"number\">.5</span><span class=\"number\">.2</span>.jar  mchange-comons-java-<span class=\"number\">0.2</span><span class=\"number\">.12</span>.jar  </span><br><span class=\"line\">       <span class=\"comment\">//不要忘记导入数据库驱动jar包</span></span><br><span class=\"line\">   <span class=\"number\">2.</span>定义配置文件</span><br><span class=\"line\">       <span class=\"comment\">//名称：任意.properties</span></span><br><span class=\"line\">       <span class=\"comment\">//路径：可以放在任意目录下</span></span><br><span class=\"line\">   <span class=\"number\">3.</span>加载配置文件</span><br><span class=\"line\">         <span class=\"type\">properties</span>  <span class=\"variable\">pro</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">properties</span>()</span><br><span class=\"line\">         pro.load(任意类.class.getClassLoader().getResourceAsStream(<span class=\"string\">&quot;配置文件名称加后缀&quot;</span>))</span><br><span class=\"line\">   <span class=\"number\">3.</span>创建和新对象，数据库连接池对象 DruidDataSourceFactory.createDataSource(pro)</span><br><span class=\"line\">   <span class=\"number\">4.</span>获取连接：getConnection()</span><br></pre></td></tr></table></figure>\n<ul>\n<li>Druid  properties 详细配置文件</li>\n</ul>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#驱动加载</span></span><br><span class=\"line\"><span class=\"attr\">driverClassName</span>=<span class=\"string\">com.mysql.cj.jdbc.Driver</span></span><br><span class=\"line\"><span class=\"attr\">注册驱动</span></span><br><span class=\"line\"><span class=\"attr\">url</span>=<span class=\"string\">jdbc:mysql://127.0.0.1:3306/student?characterEncoding=utf-8</span></span><br><span class=\"line\"><span class=\"comment\">#连接数据库的用户名</span></span><br><span class=\"line\"><span class=\"attr\">username</span>=<span class=\"string\">root</span></span><br><span class=\"line\"><span class=\"comment\">#连接数据库的密码</span></span><br><span class=\"line\"><span class=\"attr\">password</span>=<span class=\"string\">password</span></span><br><span class=\"line\"><span class=\"comment\">#属性类型的字符串，通过别名的方式配置扩展插件， 监控统计用的stat 日志用log4j 防御sql注入:wall</span></span><br><span class=\"line\"><span class=\"attr\">filters</span>=<span class=\"string\">stat</span></span><br><span class=\"line\"><span class=\"comment\">#初始化时池中建立的物理连接个数。</span></span><br><span class=\"line\"><span class=\"attr\">initialSize</span>=<span class=\"string\">2</span></span><br><span class=\"line\"><span class=\"comment\">#最大的可活跃的连接池数量</span></span><br><span class=\"line\"><span class=\"attr\">maxActive</span>=<span class=\"string\">300</span></span><br><span class=\"line\"><span class=\"comment\">#获取连接时最大等待时间，单位毫秒，超过连接就会失效。配置了maxWait之后，缺省启用公平锁，并发效率会有所下降， 如果需要可以通过配置useUnfairLock属性为true使用非公平锁。</span></span><br><span class=\"line\"><span class=\"attr\">maxWait</span>=<span class=\"string\">60000</span></span><br><span class=\"line\"><span class=\"comment\">#连接回收器的运行周期时间，时间到了清理池中空闲的连接，testWhileIdle根据这个判断</span></span><br><span class=\"line\"><span class=\"attr\">timeBetweenEvictionRunsMillis</span>=<span class=\"string\">60000</span></span><br><span class=\"line\"><span class=\"attr\">minEvictableIdleTimeMillis</span>=<span class=\"string\">300000</span></span><br><span class=\"line\"><span class=\"comment\">#用来检测连接是否有效的sql，要求是一个查询语句。</span></span><br><span class=\"line\"><span class=\"attr\">validationQuery</span>=<span class=\"string\">SELECT 1</span></span><br><span class=\"line\"><span class=\"comment\">#建议配置为true，不影响性能，并且保证安全性。 申请连接的时候检测，如果空闲时间大于timeBetweenEvictionRunsMillis， 执行validationQuery检测连接是否有效。</span></span><br><span class=\"line\"><span class=\"attr\">testWhileIdle</span>=<span class=\"string\">true</span></span><br><span class=\"line\"><span class=\"comment\">#申请连接时执行validationQuery检测连接是否有效，做了这个配置会降低性能。设置为false</span></span><br><span class=\"line\"><span class=\"attr\">testOnBorrow</span>=<span class=\"string\">false</span></span><br><span class=\"line\"><span class=\"comment\">#归还连接时执行validationQuery检测连接是否有效，做了这个配置会降低性能,设置为flase</span></span><br><span class=\"line\"><span class=\"attr\">testOnReturn</span>=<span class=\"string\">false</span></span><br><span class=\"line\"><span class=\"comment\">#是否缓存preparedStatement，也就是PSCache。</span></span><br><span class=\"line\"><span class=\"attr\">poolPreparedStatements</span>=<span class=\"string\">false</span></span><br><span class=\"line\"><span class=\"comment\">#池中能够缓冲的preparedStatements语句数量</span></span><br><span class=\"line\"><span class=\"attr\">maxPoolPreparedStatementPerConnectionSize</span>=<span class=\"string\">200</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h6 id=\"配置文件xml\"><a class=\"anchor\" href=\"#配置文件xml\">#</a> 配置文件（xml）</h6>\n<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20210902095948070.png\" alt=\"image-20210902095948070\" style=\"zoom:150%;\" />\n<h6 id=\"spring-框架jdbctemplate\"><a class=\"anchor\" href=\"#spring-框架jdbctemplate\">#</a> Spring 框架 JDBCTemplate</h6>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Spring 框架对JDBC的简单封装，提供了一个JDBCTemplate对象简化JDBC的开发</span></span><br><span class=\"line\">  <span class=\"comment\">//步骤</span></span><br><span class=\"line\">      <span class=\"number\">1.</span>导入jar包（全部导入）</span><br><span class=\"line\">      <span class=\"number\">2.</span>创建JdbcTemplate对象，依赖于数据源对象DataSource</span><br><span class=\"line\">          <span class=\"type\">JdbcTemplate</span> <span class=\"variable\">template</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">JdbcTemplate</span>(DataSource对象)</span><br><span class=\"line\">      <span class=\"number\">3.</span>调用JdbcTemplate的方法来完成CRUD操作</span><br><span class=\"line\">          update()   <span class=\"comment\">//执行DML语句 ，增删改</span></span><br><span class=\"line\">          queryForMap()   <span class=\"comment\">//将查询结果封装为map集合，列名作为key，值作为value，将这条记录封装为map集合，整个方法查询的                             结果集长度只能是1</span></span><br><span class=\"line\">          queryForList()   <span class=\"comment\">//将查询结果封装为List集合，将每一条记录封装为一个map集合，再讲map集合封装到List集合中</span></span><br><span class=\"line\">          query()         <span class=\"comment\">// 将结果封装为javaBean对象</span></span><br><span class=\"line\">          queryForObject()  <span class=\"comment\">//将查询结果封装为指定的对象，一般用于聚合函数的查询</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>jar 包</li>\n</ul>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20210902125718606.png\" alt=\"image-20210902125718606\"></p>\n<h3 id=\"form表单\"><a class=\"anchor\" href=\"#form表单\">#</a> form 表单</h3>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20210904185501785.png\" alt=\"image-20210904185501785\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20210904194445664.png\" alt=\"image-20210904194445664\"></p>\n<h3 id=\"xml\"><a class=\"anchor\" href=\"#xml\">#</a> XML</h3>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?xml version = &#x27;1.0&#x27; ?&gt;</span>     <span class=\"comment\">&lt;!--一个XML文件第一行必须要有一个文档声明，而且必须顶行写--&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--</span></span><br><span class=\"line\"><span class=\"comment\">   1.version :必须的属性，版本号</span></span><br><span class=\"line\"><span class=\"comment\">   2.encoding 编码格式，告知解析引擎当前文档使用的字符集，默认值：ISO-8859-1</span></span><br><span class=\"line\"><span class=\"comment\">   3.standalone:  是否独立、不依赖与其他文件（yes\\no）</span></span><br><span class=\"line\"><span class=\"comment\"> --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">users</span>&gt;</span>                       // 一个XML文件中有且仅有一个根目录</span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">user</span> <span class=\"attr\">id</span> =<span class=\"string\">&#x27;1&#x27;</span>&gt;</span>         //属性值要用引号括起来，单引号或者双引号都可以</span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>张三<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">age</span>&gt;</span>23<span class=\"tag\">&lt;/<span class=\"name\">age</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">gender</span>&gt;</span>male<span class=\"tag\">&lt;/<span class=\"name\">gender</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">user</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">user</span> <span class=\"attr\">id</span> =<span class=\"string\">&quot;2&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">name</span>&gt;</span>张三<span class=\"tag\">&lt;/<span class=\"name\">name</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">age</span>&gt;</span>23<span class=\"tag\">&lt;/<span class=\"name\">age</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">gender</span>&gt;</span>male<span class=\"tag\">&lt;/<span class=\"name\">gender</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">user</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">users</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!--CDATA区：就是展示一些特殊字符（需要进行转义才能展示）--&gt;</span> </span><br><span class=\"line\"> &lt;![CDATA[ 你所要展示的特殊字符]]&gt;</span><br></pre></td></tr></table></figure>\n<h3 id=\"bootstrap\"><a class=\"anchor\" href=\"#bootstrap\">#</a> Bootstrap</h3>\n<h5 id=\"1下载\"><a class=\"anchor\" href=\"#1下载\">#</a> 1. 下载</h5>\n<h5 id=\"2引入\"><a class=\"anchor\" href=\"#2引入\">#</a> 2. 引入</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20210907222342824.png\" alt=\"image-20210907222342824\"></p>\n<h5 id=\"3使用\"><a class=\"anchor\" href=\"#3使用\">#</a> 3. 使用</h5>\n<h6 id=\"响应式\"><a class=\"anchor\" href=\"#响应式\">#</a> 响应式</h6>\n<p>同一套页面可以兼容不同分辨率的设备</p>\n<p>实现：依赖于栅格系统：将一行平均分成 12 个格子，可以指定元素占几个格子</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--</span></span><br><span class=\"line\"><span class=\"comment\">   步骤</span></span><br><span class=\"line\"><span class=\"comment\">       1. 定义容器，相当于之前的table</span></span><br><span class=\"line\"><span class=\"comment\">       2. 定义行，相当于之前的tr</span></span><br><span class=\"line\"><span class=\"comment\">       3. 定义元素，指定该元素在不同设备上，所占的格子数目，样式：col-设备代号-格子数目</span></span><br><span class=\"line\"><span class=\"comment\">          设备代号：</span></span><br><span class=\"line\"><span class=\"comment\">                </span></span><br><span class=\"line\"><span class=\"comment\">--&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"tomcat\"><a class=\"anchor\" href=\"#tomcat\">#</a> Tomcat</h3>\n<p>web 服务器软件</p>\n<h4 id=\"使用步骤\"><a class=\"anchor\" href=\"#使用步骤\">#</a> 使用步骤</h4>\n<ol>\n<li>\n<p>下载  ：<span class=\"exturl\" data-url=\"aHR0cHM6Ly90b21jYXQuYXBhY2hlLm9yZy8=\">地址</span></p>\n</li>\n<li>\n<p>安装：解压压缩包即可</p>\n<ul>\n<li>注意：安装目录建议不要有中文和空格</li>\n<li>文件目录解析</li>\n</ul>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20210908143957972.png\" alt=\"image-20210908143957972\"></p>\n</li>\n<li>\n<p>卸载：删除目录就行了</p>\n</li>\n<li>\n<p>启动：</p>\n<pre><code>* 双击运行文件bin/startup.bat即可\n* 访问：浏览器输入：http://localhost:8080    访问自己\n* http://别人的IP：8080        访问别人\n</code></pre>\n<ul>\n<li>\n<p>可能会遇到的问题</p>\n<ul>\n<li>\n<p>黑窗口一闪而过<br>\n *  原因：没有正确配置 JAVA_HOME 环境变量<br>\n *  解决方案：正确配置 JAVA_HOME 环境变量</p>\n</li>\n<li>\n<p>启动报错</p>\n<ul>\n<li>\n<p>暴力解决方案：找到占用的端口号，并且找到对应的进程，杀死该进程</p>\n<p>​       cmd—&gt;netstat   -ano 查看端口号占用情况，并找到对应的进程，然后再任务管理器汇总结束进程</p>\n</li>\n<li>\n<p>温柔解决方案：修改自身的端口号</p>\n<pre><code>* 在conf/server.xml   中找到配置端口的地方进行配置\n* 一般会将Tomcat的默认端口号修改为80,80端口号是http协议的默认端口号，可以在访问的时候不用输入端口号\n</code></pre>\n</li>\n</ul>\n</li>\n</ul>\n<p>​</p>\n</li>\n</ul>\n</li>\n<li>\n<p>关闭</p>\n<ul>\n<li>正常关闭<br>\n *  利用文件 bin/shutdown.bat 进行关闭<br>\n *  在启动页面 CTR + C 进行关闭\n<ul>\n<li>强制关闭</li>\n</ul>\n</li>\n</ul>\n<p>​                            直接关闭启动窗口</p>\n</li>\n<li>\n<p>配置</p>\n<ul>\n<li>\n<p>部署项目的方式</p>\n<ul>\n<li>\n<p>直接将项目放到 webapps 目录下即可</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//1.直接复制   /hello    项目的访问目录====虚拟目录</span></span><br><span class=\"line\"><span class=\"comment\">//2.简化部署：</span></span><br><span class=\"line\">          <span class=\"comment\">// 讲项目打成一个war包，再将war包复制到webapps目录下，war包会自动解压，删除war包也会自动从webapps目录中删除项目</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>配置 conf/server.xml 文件</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--</span></span><br><span class=\"line\"><span class=\"comment\">在&lt;Host&gt;标签中配置&lt;Context docBase = &quot;D:\\hello&quot; path = &quot;\\hehe&quot;/&gt;</span></span><br><span class=\"line\"><span class=\"comment\">--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Context</span> <span class=\"attr\">docBase</span> = <span class=\"string\">&quot;D:\\hello&quot;</span> <span class=\"attr\">path</span> = <span class=\"string\">&quot;\\hehe&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--</span></span><br><span class=\"line\"><span class=\"comment\">   docBase:  项目存放的路径</span></span><br><span class=\"line\"><span class=\"comment\">   path:      虚拟目录</span></span><br><span class=\"line\"><span class=\"comment\">--&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>在 conf/Catalina/locahost 创建任意名字的 xml 文件，在文件中编写</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--</span></span><br><span class=\"line\"><span class=\"comment\">    1. 在指定的目录中创建任意名字的xml配置文件</span></span><br><span class=\"line\"><span class=\"comment\">    2. 在创建的xml文件中配置&lt;Context docBase = &quot;D:\\hello&quot;/&gt;</span></span><br><span class=\"line\"><span class=\"comment\">    3.虚拟目录就是xml文件的名称</span></span><br><span class=\"line\"><span class=\"comment\">--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Context</span> <span class=\"attr\">docBase</span> = <span class=\"string\">&quot;D:\\hello&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<p>​</p>\n<h4 id=\"servletserver-applet\"><a class=\"anchor\" href=\"#servletserver-applet\">#</a> Servlet：server   applet</h4>\n<ul>\n<li>\n<p>概念：运行在服务器端的小程序</p>\n<ul>\n<li>\n<p>Servlet 就是一个接口，定义了 java 类被浏览器访问到（Tomcat 识别）的规则</p>\n</li>\n<li>\n<p>将来我们自己定义一个类，实现 Servlet 接口，复写方法</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//1.创建JavaEE项目</span></span><br><span class=\"line\"><span class=\"comment\">//2.定义一个类，实现Servlet接口</span></span><br><span class=\"line\">     <span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Servletdemo1</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">Servlet</span></span><br><span class=\"line\"><span class=\"comment\">//实现接口中的抽象方法</span></span><br><span class=\"line\"><span class=\"comment\">//配置Servlet</span></span><br><span class=\"line\">         <span class=\"comment\">/*在web.xml中配置*/</span></span><br><span class=\"line\">          &lt;!--配置文件--&gt;</span><br><span class=\"line\">    &lt;servlet&gt;</span><br><span class=\"line\">        &lt;servlet-name&gt;dome1&lt;/servlet-name&gt;</span><br><span class=\"line\">        &lt;servlet-class&gt;cn.Tomcat.servlet.ServletDome1&lt;/servlet-class&gt;</span><br><span class=\"line\">    &lt;/servlet&gt;</span><br><span class=\"line\">    &lt;!--映射--&gt;</span><br><span class=\"line\">    &lt;servlet-mapping&gt;</span><br><span class=\"line\">        &lt;servlet-name&gt;dome1&lt;/servlet-name&gt;</span><br><span class=\"line\">        &lt;url-pattern&gt;/demo1&lt;/url-pattern&gt;</span><br><span class=\"line\">    &lt;/servlet-mapping&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li>\n<p>执行原理<br>\n * 1. 当服务器即受到客户端浏览器的请求后，会解析请求 URL 路径，获取访问的 Servlet 的资源路径<br>\n * 2. 查找 web.xml 文件，是否有对应的<url-pattern>标签的内容<br>\n * 3. 如果有，则再找到对应的<serclet-class>全类名<br>\n * 4.Tomcat 会将字节码文件加载进内存，并且创建其对象调用其方法</p>\n</li>\n<li>\n<p>Servlet 中的生命周期方法：</p>\n</li>\n</ul>\n<p>1. 被创建：执行 init 方法，只执行一次</p>\n<h5 id=\"servlet-体系结构\"><a class=\"anchor\" href=\"#servlet-体系结构\">#</a> servlet 体系结构</h5>\n<pre><code>   * Servlet 接口\n   * GenericServlet 抽象类（继承Servlet接口）\n   * HttpServlet 抽象类 (继承GenericServlet抽象类)\n</code></pre>\n<h5 id=\"http\"><a class=\"anchor\" href=\"#http\">#</a> HTTP</h5>\n<p>（Hyper Text Transfer Protocol） 超文本传输协议</p>\n<ul>\n<li>\n<p>传输协议：定义了客户端和服务器端通信时，发送数据的格式</p>\n</li>\n<li>\n<p>特点</p>\n<ul>\n<li>基于 TCP/IP 的高级协议</li>\n<li>默认端口号：80</li>\n<li>基于请求 / 响应模型：一次请求对应一次响应</li>\n<li>无状态的：每次请求之间相互独立，不能交互数据</li>\n</ul>\n</li>\n<li>\n<p>历史版本：</p>\n<pre><code>* 1.0：每一次请求响应都会建立新的连接\n* 1.1 ：复用连接\n</code></pre>\n</li>\n<li>\n<p>请求消息数据格式</p>\n<ul>\n<li>\n<p>请求行</p>\n<p>​           请求方式 请求 URL 请求协议 / 版本</p>\n<p>​             GET    /login.html    HTTP/1.1</p>\n</li>\n<li>\n<p>请求方式（HTTP 协议有 7 种请求方式，常用的有 2 种）</p>\n<ul>\n<li>GET<br>\n* 请求参数在请求行中，在 URL 后<br>\n * 请求的 URL 长度有限制<br>\n * 不太安全</li>\n<li>POST\n<ul>\n<li>请求参数在请求体中</li>\n<li>请求的 URL 长度没有限制的</li>\n<li>相对安全</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>请求头</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//标识浏览器接受的数据格式</span></span><br><span class=\"line\">Accept<span class=\"punctuation\">:</span> text/plain<span class=\"punctuation\">,</span> *<span class=\"comment\">/*; q=0.01</span></span><br><span class=\"line\"><span class=\"comment\">//能够接受的文件格式</span></span><br><span class=\"line\"><span class=\"comment\">Accept-Encoding: gzip, deflate, br</span></span><br><span class=\"line\"><span class=\"comment\">//能够接受的语言（中文）</span></span><br><span class=\"line\"><span class=\"comment\">Accept-Language: zh-CN,zh;q=0.9</span></span><br><span class=\"line\"><span class=\"comment\">//连接状态（依然保持连接，说明能够复用连接）</span></span><br><span class=\"line\"><span class=\"comment\">Connection: keep-alive</span></span><br><span class=\"line\"><span class=\"comment\">//主机域名地址</span></span><br><span class=\"line\"><span class=\"comment\">Host: www.baidu.com</span></span><br><span class=\"line\"><span class=\"comment\">//告诉服务器，是从那个页面到这儿来的</span></span><br><span class=\"line\"><span class=\"comment\">Referer: https://www.baidu.com/?tn=88093251_95_hao_pg</span></span><br><span class=\"line\"><span class=\"comment\">//浏览器的版本信息</span></span><br><span class=\"line\"><span class=\"comment\">User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/93.0.4577.63 Safari/537.36</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>请求空行（分割作用）</p>\n</li>\n<li>\n<p>请求体（正文）</p>\n<ul>\n<li>封装 POST 请求的参数信息</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>响应数据</p>\n<ul>\n<li>响应行\n<ul>\n<li>组成 ：协议 / 版本 响应状态码 状态码描述</li>\n<li>响应状态码： 服务器告诉浏览器本次请求和相应的一个状态\n<ul>\n<li>状态码都是三位数字</li>\n<li>分类\n<ul>\n<li>1xx: 服务器接收客户端消息，但没有接收完成，等待一段时间后，发送此状态码</li>\n<li>2xx: 成功 代表：200</li>\n<li>3xx：重定向 代表：302 访问缓存  代表：304</li>\n<li>4xx：客户端错误\n<ul>\n<li>404：请求路径没有对应的资源</li>\n<li>405：请求方式没有对应的 doxxx 方法</li>\n</ul>\n</li>\n<li>5xx：服务器错误，代表：500（服务器内部出现异常）</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>响应头\n<ul>\n<li>常见的响应头\n<ul>\n<li>Content-Type：服务器告诉客户端本次响应体数据格式以及编码格式</li>\n<li>Content—disposition: 服务器告诉客户端以什么格式打开响应体数据\n<ul>\n<li>默认：in-line （在当前页面内打开）</li>\n<li>attachment：（以附件的形式打开响应体，文件下载）</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>响应空行</li>\n<li>响应体</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"request对象的使用\"><a class=\"anchor\" href=\"#request对象的使用\">#</a> request 对象的使用</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20210923155128459.png\" alt=\"image-20210923155128459\"></p>\n<ul>\n<li>\n<p>request 使用功能</p>\n<ul>\n<li>\n<p>获取请求消息数据</p>\n<ul>\n<li>\n<p>获取请求行数据</p>\n<p>​      GET    /day14/demo1?name=zhangsan HTTP /1.1</p>\n<ul>\n<li>\n<p>获取请求方式：GET</p>\n<ul>\n<li>String   getMethod()</li>\n</ul>\n</li>\n<li>\n<p>获取虚拟目录： /day14</p>\n<ul>\n<li>String getContextPath()</li>\n</ul>\n</li>\n<li>\n<p>获取 Servlet 路径： /demo1</p>\n<ul>\n<li>String getServletPath()</li>\n</ul>\n</li>\n<li>\n<p>获取 get 方式请求参数 ： name = zhangsan</p>\n<ul>\n<li>string getQueryString()</li>\n</ul>\n</li>\n<li>\n<p>获取请求 URI： /day14/demo1</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">* String <span class=\"title function_\">getRequestURI</span><span class=\"params\">()</span>    :    /day14/demo1</span><br><span class=\"line\">* StringBuffer <span class=\"title function_\">getRequestURL</span><span class=\"params\">()</span>   :    http:<span class=\"comment\">//localhost/day14/demo1 </span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>获取协议及版本：HTTP/1.1</p>\n<ul>\n<li>String getProtocol()</li>\n</ul>\n</li>\n<li>\n<p>获取客户机的 IP 地址</p>\n<ul>\n<li>String  getRemoteAddr()</li>\n</ul>\n</li>\n</ul>\n<p>​</p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20210923161358486.png\" alt=\"image-20210923161358486\" style=\"zoom: 200%;\" />\n<ul>\n<li>\n<p>其他功能</p>\n<ul>\n<li>\n<p>获取请求参数的通用方式：不论 get 还是 POST 请求方式都可以使用下列方法来获取请求参数</p>\n<p>​</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//根据参数名称获取参数值</span></span><br><span class=\"line\">String <span class=\"title function_\">getParameter</span><span class=\"params\">(String name)</span>      <span class=\"comment\">// username = zs&amp;password =123</span></span><br><span class=\"line\"><span class=\"comment\">// 根据参数名称获取参数值的数组  例如（hobby=xxx&amp;hobby=game）</span></span><br><span class=\"line\">String[] getParameterValues(String name)  </span><br><span class=\"line\"><span class=\"comment\">//获取所有请求的参数名称</span></span><br><span class=\"line\">Enumeration&lt;String&gt; <span class=\"title function_\">getParameterNames</span><span class=\"params\">()</span></span><br><span class=\"line\"><span class=\"comment\">//获取所有参数的map集合</span></span><br><span class=\"line\">Map&lt;String,String[]&gt; getParameterMap()</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"comment\">//中文乱码问题：</span></span><br><span class=\"line\">    get方式：Tomcat <span class=\"number\">8</span> 已经将get方式乱码问题解决了</span><br><span class=\"line\">    POST方式：会乱码 （在获取参数之前看，设置request的编码request.setCharacterEncoding(<span class=\"string\">&quot;utf-8&quot;</span>)）</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>请求转发</p>\n<ul>\n<li>一种在服务器内部的资源跳转方式</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//步骤</span></span><br><span class=\"line\">  <span class=\"comment\">// 1.通过request对象获取请求转发器对象</span></span><br><span class=\"line\">  RequestDispatcher <span class=\"title function_\">getRequestDispatcher</span><span class=\"params\">(String path)</span>  <span class=\"comment\">//调用该方法，并传进去资源路径</span></span><br><span class=\"line\">  <span class=\"comment\">//2.使用RequestDispatcher对象来进行转发</span></span><br><span class=\"line\">   forward(ServletRequest request,ServletResponse response)</span><br></pre></td></tr></table></figure>\n<ul>\n<li>特点\n<ul>\n<li>浏览器的地址栏中的路径不发生变化</li>\n<li>只能转发到当前的服务器内部资源中</li>\n<li>转发是一次请求，可以使用域对象传递数据</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>共享数据</p>\n<ul>\n<li>\n<p>域对象：一个有作用范围的对象，可以在范围内共享数据</p>\n</li>\n<li>\n<p>request 对象：代表一次请求的范围，一般用于请求转发的多个资源中共享数据</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//存储数据</span></span><br><span class=\"line\">  <span class=\"keyword\">void</span> <span class=\"title function_\">setAttribute</span><span class=\"params\">(String name,Object obj)</span> </span><br><span class=\"line\"><span class=\"comment\">//通过键获取值</span></span><br><span class=\"line\">  Object <span class=\"title function_\">getAttribute</span><span class=\"params\">(String name)</span></span><br><span class=\"line\"><span class=\"comment\">//痛过键移除键值对</span></span><br><span class=\"line\">  <span class=\"keyword\">void</span> <span class=\"title function_\">removeAttribute</span><span class=\"params\">(S)</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>报错信息</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> javax.servlet.ServletException: Servlet执行抛出一个异常</span><br><span class=\"line\">org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:<span class=\"number\">52</span>)</span><br><span class=\"line\"><span class=\"comment\">// 解释：应该将jar包全部放在web目录下的WEB-INF目录下的lib文件夹下，不然会报错，libs都不行</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>BeanUtils 工具类</p>\n<ul>\n<li>\n<p>简化了数据封装</p>\n</li>\n<li>\n<p>JavaBean：标准的 java 类</p>\n<ul>\n<li>类必须被 public 修饰</li>\n<li>必须提供空参的构造器</li>\n<li>成员变量必须使用 private 修饰</li>\n<li>提供公共 setter 和 getter 方法</li>\n</ul>\n</li>\n<li>\n<p>功能：封装数据</p>\n</li>\n<li>\n<p>概念</p>\n<ul>\n<li>成员变量      ： JavaBean 中的成员变量\n<ul>\n<li>属性  ：对应的 setter 和 getter 方法（一般情况下是一样的）</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>用法</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">setProperty(javaBean对象,<span class=\"string\">&quot;属性名称&quot;</span>,<span class=\"string\">&quot;值&quot;</span>)</span><br><span class=\"line\">getProperty(javaBean对象,<span class=\"string\">&quot;属性名称&quot;</span>)</span><br><span class=\"line\">populate(Object obj（待封装的JavaBean对象）,Map map)  <span class=\"comment\">//将map集合的键值对信息，封装到对应的JavaBean对象中</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<p>​</p>\n<h5 id=\"response对象的使用\"><a class=\"anchor\" href=\"#response对象的使用\">#</a> response 对象的使用</h5>\n<ul>\n<li>\n<p>功能：设置响应的消息</p>\n<ul>\n<li>\n<p>设置响应行</p>\n<ul>\n<li>\n<p>设置状态码</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">setStatus(<span class=\"type\">int</span> sc)</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>​</p>\n<ul>\n<li>\n<p>设置响应头</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">setHeader(String name,String value)</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>设置响应体</p>\n<ul>\n<li>\n<p>使用步骤</p>\n<ul>\n<li>\n<p>获取输出流</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//字符输出流</span></span><br><span class=\"line\">PrintWriter <span class=\"title function_\">getWriter</span><span class=\"params\">()</span></span><br><span class=\"line\"><span class=\"comment\">//字节输出流</span></span><br><span class=\"line\">ServletOutputStream <span class=\"title function_\">getOutputStream</span><span class=\"params\">()</span></span><br><span class=\"line\"> <span class=\"comment\">//利用字节或者字符输出流进行输出操作</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>​</p>\n<ul>\n<li>\n<p>重定向</p>\n<ul>\n<li>\n<p>特点</p>\n<ul>\n<li>浏览器的地址栏中的路径发生变化</li>\n<li>可以重定向到其他服务器资源</li>\n<li>转发是多次请求，所以不能使用域对象传递数据</li>\n</ul>\n</li>\n<li>\n<p>设置状态码为 302</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">response.setStatus(<span class=\"number\">302</span>)</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>设置响应头，传入重定向后的资源路径</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">response.setHeader(<span class=\"string\">&quot;location&quot;</span>,<span class=\"string\">&quot;资源路径&quot;</span>)</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>简单的重定向方法</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">response.sendRedirect(<span class=\"string\">&quot;资源路径&quot;</span>)</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<p>​</p>\n<h5 id=\"servletcontext对象\"><a class=\"anchor\" href=\"#servletcontext对象\">#</a> ServletContext 对象</h5>\n<ul>\n<li>\n<p>概念：代表整个 web 应用，可以和程序的容器（服务器）来通信</p>\n</li>\n<li>\n<p>获取</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//通过request对象获取</span></span><br><span class=\"line\">request.getServletContext();</span><br><span class=\"line\"><span class=\"comment\">//通过HttpServlet获取</span></span><br><span class=\"line\"><span class=\"built_in\">this</span>.getServletContext();</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>功能：</p>\n<ul>\n<li>\n<p>获取 MIME 类型：（在互联网通信过程中定义的一种文件数据类型）</p>\n<ul>\n<li>\n<p>格式：大类型 / 小类型    text/html       image/jpeg</p>\n</li>\n<li>\n<p>获取</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">String <span class=\"title function_\">getMimeType</span><span class=\"params\">(String file)</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>域对象：共享数据</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//设置属性值</span></span><br><span class=\"line\">setAttribute(String name ,Object value)</span><br><span class=\"line\"><span class=\"comment\">//获取属性值</span></span><br><span class=\"line\"> getAttribute(String name)</span><br><span class=\"line\"><span class=\"comment\">//移除属性</span></span><br><span class=\"line\"> removeAttribute(String name)</span><br><span class=\"line\"><span class=\"comment\">//ServletContext对象的共享数据范围：所有用户所有请求的数据</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>获取文件的真实存储路径（服务器）</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//方法</span></span><br><span class=\"line\">String <span class=\"title function_\">getRealPath</span><span class=\"params\">(String path)</span> </span><br><span class=\"line\"><span class=\"comment\">//web目录下资源访问</span></span><br><span class=\"line\"> <span class=\"type\">String</span> <span class=\"variable\">b</span> <span class=\"operator\">=</span> context.getRealPath(<span class=\"string\">&quot;/b.txt&quot;</span>);</span><br><span class=\"line\"><span class=\"comment\">// WEB-INF目录下的资源访问</span></span><br><span class=\"line\"><span class=\"type\">String</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> context.getRealPath(<span class=\"string\">&quot;/WEB-INF/c.txt&quot;</span>);</span><br><span class=\"line\"><span class=\"comment\">//src目录下的资源访问</span></span><br><span class=\"line\"><span class=\"type\">String</span> <span class=\"variable\">a</span> <span class=\"operator\">=</span> context.getRealPath(<span class=\"string\">&quot;/WEB-INF/classes/&quot;</span>);</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>​</p>\n<h5 id=\"会话技术\"><a class=\"anchor\" href=\"#会话技术\">#</a> 会话技术</h5>\n<ul>\n<li>会话：一次会话中包含多次请求和响应<br>\n * 一次会话：浏览器第一次给服务器资源发送请求，会话建立，直到有一方断开为止</li>\n<li>功能：在一次会话的范围内的多次请求间，共享数据</li>\n<li>方式：\n<ul>\n<li>客户端会话技术：Cookie</li>\n<li>服务器端会话技术：Session</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"cookie\"><a class=\"anchor\" href=\"#cookie\">#</a> Cookie</h6>\n<ul>\n<li>\n<p>概念：客户端回话技术，将数据保存到客户端</p>\n</li>\n<li>\n<p>简单使用步骤</p>\n<ul>\n<li>\n<p>创建 Cookie 对象</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Cookie</span>(String name,String value)</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>发送 Cookie 对象</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">response.addCookie(Cookie cookie)</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>获取 Cookie 对象，拿到数据</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Cookie[] request.getCookies()</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li>\n<p>实现原理</p>\n</li>\n<li>\n<p>Cookie 的细节</p>\n<ul>\n<li>\n<p>一次可以发送多个 Cookie</p>\n<ul>\n<li>可以创建多个 Cookie 对象，使用 response 对象调用 addCookie 方法发送 cookie 即可</li>\n</ul>\n</li>\n<li>\n<p>cookie 可以在浏览器中保存的时间</p>\n<ul>\n<li>\n<p>默认情况：只要浏览器不关闭，就会一直保存；浏览器一关闭，就会丢失</p>\n</li>\n<li>\n<p>其他情况（持久性存储）</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//可以设置cookie保存的时间</span></span><br><span class=\"line\">setMaxAge(<span class=\"type\">int</span> seconds)</span><br><span class=\"line\">    <span class=\"comment\">//传入的参数的类别</span></span><br><span class=\"line\">    <span class=\"comment\">// 正数：将cookie数据写到硬盘的文件中，持久化存储，并指定cookie存活时间，时间到后，cookie文件自动失效</span></span><br><span class=\"line\">    <span class=\"comment\">// 负数：默认值（即与浏览器的关闭时间有关）</span></span><br><span class=\"line\">    <span class=\"comment\">// 零：删除cookie信息</span></span><br><span class=\"line\">    </span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li>\n<p>cookie 能不能存储中文信息</p>\n<ul>\n<li>在 tomcat 8 之前 cookie 中不能直接存储中文数据\n<ul>\n<li>需要中文数据转码，一般采用 URL 编码 (% E3)</li>\n</ul>\n</li>\n<li>在 tomcat 8 之后，cookie 就支持中文数据</li>\n</ul>\n</li>\n<li>\n<p>cookie 共享问题</p>\n<ul>\n<li>\n<p>假设在一个 tomcat 服务器中，部署了多个 web 项目，那么在这写 web 项目中 cookie 能否共享</p>\n<ul>\n<li>\n<p>默认情况下 cookie 不能共享</p>\n</li>\n<li>\n<p>设置 cookie 的共享范围</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 默认情况下，设置为当前项目的目录</span></span><br><span class=\"line\">setPath(String path)</span><br><span class=\"line\"><span class=\"comment\">//如果想要所有项目共享，就设置path为&quot;/&quot;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li>\n<p>不同 Tomcat 服务器件 cookie 的共享问题</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//如果设置一级域名相同，那么多个服务器之间cookie可以共享</span></span><br><span class=\"line\">setDomain(String path)</span><br><span class=\"line\"><span class=\"comment\">//例如</span></span><br><span class=\"line\">setDomain(<span class=\"string\">&quot;.baidu.com&quot;</span>)  <span class=\"comment\">// 这样的话tieba.baidu.com 和 news.baidu.com 中的cookie就可以共享</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li>\n<p>Cookie 的特点和作用</p>\n<ul>\n<li>特点\n<ul>\n<li>cookie 存储数据在客户端浏览器</li>\n<li>浏览器对于单个 cookie 的大小有限制（4kb）以及 对同一个域名下的 cookie 的总数也有限制（20 个）</li>\n</ul>\n</li>\n<li>作用\n<ul>\n<li>cookie 一般用于存储少量的不太敏感的数据</li>\n<li>在不登录的情况下，完成服务器对客户端的身份识别</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>URL 编码与解码</p>\n<ul>\n<li>\n<p>编码</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">URLEncoder.encode(<span class=\"string\">&quot;被编码字符串&quot;</span>,<span class=\"string\">&quot;字符集&quot;</span>)</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>解码</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">URLDecoder.decode(<span class=\"string\">&quot;被解码的字符串&quot;</span>,<span class=\"string\">&quot;字符集&quot;</span>)</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"jsp\"><a class=\"anchor\" href=\"#jsp\">#</a> jsp</h6>\n<ul>\n<li>\n<p>概念：Java Server Pages ： java 服务器端页面</p>\n<ul>\n<li>可以理解为一个特殊的页面，其中既可以指定 html 标签，又可以定义 java 代码</li>\n</ul>\n</li>\n<li>\n<p>本质：jsp 本质上就是一个 Servlet 类</p>\n</li>\n<li>\n<p>jsp 脚本：JSP 定义 java 代码的方式</p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!--定义的Java代码，在Servlet方法中--&gt;</span><br><span class=\"line\">&lt;% 代码 %&gt;</span><br><span class=\"line\">&lt;!--定义的java代码，在JSP转换后的java类中，作为成员出现--&gt;</span><br><span class=\"line\">&lt;%! 代码 %&gt;</span><br><span class=\"line\">&lt;!--定义的java代码，会输出到页面上，输出语句中出现的变量，就会输出到页面上--&gt;</span><br><span class=\"line\">&lt;%= 代码%&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>指令</p>\n<ul>\n<li>\n<p>作用：用于配置 JSP 页面，导入资源文件</p>\n</li>\n<li>\n<p>格式</p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%@ 指令名称 属性名<span class=\"number\">1</span>=属性值<span class=\"number\">1</span> 属性名<span class=\"number\">2</span>= 属性值<span class=\"number\">2</span>&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>总共有三个指令</p>\n<ul>\n<li>\n<p>page</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"comment\">/*等同于response.setContenType()</span></span><br><span class=\"line\"><span class=\"comment\">     1.设置响应体的mime类型以及字符集</span></span><br><span class=\"line\"><span class=\"comment\">     2.设置当前jsp页面的编码（只能是高级的idea才能生效，如果使用低级工具，则需要设置pageEncoding属性设置当前页面的字符集）</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\">contentType </span><br><span class=\"line\"><span class=\"comment\">/*导包*/</span></span><br><span class=\"line\"><span class=\"keyword\">import</span></span><br><span class=\"line\"><span class=\"comment\">/*当前页面发生异常后，会自动跳转到指定的错误页面*/</span></span><br><span class=\"line\">errorPage</span><br><span class=\"line\"><span class=\"comment\">/*表示当前页面是否是错误页面*/</span></span><br><span class=\"line\">isErrorPage</span><br><span class=\"line\">    <span class=\"literal\">true</span>   <span class=\"comment\">// 是，可以使用内置对象exception</span></span><br><span class=\"line\">    <span class=\"literal\">false</span> <span class=\"comment\">// 否，默认值，不可以使用内置对象exception</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>include</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 导入页面的资源文件</span></span><br><span class=\"line\">&lt;%@ <span class=\"type\">include</span> <span class=\"variable\">file</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;top.jsp&quot;</span>%&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>taglib</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//导入资源</span></span><br><span class=\"line\">&lt;%@ <span class=\"type\">taglib</span> <span class=\"variable\">prefix</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;c&quot;</span> url = <span class=\"string\">&quot;http:java.sum.com/jsp/jstl/core&quot;</span>%&gt;</span><br><span class=\"line\">  prefix     <span class=\"comment\">// 前缀（自定义的）</span></span><br><span class=\"line\">  url        <span class=\"comment\">// 资源的路径</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>注释</p>\n<ul>\n<li>\n<p>html 注释</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--只能注释html代码片段--&gt;</span>     </span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>jsp 注释</p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%--可以注释所有--%&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li>\n<p>JSP 的内置对象</p>\n<ul>\n<li>\n<p>在 JSP 页面中不需要获取和创建，可以直接使用的对象，JSP 内置对象一共有九个</p>\n<ul>\n<li>\n<p>pageContext</p>\n<ul>\n<li>真实类型：PageContext</li>\n<li>作用：当前页面共享数据</li>\n</ul>\n</li>\n<li>\n<p>request</p>\n<ul>\n<li>真实类型：HttpServletRequest</li>\n<li>作用：一次请求访问的多个资源 (转发) 间的数据共享</li>\n</ul>\n</li>\n<li>\n<p>session</p>\n<ul>\n<li>真实类型：Httpsession</li>\n<li>作用：一次会话的多个请求间的数据共享</li>\n</ul>\n</li>\n<li>\n<p>application</p>\n<ul>\n<li>真实类型：ServletContext</li>\n<li>作用：所用用户间共享数据</li>\n</ul>\n</li>\n<li>\n<p>response</p>\n<ul>\n<li>真实类型：HttpServletResponse</li>\n<li>作用：响应对象</li>\n</ul>\n</li>\n<li>\n<p>page</p>\n<ul>\n<li>真实类型：Object</li>\n<li>作用：当前页面的对象（this）</li>\n</ul>\n</li>\n<li>\n<p>out</p>\n<ul>\n<li>真实类型：JSPWriter</li>\n<li>作用：输出对象，输出数据到页面上</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">out.write()</span><br><span class=\"line\"><span class=\"comment\">//和reques.getWriter().write() 类似，但是总是会优先写入request.getWriter.write() 的内容</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>config</p>\n<ul>\n<li>真实类型：ServletConfig</li>\n<li>作用：Servlet 的配置对象</li>\n</ul>\n</li>\n<li>\n<p>exception</p>\n<ul>\n<li>真实类型：Throwable</li>\n<li>作用：异常对象</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>EL 表达式</p>\n<p>概念：Expression Langeuage  (表达式语言)</p>\n<p>作用：替换和简化 jsp 页面中 java 代码的编写</p>\n<p 表达式=\"\">语法：$</p>\n<p>注意：</p>\n<ul>\n<li>jsp 默认支持 el 表达式的，如果要忽略 el 表达式\n<ul>\n<li>设置 jsp 中 page 指令中 isELIgnored = “true” 忽略当前 jsp 页面中所有 el 表达式</li>\n<li>${表达式} : 忽略当前这个 el 表达式</li>\n</ul>\n</li>\n</ul>\n<p>使用</p>\n<ul>\n<li>\n<p>运算</p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!--算术运算符：+ - * /(div)  % (mod)--&gt;</span><br><span class=\"line\">&lt;!--比较运算符：&gt; &lt; &gt;= &lt;= == !=--&gt;</span><br><span class=\"line\">&lt;!--逻辑运算符：&amp;&amp;（and） || (or)  !(not)--&gt;</span><br><span class=\"line\">&lt;!--空运算符：empty   用于判断字符串、集合、数组对象是否为<span class=\"literal\">null</span>并且长度是否为<span class=\"number\">0</span>--&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>获取值</p>\n<ul>\n<li>\n<p>el 表达式只能从域对象中获取值</p>\n</li>\n<li>\n<p>${域对象。键名} ：从指定的域中获取指定的值</p>\n<ul>\n<li>\n<p>域名称（从上到下，依次扩大）</p>\n<figure class=\"highlight xl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">pageScope</span>          --&gt;</span>      pageCOntext</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">requestScope</span>       --&gt;</span>      request</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">seesionScope</span>       --&gt;</span>      session</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">applicationScope</span>   --&gt;</span>      application（ServletContext）</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>${键名} : 表示依次从最小的域中查找是否有该键对应的值，知道找到为止</p>\n</li>\n<li>\n<p>获取对象、List 集合、Map 集合的值</p>\n<ul>\n<li 域名称.键名.属性名=\"\">\n<p>对象：$</p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$&#123;request.user.str&#125;</span><br><span class=\"line\">&lt;!--本质上会去调用对象的getStr() （属性方法）--&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li 域名称.list[索引]=\"\">\n<p>List 集合  $</p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$&#123;request.list[<span class=\"number\">1</span>]&#125;</span><br><span class=\"line\">&lt;!--在el表达式中发生索引越界问题是不会报错，只是不输出--&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>Map 集合</p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$&#123;域名称.map.key名称&#125;</span><br><span class=\"line\">$&#123;域名称.map[<span class=\"string\">&quot;key名称&quot;</span>]</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>JSTL</p>\n<ul>\n<li>\n<p>概念：JavaServer Pages Tag Library  （JSP 标准标签库）</p>\n</li>\n<li>\n<p>作用：用于简化和替换 jsp 页面上的 java 代码</p>\n</li>\n<li>\n<p>使用：</p>\n<ul>\n<li>\n<p>导入 jstl 相关 jar 包</p>\n</li>\n<li>\n<p>引入标签库</p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;%--taglib指令--%&gt;</span><br><span class=\"line\">&lt;@ taglib &gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>常用的 JSTL 标签</p>\n<ul>\n<li>\n<p>if：（相当于 java 代码的 if 语句）</p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;c:<span class=\"type\">if</span> <span class=\"variable\">test</span> <span class=\"operator\">=</span><span class=\"string\">&quot;&quot;</span>&gt;</span><br><span class=\"line\">&lt;%--</span><br><span class=\"line\">    test     必须的属性，接收Boolean表达式</span><br><span class=\"line\">    注意：c:<span class=\"keyword\">if</span> 标签没有<span class=\"keyword\">else</span>情况，想要<span class=\"keyword\">else</span>，则可以再定义一个c:<span class=\"keyword\">if</span> 标签</span><br><span class=\"line\">    --%&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>choose:(相当于 java 代码的 switch 语句)</p>\n<figure class=\"highlight jsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;choose&gt;</span><br><span class=\"line\">    </span><br><span class=\"line\">&lt;/choose&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20211013192412347.png\" alt=\"image-20211013192412347\" style=\"zoom:200%;\" />\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"session\"><a class=\"anchor\" href=\"#session\">#</a> Session</h6>\n<ul>\n<li>\n<p>概念：服务器端会话技术，在一次会话的多次请求间共享数据，将数据保存在服务器端的对象中 HttpSession</p>\n</li>\n<li>\n<p>简单使用</p>\n<ul>\n<li>\n<p>获取 HttpSession 对象</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">HttpSession</span> <span class=\"variable\">session</span> <span class=\"operator\">=</span> request.getSession()</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>使用 HttpSession 对象</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//设置值</span></span><br><span class=\"line\"><span class=\"keyword\">void</span> <span class=\"title function_\">setAttribute</span><span class=\"params\">(String name ,Object value)</span></span><br><span class=\"line\"><span class=\"comment\">//获取值</span></span><br><span class=\"line\">Object <span class=\"title function_\">getAttribute</span><span class=\"params\">(String name)</span></span><br><span class=\"line\"><span class=\"comment\">//移除值</span></span><br><span class=\"line\"><span class=\"keyword\">void</span> <span class=\"title function_\">removeAttribute</span><span class=\"params\">(String name)</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li>\n<p>Session 的原理</p>\n<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20211001111636988.png\" alt=\"image-20211001111636988\" style=\"zoom:200%;\" />\n</li>\n<li>\n<p>session 相关问题</p>\n<ul>\n<li>\n<p>当客户端关闭后，服务器不关闭，两次获取的 session 不一致</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 默认情况下，不一致</span></span><br><span class=\"line\"><span class=\"comment\">//如果想要一致，则可以创建cookie，键为JSESSIONID，设置最大存活时间，让cookie持久化存储</span></span><br><span class=\"line\"><span class=\"type\">Cookie</span> <span class=\"variable\">c</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Cookie</span>(<span class=\"string\">&quot;JSESSIONID&quot;</span>,session.getId());</span><br><span class=\"line\"><span class=\"comment\">//设置最大存活时间</span></span><br><span class=\"line\">c.setMaxge()</span><br><span class=\"line\"><span class=\"comment\">//添加cookie</span></span><br><span class=\"line\">response.add()</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>session 的销毁</p>\n<ul>\n<li>服务器关闭</li>\n<li>session 对象调用 invalidate 方法，进行自我销毁</li>\n<li>session 的默认失效时间为 30 分钟</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n",
            "tags": [
                "javaWeb"
            ]
        },
        {
            "id": "https://zhihao-a.github.io/2023/12/17/Transformer%E7%9B%B8%E5%85%B3%E6%96%87%E7%8C%AE%E6%80%BB%E7%BB%93/",
            "url": "https://zhihao-a.github.io/2023/12/17/Transformer%E7%9B%B8%E5%85%B3%E6%96%87%E7%8C%AE%E6%80%BB%E7%BB%93/",
            "title": "Transformer相关文献总结",
            "date_published": "2023-12-17T10:49:33.000Z",
            "content_html": "<p>Transformer 网络完整结构</p>\n<p>主要分为</p>\n<ul>\n<li>positional+embedding\n<ul>\n<li>positional Encoding</li>\n<li>Embedding</li>\n</ul>\n</li>\n<li>编码器层\n<ul>\n<li>多头注意力子层</li>\n<li>层归一化</li>\n<li>多层前馈网络层</li>\n<li></li>\n</ul>\n</li>\n<li>解码器层</li>\n<li></li>\n</ul>\n<h1 id=\"huggingface-下载模型指南\"><a class=\"anchor\" href=\"#huggingface-下载模型指南\">#</a> huggingFace 下载模型指南</h1>\n<h2 id=\"1-huggingface-clihf_transfer\"><a class=\"anchor\" href=\"#1-huggingface-clihf_transfer\">#</a> 1. huggingface-cli+hf_transfer</h2>\n<p><code>huggingface-cli</code>  和  <code>hf_transfer</code>  是 hugging face 官方提供的专门为下载而设计的工具链。前者是一个命令行工具，后者是下载加速模块。</p>\n<h3 id=\"11-huggingface-cli\"><a class=\"anchor\" href=\"#11-huggingface-cli\">#</a> 1.1 huggingface-cli</h3>\n<p><code>huggingface-cli</code>  隶属于  <code>huggingface_hub</code>  库，不仅可以下载模型、数据，还可以登录 huggingface、上传模型、数据等。huggingface-cli 属于官方工具，其长期支持肯定是最好的。<strong>优先推荐！</strong></p>\n<p><strong>安装依赖</strong></p>\n<figure class=\"highlight text\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install -U huggingface_hub</span><br></pre></td></tr></table></figure>\n<p><em>注意：huggingface_hub 依赖于 Python&gt;=3.8，此外需要安装 0.17.0 及以上的版本，推荐 0.19.0+。</em></p>\n<p><strong>基本用法</strong></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">huggingface-cli download --resume-download bigscience/bloom-560m --local-dir bloom-560m</span><br></pre></td></tr></table></figure>\n<p><strong>下载数据集</strong></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">huggingface-cli download --resume-download --repo-type dataset lavita/medical-qa-shared-task-v1-toy</span><br></pre></td></tr></table></figure>\n<p>值得注意的是，有个 <code>--local-dir-use-symlinks False</code>  参数可选，因为 huggingface 的工具链默认会使用符号链接来存储下载的文件，导致 <code>--local-dir</code>  指定的目录中都是一些 “链接文件”，真实模型则存储在 <code>~/.cache/huggingface</code>  下，如果不喜欢这个可以用  <code>--local-dir-use-symlinks False</code>  取消这个逻辑。</p>\n<p>但我不太喜欢取消这个参数，<strong>其最大方便点在于，调用时可以用模型名直接引用模型，而非指定模型路径。</strong></p>\n<p>什么意思呢？我们知道， <code>from_pretrain</code>  函数可以接收一个模型的 id，也可以接收模型的存储路径。</p>\n<p>假如我们用浏览器下载了一个模型，存储到服务器的  <code>/data/gpt2</code>  下了，调用的时候你得写模型的绝对路径</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">AutoModelForCausalLM.from_pretrained(&quot;/data/gpt2&quot;)</span><br></pre></td></tr></table></figure>\n<p>然而如果你用的  <code>huggingface-cli download gpt2 --local-dir /data/gpt2</code>  下载，即使你把模型存储到了自己指定的目录，但是你仍然可以简单的用模型的名字来引用他。即：</p>\n<figure class=\"highlight text\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">AutoModelForCausalLM.from_pretrained(&quot;gpt2&quot;)</span><br></pre></td></tr></table></figure>\n<p>原理是因为 huggingface 工具链会在  <code>.cache/huggingface/</code>  下维护一份模型的<strong>符号链接</strong>，无论你是否指定了模型的存储路径 ，缓存目录下都会链接过去，这样可以避免自己忘了自己曾经下过某个模型，此外调用的时候就很方便。</p>\n<p>所以用了官方工具，既可以方便的用模型名引用模型，又可以自己把模型集中存在一个自定义的路径，方便管理。</p>\n<p>当然，该工具目前还是有一些缺点的：</p>\n<p>一是其 ** 存储逻辑不太直观，** 如上所属的缓存与链接逻辑，使得新手经常询问，模型究竟下载到哪里去了？</p>\n<p>二是<strong>不支持单文件多线程</strong>。目前的行为是多文件并行，一次性会同时下载多个文件。</p>\n<p>三是<strong>遇到网络中断会报错退出，不会自动重试</strong>，需要重新手动执行。<strong>【更新，v0.19.0 已支持自动重试】</strong></p>\n<h3 id=\"12-hf_transfe\"><a class=\"anchor\" href=\"#12-hf_transfe\">#</a> 1.2 hf_transfe</h3>\n<p><code>hf_transfer</code>  依附并兼容  <code>huggingface-cli</code> ，是 hugging face 官方专门为提高下载速度基于 Rust 开发的一个模块，开启后在带宽充足的机器上可以跑到 500MB/s。本人实测了三台不同网络环境的机器，确实有黑科技啊，都把带宽跑满了（千兆）。</p>\n<p>然而缺点是：</p>\n<ul>\n<li><strong>1. 没有进度条【更正，v0.19.0 + 开始支持进度条了】：是真的没有进度条，有进度条说明你没有开启成功。</strong></li>\n<li><strong>2. 鲁棒性差，遇到网络不稳定会报错，并提示用户考虑关闭该模块提高容错性。可能这个模块还没有很成熟吧，对国内这种丢包率高的网络还是水土不服。</strong></li>\n</ul>\n<p>尽管如此，还是推荐给大家，看各自网络情况吧。</p>\n<p>项目地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9saW5rLnpoaWh1LmNvbS8/dGFyZ2V0PWh0dHBzJTNBLy9naXRodWIuY29tL2h1Z2dpbmdmYWNlL2hmX3RyYW5zZmVy\">https://github.com/huggingface/hf_transfer</span>。</p>\n<p><strong>开启方法</strong></p>\n<p><strong>(1) 安装依赖</strong></p>\n<figure class=\"highlight text\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install -U hf-transfer</span><br></pre></td></tr></table></figure>\n<p><strong>(2) 设置  <code>HF_HUB_ENABLE_HF_TRANSFER</code>  环境变量为 1。</strong><br>\n<em>Linux</em></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">export</span> HF_HUB_ENABLE_HF_TRANSFER=1</span><br></pre></td></tr></table></figure>\n<p><em>Windows Powershell</em></p>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$env:HF_HUB_ENABLE_HF_TRANSFER</span> = <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<p>开启后使用方法同  <code>huggingface-cli</code> ：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">huggingface-cli download --resume-download bigscience/bloom-560m --local-dir bloom-560m</span><br></pre></td></tr></table></figure>\n<p><em>注意：<strong>如果看到进度条，说明</strong></em> <em><strong> <code>hf_transfer</code> </strong></em> *** 没开启成功！*** 例如以下情况：</p>\n<p><code>--resume-download</code>  参数，指的是从上一次下载的地方继续，一般推荐总是加上该参数，断了方便继续。然而如果你一开始没有开启  <code>hf_transfer</code> ，下载中途停掉并设置环境变量开启，此时用  <code>--resume-download</code>  会由于不兼容导致  <code>hf_transfer</code>  开启失败！总之观察是否有进度条就可以知道有没有开启成功，没有进度条就说明开启成功！</p>\n",
            "tags": [
                "Transformer"
            ]
        },
        {
            "id": "https://zhihao-a.github.io/2023/12/17/Pandas&Numpy/",
            "url": "https://zhihao-a.github.io/2023/12/17/Pandas&Numpy/",
            "title": "Pandas&Numpy",
            "date_published": "2023-12-17T10:20:56.000Z",
            "content_html": "<h2 id=\"什么是数据分析\"><a class=\"anchor\" href=\"#什么是数据分析\">#</a> 什么是数据分析：</h2>\n<h5 id=\"数据分析是指用适当的统计分析方法对收集来的大量数据进行分析提取有用信息和形成结论而对\"><a class=\"anchor\" href=\"#数据分析是指用适当的统计分析方法对收集来的大量数据进行分析提取有用信息和形成结论而对\">#</a> 数据分析是指用适当的统计分析方法对收集来的大量数据进行分析，提取有用信息和形成结论而对</h5>\n<h5 id=\"数据加以详细研究和概括总结的过程-数据分析的目的有多种概括起来有三种现状分析-原因\"><a class=\"anchor\" href=\"#数据加以详细研究和概括总结的过程-数据分析的目的有多种概括起来有三种现状分析-原因\">#</a> 数据加以详细研究和概括总结的过程。数据分析的目的有多种，概括起来有三种：现状分析、原因</h5>\n<h5 id=\"分析-预测分析-现状分析简单来说就是告诉你过去发生了什么-原因分析简单来说就是告诉你某\"><a class=\"anchor\" href=\"#分析-预测分析-现状分析简单来说就是告诉你过去发生了什么-原因分析简单来说就是告诉你某\">#</a> 分析、预测分析。现状分析简单来说就是告诉你过去发生了什么。原因分析简单来说就是告诉你某</h5>\n<h5 id=\"一现状为什么发生-预测分析简单来说就是预测未来会发生什么\"><a class=\"anchor\" href=\"#一现状为什么发生-预测分析简单来说就是预测未来会发生什么\">#</a> 一现状为什么发生。预测分析简单来说就是预测未来会发生什么。</h5>\n<h2 id=\"数据分析步骤\"><a class=\"anchor\" href=\"#数据分析步骤\">#</a> 数据分析步骤：</h2>\n<h5 id=\"数据分析主要有六个过程\"><a class=\"anchor\" href=\"#数据分析主要有六个过程\">#</a> 数据分析主要有六个过程：</h5>\n<h5 id=\"1-需求明确明确做数据分析的目标-为后面的分析过程做好铺垫\"><a class=\"anchor\" href=\"#1-需求明确明确做数据分析的目标-为后面的分析过程做好铺垫\">#</a> 1. 需求明确：明确做数据分析的目标。为后面的分析过程做好铺垫。</h5>\n<h5 id=\"2-数据收集通过爬虫-商务合作的方式获取想要的数据\"><a class=\"anchor\" href=\"#2-数据收集通过爬虫-商务合作的方式获取想要的数据\">#</a> 2. 数据收集：通过爬虫、商务合作的方式，获取想要的数据。</h5>\n<h5 id=\"3-数据处理对获取来的数据进行处理和清洗把不需要的剔除掉把需要的加工成我们想要\"><a class=\"anchor\" href=\"#3-数据处理对获取来的数据进行处理和清洗把不需要的剔除掉把需要的加工成我们想要\">#</a> 3. 数据处理：对获取来的数据进行处理和清洗，把不需要的剔除掉，把需要的加工成我们想要</h5>\n<h5 id=\"的-方便后面的分析\"><a class=\"anchor\" href=\"#的-方便后面的分析\">#</a> 的。方便后面的分析。</h5>\n<h5 id=\"4-数据分析根据自己的目的以及现有的数据确定好分析的方法\"><a class=\"anchor\" href=\"#4-数据分析根据自己的目的以及现有的数据确定好分析的方法\">#</a> 4. 数据分析：根据自己的目的，以及现有的数据确定好分析的方法。</h5>\n<h5 id=\"5-数据展现将数据按照确定好的分析方法进行展示出来\"><a class=\"anchor\" href=\"#5-数据展现将数据按照确定好的分析方法进行展示出来\">#</a> 5. 数据展现：将数据按照确定好的分析方法进行展示出来。</h5>\n<h5 id=\"6-撰写报告将分析的结果通过图表和文字的方式形成报告文档\"><a class=\"anchor\" href=\"#6-撰写报告将分析的结果通过图表和文字的方式形成报告文档\">#</a> 6. 撰写报告：将分析的结果通过图表和文字的方式形成报告文档。</h5>\n<h2 id=\"数据分析的误区\"><a class=\"anchor\" href=\"#数据分析的误区\">#</a> 数据分析的误区：</h2>\n<h5 id=\"1-分析目的不明确为分析而分析一定要找准自己分析数据的目标而去分析比如是要了解现\"><a class=\"anchor\" href=\"#1-分析目的不明确为分析而分析一定要找准自己分析数据的目标而去分析比如是要了解现\">#</a> 1. 分析目的不明确，为分析而分析：一定要找准自己分析数据的目标而去分析，比如是要了解现</h5>\n<h5 id=\"状还是找出原因还是预测未来发展等千万不要为了分析而分析这样就偏离主题了\"><a class=\"anchor\" href=\"#状还是找出原因还是预测未来发展等千万不要为了分析而分析这样就偏离主题了\">#</a> 状，还是找出原因，还是预测未来发展等，千万不要为了分析而分析，这样就偏离主题了。</h5>\n<h5 id=\"2-缺乏业务知识分析结果偏离实际分析数据的时候一定要和公司的业务结合起来-如果脱\"><a class=\"anchor\" href=\"#2-缺乏业务知识分析结果偏离实际分析数据的时候一定要和公司的业务结合起来-如果脱\">#</a> 2. 缺乏业务知识，分析结果偏离实际：分析数据的时候，一定要和公司的业务结合起来。如果脱</h5>\n<h5 id=\"离业务即使数据分析方法再牛逼图标再优美也无济于事\"><a class=\"anchor\" href=\"#离业务即使数据分析方法再牛逼图标再优美也无济于事\">#</a> 离业务，即使数据分析方法再牛逼，图标再优美，也无济于事。</h5>\n<h5 id=\"3-追求高级分析方法一些人喜欢用一些高级的分析方法认为只有这样才能体现专业性-其实\"><a class=\"anchor\" href=\"#3-追求高级分析方法一些人喜欢用一些高级的分析方法认为只有这样才能体现专业性-其实\">#</a> 3. 追求高级分析方法：一些人喜欢用一些高级的分析方法，认为只有这样才能体现专业性。其实</h5>\n<h5 id=\"高级的数据分析方法不一定是最好的能够简单有效的解决问题的方法才是最好的\"><a class=\"anchor\" href=\"#高级的数据分析方法不一定是最好的能够简单有效的解决问题的方法才是最好的\">#</a> 高级的数据分析方法不一定是最好的，能够简单有效的解决问题的方法才是最好的。</h5>\n<h2 id=\"数据分析的方法和工具\"><a class=\"anchor\" href=\"#数据分析的方法和工具\">#</a> 数据分析的方法和工具：</h2>\n<h5 id=\"数据分析可以通过工具也可以通过代码来实现-以下分别列出这些常用的\"><a class=\"anchor\" href=\"#数据分析可以通过工具也可以通过代码来实现-以下分别列出这些常用的\">#</a> 数据分析可以通过工具，也可以通过代码来实现。以下分别列出这些常用的：</h5>\n<h5 id=\"1-工具excel-tableau-spss-百度图说等\"><a class=\"anchor\" href=\"#1-工具excel-tableau-spss-百度图说等\">#</a> 1. 工具：Excel、Tableau、SPSS、百度图说等。</h5>\n<h5 id=\"2-编程python语言-r语言-数据库的sql语言-excel的vba语言等\"><a class=\"anchor\" href=\"#2-编程python语言-r语言-数据库的sql语言-excel的vba语言等\">#</a> 2. 编程：Python 语言、R 语言、数据库的 SQL 语言、Excel 的 VBA 语言等。</h5>\n<h2 id=\"工具和代码该怎么选\"><a class=\"anchor\" href=\"#工具和代码该怎么选\">#</a> 工具和代码该怎么选：</h2>\n<h5 id=\"两者没有好坏之分只有合适之分-数据分析总体来讲有两个模块一个是数据处理一个是可视\"><a class=\"anchor\" href=\"#两者没有好坏之分只有合适之分-数据分析总体来讲有两个模块一个是数据处理一个是可视\">#</a> 两者没有好坏之分，只有合适之分。数据分析总体来讲有两个模块，一个是数据处理，一个是可视</h5>\n<h5 id=\"化-如果数据已经经过处理了并且手头上的软件可以直接非常方便的做可视化处理那么我们用\"><a class=\"anchor\" href=\"#化-如果数据已经经过处理了并且手头上的软件可以直接非常方便的做可视化处理那么我们用\">#</a> 化。如果数据已经经过处理了，并且手头上的软件可以直接非常方便的做可视化处理，那么我们用</h5>\n<h5 id=\"软件实现就可以-如果数据没有经过处理那么最好通过python或者r对数据进行有一些处理然\"><a class=\"anchor\" href=\"#软件实现就可以-如果数据没有经过处理那么最好通过python或者r对数据进行有一些处理然\">#</a> 软件实现就可以。如果数据没有经过处理，那么最好通过 python 或者 r 对数据进行有一些处理，然</h5>\n<h5 id=\"后再通过软件可视化-或者软件的可视化无法满足我们的要求那么可以通过代码来实现-总而言\"><a class=\"anchor\" href=\"#后再通过软件可视化-或者软件的可视化无法满足我们的要求那么可以通过代码来实现-总而言\">#</a> 后再通过软件可视化。或者软件的可视化无法满足我们的要求，那么可以通过代码来实现。总而言</h5>\n<h5 id=\"之工具功能无法100的满足你的要求但是效率高-代码做数据处理比较好最数据可视化比\"><a class=\"anchor\" href=\"#之工具功能无法100的满足你的要求但是效率高-代码做数据处理比较好最数据可视化比\">#</a> 之，工具功能无法 100% 的满足你的要求，但是效率高。代码做数据处理比较好，最数据可视化比</h5>\n<h5 id=\"较繁琐但是diy属性强\"><a class=\"anchor\" href=\"#较繁琐但是diy属性强\">#</a> 较繁琐，但是 DIY 属性强！</h5>\n<h1 id=\"环境搭建\"><a class=\"anchor\" href=\"#环境搭建\">#</a> 环境搭建</h1>\n<h2 id=\"一-python-版本\"><a class=\"anchor\" href=\"#一-python-版本\">#</a> 一、 Python 版本：</h2>\n<h5 id=\"本课程用到的python版本都是3x-要有一定的python基础知道列表-字符串-函数等的用法\"><a class=\"anchor\" href=\"#本课程用到的python版本都是3x-要有一定的python基础知道列表-字符串-函数等的用法\">#</a> 本课程用到的 Python 版本都是 3.x。要有一定的 Python 基础，知道列表、字符串、函数等的用法。</h5>\n<h2 id=\"anaconda\"><a class=\"anchor\" href=\"#anaconda\">#</a> Anaconda ：</h2>\n<h5 id=\"anaconda水蟒-是一个捆绑了-python-conda-其他相关依赖包的一个软件-包含了-180-多个\"><a class=\"anchor\" href=\"#anaconda水蟒-是一个捆绑了-python-conda-其他相关依赖包的一个软件-包含了-180-多个\">#</a> Anaconda（水蟒） 是一个捆绑了 Python 、 conda 、其他相关依赖包的一个软件。包含了 180 多个</h5>\n<h5 id=\"可学计算包及其依赖-anaconda3-是集成了-python3-的环境-anaconda2-是集成了-python2-的环\"><a class=\"anchor\" href=\"#可学计算包及其依赖-anaconda3-是集成了-python3-的环境-anaconda2-是集成了-python2-的环\">#</a> 可学计算包及其依赖。 Anaconda3 是集成了 Python3 的环境， Anaconda2 是集成了 Python2 的环</h5>\n<h5 id=\"境-anaconda-默认集成的包是属于内置的-python-的包-并且支持绝大部分操作系统比如\"><a class=\"anchor\" href=\"#境-anaconda-默认集成的包是属于内置的-python-的包-并且支持绝大部分操作系统比如\">#</a> 境。 Anaconda 默认集成的包，是属于内置的 Python 的包。并且支持绝大部分操作系统（比如：</h5>\n<h5 id=\"windows-mac-linux等-下载地址如下-httpswwwanacondacomdistribution-如果\"><a class=\"anchor\" href=\"#windows-mac-linux等-下载地址如下-httpswwwanacondacomdistribution-如果\">#</a> Windows、Mac、Linux 等）。下载地址如下： <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuYW5hY29uZGEuY29tL2Rpc3RyaWJ1dGlvbi8=\">https://www.anaconda.com/distribution/</span> （如果</h5>\n<h5 id=\"官网下载太慢可以在清华大学开源软件站中下\"><a class=\"anchor\" href=\"#官网下载太慢可以在清华大学开源软件站中下\">#</a> 官网下载太慢，可以在清华大学开源软件站中下</h5>\n<h5 id=\"载-httpsmirrorstunatsinghuaeducnanacondaarchive-根据自己的操作系统下载\"><a class=\"anchor\" href=\"#载-httpsmirrorstunatsinghuaeducnanacondaarchive-根据自己的操作系统下载\">#</a> 载： <span class=\"exturl\" data-url=\"aHR0cHM6Ly9taXJyb3JzLnR1bmEudHNpbmdodWEuZWR1LmNuL2FuYWNvbmRhL2FyY2hpdmUv\">https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/</span> ）。根据自己的操作系统，下载</h5>\n<h5 id=\"相应的版本因为-anaconda-内置了许多的包所以安装过程需要耗费相当长的时间大家在安装\"><a class=\"anchor\" href=\"#相应的版本因为-anaconda-内置了许多的包所以安装过程需要耗费相当长的时间大家在安装\">#</a> 相应的版本，因为 Anaconda 内置了许多的包，所以安装过程需要耗费相当长的时间，大家在安装</h5>\n<h5 id=\"的时候需要耐心等待-在安装完成后会有以下几个模块-anaconda-prompt-anaconda\"><a class=\"anchor\" href=\"#的时候需要耐心等待-在安装完成后会有以下几个模块-anaconda-prompt-anaconda\">#</a> 的时候需要耐心等待。在安装完成后，会有以下几个模块： Anaconda prompt 、 Anaconda</h5>\n<h5 id=\"navigator-spyder-jupyter-notebook-以下分别做一些介绍\"><a class=\"anchor\" href=\"#navigator-spyder-jupyter-notebook-以下分别做一些介绍\">#</a> Navigator 、 Spyder 、 jupyter notebook ，以下分别做一些介绍。</h5>\n<h2 id=\"anaconda-prompt\"><a class=\"anchor\" href=\"#anaconda-prompt\">#</a> Anaconda prompt ：</h2>\n<h5 id=\"anaconda-prompt-是专门用来操作-anaconda-的终端-如果你安装完-anaconda-后没有在环境变量\"><a class=\"anchor\" href=\"#anaconda-prompt-是专门用来操作-anaconda-的终端-如果你安装完-anaconda-后没有在环境变量\">#</a> Anaconda prompt 是专门用来操作 anaconda 的终端。如果你安装完 Anaconda 后没有在环境变量</h5>\n<h5 id=\"的-path-中添加相关的环境变量那么以后你想在终端使用-anaconda-相关的命令则必须要\"><a class=\"anchor\" href=\"#的-path-中添加相关的环境变量那么以后你想在终端使用-anaconda-相关的命令则必须要\">#</a> 的 PATH 中添加相关的环境变量，那么以后你想在终端使用 anaconda 相关的命令，则必须要</h5>\n<h5 id=\"在-anaconda-prompt-中完成\"><a class=\"anchor\" href=\"#在-anaconda-prompt-中完成\">#</a> 在 Anaconda prompt 中完成。</h5>\n<h3 id=\"anaconda-navigator\"><a class=\"anchor\" href=\"#anaconda-navigator\">#</a> Anaconda Navigator ：</h3>\n<h5 id=\"这个相当于是一个导航面板上面组织了-anaconda-相关的软件\"><a class=\"anchor\" href=\"#这个相当于是一个导航面板上面组织了-anaconda-相关的软件\">#</a> 这个相当于是一个导航面板，上面组织了 Anaconda 相关的软件。</h5>\n<h3 id=\"spyder\"><a class=\"anchor\" href=\"#spyder\">#</a> Spyder ：</h3>\n<h5 id=\"一个专门开发-python-的软件熟悉-matlab-的同学会比较有亲切感但在后期的学习过程中我\"><a class=\"anchor\" href=\"#一个专门开发-python-的软件熟悉-matlab-的同学会比较有亲切感但在后期的学习过程中我\">#</a> 一个专门开发 Python 的软件，熟悉 MATLAB 的同学会比较有亲切感，但在后期的学习过程中，我</h5>\n<h5 id=\"们将不会使用这个工具写代码因为还有更好的可替代的工具\"><a class=\"anchor\" href=\"#们将不会使用这个工具写代码因为还有更好的可替代的工具\">#</a> 们将不会使用这个工具写代码，因为还有更好的可替代的工具。</h5>\n<h3 id=\"jupyter-notebook\"><a class=\"anchor\" href=\"#jupyter-notebook\">#</a> jupyter notebook ：</h3>\n<h5 id=\"一个python编辑环境可以实时的查看代码的运行效果\"><a class=\"anchor\" href=\"#一个python编辑环境可以实时的查看代码的运行效果\">#</a> 一个 Python 编辑环境，可以实时的查看代码的运行效果。</h5>\n<h2 id=\"使用-jupyter-notebook-的姿势\"><a class=\"anchor\" href=\"#使用-jupyter-notebook-的姿势\">#</a> 使用 jupyter notebook 的姿势：</h2>\n<h5 id=\"1-先打开-anaconda-prompt-然后进入到项目所在的目录\"><a class=\"anchor\" href=\"#1-先打开-anaconda-prompt-然后进入到项目所在的目录\">#</a> 1. 先打开 Anaconda Prompt ，然后进入到项目所在的目录。</h5>\n<h5 id=\"2-输入命令-jupyter-notebook-打开-jupyter-notebook-浏览器\"><a class=\"anchor\" href=\"#2-输入命令-jupyter-notebook-打开-jupyter-notebook-浏览器\">#</a> 2. 输入命令 jupyter notebook 打开 jupyter notebook 浏览器。</h5>\n<h2 id=\"conda-基本使用\"><a class=\"anchor\" href=\"#conda-基本使用\">#</a> conda 基本使用：</h2>\n<h5 id=\"conda-伴随着-anaconda-安装而自动安装的-conda-可以跟-virtualenv-一样管理不同的环境也\"><a class=\"anchor\" href=\"#conda-伴随着-anaconda-安装而自动安装的-conda-可以跟-virtualenv-一样管理不同的环境也\">#</a> conda 伴随着 Anaconda 安装而自动安装的。 conda 可以跟 virtualenv 一样管理不同的环境，也</h5>\n<h5 id=\"可以跟-pip-一样管理某个环境下的包-以下来看看两个功能的用法\"><a class=\"anchor\" href=\"#可以跟-pip-一样管理某个环境下的包-以下来看看两个功能的用法\">#</a> 可以跟 pip 一样管理某个环境下的包。以下来看看两个功能的用法。</h5>\n<h3 id=\"环境管理\"><a class=\"anchor\" href=\"#环境管理\">#</a> 环境管理：</h3>\n<h5 id=\"conda-能跟-virtualenv-一样管理不同的-python-环境不同的环境之间是互相隔离互不影响\"><a class=\"anchor\" href=\"#conda-能跟-virtualenv-一样管理不同的-python-环境不同的环境之间是互相隔离互不影响\">#</a> conda 能跟 virtualenv 一样管理不同的 Python 环境，不同的环境之间是互相隔离，互不影响</h5>\n<h5 id=\"的-为什么需要创建不同的环境呢原因是有时候项目比较多但是项目依赖的包不一样比\"><a class=\"anchor\" href=\"#的-为什么需要创建不同的环境呢原因是有时候项目比较多但是项目依赖的包不一样比\">#</a> 的。为什么需要创建不同的环境呢？原因是有时候项目比较多，但是项目依赖的包不一样，比</h5>\n<h5 id=\"如-a-项目用的是-python2-开发的而-b-项目用的是-python3-开发的那么我们在同一台电脑上\"><a class=\"anchor\" href=\"#如-a-项目用的是-python2-开发的而-b-项目用的是-python3-开发的那么我们在同一台电脑上\">#</a> 如 A 项目用的是 Python2 开发的，而 B 项目用的是 Python3 开发的，那么我们在同一台电脑上</h5>\n<h5 id=\"就需要两套不同的环境来支撑他们运行了-创建环境的基本命令如下\"><a class=\"anchor\" href=\"#就需要两套不同的环境来支撑他们运行了-创建环境的基本命令如下\">#</a> 就需要两套不同的环境来支撑他们运行了。创建环境的基本命令如下：</h5>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># conda create --name [环境名称] 比如以下：</span></span><br><span class=\"line\">conda create --name da-env</span><br></pre></td></tr></table></figure>\n<h5 id=\"这样将创建一个叫做-da-env-的环境这个环境的-python-解释器根据-anaconda-来如\"><a class=\"anchor\" href=\"#这样将创建一个叫做-da-env-的环境这个环境的-python-解释器根据-anaconda-来如\">#</a> 这样将创建一个叫做 da-env 的环境，这个环境的 python 解释器根据 anaconda 来，如</h5>\n<h5 id=\"果-anaconda-为-37-那么将默认使用-37-的环境如果-anaconda-内置的是-27-那么将默认\"><a class=\"anchor\" href=\"#果-anaconda-为-37-那么将默认使用-37-的环境如果-anaconda-内置的是-27-那么将默认\">#</a> 果 anaconda 为 3.7 ，那么将默认使用 3.7 的环境，如果 anaconda 内置的是 2.7 ，那么将默认</h5>\n<h5 id=\"使用-27-的环境-然后你就可以使用-conda-install-numpy-的方式来安装包了并且这样安装进\"><a class=\"anchor\" href=\"#使用-27-的环境-然后你就可以使用-conda-install-numpy-的方式来安装包了并且这样安装进\">#</a> 使用 2.7 的环境。然后你就可以使用 conda install numpy 的方式来安装包了，并且这样安装进</h5>\n<h5 id=\"来的包只会安装在当前环境中-有的同学可能有想问如果想要装一个-python27-的环\"><a class=\"anchor\" href=\"#来的包只会安装在当前环境中-有的同学可能有想问如果想要装一个-python27-的环\">#</a> 来的包，只会安装在当前环境中。有的同学可能有想问，如果想要装一个 Python2.7 的环</h5>\n<h5 id=\"境-anaconda-中没有内置-python27-那么该怎么实现呢-实际上我们只需要在安装的时候\"><a class=\"anchor\" href=\"#境-anaconda-中没有内置-python27-那么该怎么实现呢-实际上我们只需要在安装的时候\">#</a> 境， anaconda 中没有内置 Python2.7 ，那么该怎么实现呢？。实际上，我们只需要在安装的时候</h5>\n<h5 id=\"指定-python-的版本如果这个版本现在不存在那么-anaconda-会自动的给我们下载-所以安\"><a class=\"anchor\" href=\"#指定-python-的版本如果这个版本现在不存在那么-anaconda-会自动的给我们下载-所以安\">#</a> 指定 python 的版本，如果这个版本现在不存在，那么 anaconda 会自动的给我们下载。所以安</h5>\n<h5 id=\"装-python27-的环境使用以下代码即可实现\"><a class=\"anchor\" href=\"#装-python27-的环境使用以下代码即可实现\">#</a> 装 Python2.7 的环境，使用以下代码即可实现：</h5>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda create --name xxx python=<span class=\"number\">2.</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"以下再列出-conda-管理环境的其他命令\"><a class=\"anchor\" href=\"#以下再列出-conda-管理环境的其他命令\">#</a> 以下再列出 conda 管理环境的其他命令：</h5>\n<h5 id=\"1-创建的时候指定需要安装的包\"><a class=\"anchor\" href=\"#1-创建的时候指定需要安装的包\">#</a> 1. 创建的时候指定需要安装的包：</h5>\n<figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda <span class=\"built_in\">create</span> <span class=\"comment\">--name xxx numpy pandas</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"2-创建的时候既需要指定包也需要指定python环境\"><a class=\"anchor\" href=\"#2-创建的时候既需要指定包也需要指定python环境\">#</a> 2. 创建的时候既需要指定包，也需要指定 python 环境：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">conda</span> create --name xxx python=<span class=\"number\">3</span>.<span class=\"number\">7</span> numpy pandas</span><br></pre></td></tr></table></figure>\n<h5 id=\"3-进入到某个环境\"><a class=\"anchor\" href=\"#3-进入到某个环境\">#</a> 3. 进入到某个环境</h5>\n<figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">windows: <span class=\"built_in\">activate</span> xxx</span><br><span class=\"line\">mac/linux: source <span class=\"built_in\">activate</span> xxx</span><br></pre></td></tr></table></figure>\n<h5 id=\"4-退出环境\"><a class=\"anchor\" href=\"#4-退出环境\">#</a> 4. 退出环境：</h5>\n<figure class=\"highlight ebnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">deactivate</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"5-列出当前所有的环境\"><a class=\"anchor\" href=\"#5-列出当前所有的环境\">#</a> 5. 列出当前所有的环境：</h5>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda <span class=\"built_in\">env</span> list</span><br></pre></td></tr></table></figure>\n<h5 id=\"6-移除某个环境\"><a class=\"anchor\" href=\"#6-移除某个环境\">#</a> 6. 移除某个环境：</h5>\n<figure class=\"highlight brainfuck\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">conda remove</span> <span class=\"literal\">--</span><span class=\"comment\">name xxx</span> <span class=\"literal\">--</span><span class=\"comment\">all</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"7-环境下的包导出和导入\"><a class=\"anchor\" href=\"#7-环境下的包导出和导入\">#</a> 7. 环境下的包导出和导入：</h5>\n<h5 id=\"导出-conda-env-export-environmentyml\"><a class=\"anchor\" href=\"#导出-conda-env-export-environmentyml\">#</a> 导出： conda env export &gt; environment.yml 。</h5>\n<h5 id=\"导入-conda-env-create-name-xxx-f-environmentyml\"><a class=\"anchor\" href=\"#导入-conda-env-create-name-xxx-f-environmentyml\">#</a> 导入： conda env create --name xxx -f environment.yml 。</h5>\n<h3 id=\"包管理\"><a class=\"anchor\" href=\"#包管理\">#</a> 包管理：</h3>\n<h5 id=\"conda-也可以用来管理包-比如我们创建完一个新的环境后想要在这个环境中安装包比如\"><a class=\"anchor\" href=\"#conda-也可以用来管理包-比如我们创建完一个新的环境后想要在这个环境中安装包比如\">#</a> conda 也可以用来管理包。比如我们创建完一个新的环境后，想要在这个环境中安装包（比如</h5>\n<h5 id=\"numpy那么可以通过以下代码来实现\"><a class=\"anchor\" href=\"#numpy那么可以通过以下代码来实现\">#</a> numpy），那么可以通过以下代码来实现：</h5>\n<figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">activate</span> xxx</span><br><span class=\"line\">conda install numpy</span><br></pre></td></tr></table></figure>\n<h5 id=\"以下再介绍一些包管理常用的命令\"><a class=\"anchor\" href=\"#以下再介绍一些包管理常用的命令\">#</a> 以下再介绍一些包管理常用的命令：</h5>\n<h5 id=\"1-在不进入某个环境下直接给这个环境安装包\"><a class=\"anchor\" href=\"#1-在不进入某个环境下直接给这个环境安装包\">#</a> 1. 在不进入某个环境下直接给这个环境安装包：</h5>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda install <span class=\"selector-attr\">[包名]</span> -n <span class=\"selector-attr\">[环境名]</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"2-列出该环境下所有的包\"><a class=\"anchor\" href=\"#2-列出该环境下所有的包\">#</a> 2. 列出该环境下所有的包：</h5>\n<figure class=\"highlight ebnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">conda list</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"3-卸载某个包\"><a class=\"anchor\" href=\"#3-卸载某个包\">#</a> 3. 卸载某个包：</h5>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda <span class=\"built_in\">remove</span> [包名]</span><br></pre></td></tr></table></figure>\n<h5 id=\"4-设置安装包的源\"><a class=\"anchor\" href=\"#4-设置安装包的源\">#</a> 4. 设置安装包的源：</h5>\n<figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda config --add channels https:<span class=\"comment\">//mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/fre</span></span><br></pre></td></tr></table></figure>\n<p>e/<br>\nconda config --add channels <span class=\"exturl\" data-url=\"aHR0cHM6Ly9taXJyb3JzLnR1bmEudHNpbmdodWEuZWR1LmNuL2FuYWNvbmRhL3BrZ3MvbWFp\">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/mai</span><br>\nn/<br>\nconda config --set show_channel_urls yes</p>\n<h1 id=\"jupyter-notebook-使用\"><a class=\"anchor\" href=\"#jupyter-notebook-使用\">#</a> Jupyter notebook 使用</h1>\n<h2 id=\"常用快捷键\"><a class=\"anchor\" href=\"#常用快捷键\">#</a> 常用快捷键：</h2>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1.命令模式（按 Esc 键）：</span><br><span class=\"line\"><span class=\"bullet\">1.</span> Enter：转入编辑模式</span><br><span class=\"line\"><span class=\"bullet\">2.</span> Shift-Enter：运行本单元，选中下个单元</span><br><span class=\"line\"><span class=\"bullet\">3.</span> Ctrl-Enter：运行本单元</span><br><span class=\"line\"><span class=\"bullet\">4.</span> Alt-Enter：运行本单元，在其下插入新单元</span><br><span class=\"line\"><span class=\"bullet\">5.</span> Y：单元转入代码状态</span><br><span class=\"line\"><span class=\"bullet\">6.</span> M：单元转入markdown状态</span><br><span class=\"line\"><span class=\"bullet\">7.</span> R：单元转入raw状态</span><br><span class=\"line\"><span class=\"bullet\">8.</span> 1：设定 1 级标题</span><br><span class=\"line\"><span class=\"bullet\">9.</span> 2：设定 2 级标题</span><br><span class=\"line\"><span class=\"bullet\">10.</span> 3：设定 3 级标题</span><br><span class=\"line\"><span class=\"bullet\">11.</span> 4：设定 4 级标题</span><br><span class=\"line\"><span class=\"bullet\">12.</span> 5：设定 5 级标题</span><br><span class=\"line\"><span class=\"bullet\">13.</span> 6：设定 6 级标题</span><br><span class=\"line\"><span class=\"bullet\">14.</span> Up：选中上方单元</span><br><span class=\"line\"><span class=\"bullet\">15.</span> K：选中上方单元</span><br><span class=\"line\"><span class=\"bullet\">16.</span> Down：选中下方单元</span><br><span class=\"line\"><span class=\"bullet\">17.</span> J：选中下方单元</span><br><span class=\"line\"><span class=\"bullet\">18.</span> Shift-K：扩大选中上方单元</span><br><span class=\"line\"><span class=\"bullet\">19.</span> Shift-J：扩大选中下方单元</span><br><span class=\"line\"><span class=\"bullet\">20.</span> A：在上方插入新单元</span><br><span class=\"line\"><span class=\"bullet\">21.</span> B：在下方插入新单元</span><br><span class=\"line\"><span class=\"bullet\">22.</span> X：剪切选中的单元</span><br><span class=\"line\"><span class=\"bullet\">23.</span> C：复制选中的单元</span><br><span class=\"line\"><span class=\"bullet\">24.</span> Shift-V：粘贴到上方单元</span><br><span class=\"line\"><span class=\"bullet\">25.</span> V：粘贴到下方单元</span><br><span class=\"line\"><span class=\"bullet\">26.</span> Z：恢复删除的最后一个单元</span><br><span class=\"line\"><span class=\"bullet\">27.</span> D,D：删除选中的单元</span><br><span class=\"line\"><span class=\"bullet\">28.</span> Shift-M：合并选中的单元</span><br><span class=\"line\"><span class=\"bullet\">29.</span> Ctrl-S：文件存盘</span><br><span class=\"line\"><span class=\"bullet\">30.</span> S：文件存盘</span><br><span class=\"line\"><span class=\"bullet\">31.</span> L：转换行号</span><br><span class=\"line\"><span class=\"bullet\">32.</span> O：转换输出</span><br><span class=\"line\"><span class=\"bullet\">33.</span> Shift-O：转换输出滚动</span><br><span class=\"line\"><span class=\"bullet\">34.</span> Esc：关闭页面</span><br><span class=\"line\"><span class=\"bullet\">35.</span> Q：关闭页面</span><br><span class=\"line\"><span class=\"bullet\">36.</span> H：显示快捷键帮助</span><br><span class=\"line\"><span class=\"bullet\">37.</span> I,I：中断Notebook内核</span><br><span class=\"line\"><span class=\"bullet\">38.</span> 0,0：重启Notebook内核</span><br><span class=\"line\"><span class=\"bullet\">39.</span> Shift：忽略</span><br><span class=\"line\"><span class=\"bullet\">40.</span> Shift-Space：向上滚动</span><br><span class=\"line\"><span class=\"bullet\">41.</span> Space：向下滚动</span><br></pre></td></tr></table></figure>\n<h3 id=\"编辑模式\"><a class=\"anchor\" href=\"#编辑模式\">#</a> 编辑模式：</h3>\n<figure class=\"highlight ada\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">1</span>. Tab : 代码补全或缩进</span><br><span class=\"line\"><span class=\"number\">2</span>. Shift-Tab : 提示</span><br><span class=\"line\"><span class=\"number\">3</span>. Ctrl-] : 缩进</span><br><span class=\"line\"><span class=\"number\">4</span>. Ctrl-[ : 解除缩进</span><br><span class=\"line\"><span class=\"number\">5</span>. Ctrl-A : 全选</span><br><span class=\"line\"><span class=\"number\">6</span>. Ctrl-Z : 复原</span><br><span class=\"line\"><span class=\"number\">7</span>. Ctrl-Shift-Z : 再做</span><br><span class=\"line\"><span class=\"number\">8</span>. Ctrl-Y : 再做</span><br><span class=\"line\"><span class=\"number\">9</span>. Ctrl-Home : 跳到单元开头</span><br><span class=\"line\"><span class=\"number\">10</span>. Ctrl-Up : 跳到单元开头</span><br><span class=\"line\"><span class=\"number\">11</span>. Ctrl-<span class=\"keyword\">End</span> : 跳到单元末尾</span><br><span class=\"line\"><span class=\"number\">12</span>. Ctrl-Down : 跳到单元末尾</span><br><span class=\"line\"><span class=\"number\">13</span>. Ctrl-Left : 跳到左边一个字首</span><br><span class=\"line\"><span class=\"number\">14</span>. Ctrl-Right : 跳到右边一个字首</span><br><span class=\"line\"><span class=\"number\">15</span>. Ctrl-Backspace : 删除前面一个字</span><br><span class=\"line\"><span class=\"number\">16</span>. Ctrl-Delete : 删除后面一个字</span><br><span class=\"line\"><span class=\"number\">17</span>. Esc : 进入命令模式</span><br><span class=\"line\"><span class=\"number\">18</span>. Ctrl-M : 进入命令模式</span><br><span class=\"line\"><span class=\"number\">19</span>. Shift-Enter : 运行本单元，选中下一单元</span><br><span class=\"line\"><span class=\"number\">20</span>. Ctrl-Enter : 运行本单元</span><br><span class=\"line\"><span class=\"number\">21</span>. Alt-Enter : 运行本单元，在下面插入一单元</span><br><span class=\"line\"><span class=\"number\">22</span>. Ctrl-Shift<span class=\"comment\">-- : 分割单元</span></span><br><span class=\"line\"><span class=\"number\">23</span>. Ctrl-Shift-Subtract : 分割单元</span><br><span class=\"line\"><span class=\"number\">24</span>. Ctrl-S : 文件存盘</span><br><span class=\"line\"><span class=\"number\">25</span>. Shift : 忽略</span><br><span class=\"line\"><span class=\"number\">26</span>. Up : 光标上移或转入上一单元</span><br><span class=\"line\"><span class=\"number\">27</span>. Down :光标下移或转入下一单元</span><br></pre></td></tr></table></figure>\n<h2 id=\"注意事项\"><a class=\"anchor\" href=\"#注意事项\">#</a> 注意事项：</h2>\n<h5 id=\"jupyter-notebook-每一个-cell-运行完后都会把这个-cell-中的变量保存到内存中如果在一\"><a class=\"anchor\" href=\"#jupyter-notebook-每一个-cell-运行完后都会把这个-cell-中的变量保存到内存中如果在一\">#</a> jupyter notebook 每一个 cell 运行完后都会把这个 cell 中的变量保存到内存中，如果在一</h5>\n<h5 id=\"个-cell-中修改了之前的变量再此运行这个-cell-的时候可能会导致一些问题产生-比如以下代\"><a class=\"anchor\" href=\"#个-cell-中修改了之前的变量再此运行这个-cell-的时候可能会导致一些问题产生-比如以下代\">#</a> 个 cell 中修改了之前的变量，再此运行这个 cell 的时候可能会导致一些问题产生。比如以下代</h5>\n<h5 id=\"码\"><a class=\"anchor\" href=\"#码\">#</a> 码：</h5>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 第一个cell中的代码</span></span><br><span class=\"line\"><span class=\"attr\">a</span> = <span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"attr\">b</span> = <span class=\"number\">20</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 第二个cell中的代码</span></span><br><span class=\"line\"><span class=\"attr\">c</span> = a/b</span><br><span class=\"line\"><span class=\"attr\">b</span> = <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"因为第二个-cell-修改了-b-变量此时在整个环境中-b-都是等于-0-的所以以后再运行这\"><a class=\"anchor\" href=\"#因为第二个-cell-修改了-b-变量此时在整个环境中-b-都是等于-0-的所以以后再运行这\">#</a> 因为第二个 cell 修改了 b 变量，此时在整个环境中 b 都是等于 0 的，所以以后再运行这</h5>\n<h5 id=\"个-cell-的时候-ab-这个就会出问题了-这时候可以使用-kernel-rstartrun-all-来重新运行\"><a class=\"anchor\" href=\"#个-cell-的时候-ab-这个就会出问题了-这时候可以使用-kernel-rstartrun-all-来重新运行\">#</a> 个 cell 的时候， a/b 这个就会出问题了。这时候可以使用 Kernel-&gt;Rstart&amp;Run All 来重新运行</h5>\n<h5 id=\"整个项目\"><a class=\"anchor\" href=\"#整个项目\">#</a> 整个项目。</h5>\n<h1 id=\"numpy-库\"><a class=\"anchor\" href=\"#numpy-库\">#</a> Numpy 库</h1>\n<h5 id=\"numpynumerical-python的简称-是一个专门用来做科学计算的库主要用在多维数组矩阵方\"><a class=\"anchor\" href=\"#numpynumerical-python的简称-是一个专门用来做科学计算的库主要用在多维数组矩阵方\">#</a> Numpy (Numerical Python 的简称) 是一个专门用来做科学计算的库，主要用在多维数组（矩阵）方</h5>\n<h5 id=\"面的处理-因为-numpy-底层是用-c-语言开发的所以他在处理一些多维数组矩阵的时候比\"><a class=\"anchor\" href=\"#面的处理-因为-numpy-底层是用-c-语言开发的所以他在处理一些多维数组矩阵的时候比\">#</a> 面的处理。因为 Numpy 底层是用 C 语言开发的，所以他在处理一些多维数组（矩阵）的时候，比</h5>\n<h5 id=\"原生-python-的列表快得很多-他是个基础的科学计算库-python-其余的科学计算扩展大部分都\"><a class=\"anchor\" href=\"#原生-python-的列表快得很多-他是个基础的科学计算库-python-其余的科学计算扩展大部分都\">#</a> 原生 Python 的列表快得很多。他是个基础的科学计算库， Python 其余的科学计算扩展大部分都</h5>\n<h5 id=\"是以此为基础\"><a class=\"anchor\" href=\"#是以此为基础\">#</a> 是以此为基础。</h5>\n<h2 id=\"安装\"><a class=\"anchor\" href=\"#安装\">#</a> 安装：</h2>\n<h5 id=\"进入到你自己的环境中然后输入-conda-install-numpy-即可安装-安装完成后以后\"><a class=\"anchor\" href=\"#进入到你自己的环境中然后输入-conda-install-numpy-即可安装-安装完成后以后\">#</a> 进入到你自己的环境中，然后输入 conda install numpy 即可安装。安装完成后，以后</h5>\n<h5 id=\"在-pycharm-中使用的时候如果出现以下错误\"><a class=\"anchor\" href=\"#在-pycharm-中使用的时候如果出现以下错误\">#</a> 在 pycharm 中使用的时候如果出现以下错误：</h5>\n<h5 id=\"那么需要把-anaconda-的安装路径添加到-path-的环境变量中-比如我是把-anaconda-安装\"><a class=\"anchor\" href=\"#那么需要把-anaconda-的安装路径添加到-path-的环境变量中-比如我是把-anaconda-安装\">#</a> 那么需要把 Anaconda 的安装路径添加到 PATH 的环境变量中。比如我是把 Anaconda 安装</h5>\n<h5 id=\"在-dprogramappanaconda-那么需要添加以下三个环境变量\"><a class=\"anchor\" href=\"#在-dprogramappanaconda-那么需要添加以下三个环境变量\">#</a> 在 D:\\ProgramApp\\Anaconda ，那么需要添加以下三个环境变量：</h5>\n<h1 id=\"numpy-库介绍\"><a class=\"anchor\" href=\"#numpy-库介绍\">#</a> Numpy 库介绍</h1>\n<h5 id=\"numpy-是一个功能强大的-python-库主要用于对多维数组执行计算-numpy-这个词来源于两个\"><a class=\"anchor\" href=\"#numpy-是一个功能强大的-python-库主要用于对多维数组执行计算-numpy-这个词来源于两个\">#</a> NumPy 是一个功能强大的 Python 库，主要用于对多维数组执行计算。 NumPy 这个词来源于两个</h5>\n<h5 id=\"单词-numerical-和-python-numpy-提供了大量的库函数和操作可以帮助程序员轻松地进行\"><a class=\"anchor\" href=\"#单词-numerical-和-python-numpy-提供了大量的库函数和操作可以帮助程序员轻松地进行\">#</a> 单词 -- Numerical 和 Python 。 NumPy 提供了大量的库函数和操作，可以帮助程序员轻松地进行</h5>\n<h5 id=\"数值计算-在数据分析和机器学习领域被广泛使用-他有以下几个特点\"><a class=\"anchor\" href=\"#数值计算-在数据分析和机器学习领域被广泛使用-他有以下几个特点\">#</a> 数值计算。在数据分析和机器学习领域被广泛使用。他有以下几个特点：</h5>\n<h5 id=\"1-numpy内置了并行运算功能当系统有多个核心时做某种计算时numpy会自动做并行计\"><a class=\"anchor\" href=\"#1-numpy内置了并行运算功能当系统有多个核心时做某种计算时numpy会自动做并行计\">#</a> 1. numpy 内置了并行运算功能，当系统有多个核心时，做某种计算时，numpy 会自动做并行计</h5>\n<h5 id=\"算\"><a class=\"anchor\" href=\"#算\">#</a> 算。</h5>\n<h5 id=\"2-numpy底层使用c语言编写内部解除了gil全局解释器锁其对数组的操作速度不受\"><a class=\"anchor\" href=\"#2-numpy底层使用c语言编写内部解除了gil全局解释器锁其对数组的操作速度不受\">#</a> 2. Numpy 底层使用 C 语言编写，内部解除了 GIL（全局解释器锁），其对数组的操作速度不受</h5>\n<h5 id=\"python解释器的限制效率远高于纯python代码\"><a class=\"anchor\" href=\"#python解释器的限制效率远高于纯python代码\">#</a> Python 解释器的限制，效率远高于纯 Python 代码。</h5>\n<h5 id=\"3-有一个强大的n维数组对象array一种类似于列表的东西\"><a class=\"anchor\" href=\"#3-有一个强大的n维数组对象array一种类似于列表的东西\">#</a> 3. 有一个强大的 N 维数组对象 Array（一种类似于列表的东西）。</h5>\n<h5 id=\"4-实用的线性代数-傅里叶变换和随机数生成函数\"><a class=\"anchor\" href=\"#4-实用的线性代数-傅里叶变换和随机数生成函数\">#</a> 4. 实用的线性代数、傅里叶变换和随机数生成函数。</h5>\n<h5 id=\"总而言之他是一个非常高效的用于处理数值型运算的包\"><a class=\"anchor\" href=\"#总而言之他是一个非常高效的用于处理数值型运算的包\">#</a> 总而言之，他是一个非常高效的用于处理数值型运算的包。</h5>\n<h2 id=\"安装-2\"><a class=\"anchor\" href=\"#安装-2\">#</a> 安装：</h2>\n<h5 id=\"通过-pip-install-numpy-即可安装\"><a class=\"anchor\" href=\"#通过-pip-install-numpy-即可安装\">#</a> 通过 pip install numpy 即可安装。</h5>\n<h2 id=\"教程地址\"><a class=\"anchor\" href=\"#教程地址\">#</a> 教程地址：</h2>\n<h5 id=\"1-官网-httpsdocsscipyorgdocnumpyuserquickstarthtml\"><a class=\"anchor\" href=\"#1-官网-httpsdocsscipyorgdocnumpyuserquickstarthtml\">#</a> 1. 官网： <span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLnNjaXB5Lm9yZy9kb2MvbnVtcHkvdXNlci9xdWlja3N0YXJ0Lmh0bWw=\">https://docs.scipy.org/doc/numpy/user/quickstart.html</span> 。</h5>\n<h5 id=\"2-中文文档-httpswwwnumpyorgcnuser_guidequickstart_tutorialindexhtml\"><a class=\"anchor\" href=\"#2-中文文档-httpswwwnumpyorgcnuser_guidequickstart_tutorialindexhtml\">#</a> 2. 中文文档： <span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubnVtcHkub3JnLmNuL3VzZXJfZ3VpZGUvcXVpY2tzdGFydF90dXRvcmlhbC9pbmRleC5odG1s\">https://www.numpy.org.cn/user_guide/quickstart_tutorial/index.html</span> 。</h5>\n<h2 id=\"numpy-数组和-python-列表性能对比\"><a class=\"anchor\" href=\"#numpy-数组和-python-列表性能对比\">#</a> Numpy 数组和 Python 列表性能对比：</h2>\n<h5 id=\"比如我们想要对一个numpy数组和python列表中的每个素进行求平方-那么代码如下\"><a class=\"anchor\" href=\"#比如我们想要对一个numpy数组和python列表中的每个素进行求平方-那么代码如下\">#</a> 比如我们想要对一个 Numpy 数组和 Python 列表中的每个素进行求平方。那么代码如下：</h5>\n<figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Python列表的方式</span></span><br><span class=\"line\">t1 = <span class=\"built_in\">time</span>.<span class=\"built_in\">time</span>()</span><br><span class=\"line\"><span class=\"keyword\">a</span> = []</span><br><span class=\"line\"><span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> range( <span class=\"number\">100000</span> ):</span><br><span class=\"line\"><span class=\"keyword\">a</span>.append(x** <span class=\"number\">2</span> )</span><br><span class=\"line\">t2 = <span class=\"built_in\">time</span>.<span class=\"built_in\">time</span>()</span><br><span class=\"line\">t = t2 - t</span><br><span class=\"line\">print(t)</span><br></pre></td></tr></table></figure>\n<h5 id=\"花费的时间大约是-007180-左右-而如果使用-numpy-的数组来做那速度就要快很多了\"><a class=\"anchor\" href=\"#花费的时间大约是-007180-左右-而如果使用-numpy-的数组来做那速度就要快很多了\">#</a> 花费的时间大约是 0.07180 左右。而如果使用 numpy 的数组来做，那速度就要快很多了：</h5>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">t3</span> <span class=\"operator\">=</span> time.time()</span><br><span class=\"line\"><span class=\"attribute\">b</span> <span class=\"operator\">=</span> np.arange( <span class=\"number\">100000</span> )** <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"attribute\">t4</span> <span class=\"operator\">=</span> time.time()</span><br></pre></td></tr></table></figure>\n<p>print(t4-t3)</p>\n<h1 id=\"numpy-数组基本用法\"><a class=\"anchor\" href=\"#numpy-数组基本用法\">#</a> NumPy 数组基本用法</h1>\n<h5 id=\"1-numpy-是-python-科学计算库用于快速处理任意维度的数组\"><a class=\"anchor\" href=\"#1-numpy-是-python-科学计算库用于快速处理任意维度的数组\">#</a> 1. Numpy 是 Python 科学计算库，用于快速处理任意维度的数组。</h5>\n<h5 id=\"2-numpy-提供一个-n-维数组类型-ndarray-它描述了相同类型的items的集合\"><a class=\"anchor\" href=\"#2-numpy-提供一个-n-维数组类型-ndarray-它描述了相同类型的items的集合\">#</a> 2. NumPy 提供一个 N 维数组类型 ndarray ，它描述了相同类型的 “items” 的集合。</h5>\n<h5 id=\"3-numpyndarray-支持向量化运算\"><a class=\"anchor\" href=\"#3-numpyndarray-支持向量化运算\">#</a> 3. numpy.ndarray 支持向量化运算。</h5>\n<h5 id=\"4-numpy-使用c语言写的底部解除了-gil-其对数组的操作速度不在受-python-解释器限制\"><a class=\"anchor\" href=\"#4-numpy-使用c语言写的底部解除了-gil-其对数组的操作速度不在受-python-解释器限制\">#</a> 4. NumPy 使用 c 语言写的，底部解除了 GIL ，其对数组的操作速度不在受 python 解释器限制。</h5>\n<h2 id=\"numpy-中的数组\"><a class=\"anchor\" href=\"#numpy-中的数组\">#</a> numpy 中的数组：</h2>\n<h5 id=\"numpy-中的数组的使用跟-python-中的列表非常类似-他们之间的区别如下\"><a class=\"anchor\" href=\"#numpy-中的数组的使用跟-python-中的列表非常类似-他们之间的区别如下\">#</a> Numpy 中的数组的使用跟 Python 中的列表非常类似。他们之间的区别如下：</h5>\n<h5 id=\"1-一个列表中可以存储多种数据类型-比如-a-1a-是允许的而数组只能存储同种数据\"><a class=\"anchor\" href=\"#1-一个列表中可以存储多种数据类型-比如-a-1a-是允许的而数组只能存储同种数据\">#</a> 1. 一个列表中可以存储多种数据类型。比如 a = [1,‘a’] 是允许的，而数组只能存储同种数据</h5>\n<h5 id=\"类型\"><a class=\"anchor\" href=\"#类型\">#</a> 类型。</h5>\n<h5 id=\"2-数组可以是多维的当多维数组中所有的数据都是数值类型的时候相当于线性代数中的矩\"><a class=\"anchor\" href=\"#2-数组可以是多维的当多维数组中所有的数据都是数值类型的时候相当于线性代数中的矩\">#</a> 2. 数组可以是多维的，当多维数组中所有的数据都是数值类型的时候，相当于线性代数中的矩</h5>\n<h5 id=\"阵是可以进行相互间的运算的\"><a class=\"anchor\" href=\"#阵是可以进行相互间的运算的\">#</a> 阵，是可以进行相互间的运算的。</h5>\n<h2 id=\"创建数组-npndarray-对象\"><a class=\"anchor\" href=\"#创建数组-npndarray-对象\">#</a> 创建数组（ np.ndarray 对象）：</h2>\n<h5 id=\"numpy-经常和数组打交道因此首先第一步是要学会创建数组-在-numpy-中的数组的数据类型叫\"><a class=\"anchor\" href=\"#numpy-经常和数组打交道因此首先第一步是要学会创建数组-在-numpy-中的数组的数据类型叫\">#</a> Numpy 经常和数组打交道，因此首先第一步是要学会创建数组。在 Numpy 中的数组的数据类型叫</h5>\n<h5 id=\"做-ndarray-以下是两种创建的方式\"><a class=\"anchor\" href=\"#做-ndarray-以下是两种创建的方式\">#</a> 做 ndarray 。以下是两种创建的方式：</h5>\n<h5 id=\"1-根据-python-中的列表生成\"><a class=\"anchor\" href=\"#1-根据-python-中的列表生成\">#</a> 1. 根据 Python 中的列表生成：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import numpy as np</span><br><span class=\"line\">a1 = np<span class=\"selector-class\">.array</span>(<span class=\"selector-attr\">[ 1 , 2 , 3 , 4 ]</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(a1)</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(type(a1)</span></span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"2-使用-nparange-生成-nparange-的用法类似于-python-中的-range\"><a class=\"anchor\" href=\"#2-使用-nparange-生成-nparange-的用法类似于-python-中的-range\">#</a> 2. 使用 np.arange 生成， np.arange 的用法类似于 Python 中的 range ：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import numpy as np</span><br><span class=\"line\">a2 = np<span class=\"selector-class\">.arange</span>( <span class=\"number\">2</span> , <span class=\"number\">21</span> , <span class=\"number\">2</span> )</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(a2)</span></span></span><br></pre></td></tr></table></figure>\n<h5 id=\"3-使用-nprandom-生成随机数的数组\"><a class=\"anchor\" href=\"#3-使用-nprandom-生成随机数的数组\">#</a> 3. 使用 np.random 生成随机数的数组：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a1</span> = np.random.random( <span class=\"number\">2</span> , <span class=\"number\">2</span> ) # 生成 <span class=\"number\">2</span> 行 <span class=\"number\">2</span> 列的随机数的数组</span><br><span class=\"line\"><span class=\"attribute\">a2</span> = np.random.randint( <span class=\"number\">0</span> , <span class=\"number\">10</span> ,size=( <span class=\"number\">3</span> , <span class=\"number\">3</span> )) # 元素是从<span class=\"number\">0</span>-<span class=\"number\">10</span>之间随机的 <span class=\"number\">3</span> 行 <span class=\"number\">3</span> 列的数组</span><br></pre></td></tr></table></figure>\n<h5 id=\"4-使用函数生成特殊的数组\"><a class=\"anchor\" href=\"#4-使用函数生成特殊的数组\">#</a> 4. 使用函数生成特殊的数组：</h5>\n<figure class=\"highlight elm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a1</span> = np.zeros(( <span class=\"number\">2</span> , <span class=\"number\">2</span> )) #生成一个所有元素都是 <span class=\"number\">0</span> 的 <span class=\"number\">2</span> 行 <span class=\"number\">2</span> 列的数组</span><br><span class=\"line\"><span class=\"attribute\">a2</span> = np.ones(( <span class=\"number\">3</span> , <span class=\"number\">2</span> )) #生成一个所有元素都是 <span class=\"number\">1</span> 的 <span class=\"number\">3</span> 行 <span class=\"number\">2</span> 列的数组</span><br><span class=\"line\"><span class=\"attribute\">a3</span> = np.full(( <span class=\"number\">2</span> , <span class=\"number\">2</span> ), <span class=\"number\">8</span> ) #生成一个所有元素都是 <span class=\"number\">8</span> 的 <span class=\"number\">2</span> 行 <span class=\"number\">2</span> 列的数组</span><br><span class=\"line\"><span class=\"attribute\">a4</span> = np.eye( <span class=\"number\">3</span> ) #生成一个在斜方形上元素为 <span class=\"number\">1</span> ，其他元素都为 <span class=\"number\">0</span> 的<span class=\"number\">3</span>x3的矩阵</span><br></pre></td></tr></table></figure>\n<h2 id=\"ndarray-常用属性\"><a class=\"anchor\" href=\"#ndarray-常用属性\">#</a> ndarray 常用属性：</h2>\n<h3 id=\"ndarraydtype\"><a class=\"anchor\" href=\"#ndarraydtype\">#</a> ndarray.dtype ：</h3>\n<h5 id=\"因为数组中只能存储同一种数据类型因此可以通过-dtype-获取数组中的元素的数据类型-以下\"><a class=\"anchor\" href=\"#因为数组中只能存储同一种数据类型因此可以通过-dtype-获取数组中的元素的数据类型-以下\">#</a> 因为数组中只能存储同一种数据类型，因此可以通过 dtype 获取数组中的元素的数据类型。以下</h5>\n<h5 id=\"是-ndarraydtype-的常用的数据类型\"><a class=\"anchor\" href=\"#是-ndarraydtype-的常用的数据类型\">#</a> 是 ndarray.dtype 的常用的数据类型：</h5>\n<h5 id=\"数据类型-描述-唯一标识符\"><a class=\"anchor\" href=\"#数据类型-描述-唯一标识符\">#</a> 数据类型 描述 唯一标识符</h5>\n<h5 id=\"bool-用一个字节存储的布尔类型true或false-b\"><a class=\"anchor\" href=\"#bool-用一个字节存储的布尔类型true或false-b\">#</a> bool 用一个字节存储的布尔类型（True 或 False） ‘b’</h5>\n<h5 id=\"int8-一个字节大小-128-至-127-i1\"><a class=\"anchor\" href=\"#int8-一个字节大小-128-至-127-i1\">#</a> int8 一个字节大小，-128 至 127 ‘i1’</h5>\n<h5 id=\"int16-整数-16-位整数-32768-~-32767-i2\"><a class=\"anchor\" href=\"#int16-整数-16-位整数-32768-~-32767-i2\">#</a> int16 整数， 16 位整数 (-32768 ~ 32767) ‘i2’</h5>\n<h5 id=\"int32-整数-32-位整数-2147483648-~-2147483647-i4\"><a class=\"anchor\" href=\"#int32-整数-32-位整数-2147483648-~-2147483647-i4\">#</a> int32 整数， 32 位整数 (-2147483648 ~ 2147483647) ‘i4’</h5>\n<h5 id=\"int64-整数922337203685477580764-位整数-9223372036854775808-~-i8\"><a class=\"anchor\" href=\"#int64-整数922337203685477580764-位整数-9223372036854775808-~-i8\">#</a> int64 整数，9223372036854775807)^64 位整数 (-9223372036854775808 ~ ‘i8’</h5>\n<h5 id=\"uint8-无符号整数-0-至-255-u1\"><a class=\"anchor\" href=\"#uint8-无符号整数-0-至-255-u1\">#</a> uint8 无符号整数， 0 至 255 ‘u1’</h5>\n<h5 id=\"uint16-无符号整数-0-至-65535-u2\"><a class=\"anchor\" href=\"#uint16-无符号整数-0-至-65535-u2\">#</a> uint16 无符号整数， 0 至 65535 ‘u2’</h5>\n<h5 id=\"uint32-无符号整数-0-至-2-32-1-u4\"><a class=\"anchor\" href=\"#uint32-无符号整数-0-至-2-32-1-u4\">#</a> uint32 无符号整数， 0 至 2 ** 32 - 1 ‘u4’</h5>\n<h5 id=\"uint64-无符号整数-0-至-2-64-1-u8\"><a class=\"anchor\" href=\"#uint64-无符号整数-0-至-2-64-1-u8\">#</a> uint64 无符号整数， 0 至 2 ** 64 - 1 ‘u8’</h5>\n<h5 id=\"float16-半精度浮点数-16-位正负号-1-位指数-5-位精度-10-位-f2\"><a class=\"anchor\" href=\"#float16-半精度浮点数-16-位正负号-1-位指数-5-位精度-10-位-f2\">#</a> float16 半精度浮点数： 16 位，正负号 1 位，指数 5 位，精度 10 位 ‘f2’</h5>\n<h5 id=\"float32-单精度浮点数-32-位正负号-1-位指数-8-位精度-23-位-f4\"><a class=\"anchor\" href=\"#float32-单精度浮点数-32-位正负号-1-位指数-8-位精度-23-位-f4\">#</a> float32 单精度浮点数： 32 位，正负号 1 位，指数 8 位，精度 23 位 ‘f4’</h5>\n<h5 id=\"float64-双精度浮点数-64-位正负号-1-位指数-11-位精度-52-位-f8\"><a class=\"anchor\" href=\"#float64-双精度浮点数-64-位正负号-1-位指数-11-位精度-52-位-f8\">#</a> float64 双精度浮点数： 64 位，正负号 1 位，指数 11 位，精度 52 位 ‘f8’</h5>\n<h5 id=\"complex64-复数分别用两个-32-位浮点数表示实部和虚部-c8\"><a class=\"anchor\" href=\"#complex64-复数分别用两个-32-位浮点数表示实部和虚部-c8\">#</a> complex64 复数，分别用两个 32 位浮点数表示实部和虚部 ‘c8’</h5>\n<h5 id=\"complex128-复数分别用两个-64-位浮点数表示实部和虚部-c16\"><a class=\"anchor\" href=\"#complex128-复数分别用两个-64-位浮点数表示实部和虚部-c16\">#</a> complex128 复数，分别用两个 64 位浮点数表示实部和虚部 ‘c16’</h5>\n<h5 id=\"object_-python对象-o\"><a class=\"anchor\" href=\"#object_-python对象-o\">#</a> object_ python 对象 ‘O’</h5>\n<h5 id=\"string_-字符串-s\"><a class=\"anchor\" href=\"#string_-字符串-s\">#</a> string_ 字符串 ‘S’</h5>\n<h5 id=\"unicode_-unicode类型-u\"><a class=\"anchor\" href=\"#unicode_-unicode类型-u\">#</a> unicode_ unicode 类型 ‘U’</h5>\n<h5 id=\"我们可以看到-numpy-中关于数值的类型比-python-内置的多得多这是因为-numpy-为了能高效\"><a class=\"anchor\" href=\"#我们可以看到-numpy-中关于数值的类型比-python-内置的多得多这是因为-numpy-为了能高效\">#</a> 我们可以看到， Numpy 中关于数值的类型比 Python 内置的多得多，这是因为 Numpy 为了能高效</h5>\n<h5 id=\"处理处理海量数据而设计的-举个例子比如现在想要存储上百亿的数字并且这些数字都不超过\"><a class=\"anchor\" href=\"#处理处理海量数据而设计的-举个例子比如现在想要存储上百亿的数字并且这些数字都不超过\">#</a> 处理处理海量数据而设计的。举个例子，比如现在想要存储上百亿的数字，并且这些数字都不超过</h5>\n<h5 id=\"254-一个字节内我们就可以将-dtype-设置为-int8-这样就比默认使用-int64-更能节省内\"><a class=\"anchor\" href=\"#254-一个字节内我们就可以将-dtype-设置为-int8-这样就比默认使用-int64-更能节省内\">#</a> 254 （一个字节内），我们就可以将 dtype 设置为 int8 ，这样就比默认使用 int64 更能节省内</h5>\n<h5 id=\"存空间了-类型相关的操作如下\"><a class=\"anchor\" href=\"#存空间了-类型相关的操作如下\">#</a> 存空间了。类型相关的操作如下：</h5>\n<h5 id=\"1-默认的数据类型\"><a class=\"anchor\" href=\"#1-默认的数据类型\">#</a> 1. 默认的数据类型：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">import</span> numpy as np</span><br><span class=\"line\"><span class=\"attribute\">a1</span> = np.array([ <span class=\"number\">1</span> , <span class=\"number\">2</span> , <span class=\"number\">3</span> ])</span><br><span class=\"line\"><span class=\"attribute\">print</span>(a1.dtype)</span><br><span class=\"line\"><span class=\"comment\"># 如果是windows系统，默认是int32</span></span><br><span class=\"line\"><span class=\"comment\"># 如果是mac或者linux系统，则根据系统来</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"2-指定-dtype\"><a class=\"anchor\" href=\"#2-指定-dtype\">#</a> 2. 指定 dtype ：</h5>\n<figure class=\"highlight elm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"><span class=\"title\">a1</span> = np.array([ <span class=\"number\">1</span> , <span class=\"number\">2</span> , <span class=\"number\">3</span> ],d<span class=\"keyword\">type</span>=np.int64)</span><br><span class=\"line\"># 或者 a1 = np.array([<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>],d<span class=\"keyword\">type</span>=&quot;i8&quot;)</span><br><span class=\"line\"><span class=\"title\">print</span>(a1.d<span class=\"keyword\">type</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"3-修改-dtype\"><a class=\"anchor\" href=\"#3-修改-dtype\">#</a> 3. 修改 dtype ：</h5>\n<figure class=\"highlight elm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"><span class=\"title\">a1</span> = np.array([ <span class=\"number\">1</span> , <span class=\"number\">2</span> , <span class=\"number\">3</span> ])</span><br><span class=\"line\"><span class=\"title\">print</span>(a1.d<span class=\"keyword\">type</span>) # window系统下默认是int32</span><br><span class=\"line\"># 以下修改d<span class=\"keyword\">type</span></span><br><span class=\"line\"><span class=\"title\">a2</span> = a1.<span class=\"keyword\">as</span><span class=\"keyword\">type</span>(np.int64) # astype不会修改数组本身，而是会将修改后的结果返回</span><br><span class=\"line\"><span class=\"title\">print</span>(a2.d<span class=\"keyword\">type</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"ndarraysize\"><a class=\"anchor\" href=\"#ndarraysize\">#</a> ndarray.size ：</h3>\n<h5 id=\"获取数组中总的元素的个数-比如有个二维数组\"><a class=\"anchor\" href=\"#获取数组中总的元素的个数-比如有个二维数组\">#</a> 获取数组中总的元素的个数。比如有个二维数组：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">import</span> numpy as np</span><br><span class=\"line\"><span class=\"attribute\">a1</span> = np.array([[ <span class=\"number\">1</span> , <span class=\"number\">2</span> , <span class=\"number\">3</span> ],[ <span class=\"number\">4</span> , <span class=\"number\">5</span> , <span class=\"number\">6</span> ]])</span><br><span class=\"line\"><span class=\"attribute\">print</span>(a1.size) #打印的是 <span class=\"number\">6</span> ，因为总共有 <span class=\"number\">6</span> 个元素</span><br></pre></td></tr></table></figure>\n<h3 id=\"ndarrayndim\"><a class=\"anchor\" href=\"#ndarrayndim\">#</a> ndarray.ndim ：</h3>\n<h5 id=\"数组的维数-比如\"><a class=\"anchor\" href=\"#数组的维数-比如\">#</a> 数组的维数。比如：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a1</span> = np.array([ <span class=\"number\">1</span> , <span class=\"number\">2</span> , <span class=\"number\">3</span> ])</span><br><span class=\"line\"><span class=\"attribute\">print</span>(a1.ndim) # 维度为 <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">a2</span> = np.array([[ <span class=\"number\">1</span> , <span class=\"number\">2</span> , <span class=\"number\">3</span> ],[ <span class=\"number\">4</span> , <span class=\"number\">5</span> , <span class=\"number\">6</span> ]])</span><br><span class=\"line\"><span class=\"attribute\">print</span>(a2.ndim) # 维度为 <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"attribute\">a3</span> = np.array([[[ <span class=\"number\">1</span> , <span class=\"number\">2</span> , <span class=\"number\">3</span> ],[ <span class=\"number\">4</span> , <span class=\"number\">5</span> , <span class=\"number\">6</span> ]],[[ <span class=\"number\">7</span> , <span class=\"number\">8</span> , <span class=\"number\">9</span> ],[ <span class=\"number\">10</span> , <span class=\"number\">11</span> , <span class=\"number\">12</span> ]]])</span><br><span class=\"line\"><span class=\"attribute\">print</span>(a3.ndim) # 维度为 <span class=\"number\">3</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"ndarrayshape\"><a class=\"anchor\" href=\"#ndarrayshape\">#</a> ndarray.shape ：</h3>\n<h5 id=\"数组的维度的元组-比如以下代码\"><a class=\"anchor\" href=\"#数组的维度的元组-比如以下代码\">#</a> 数组的维度的元组。比如以下代码：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a1</span> = np.array([ <span class=\"number\">1</span> , <span class=\"number\">2</span> , <span class=\"number\">3</span> ])</span><br><span class=\"line\"><span class=\"attribute\">print</span>(a1.shape) # 输出(<span class=\"number\">3</span>,)，意思是一维数组，有 <span class=\"number\">3</span> 个数据</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a2</span> = np.array([[ <span class=\"number\">1</span> , <span class=\"number\">2</span> , <span class=\"number\">3</span> ],[ <span class=\"number\">4</span> , <span class=\"number\">5</span> , <span class=\"number\">6</span> ]])</span><br><span class=\"line\"><span class=\"attribute\">print</span>(a2.shape) # 输出(<span class=\"number\">2</span>,<span class=\"number\">3</span>)，意思是二位数组， <span class=\"number\">2</span> 行 <span class=\"number\">3</span> 列</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a3 = np.array([</span><br><span class=\"line\">[</span><br><span class=\"line\">[<span class=\"number\"> 1 </span>,<span class=\"number\"> 2 </span>,<span class=\"number\"> 3 </span>],</span><br><span class=\"line\">[<span class=\"number\"> 4 </span>,<span class=\"number\"> 5 </span>,<span class=\"number\"> 6 </span>]</span><br><span class=\"line\">],</span><br><span class=\"line\">[</span><br><span class=\"line\">[<span class=\"number\"> 7 </span>,<span class=\"number\"> 8 </span>,<span class=\"number\"> 9 </span>],</span><br><span class=\"line\">[<span class=\"number\"> 10 </span>,<span class=\"number\"> 11 </span>,<span class=\"number\"> 12 </span>]</span><br><span class=\"line\">]</span><br><span class=\"line\">])</span><br><span class=\"line\">print(a3.shape) <span class=\"comment\"># 输出(2,2,3)，意思是三维数组，总共有 2 个元素，每个元素是 2 行 3 列的</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a44</span> = np.array([ <span class=\"number\">1</span> , <span class=\"number\">2</span> , <span class=\"number\">3</span> ],[ <span class=\"number\">4</span> , <span class=\"number\">5</span> ])</span><br><span class=\"line\"><span class=\"attribute\">print</span>(a4.shape) # 输出(<span class=\"number\">2</span>,)，意思是a4是一个一维数组，总共有 <span class=\"number\">2</span> 列</span><br><span class=\"line\"><span class=\"attribute\">print</span>(a4) # 输出[list([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>]) list([<span class=\"number\">4</span>, <span class=\"number\">5</span>])]，其中最外面层是数组，里面是Python列表</span><br></pre></td></tr></table></figure>\n<h5 id=\"另外我们还可以通过-ndarrayreshape-来重新修改数组的维数-示例代码如下\"><a class=\"anchor\" href=\"#另外我们还可以通过-ndarrayreshape-来重新修改数组的维数-示例代码如下\">#</a> 另外，我们还可以通过 ndarray.reshape 来重新修改数组的维数。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a1 = np<span class=\"selector-class\">.arange</span>( <span class=\"number\">12</span> ) #生成一个有 <span class=\"number\">12</span> 个数据的一维数组</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(a1)</span></span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a2</span> = a1.reshape(( <span class=\"number\">3</span> , <span class=\"number\">4</span> )) #变成一个 <span class=\"number\">2</span> 维数组，是 <span class=\"number\">3</span> 行 <span class=\"number\">4</span> 列的</span><br><span class=\"line\"><span class=\"attribute\">print</span>(a2)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a3</span> = a1.reshape(( <span class=\"number\">2</span> , <span class=\"number\">3</span> , <span class=\"number\">2</span> )) #变成一个 <span class=\"number\">3</span> 维数组，总共有 <span class=\"number\">2</span> 块，每一块是 <span class=\"number\">2</span> 行 <span class=\"number\">2</span> 列的</span><br><span class=\"line\"><span class=\"attribute\">print</span>(a3)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">a4</span> = <span class=\"built_in\">a2</span>.reshape(( <span class=\"number\">12</span> ,)) <span class=\"comment\"># 将a2的二维数组重新变成一个 12 列的 1 维数组</span></span><br><span class=\"line\">print(<span class=\"built_in\">a4</span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">a5</span> = <span class=\"built_in\">a2</span>.flatten() <span class=\"comment\"># 不管a2是几维数组，都将他变成一个一维数组</span></span><br><span class=\"line\">print(<span class=\"built_in\">a5</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"注意-reshape-并不会修改原来数组本身而是会将修改后的结果返回-如果想要直接修改数组\"><a class=\"anchor\" href=\"#注意-reshape-并不会修改原来数组本身而是会将修改后的结果返回-如果想要直接修改数组\">#</a> 注意， reshape 并不会修改原来数组本身，而是会将修改后的结果返回。如果想要直接修改数组</h5>\n<h5 id=\"本身那么可以使用-resize-来替代-reshape\"><a class=\"anchor\" href=\"#本身那么可以使用-resize-来替代-reshape\">#</a> 本身，那么可以使用 resize 来替代 reshape 。</h5>\n<h3 id=\"ndarrayitemsize\"><a class=\"anchor\" href=\"#ndarrayitemsize\">#</a> ndarray.itemsize ：</h3>\n<h5 id=\"数组中每个元素占的大小单位是字节-比如以下代码\"><a class=\"anchor\" href=\"#数组中每个元素占的大小单位是字节-比如以下代码\">#</a> 数组中每个元素占的大小，单位是字节。比如以下代码：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a1</span> = np.array([ <span class=\"number\">1</span> , <span class=\"number\">2</span> , <span class=\"number\">3</span> ],dtype=np.int32)</span><br><span class=\"line\"><span class=\"attribute\">print</span>(a1.itemsize) # 打印 <span class=\"number\">4</span> ，因为每个字节是 <span class=\"number\">8</span> 位， <span class=\"number\">32</span> 位/<span class=\"number\">8</span>=<span class=\"number\">4</span>个字节</span><br></pre></td></tr></table></figure>\n<h1 id=\"numpy-数组操作\"><a class=\"anchor\" href=\"#numpy-数组操作\">#</a> Numpy 数组操作</h1>\n<h2 id=\"数组广播机制\"><a class=\"anchor\" href=\"#数组广播机制\">#</a> 数组广播机制：</h2>\n<h2 id=\"数组与数的计算\"><a class=\"anchor\" href=\"#数组与数的计算\">#</a> 数组与数的计算：</h2>\n<h5 id=\"在-python-列表中想要对列表中所有的元素都加一个数要么采用-map-函数要么循环整个列\"><a class=\"anchor\" href=\"#在-python-列表中想要对列表中所有的元素都加一个数要么采用-map-函数要么循环整个列\">#</a> 在 Python 列表中，想要对列表中所有的元素都加一个数，要么采用 map 函数，要么循环整个列</h5>\n<h5 id=\"表进行操作-但是-numpy-中的数组可以直接在数组上进行操作-示例代码如下\"><a class=\"anchor\" href=\"#表进行操作-但是-numpy-中的数组可以直接在数组上进行操作-示例代码如下\">#</a> 表进行操作。但是 NumPy 中的数组可以直接在数组上进行操作。示例代码如下：</h5>\n<figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import numpy as np</span><br><span class=\"line\"><span class=\"built_in\">a1</span> = np.random.random(( <span class=\"number\">3</span> , <span class=\"number\">4</span> ))</span><br><span class=\"line\">print(<span class=\"built_in\">a1</span>)</span><br><span class=\"line\"><span class=\"comment\"># 如果想要在a1数组上所有元素都乘以 10 ，那么可以通过以下来实现</span></span><br><span class=\"line\"><span class=\"built_in\">a2</span> = <span class=\"built_in\">a1</span>* <span class=\"number\">10</span></span><br><span class=\"line\">print(<span class=\"built_in\">a2</span>)</span><br><span class=\"line\"><span class=\"comment\"># 也可以使用round让所有的元素只保留 2 位小数</span></span><br><span class=\"line\"><span class=\"built_in\">a3</span> = <span class=\"built_in\">a2</span>.round( <span class=\"number\">2</span> )</span><br></pre></td></tr></table></figure>\n<h5 id=\"以上例子是相乘其实相加-相减-相除也都是类似的\"><a class=\"anchor\" href=\"#以上例子是相乘其实相加-相减-相除也都是类似的\">#</a> 以上例子是相乘，其实相加、相减、相除也都是类似的。</h5>\n<h2 id=\"数组与数组的计算\"><a class=\"anchor\" href=\"#数组与数组的计算\">#</a> 数组与数组的计算：</h2>\n<h5 id=\"1-结构相同的数组之间的运算\"><a class=\"anchor\" href=\"#1-结构相同的数组之间的运算\">#</a> 1. 结构相同的数组之间的运算：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a1 = np<span class=\"selector-class\">.arange</span>( <span class=\"number\">0</span> , <span class=\"number\">24</span> )<span class=\"selector-class\">.reshape</span>(( <span class=\"number\">3</span> , <span class=\"number\">8</span> ))</span><br><span class=\"line\">a2 = np<span class=\"selector-class\">.random</span><span class=\"selector-class\">.randint</span>( <span class=\"number\">1</span> , <span class=\"number\">10</span> ,size=( <span class=\"number\">3</span> , <span class=\"number\">8</span> ))</span><br><span class=\"line\">a3 = a1 + a2 #相减/相除/相乘都是可以的</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(a1)</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(a2)</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(a3)</span></span></span><br></pre></td></tr></table></figure>\n<h5 id=\"2-与行数相同并且只有-1-列的数组之间的运算\"><a class=\"anchor\" href=\"#2-与行数相同并且只有-1-列的数组之间的运算\">#</a> 2. 与行数相同并且只有 1 列的数组之间的运算：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a1</span> = np.random.randint( <span class=\"number\">10</span> , <span class=\"number\">20</span> ,size=( <span class=\"number\">3</span> , <span class=\"number\">8</span> )) #<span class=\"number\">3</span>行 <span class=\"number\">8</span> 列</span><br><span class=\"line\"><span class=\"attribute\">a2</span> = np.random.randint( <span class=\"number\">1</span> , <span class=\"number\">10</span> ,size=( <span class=\"number\">3</span> , <span class=\"number\">1</span> )) #<span class=\"number\">3</span>行 <span class=\"number\">1</span> 列</span><br><span class=\"line\"><span class=\"attribute\">a3</span> = a1 - a2 #行数相同，且a2只有 <span class=\"number\">1</span> 列，能互相运算</span><br><span class=\"line\"><span class=\"attribute\">print</span>(a3)</span><br></pre></td></tr></table></figure>\n<h5 id=\"3-与列数相同并且只有-1-行的数组之间的运算\"><a class=\"anchor\" href=\"#3-与列数相同并且只有-1-行的数组之间的运算\">#</a> 3. 与列数相同并且只有 1 行的数组之间的运算：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a1</span> = np.random.randint( <span class=\"number\">10</span> , <span class=\"number\">20</span> ,size=( <span class=\"number\">3</span> , <span class=\"number\">8</span> )) #<span class=\"number\">3</span>行 <span class=\"number\">8</span> 列</span><br><span class=\"line\"><span class=\"attribute\">a2</span> = np.random.randint( <span class=\"number\">1</span> , <span class=\"number\">10</span> ,size=( <span class=\"number\">1</span> , <span class=\"number\">8</span> ))</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">a3</span> = <span class=\"built_in\">a1</span> - <span class=\"built_in\">a2</span></span><br><span class=\"line\">print(<span class=\"built_in\">a3</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"广播原则\"><a class=\"anchor\" href=\"#广播原则\">#</a> 广播原则：</h3>\n<h5 id=\"如果两个数组的后缘维度-trailing-dimension-即从末尾开始算起的维度的轴长度相符或其\"><a class=\"anchor\" href=\"#如果两个数组的后缘维度-trailing-dimension-即从末尾开始算起的维度的轴长度相符或其\">#</a> 如果两个数组的后缘维度（ trailing dimension ，即从末尾开始算起的维度）的轴长度相符或其</h5>\n<h5 id=\"中一方的长度为-1-则认为他们是广播兼容的-广播会在缺失和或长度为-1-的维度上进行\"><a class=\"anchor\" href=\"#中一方的长度为-1-则认为他们是广播兼容的-广播会在缺失和或长度为-1-的维度上进行\">#</a> 中一方的长度为 1 ，则认为他们是广播兼容的。广播会在缺失和（或）长度为 1 的维度上进行。。</h5>\n<h5 id=\"看以下案例分析\"><a class=\"anchor\" href=\"#看以下案例分析\">#</a> 看以下案例分析：</h5>\n<h5 id=\"1-shape-为-382-的数组能和-83-的数组进行运算吗\"><a class=\"anchor\" href=\"#1-shape-为-382-的数组能和-83-的数组进行运算吗\">#</a> 1. shape 为 (3,8,2) 的数组能和 (8,3) 的数组进行运算吗？</h5>\n<h5 id=\"分析不能因为按照广播原则从后面往前面数-382-和-83-中的-2-和-3-不相\"><a class=\"anchor\" href=\"#分析不能因为按照广播原则从后面往前面数-382-和-83-中的-2-和-3-不相\">#</a> 分析：不能，因为按照广播原则，从后面往前面数， (3,8,2) 和 (8,3) 中的 2 和 3 不相</h5>\n<h5 id=\"等所以不能进行运算\"><a class=\"anchor\" href=\"#等所以不能进行运算\">#</a> 等，所以不能进行运算。</h5>\n<h5 id=\"2-shape-为-382-的数组能和-81-的数组进行运算吗\"><a class=\"anchor\" href=\"#2-shape-为-382-的数组能和-81-的数组进行运算吗\">#</a> 2. shape 为 (3,8,2) 的数组能和 (8,1) 的数组进行运算吗？</h5>\n<h5 id=\"分析能因为按照广播原则从后面往前面数-382-和-81-中的-2-和-1-虽然不相\"><a class=\"anchor\" href=\"#分析能因为按照广播原则从后面往前面数-382-和-81-中的-2-和-1-虽然不相\">#</a> 分析：能，因为按照广播原则，从后面往前面数， (3,8,2) 和 (8,1) 中的 2 和 1 虽然不相</h5>\n<h5 id=\"等但是因为有一方的长度为-1-所以能参与运算\"><a class=\"anchor\" href=\"#等但是因为有一方的长度为-1-所以能参与运算\">#</a> 等，但是因为有一方的长度为 1 ，所以能参与运算。</h5>\n<h5 id=\"3-shape-为-318-的数组能和-81-的数组进行运算吗\"><a class=\"anchor\" href=\"#3-shape-为-318-的数组能和-81-的数组进行运算吗\">#</a> 3. shape 为 (3,1,8) 的数组能和 (8,1) 的数组进行运算吗？</h5>\n<h5 id=\"分析能因为按照广播原则从后面往前面数-314-和-81-中的-4-和-1-虽然不相\"><a class=\"anchor\" href=\"#分析能因为按照广播原则从后面往前面数-314-和-81-中的-4-和-1-虽然不相\">#</a> 分析：能，因为按照广播原则，从后面往前面数， (3,1,4) 和 (8,1) 中的 4 和 1 虽然不相</h5>\n<h5 id=\"等且-1-和-8-不相等但是因为这两项中有一方的长度为-1-所以能参与运算\"><a class=\"anchor\" href=\"#等且-1-和-8-不相等但是因为这两项中有一方的长度为-1-所以能参与运算\">#</a> 等且 1 和 8 不相等，但是因为这两项中有一方的长度为 1 ，所以能参与运算。</h5>\n<h2 id=\"数组形状的操作\"><a class=\"anchor\" href=\"#数组形状的操作\">#</a> 数组形状的操作：</h2>\n<h5 id=\"可以通过一些函数非常方便的操作数组的形状\"><a class=\"anchor\" href=\"#可以通过一些函数非常方便的操作数组的形状\">#</a> 可以通过一些函数，非常方便的操作数组的形状。</h5>\n<h3 id=\"reshape-和-resize-方法\"><a class=\"anchor\" href=\"#reshape-和-resize-方法\">#</a> reshape 和 resize 方法：</h3>\n<h5 id=\"两个方法都是用来修改数组形状的但是有一些不同\"><a class=\"anchor\" href=\"#两个方法都是用来修改数组形状的但是有一些不同\">#</a> 两个方法都是用来修改数组形状的，但是有一些不同。</h5>\n<h5 id=\"1-reshape-是将数组转换成指定的形状然后返回转换后的结果对于原数组的形状是不会发\"><a class=\"anchor\" href=\"#1-reshape-是将数组转换成指定的形状然后返回转换后的结果对于原数组的形状是不会发\">#</a> 1. reshape 是将数组转换成指定的形状，然后返回转换后的结果，对于原数组的形状是不会发</h5>\n<h5 id=\"生改变的-调用方式\"><a class=\"anchor\" href=\"#生改变的-调用方式\">#</a> 生改变的。调用方式：</h5>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a1 = np.random.randint(<span class=\"number\"> 0 </span>,<span class=\"number\"> 10 </span>,size=(<span class=\"number\"> 3 </span>,<span class=\"number\"> 4 </span>))</span><br><span class=\"line\">a2 = a1.reshape((<span class=\"number\"> 2 </span>,<span class=\"number\"> 6 </span>)) <span class=\"comment\">#将修改后的结果返回，不会影响原数组本身</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"2-resize-是将数组转换成指定的形状会直接修改数组本身-并不会返回任何值-调用方式\"><a class=\"anchor\" href=\"#2-resize-是将数组转换成指定的形状会直接修改数组本身-并不会返回任何值-调用方式\">#</a> 2. resize 是将数组转换成指定的形状，会直接修改数组本身。并不会返回任何值。调用方式：</h5>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a1 = np.random.randint(<span class=\"number\"> 0 </span>,<span class=\"number\"> 10 </span>,size=(<span class=\"number\"> 3 </span>,<span class=\"number\"> 4 </span>))</span><br><span class=\"line\">a1.resize((<span class=\"number\"> 2 </span>,<span class=\"number\"> 6 </span>)) <span class=\"comment\">#a1本身发生了改变</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"flatten-和-ravel-方法\"><a class=\"anchor\" href=\"#flatten-和-ravel-方法\">#</a> flatten 和 ravel 方法：</h3>\n<h5 id=\"两个方法都是将多维数组转换为一维数组但是有以下不同\"><a class=\"anchor\" href=\"#两个方法都是将多维数组转换为一维数组但是有以下不同\">#</a> 两个方法都是将多维数组转换为一维数组，但是有以下不同：</h5>\n<h5 id=\"1-flatten-是将数组转换为一维数组后然后将这个拷贝返回回去所以后续对这个返回值进\"><a class=\"anchor\" href=\"#1-flatten-是将数组转换为一维数组后然后将这个拷贝返回回去所以后续对这个返回值进\">#</a> 1. flatten 是将数组转换为一维数组后，然后将这个拷贝返回回去，所以后续对这个返回值进</h5>\n<h5 id=\"行修改不会影响之前的数组\"><a class=\"anchor\" href=\"#行修改不会影响之前的数组\">#</a> 行修改不会影响之前的数组。</h5>\n<h5 id=\"2-ravel-是将数组转换为一维数组后将这个视图可以理解为引用返回回去所以后续对\"><a class=\"anchor\" href=\"#2-ravel-是将数组转换为一维数组后将这个视图可以理解为引用返回回去所以后续对\">#</a> 2. ravel 是将数组转换为一维数组后，将这个视图（可以理解为引用）返回回去，所以后续对</h5>\n<h5 id=\"这个返回值进行修改会影响之前的数组\"><a class=\"anchor\" href=\"#这个返回值进行修改会影响之前的数组\">#</a> 这个返回值进行修改会影响之前的数组。</h5>\n<h5 id=\"比如以下代码\"><a class=\"anchor\" href=\"#比如以下代码\">#</a> 比如以下代码：</h5>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">x = np.array([[<span class=\"number\"> 1 </span>,<span class=\"number\"> 2 </span>], [<span class=\"number\"> 3 </span>,<span class=\"number\"> 4 </span>]])</span><br><span class=\"line\">x.flatten()[<span class=\"number\"> 1 </span>] =<span class=\"number\"> 100 </span><span class=\"comment\">#此时的x[0]的位置元素还是 1</span></span><br><span class=\"line\">x.ravel()[<span class=\"number\"> 1 </span>] =<span class=\"number\"> 100 </span><span class=\"comment\">#此时x[0]的位置元素是 100</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"不同数组的组合\"><a class=\"anchor\" href=\"#不同数组的组合\">#</a> 不同数组的组合：</h3>\n<h5 id=\"如果有多个数组想要组合在一起也可以通过其中的一些函数来实现\"><a class=\"anchor\" href=\"#如果有多个数组想要组合在一起也可以通过其中的一些函数来实现\">#</a> 如果有多个数组想要组合在一起，也可以通过其中的一些函数来实现。</h5>\n<h5 id=\"1-vstack-将数组按垂直方向进行叠加-数组的列数必须相同才能叠加-示例代码如下\"><a class=\"anchor\" href=\"#1-vstack-将数组按垂直方向进行叠加-数组的列数必须相同才能叠加-示例代码如下\">#</a> 1. vstack ：将数组按垂直方向进行叠加。数组的列数必须相同才能叠加。示例代码如下：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a1</span> = np.random.randint( <span class=\"number\">0</span> , <span class=\"number\">10</span> ,size=( <span class=\"number\">3</span> , <span class=\"number\">5</span> ))</span><br><span class=\"line\"><span class=\"attribute\">a2</span> = np.random.randint( <span class=\"number\">0</span> , <span class=\"number\">10</span> ,size=( <span class=\"number\">1</span> , <span class=\"number\">5</span> ))</span><br><span class=\"line\"><span class=\"attribute\">a3</span> = np.vstack([a1,a2])</span><br></pre></td></tr></table></figure>\n<h5 id=\"2-hstack-将数组按水平方向进行叠加-数组的行必须相同才能叠加-示例代码如下\"><a class=\"anchor\" href=\"#2-hstack-将数组按水平方向进行叠加-数组的行必须相同才能叠加-示例代码如下\">#</a> 2. hstack ：将数组按水平方向进行叠加。数组的行必须相同才能叠加。示例代码如下：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a1</span> = np.random.randint( <span class=\"number\">0</span> , <span class=\"number\">10</span> ,size=( <span class=\"number\">3</span> , <span class=\"number\">2</span> ))</span><br><span class=\"line\"><span class=\"attribute\">a2</span> = np.random.randint( <span class=\"number\">0</span> , <span class=\"number\">10</span> ,size=( <span class=\"number\">3</span> , <span class=\"number\">1</span> ))</span><br><span class=\"line\"><span class=\"attribute\">a3</span> = np.hstack([a1,a2])</span><br></pre></td></tr></table></figure>\n<h5 id=\"3-concatenateaxis-将两个数组进行叠加但是具体是按水平方向还是按垂直方向-则\"><a class=\"anchor\" href=\"#3-concatenateaxis-将两个数组进行叠加但是具体是按水平方向还是按垂直方向-则\">#</a> 3. concatenate ([],axis) ：将两个数组进行叠加，但是具体是按水平方向还是按垂直方向。则</h5>\n<h5 id=\"要看-axis-的参数如果-axis0-那么代表的是往垂直方向行叠加如果-axis1-那\"><a class=\"anchor\" href=\"#要看-axis-的参数如果-axis0-那么代表的是往垂直方向行叠加如果-axis1-那\">#</a> 要看 axis 的参数，如果 axis=0 ，那么代表的是往垂直方向（行）叠加，如果 axis=1 ，那</h5>\n<h5 id=\"么代表的是往水平方向列上叠加如果-axisnone-那么会将两个数组组合成一个一维\"><a class=\"anchor\" href=\"#么代表的是往水平方向列上叠加如果-axisnone-那么会将两个数组组合成一个一维\">#</a> 么代表的是往水平方向（列）上叠加，如果 axis=None ，那么会将两个数组组合成一个一维</h5>\n<h5 id=\"数组-需要注意的是如果往水平方向上叠加那么行必须相同如果是往垂直方向叠加那\"><a class=\"anchor\" href=\"#数组-需要注意的是如果往水平方向上叠加那么行必须相同如果是往垂直方向叠加那\">#</a> 数组。需要注意的是，如果往水平方向上叠加，那么行必须相同，如果是往垂直方向叠加，那</h5>\n<h5 id=\"么列必须相同-示例代码如下\"><a class=\"anchor\" href=\"#么列必须相同-示例代码如下\">#</a> 么列必须相同。示例代码如下：</h5>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a = np.array(<span class=\"string\">[[ 1 , 2 ], [ 3 , 4 ]]</span>)</span><br><span class=\"line\">b = np.array(<span class=\"string\">[[ 5 , 6 ]]</span>)</span><br><span class=\"line\">np.concatenate((a, b), axis= <span class=\"number\">0</span> )</span><br><span class=\"line\"># 结果：</span><br><span class=\"line\">array(<span class=\"string\">[[ 1 , 2 ],</span></span><br><span class=\"line\"><span class=\"string\">[ 3 , 4 ],</span></span><br><span class=\"line\"><span class=\"string\">[ 5 , 6 ]]</span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">np</span>.concatenate((a, b.T), axis= <span class=\"number\">1</span> )</span><br><span class=\"line\"><span class=\"comment\"># 结果：</span></span><br><span class=\"line\"><span class=\"attribute\">array</span>([[ <span class=\"number\">1</span> , <span class=\"number\">2</span> , <span class=\"number\">5</span> ],</span><br></pre></td></tr></table></figure>\n<h6 id=\"3-4-6\"><a class=\"anchor\" href=\"#3-4-6\">#</a> [ 3 , 4 , 6 ]])</h6>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">np</span>.concatenate((a, b), axis=None)</span><br><span class=\"line\"><span class=\"comment\"># 结果：</span></span><br><span class=\"line\"><span class=\"attribute\">array</span>([ <span class=\"number\">1</span> , <span class=\"number\">2</span> , <span class=\"number\">3</span> , <span class=\"number\">4</span> , <span class=\"number\">5</span> , <span class=\"number\">6</span> ])</span><br></pre></td></tr></table></figure>\n<h3 id=\"数组的切割\"><a class=\"anchor\" href=\"#数组的切割\">#</a> 数组的切割：</h3>\n<h5 id=\"通过-hsplit-和-vsplit-以及-array_split-可以将一个数组进行切割\"><a class=\"anchor\" href=\"#通过-hsplit-和-vsplit-以及-array_split-可以将一个数组进行切割\">#</a> 通过 hsplit 和 vsplit 以及 array_split 可以将一个数组进行切割。</h5>\n<h5 id=\"1-hsplit-按照水平方向进行切割-用于指定分割成几列可以使用数字来代表分成几部分\"><a class=\"anchor\" href=\"#1-hsplit-按照水平方向进行切割-用于指定分割成几列可以使用数字来代表分成几部分\">#</a> 1. hsplit ：按照水平方向进行切割。用于指定分割成几列，可以使用数字来代表分成几部分，</h5>\n<h5 id=\"也可以使用数组来代表分割的地方-示例代码如下\"><a class=\"anchor\" href=\"#也可以使用数组来代表分割的地方-示例代码如下\">#</a> 也可以使用数组来代表分割的地方。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a1 = np<span class=\"selector-class\">.arange</span>(<span class=\"number\">16.0</span>)<span class=\"selector-class\">.reshape</span>( <span class=\"number\">4</span> , <span class=\"number\">4</span> )</span><br><span class=\"line\">np<span class=\"selector-class\">.hsplit</span>(a1, <span class=\"number\">2</span> ) #分割成两部分</span><br><span class=\"line\">&gt;&gt;&gt; <span class=\"built_in\">array</span>(<span class=\"selector-attr\">[[ 0., 1.]</span>,</span><br><span class=\"line\"><span class=\"selector-attr\">[ 4., 5.]</span>,</span><br><span class=\"line\"><span class=\"selector-attr\">[ 8., 9.]</span>,</span><br><span class=\"line\"><span class=\"selector-attr\">[12., 13.]</span>]), <span class=\"built_in\">array</span>(<span class=\"selector-attr\">[[ 2., 3.]</span>,</span><br><span class=\"line\"><span class=\"selector-attr\">[ 6., 7.]</span>,</span><br><span class=\"line\"><span class=\"selector-attr\">[10., 11.]</span>,</span><br><span class=\"line\"><span class=\"selector-attr\">[14., 15.]</span>])]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">np.hsplit(a1,<span class=\"comment\">[ 1 , 2 ]</span>) #代表在下标为 1 的地方切一刀，下标为 2 的地方切一刀，分成三部分</span><br><span class=\"line\">&gt;&gt;&gt; <span class=\"comment\">[array(<span class=\"comment\">[<span class=\"comment\">[ 0.]</span>,</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"comment\"><span class=\"comment\">[ 4.]</span>,</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"comment\"><span class=\"comment\">[ 8.]</span>,</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"comment\"><span class=\"comment\">[12.]</span>]</span>), array(<span class=\"comment\">[<span class=\"comment\">[ 1.]</span>,</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"comment\"><span class=\"comment\">[ 5.]</span>,</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"comment\"><span class=\"comment\">[ 9.]</span>,</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"comment\"><span class=\"comment\">[13.]</span>]</span>), array(<span class=\"comment\">[<span class=\"comment\">[ 2., 3.]</span>,</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"comment\"><span class=\"comment\">[ 6., 7.]</span>,</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"comment\"><span class=\"comment\">[10., 11.]</span>,</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"comment\"><span class=\"comment\">[14., 15.]</span>]</span>)]</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"2-vsplit-按照垂直方向进行切割-用于指定分割成几行可以使用数字来代表分成几部分\"><a class=\"anchor\" href=\"#2-vsplit-按照垂直方向进行切割-用于指定分割成几行可以使用数字来代表分成几部分\">#</a> 2. vsplit ：按照垂直方向进行切割。用于指定分割成几行，可以使用数字来代表分成几部分，</h5>\n<h5 id=\"也可以使用数组来代表分割的地方-示例代码如下-2\"><a class=\"anchor\" href=\"#也可以使用数组来代表分割的地方-示例代码如下-2\">#</a> 也可以使用数组来代表分割的地方。示例代码如下：</h5>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">np.vsplit(x, <span class=\"number\">2</span> ) #代表按照行总共分成 <span class=\"number\">2</span> 个数组</span><br><span class=\"line\">&gt;&gt;&gt; [array(<span class=\"string\">[[0., 1., 2., 3.],</span></span><br><span class=\"line\"><span class=\"string\">[4., 5., 6., 7.]]</span>), array(<span class=\"string\">[[ 8., 9., 10., 11.],</span></span><br><span class=\"line\"><span class=\"string\">[12., 13., 14., 15.]]</span>)]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">np.vsplit(x,( <span class=\"number\">1</span> , <span class=\"number\">2</span> )) #代表按照行进行划分，在下标为 <span class=\"number\">1</span> 的地方和下标为 <span class=\"number\">2</span> 的地方分割</span><br><span class=\"line\">&gt;&gt;&gt; [array(<span class=\"string\">[[0., 1., 2., 3.]]</span>),</span><br><span class=\"line\">array(<span class=\"string\">[[4., 5., 6., 7.]]</span>),</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">array</span>([[ <span class=\"number\">8</span>., <span class=\"number\">9</span>., <span class=\"number\">10</span>., <span class=\"number\">11</span>.],<span class=\"meta\"></span></span><br><span class=\"line\"><span class=\"meta\">[12., 13., 14., 15.]])]</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"3-splitarray_splitarrayindicate_or_seciontaxis-用于指定切割方式在切割的时候需\"><a class=\"anchor\" href=\"#3-splitarray_splitarrayindicate_or_seciontaxis-用于指定切割方式在切割的时候需\">#</a> 3. split/array_split (array,indicate_or_seciont,axis) ：用于指定切割方式，在切割的时候需</h5>\n<h5 id=\"要指定是按照行还是按照列-axis1-代表按照列-axis0-代表按照行-示例代码如下\"><a class=\"anchor\" href=\"#要指定是按照行还是按照列-axis1-代表按照列-axis0-代表按照行-示例代码如下\">#</a> 要指定是按照行还是按照列， axis=1 代表按照列， axis=0 代表按照行。示例代码如下：</h5>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">np.array_split(x, <span class=\"number\">2</span> ,axis= <span class=\"number\">0</span> ) #按照垂直方向切割成 <span class=\"number\">2</span> 部分</span><br><span class=\"line\">&gt;&gt;&gt; [array(<span class=\"string\">[[0., 1., 2., 3.],</span></span><br><span class=\"line\"><span class=\"string\">[4., 5., 6., 7.]]</span>), array(<span class=\"string\">[[ 8., 9., 10., 11.],</span></span><br><span class=\"line\"><span class=\"string\">[12., 13., 14., 15.]]</span>)]</span><br></pre></td></tr></table></figure>\n<h2 id=\"数组矩阵转置和轴对换\"><a class=\"anchor\" href=\"#数组矩阵转置和轴对换\">#</a> 数组（矩阵）转置和轴对换：</h2>\n<h5 id=\"numpy-中的数组其实就是线性代数中的矩阵-矩阵是可以进行转置的-ndarray-有一个-t-属性\"><a class=\"anchor\" href=\"#numpy-中的数组其实就是线性代数中的矩阵-矩阵是可以进行转置的-ndarray-有一个-t-属性\">#</a> numpy 中的数组其实就是线性代数中的矩阵。矩阵是可以进行转置的。 ndarray 有一个 T 属性，</h5>\n<h5 id=\"可以返回这个数组的转置的结果-示例代码如下\"><a class=\"anchor\" href=\"#可以返回这个数组的转置的结果-示例代码如下\">#</a> 可以返回这个数组的转置的结果。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a1 = np<span class=\"selector-class\">.arange</span>( <span class=\"number\">0</span> , <span class=\"number\">24</span> )<span class=\"selector-class\">.reshape</span>(( <span class=\"number\">4</span> , <span class=\"number\">6</span> ))</span><br><span class=\"line\">a2 = a1<span class=\"selector-class\">.T</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(a2)</span></span></span><br></pre></td></tr></table></figure>\n<h5 id=\"另外还有一个方法叫做-transpose-这个方法返回的是一个view也即修改返回值会影响到原\"><a class=\"anchor\" href=\"#另外还有一个方法叫做-transpose-这个方法返回的是一个view也即修改返回值会影响到原\">#</a> 另外还有一个方法叫做 transpose ，这个方法返回的是一个 View，也即修改返回值，会影响到原</h5>\n<h5 id=\"来数组-示例代码如下\"><a class=\"anchor\" href=\"#来数组-示例代码如下\">#</a> 来数组。示例代码如下：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a1</span> = np.arange( <span class=\"number\">0</span> , <span class=\"number\">24</span> ).reshape(( <span class=\"number\">4</span> , <span class=\"number\">6</span> ))</span><br><span class=\"line\"><span class=\"attribute\">a2</span> = a1.transpose()</span><br></pre></td></tr></table></figure>\n<h5 id=\"为什么要进行矩阵转置呢有时候在做一些计算的时候需要用到-比如做矩阵的内积的时候-就必\"><a class=\"anchor\" href=\"#为什么要进行矩阵转置呢有时候在做一些计算的时候需要用到-比如做矩阵的内积的时候-就必\">#</a> 为什么要进行矩阵转置呢，有时候在做一些计算的时候需要用到。比如做矩阵的内积的时候。就必</h5>\n<h5 id=\"须将矩阵进行转置后再乘以之前的矩阵\"><a class=\"anchor\" href=\"#须将矩阵进行转置后再乘以之前的矩阵\">#</a> 须将矩阵进行转置后再乘以之前的矩阵：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a1 = np<span class=\"selector-class\">.arange</span>( <span class=\"number\">0</span> , <span class=\"number\">24</span> )<span class=\"selector-class\">.reshape</span>(( <span class=\"number\">4</span> , <span class=\"number\">6</span> ))</span><br><span class=\"line\">a2 = a1<span class=\"selector-class\">.T</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(a1.dot(a2)</span></span>)</span><br></pre></td></tr></table></figure>\n<h1 id=\"numpy-数组操作-2\"><a class=\"anchor\" href=\"#numpy-数组操作-2\">#</a> Numpy 数组操作</h1>\n<h2 id=\"索引和切片\"><a class=\"anchor\" href=\"#索引和切片\">#</a> 索引和切片：</h2>\n<h5 id=\"1-获取某行的数据\"><a class=\"anchor\" href=\"#1-获取某行的数据\">#</a> 1. 获取某行的数据：</h5>\n<h6 id=\"1-如果是一维数组\"><a class=\"anchor\" href=\"#1-如果是一维数组\">#</a> # 1. 如果是一维数组</h6>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a1</span> = np.arange( <span class=\"number\">0</span> , <span class=\"number\">29</span> )</span><br><span class=\"line\"><span class=\"attribute\">print</span>(a1[ <span class=\"number\">1</span> ]) #获取下标为 <span class=\"number\">1</span> 的元素</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a1</span> = np.arange( <span class=\"number\">0</span> , <span class=\"number\">24</span> ).reshape(( <span class=\"number\">4</span> , <span class=\"number\">6</span> ))</span><br><span class=\"line\"><span class=\"attribute\">print</span>(a1[ <span class=\"number\">1</span> ]) #获取下标为 <span class=\"number\">1</span> 的行的数据</span><br></pre></td></tr></table></figure>\n<h5 id=\"2-连续获取某几行的数据\"><a class=\"anchor\" href=\"#2-连续获取某几行的数据\">#</a> 2. 连续获取某几行的数据：</h5>\n<h6 id=\"1-获取连续的几行的数据\"><a class=\"anchor\" href=\"#1-获取连续的几行的数据\">#</a> # 1. 获取连续的几行的数据</h6>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a1</span> = np.arange( <span class=\"number\">0</span> , <span class=\"number\">24</span> ).reshape(( <span class=\"number\">4</span> , <span class=\"number\">6</span> ))</span><br><span class=\"line\"><span class=\"attribute\">print</span>(a1[ <span class=\"number\">0</span> : <span class=\"number\">2</span> ]) #获取 <span class=\"number\">0</span> 行到 <span class=\"number\">1</span> 行的数据</span><br></pre></td></tr></table></figure>\n<h6 id=\"2-获取不连续的几行的数据\"><a class=\"anchor\" href=\"#2-获取不连续的几行的数据\">#</a> # 2. 获取不连续的几行的数据</h6>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">print</span>(a1<span class=\"string\">[[ 0 , 2 , 3 ]]</span>)</span><br></pre></td></tr></table></figure>\n<h6 id=\"3-也可以使用负数进行索引\"><a class=\"anchor\" href=\"#3-也可以使用负数进行索引\">#</a> # 3. 也可以使用负数进行索引</h6>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">print</span>(a1<span class=\"string\">[[-1,-2]]</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"3-获取某行某列的数据\"><a class=\"anchor\" href=\"#3-获取某行某列的数据\">#</a> 3. 获取某行某列的数据：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a1</span> = np.arange( <span class=\"number\">0</span> , <span class=\"number\">24</span> ).reshape(( <span class=\"number\">4</span> , <span class=\"number\">6</span> ))</span><br><span class=\"line\"><span class=\"attribute\">print</span>(a1[ <span class=\"number\">1</span> , <span class=\"number\">1</span> ]) #获取 <span class=\"number\">1</span> 行 <span class=\"number\">1</span> 列的数据</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">print</span>(a1[ <span class=\"number\">0</span> : <span class=\"number\">2</span> , <span class=\"number\">0</span> : <span class=\"number\">2</span> ]) #获取<span class=\"number\">0</span>-<span class=\"number\">1</span>行的<span class=\"number\">0</span>-<span class=\"number\">1</span>列的数据</span><br><span class=\"line\"><span class=\"attribute\">print</span>(a1[[ <span class=\"number\">1</span> , <span class=\"number\">2</span> ],[ <span class=\"number\">2</span> , <span class=\"number\">3</span> ]]) #获取(<span class=\"number\">1</span>,<span class=\"number\">2</span>)和(<span class=\"number\">2</span>,<span class=\"number\">3</span>)的两个数据，这也叫花式索引</span><br></pre></td></tr></table></figure>\n<h5 id=\"4-获取某列的数据\"><a class=\"anchor\" href=\"#4-获取某列的数据\">#</a> 4. 获取某列的数据：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a1</span> = np.arange( <span class=\"number\">0</span> , <span class=\"number\">24</span> ).reshape(( <span class=\"number\">4</span> , <span class=\"number\">6</span> ))</span><br><span class=\"line\"><span class=\"attribute\">print</span>(a1[:, <span class=\"number\">1</span> ]) #获取第 <span class=\"number\">1</span> 列的数据</span><br></pre></td></tr></table></figure>\n<h2 id=\"布尔索引\"><a class=\"anchor\" href=\"#布尔索引\">#</a> 布尔索引：</h2>\n<h5 id=\"布尔运算也是矢量的比如以下代码\"><a class=\"anchor\" href=\"#布尔运算也是矢量的比如以下代码\">#</a> 布尔运算也是矢量的，比如以下代码：</h5>\n<figure class=\"highlight mathematica\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">a1</span> <span class=\"operator\">=</span> <span class=\"variable\">np</span><span class=\"operator\">.</span><span class=\"variable\">arange</span><span class=\"punctuation\">(</span> <span class=\"number\">0</span> <span class=\"operator\">,</span> <span class=\"number\">24</span> <span class=\"punctuation\">)</span><span class=\"operator\">.</span><span class=\"variable\">reshape</span><span class=\"punctuation\">(</span><span class=\"punctuation\">(</span> <span class=\"number\">4</span> <span class=\"operator\">,</span> <span class=\"number\">6</span> <span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"variable\">print</span><span class=\"punctuation\">(</span><span class=\"variable\">a1</span><span class=\"operator\">&lt;</span> <span class=\"number\">10</span> <span class=\"punctuation\">)</span> <span class=\"type\">#</span>会返回一个新的数组，这个数组中的值全部都是<span class=\"variable\">bool</span>类型</span><br><span class=\"line\"><span class=\"operator\">&gt;</span> <span class=\"punctuation\">[</span><span class=\"punctuation\">[</span> <span class=\"built_in\">True</span> <span class=\"built_in\">True</span> <span class=\"built_in\">True</span> <span class=\"built_in\">True</span> <span class=\"built_in\">True</span> <span class=\"built_in\">True</span><span class=\"punctuation\">]</span></span><br><span class=\"line\"><span class=\"punctuation\">[</span> <span class=\"built_in\">True</span> <span class=\"built_in\">True</span> <span class=\"built_in\">True</span> <span class=\"built_in\">True</span> <span class=\"built_in\">False</span> <span class=\"built_in\">False</span><span class=\"punctuation\">]</span></span><br><span class=\"line\"><span class=\"punctuation\">[</span><span class=\"built_in\">False</span> <span class=\"built_in\">False</span> <span class=\"built_in\">False</span> <span class=\"built_in\">False</span> <span class=\"built_in\">False</span> <span class=\"built_in\">False</span><span class=\"punctuation\">]</span></span><br><span class=\"line\"><span class=\"punctuation\">[</span><span class=\"built_in\">False</span> <span class=\"built_in\">False</span> <span class=\"built_in\">False</span> <span class=\"built_in\">False</span> <span class=\"built_in\">False</span> <span class=\"built_in\">False</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"这样看上去没有什么用假如我现在要实现一个需求要将-a1-数组中所有小于-10-的数据全部都提\"><a class=\"anchor\" href=\"#这样看上去没有什么用假如我现在要实现一个需求要将-a1-数组中所有小于-10-的数据全部都提\">#</a> 这样看上去没有什么用，假如我现在要实现一个需求，要将 a1 数组中所有小于 10 的数据全部都提</h5>\n<h5 id=\"取出来-那么可以使用以下方式实现\"><a class=\"anchor\" href=\"#取出来-那么可以使用以下方式实现\">#</a> 取出来。那么可以使用以下方式实现：</h5>\n<figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">a1</span> = np.arange( <span class=\"number\">0</span> , <span class=\"number\">24</span> ).reshape(( <span class=\"number\">4</span> , <span class=\"number\">6</span> ))</span><br><span class=\"line\"><span class=\"built_in\">a2</span> = <span class=\"built_in\">a1</span> &lt; <span class=\"number\">10</span></span><br><span class=\"line\">print(<span class=\"built_in\">a1</span>[<span class=\"built_in\">a2</span>]) <span class=\"comment\">#这样就会在a1中把a2中为True的元素对应的位置的值提取出来</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"其中布尔运算可以有-以及-与-和-或-示例代码如下\"><a class=\"anchor\" href=\"#其中布尔运算可以有-以及-与-和-或-示例代码如下\">#</a> 其中布尔运算可以有！= 、 == 、 &gt; 、 &lt;、&gt;= 、 &lt;= 以及 &amp;(与) 和 |(或) 。示例代码如下：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a1</span> = np.arange( <span class=\"number\">0</span> , <span class=\"number\">24</span> ).reshape(( <span class=\"number\">4</span> , <span class=\"number\">6</span> ))</span><br><span class=\"line\"><span class=\"attribute\">a2</span> = a1[(a1 &lt; <span class=\"number\">5</span> ) | (a1 &gt; <span class=\"number\">10</span> )]</span><br><span class=\"line\"><span class=\"attribute\">print</span>(a2)</span><br></pre></td></tr></table></figure>\n<h2 id=\"值的替换\"><a class=\"anchor\" href=\"#值的替换\">#</a> 值的替换：</h2>\n<h5 id=\"利用索引也可以做一些值的替换-把满足条件的位置的值替换成其他的值-比如以下代码\"><a class=\"anchor\" href=\"#利用索引也可以做一些值的替换-把满足条件的位置的值替换成其他的值-比如以下代码\">#</a> 利用索引，也可以做一些值的替换。把满足条件的位置的值替换成其他的值。比如以下代码：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a1</span> = np.arange( <span class=\"number\">0</span> , <span class=\"number\">24</span> ).reshape(( <span class=\"number\">4</span> , <span class=\"number\">6</span> ))</span><br><span class=\"line\"><span class=\"attribute\">a1</span>[ <span class=\"number\">3</span> ] = <span class=\"number\">0</span> #将第三行的所有值都替换成 <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">print</span>(a1)</span><br></pre></td></tr></table></figure>\n<h5 id=\"也可以使用条件索引来实现\"><a class=\"anchor\" href=\"#也可以使用条件索引来实现\">#</a> 也可以使用条件索引来实现：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a1</span> = np.arange( <span class=\"number\">0</span> , <span class=\"number\">24</span> ).reshape(( <span class=\"number\">4</span> , <span class=\"number\">6</span> ))</span><br><span class=\"line\"><span class=\"attribute\">a1</span>[a1 &lt; <span class=\"number\">5</span> ] = <span class=\"number\">0</span> #将小于 <span class=\"number\">5</span> 的所有值全部都替换成 <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">print</span>(a1)</span><br></pre></td></tr></table></figure>\n<h5 id=\"还可以使用函数来实现\"><a class=\"anchor\" href=\"#还可以使用函数来实现\">#</a> 还可以使用函数来实现：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># where函数：</span></span><br><span class=\"line\"><span class=\"attribute\">a1</span> = np.arange( <span class=\"number\">0</span> , <span class=\"number\">24</span> ).reshape(( <span class=\"number\">4</span> , <span class=\"number\">6</span> ))</span><br><span class=\"line\"><span class=\"attribute\">a2</span> = np.where(a1 &lt; <span class=\"number\">10</span> , <span class=\"number\">1</span> , <span class=\"number\">0</span> ) #把a1中所有小于 <span class=\"number\">10</span> 的数全部变成 <span class=\"number\">1</span> ，其余的变成 <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">print</span>(a2)</span><br></pre></td></tr></table></figure>\n<h1 id=\"numpy-索引和切片作业\"><a class=\"anchor\" href=\"#numpy-索引和切片作业\">#</a> Numpy 索引和切片作业</h1>\n<h5 id=\"1-将-nparange10-数组中的奇数全部都替换成-1\"><a class=\"anchor\" href=\"#1-将-nparange10-数组中的奇数全部都替换成-1\">#</a> 1. 将 np.arange (10) 数组中的奇数全部都替换成 -1 。</h5>\n<h5 id=\"2-有一个-4-行-4-列的数组比如-nprandomrandint010size44-请将其中对角线\"><a class=\"anchor\" href=\"#2-有一个-4-行-4-列的数组比如-nprandomrandint010size44-请将其中对角线\">#</a> 2. 有一个 4 行 4 列的数组（比如： np.random.randint (0,10,size=(4,4)) ），请将其中对角线</h5>\n<h5 id=\"的数取出来形成一个一维数组-提示使用-npeye\"><a class=\"anchor\" href=\"#的数取出来形成一个一维数组-提示使用-npeye\">#</a> 的数取出来形成一个一维数组。提示（使用 np.eye ）。</h5>\n<h5 id=\"3-有一个-4-行-4-列的数组请取出其中-001232-的点\"><a class=\"anchor\" href=\"#3-有一个-4-行-4-列的数组请取出其中-001232-的点\">#</a> 3. 有一个 4 行 4 列的数组，请取出其中 (0,0),(1,2),(3,2) 的点。</h5>\n<h5 id=\"4-有一个-4-行-4-列的数组请取出其中-2-3-行包括第-3-行的所有数据\"><a class=\"anchor\" href=\"#4-有一个-4-行-4-列的数组请取出其中-2-3-行包括第-3-行的所有数据\">#</a> 4. 有一个 4 行 4 列的数组，请取出其中 2-3 行（包括第 3 行）的所有数据。</h5>\n<h5 id=\"5-有一个-8-行-9-列的数组请将其中1-5行包含第-5-行的第-8-列大于-3-的数全部都取出来\"><a class=\"anchor\" href=\"#5-有一个-8-行-9-列的数组请将其中1-5行包含第-5-行的第-8-列大于-3-的数全部都取出来\">#</a> 5. 有一个 8 行 9 列的数组，请将其中 1-5 行（包含第 5 行）的第 8 列大于 3 的数全部都取出来。</h5>\n<h1 id=\"numpy-数组操作-3\"><a class=\"anchor\" href=\"#numpy-数组操作-3\">#</a> Numpy 数组操作</h1>\n<h2 id=\"数组广播机制-2\"><a class=\"anchor\" href=\"#数组广播机制-2\">#</a> 数组广播机制：</h2>\n<h2 id=\"数组与数的计算-2\"><a class=\"anchor\" href=\"#数组与数的计算-2\">#</a> 数组与数的计算：</h2>\n<h5 id=\"在-python-列表中想要对列表中所有的元素都加一个数要么采用-map-函数要么循环整个列-2\"><a class=\"anchor\" href=\"#在-python-列表中想要对列表中所有的元素都加一个数要么采用-map-函数要么循环整个列-2\">#</a> 在 Python 列表中，想要对列表中所有的元素都加一个数，要么采用 map 函数，要么循环整个列</h5>\n<h5 id=\"表进行操作-但是-numpy-中的数组可以直接在数组上进行操作-示例代码如下-2\"><a class=\"anchor\" href=\"#表进行操作-但是-numpy-中的数组可以直接在数组上进行操作-示例代码如下-2\">#</a> 表进行操作。但是 NumPy 中的数组可以直接在数组上进行操作。示例代码如下：</h5>\n<figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import numpy as np</span><br><span class=\"line\"><span class=\"built_in\">a1</span> = np.random.random(( <span class=\"number\">3</span> , <span class=\"number\">4</span> ))</span><br><span class=\"line\">print(<span class=\"built_in\">a1</span>)</span><br><span class=\"line\"><span class=\"comment\"># 如果想要在a1数组上所有元素都乘以 10 ，那么可以通过以下来实现</span></span><br><span class=\"line\"><span class=\"built_in\">a2</span> = <span class=\"built_in\">a1</span>* <span class=\"number\">10</span></span><br><span class=\"line\">print(<span class=\"built_in\">a2</span>)</span><br><span class=\"line\"><span class=\"comment\"># 也可以使用round让所有的元素只保留 2 位小数</span></span><br><span class=\"line\"><span class=\"built_in\">a3</span> = <span class=\"built_in\">a2</span>.round( <span class=\"number\">2</span> )</span><br></pre></td></tr></table></figure>\n<h5 id=\"以上例子是相乘其实相加-相减-相除也都是类似的-2\"><a class=\"anchor\" href=\"#以上例子是相乘其实相加-相减-相除也都是类似的-2\">#</a> 以上例子是相乘，其实相加、相减、相除也都是类似的。</h5>\n<h2 id=\"数组与数组的计算-2\"><a class=\"anchor\" href=\"#数组与数组的计算-2\">#</a> 数组与数组的计算：</h2>\n<h5 id=\"1-结构相同的数组之间的运算-2\"><a class=\"anchor\" href=\"#1-结构相同的数组之间的运算-2\">#</a> 1. 结构相同的数组之间的运算：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a1 = np<span class=\"selector-class\">.arange</span>( <span class=\"number\">0</span> , <span class=\"number\">24</span> )<span class=\"selector-class\">.reshape</span>(( <span class=\"number\">3</span> , <span class=\"number\">8</span> ))</span><br><span class=\"line\">a2 = np<span class=\"selector-class\">.random</span><span class=\"selector-class\">.randint</span>( <span class=\"number\">1</span> , <span class=\"number\">10</span> ,size=( <span class=\"number\">3</span> , <span class=\"number\">8</span> ))</span><br><span class=\"line\">a3 = a1 + a2 #相减/相除/相乘都是可以的</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(a1)</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(a2)</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(a3)</span></span></span><br></pre></td></tr></table></figure>\n<h5 id=\"2-与行数相同并且只有-1-列的数组之间的运算-2\"><a class=\"anchor\" href=\"#2-与行数相同并且只有-1-列的数组之间的运算-2\">#</a> 2. 与行数相同并且只有 1 列的数组之间的运算：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a1</span> = np.random.randint( <span class=\"number\">10</span> , <span class=\"number\">20</span> ,size=( <span class=\"number\">3</span> , <span class=\"number\">8</span> )) #<span class=\"number\">3</span>行 <span class=\"number\">8</span> 列</span><br><span class=\"line\"><span class=\"attribute\">a2</span> = np.random.randint( <span class=\"number\">1</span> , <span class=\"number\">10</span> ,size=( <span class=\"number\">3</span> , <span class=\"number\">1</span> )) #<span class=\"number\">3</span>行 <span class=\"number\">1</span> 列</span><br><span class=\"line\"><span class=\"attribute\">a3</span> = a1 - a2 #行数相同，且a2只有 <span class=\"number\">1</span> 列，能互相运算</span><br><span class=\"line\"><span class=\"attribute\">print</span>(a3)</span><br></pre></td></tr></table></figure>\n<h5 id=\"3-与列数相同并且只有-1-行的数组之间的运算-2\"><a class=\"anchor\" href=\"#3-与列数相同并且只有-1-行的数组之间的运算-2\">#</a> 3. 与列数相同并且只有 1 行的数组之间的运算：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a1</span> = np.random.randint( <span class=\"number\">10</span> , <span class=\"number\">20</span> ,size=( <span class=\"number\">3</span> , <span class=\"number\">8</span> )) #<span class=\"number\">3</span>行 <span class=\"number\">8</span> 列</span><br><span class=\"line\"><span class=\"attribute\">a2</span> = np.random.randint( <span class=\"number\">1</span> , <span class=\"number\">10</span> ,size=( <span class=\"number\">1</span> , <span class=\"number\">8</span> ))</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">a3</span> = <span class=\"built_in\">a1</span> - <span class=\"built_in\">a2</span></span><br><span class=\"line\">print(<span class=\"built_in\">a3</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"广播原则-2\"><a class=\"anchor\" href=\"#广播原则-2\">#</a> 广播原则：</h3>\n<h5 id=\"如果两个数组的后缘维度-trailing-dimension-即从末尾开始算起的维度的轴长度相符或其-2\"><a class=\"anchor\" href=\"#如果两个数组的后缘维度-trailing-dimension-即从末尾开始算起的维度的轴长度相符或其-2\">#</a> 如果两个数组的后缘维度（ trailing dimension ，即从末尾开始算起的维度）的轴长度相符或其</h5>\n<h5 id=\"中一方的长度为-1-则认为他们是广播兼容的-广播会在缺失和或长度为-1-的维度上进行-2\"><a class=\"anchor\" href=\"#中一方的长度为-1-则认为他们是广播兼容的-广播会在缺失和或长度为-1-的维度上进行-2\">#</a> 中一方的长度为 1 ，则认为他们是广播兼容的。广播会在缺失和（或）长度为 1 的维度上进行。。</h5>\n<h5 id=\"看以下案例分析-2\"><a class=\"anchor\" href=\"#看以下案例分析-2\">#</a> 看以下案例分析：</h5>\n<h5 id=\"1-shape-为-382-的数组能和-83-的数组进行运算吗-2\"><a class=\"anchor\" href=\"#1-shape-为-382-的数组能和-83-的数组进行运算吗-2\">#</a> 1. shape 为 (3,8,2) 的数组能和 (8,3) 的数组进行运算吗？</h5>\n<h5 id=\"分析不能因为按照广播原则从后面往前面数-382-和-83-中的-2-和-3-不相-2\"><a class=\"anchor\" href=\"#分析不能因为按照广播原则从后面往前面数-382-和-83-中的-2-和-3-不相-2\">#</a> 分析：不能，因为按照广播原则，从后面往前面数， (3,8,2) 和 (8,3) 中的 2 和 3 不相</h5>\n<h5 id=\"等所以不能进行运算-2\"><a class=\"anchor\" href=\"#等所以不能进行运算-2\">#</a> 等，所以不能进行运算。</h5>\n<h5 id=\"2-shape-为-382-的数组能和-81-的数组进行运算吗-2\"><a class=\"anchor\" href=\"#2-shape-为-382-的数组能和-81-的数组进行运算吗-2\">#</a> 2. shape 为 (3,8,2) 的数组能和 (8,1) 的数组进行运算吗？</h5>\n<h5 id=\"分析能因为按照广播原则从后面往前面数-382-和-81-中的-2-和-1-虽然不相-2\"><a class=\"anchor\" href=\"#分析能因为按照广播原则从后面往前面数-382-和-81-中的-2-和-1-虽然不相-2\">#</a> 分析：能，因为按照广播原则，从后面往前面数， (3,8,2) 和 (8,1) 中的 2 和 1 虽然不相</h5>\n<h5 id=\"等但是因为有一方的长度为-1-所以能参与运算-2\"><a class=\"anchor\" href=\"#等但是因为有一方的长度为-1-所以能参与运算-2\">#</a> 等，但是因为有一方的长度为 1 ，所以能参与运算。</h5>\n<h5 id=\"3-shape-为-318-的数组能和-81-的数组进行运算吗-2\"><a class=\"anchor\" href=\"#3-shape-为-318-的数组能和-81-的数组进行运算吗-2\">#</a> 3. shape 为 (3,1,8) 的数组能和 (8,1) 的数组进行运算吗？</h5>\n<h5 id=\"分析能因为按照广播原则从后面往前面数-314-和-81-中的-4-和-1-虽然不相-2\"><a class=\"anchor\" href=\"#分析能因为按照广播原则从后面往前面数-314-和-81-中的-4-和-1-虽然不相-2\">#</a> 分析：能，因为按照广播原则，从后面往前面数， (3,1,4) 和 (8,1) 中的 4 和 1 虽然不相</h5>\n<h5 id=\"等且-1-和-8-不相等但是因为这两项中有一方的长度为-1-所以能参与运算-2\"><a class=\"anchor\" href=\"#等且-1-和-8-不相等但是因为这两项中有一方的长度为-1-所以能参与运算-2\">#</a> 等且 1 和 8 不相等，但是因为这两项中有一方的长度为 1 ，所以能参与运算。</h5>\n<h2 id=\"数组形状的操作-2\"><a class=\"anchor\" href=\"#数组形状的操作-2\">#</a> 数组形状的操作：</h2>\n<h5 id=\"可以通过一些函数非常方便的操作数组的形状-2\"><a class=\"anchor\" href=\"#可以通过一些函数非常方便的操作数组的形状-2\">#</a> 可以通过一些函数，非常方便的操作数组的形状。</h5>\n<h3 id=\"reshape-和-resize-方法-2\"><a class=\"anchor\" href=\"#reshape-和-resize-方法-2\">#</a> reshape 和 resize 方法：</h3>\n<h5 id=\"两个方法都是用来修改数组形状的但是有一些不同-2\"><a class=\"anchor\" href=\"#两个方法都是用来修改数组形状的但是有一些不同-2\">#</a> 两个方法都是用来修改数组形状的，但是有一些不同。</h5>\n<h5 id=\"1-reshape-是将数组转换成指定的形状然后返回转换后的结果对于原数组的形状是不会发-2\"><a class=\"anchor\" href=\"#1-reshape-是将数组转换成指定的形状然后返回转换后的结果对于原数组的形状是不会发-2\">#</a> 1. reshape 是将数组转换成指定的形状，然后返回转换后的结果，对于原数组的形状是不会发</h5>\n<h5 id=\"生改变的-调用方式-2\"><a class=\"anchor\" href=\"#生改变的-调用方式-2\">#</a> 生改变的。调用方式：</h5>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a1 = np.random.randint(<span class=\"number\"> 0 </span>,<span class=\"number\"> 10 </span>,size=(<span class=\"number\"> 3 </span>,<span class=\"number\"> 4 </span>))</span><br><span class=\"line\">a2 = a1.reshape((<span class=\"number\"> 2 </span>,<span class=\"number\"> 6 </span>)) <span class=\"comment\">#将修改后的结果返回，不会影响原数组本身</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"2-resize-是将数组转换成指定的形状会直接修改数组本身-并不会返回任何值-调用方式-2\"><a class=\"anchor\" href=\"#2-resize-是将数组转换成指定的形状会直接修改数组本身-并不会返回任何值-调用方式-2\">#</a> 2. resize 是将数组转换成指定的形状，会直接修改数组本身。并不会返回任何值。调用方式：</h5>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a1 = np.random.randint(<span class=\"number\"> 0 </span>,<span class=\"number\"> 10 </span>,size=(<span class=\"number\"> 3 </span>,<span class=\"number\"> 4 </span>))</span><br><span class=\"line\">a1.resize((<span class=\"number\"> 2 </span>,<span class=\"number\"> 6 </span>)) <span class=\"comment\">#a1本身发生了改变</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"flatten-和-ravel-方法-2\"><a class=\"anchor\" href=\"#flatten-和-ravel-方法-2\">#</a> flatten 和 ravel 方法：</h3>\n<h5 id=\"两个方法都是将多维数组转换为一维数组但是有以下不同-2\"><a class=\"anchor\" href=\"#两个方法都是将多维数组转换为一维数组但是有以下不同-2\">#</a> 两个方法都是将多维数组转换为一维数组，但是有以下不同：</h5>\n<h5 id=\"1-flatten-是将数组转换为一维数组后然后将这个拷贝返回回去所以后续对这个返回值进-2\"><a class=\"anchor\" href=\"#1-flatten-是将数组转换为一维数组后然后将这个拷贝返回回去所以后续对这个返回值进-2\">#</a> 1. flatten 是将数组转换为一维数组后，然后将这个拷贝返回回去，所以后续对这个返回值进</h5>\n<h5 id=\"行修改不会影响之前的数组-2\"><a class=\"anchor\" href=\"#行修改不会影响之前的数组-2\">#</a> 行修改不会影响之前的数组。</h5>\n<h5 id=\"2-ravel-是将数组转换为一维数组后将这个视图可以理解为引用返回回去所以后续对-2\"><a class=\"anchor\" href=\"#2-ravel-是将数组转换为一维数组后将这个视图可以理解为引用返回回去所以后续对-2\">#</a> 2. ravel 是将数组转换为一维数组后，将这个视图（可以理解为引用）返回回去，所以后续对</h5>\n<h5 id=\"这个返回值进行修改会影响之前的数组-2\"><a class=\"anchor\" href=\"#这个返回值进行修改会影响之前的数组-2\">#</a> 这个返回值进行修改会影响之前的数组。</h5>\n<h5 id=\"比如以下代码-2\"><a class=\"anchor\" href=\"#比如以下代码-2\">#</a> 比如以下代码：</h5>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">x = np.array([[<span class=\"number\"> 1 </span>,<span class=\"number\"> 2 </span>], [<span class=\"number\"> 3 </span>,<span class=\"number\"> 4 </span>]])</span><br><span class=\"line\">x.flatten()[<span class=\"number\"> 1 </span>] =<span class=\"number\"> 100 </span><span class=\"comment\">#此时的x[0]的位置元素还是 1</span></span><br><span class=\"line\">x.ravel()[<span class=\"number\"> 1 </span>] =<span class=\"number\"> 100 </span><span class=\"comment\">#此时x[0]的位置元素是 100</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"不同数组的组合-2\"><a class=\"anchor\" href=\"#不同数组的组合-2\">#</a> 不同数组的组合：</h3>\n<h5 id=\"如果有多个数组想要组合在一起也可以通过其中的一些函数来实现-2\"><a class=\"anchor\" href=\"#如果有多个数组想要组合在一起也可以通过其中的一些函数来实现-2\">#</a> 如果有多个数组想要组合在一起，也可以通过其中的一些函数来实现。</h5>\n<h5 id=\"1-vstack-将数组按垂直方向进行叠加-数组的列数必须相同才能叠加-示例代码如下-2\"><a class=\"anchor\" href=\"#1-vstack-将数组按垂直方向进行叠加-数组的列数必须相同才能叠加-示例代码如下-2\">#</a> 1. vstack ：将数组按垂直方向进行叠加。数组的列数必须相同才能叠加。示例代码如下：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a1</span> = np.random.randint( <span class=\"number\">0</span> , <span class=\"number\">10</span> ,size=( <span class=\"number\">3</span> , <span class=\"number\">5</span> ))</span><br><span class=\"line\"><span class=\"attribute\">a2</span> = np.random.randint( <span class=\"number\">0</span> , <span class=\"number\">10</span> ,size=( <span class=\"number\">1</span> , <span class=\"number\">5</span> ))</span><br><span class=\"line\"><span class=\"attribute\">a3</span> = np.vstack([a1,a2])</span><br></pre></td></tr></table></figure>\n<h5 id=\"2-hstack-将数组按水平方向进行叠加-数组的行必须相同才能叠加-示例代码如下-2\"><a class=\"anchor\" href=\"#2-hstack-将数组按水平方向进行叠加-数组的行必须相同才能叠加-示例代码如下-2\">#</a> 2. hstack ：将数组按水平方向进行叠加。数组的行必须相同才能叠加。示例代码如下：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a1</span> = np.random.randint( <span class=\"number\">0</span> , <span class=\"number\">10</span> ,size=( <span class=\"number\">3</span> , <span class=\"number\">2</span> ))</span><br><span class=\"line\"><span class=\"attribute\">a2</span> = np.random.randint( <span class=\"number\">0</span> , <span class=\"number\">10</span> ,size=( <span class=\"number\">3</span> , <span class=\"number\">1</span> ))</span><br><span class=\"line\"><span class=\"attribute\">a3</span> = np.hstack([a1,a2])</span><br></pre></td></tr></table></figure>\n<h5 id=\"3-concatenateaxis-将两个数组进行叠加但是具体是按水平方向还是按垂直方向-则-2\"><a class=\"anchor\" href=\"#3-concatenateaxis-将两个数组进行叠加但是具体是按水平方向还是按垂直方向-则-2\">#</a> 3. concatenate ([],axis) ：将两个数组进行叠加，但是具体是按水平方向还是按垂直方向。则</h5>\n<h5 id=\"要看-axis-的参数如果-axis0-那么代表的是往垂直方向行叠加如果-axis1-那-2\"><a class=\"anchor\" href=\"#要看-axis-的参数如果-axis0-那么代表的是往垂直方向行叠加如果-axis1-那-2\">#</a> 要看 axis 的参数，如果 axis=0 ，那么代表的是往垂直方向（行）叠加，如果 axis=1 ，那</h5>\n<h5 id=\"么代表的是往水平方向列上叠加如果-axisnone-那么会将两个数组组合成一个一维-2\"><a class=\"anchor\" href=\"#么代表的是往水平方向列上叠加如果-axisnone-那么会将两个数组组合成一个一维-2\">#</a> 么代表的是往水平方向（列）上叠加，如果 axis=None ，那么会将两个数组组合成一个一维</h5>\n<h5 id=\"数组-需要注意的是如果往水平方向上叠加那么行必须相同如果是往垂直方向叠加那-2\"><a class=\"anchor\" href=\"#数组-需要注意的是如果往水平方向上叠加那么行必须相同如果是往垂直方向叠加那-2\">#</a> 数组。需要注意的是，如果往水平方向上叠加，那么行必须相同，如果是往垂直方向叠加，那</h5>\n<h5 id=\"么列必须相同-示例代码如下-2\"><a class=\"anchor\" href=\"#么列必须相同-示例代码如下-2\">#</a> 么列必须相同。示例代码如下：</h5>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a = np.array(<span class=\"string\">[[ 1 , 2 ], [ 3 , 4 ]]</span>)</span><br><span class=\"line\">b = np.array(<span class=\"string\">[[ 5 , 6 ]]</span>)</span><br><span class=\"line\">np.concatenate((a, b), axis= <span class=\"number\">0</span> )</span><br><span class=\"line\"># 结果：</span><br><span class=\"line\">array(<span class=\"string\">[[ 1 , 2 ],</span></span><br><span class=\"line\"><span class=\"string\">[ 3 , 4 ],</span></span><br><span class=\"line\"><span class=\"string\">[ 5 , 6 ]]</span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">np</span>.concatenate((a, b.T), axis= <span class=\"number\">1</span> )</span><br><span class=\"line\"><span class=\"comment\"># 结果：</span></span><br><span class=\"line\"><span class=\"attribute\">array</span>([[ <span class=\"number\">1</span> , <span class=\"number\">2</span> , <span class=\"number\">5</span> ],</span><br></pre></td></tr></table></figure>\n<h6 id=\"3-4-6-2\"><a class=\"anchor\" href=\"#3-4-6-2\">#</a> [ 3 , 4 , 6 ]])</h6>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">np</span>.concatenate((a, b), axis=None)</span><br><span class=\"line\"><span class=\"comment\"># 结果：</span></span><br><span class=\"line\"><span class=\"attribute\">array</span>([ <span class=\"number\">1</span> , <span class=\"number\">2</span> , <span class=\"number\">3</span> , <span class=\"number\">4</span> , <span class=\"number\">5</span> , <span class=\"number\">6</span> ])</span><br></pre></td></tr></table></figure>\n<h3 id=\"数组的切割-2\"><a class=\"anchor\" href=\"#数组的切割-2\">#</a> 数组的切割：</h3>\n<h5 id=\"通过-hsplit-和-vsplit-以及-array_split-可以将一个数组进行切割-2\"><a class=\"anchor\" href=\"#通过-hsplit-和-vsplit-以及-array_split-可以将一个数组进行切割-2\">#</a> 通过 hsplit 和 vsplit 以及 array_split 可以将一个数组进行切割。</h5>\n<h5 id=\"1-hsplit-按照水平方向进行切割-用于指定分割成几列可以使用数字来代表分成几部分-2\"><a class=\"anchor\" href=\"#1-hsplit-按照水平方向进行切割-用于指定分割成几列可以使用数字来代表分成几部分-2\">#</a> 1. hsplit ：按照水平方向进行切割。用于指定分割成几列，可以使用数字来代表分成几部分，</h5>\n<h5 id=\"也可以使用数组来代表分割的地方-示例代码如下-3\"><a class=\"anchor\" href=\"#也可以使用数组来代表分割的地方-示例代码如下-3\">#</a> 也可以使用数组来代表分割的地方。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a1 = np<span class=\"selector-class\">.arange</span>(<span class=\"number\">16.0</span>)<span class=\"selector-class\">.reshape</span>( <span class=\"number\">4</span> , <span class=\"number\">4</span> )</span><br><span class=\"line\">np<span class=\"selector-class\">.hsplit</span>(a1, <span class=\"number\">2</span> ) #分割成两部分</span><br><span class=\"line\">&gt;&gt;&gt; <span class=\"built_in\">array</span>(<span class=\"selector-attr\">[[ 0., 1.]</span>,</span><br><span class=\"line\"><span class=\"selector-attr\">[ 4., 5.]</span>,</span><br><span class=\"line\"><span class=\"selector-attr\">[ 8., 9.]</span>,</span><br><span class=\"line\"><span class=\"selector-attr\">[12., 13.]</span>]), <span class=\"built_in\">array</span>(<span class=\"selector-attr\">[[ 2., 3.]</span>,</span><br><span class=\"line\"><span class=\"selector-attr\">[ 6., 7.]</span>,</span><br><span class=\"line\"><span class=\"selector-attr\">[10., 11.]</span>,</span><br><span class=\"line\"><span class=\"selector-attr\">[14., 15.]</span>])]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">np.hsplit(a1,<span class=\"comment\">[ 1 , 2 ]</span>) #代表在下标为 1 的地方切一刀，下标为 2 的地方切一刀，分成三部分</span><br><span class=\"line\">&gt;&gt;&gt; <span class=\"comment\">[array(<span class=\"comment\">[<span class=\"comment\">[ 0.]</span>,</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"comment\"><span class=\"comment\">[ 4.]</span>,</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"comment\"><span class=\"comment\">[ 8.]</span>,</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"comment\"><span class=\"comment\">[12.]</span>]</span>), array(<span class=\"comment\">[<span class=\"comment\">[ 1.]</span>,</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"comment\"><span class=\"comment\">[ 5.]</span>,</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"comment\"><span class=\"comment\">[ 9.]</span>,</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"comment\"><span class=\"comment\">[13.]</span>]</span>), array(<span class=\"comment\">[<span class=\"comment\">[ 2., 3.]</span>,</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"comment\"><span class=\"comment\">[ 6., 7.]</span>,</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"comment\"><span class=\"comment\">[10., 11.]</span>,</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"comment\"><span class=\"comment\">[14., 15.]</span>]</span>)]</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"2-vsplit-按照垂直方向进行切割-用于指定分割成几行可以使用数字来代表分成几部分-2\"><a class=\"anchor\" href=\"#2-vsplit-按照垂直方向进行切割-用于指定分割成几行可以使用数字来代表分成几部分-2\">#</a> 2. vsplit ：按照垂直方向进行切割。用于指定分割成几行，可以使用数字来代表分成几部分，</h5>\n<h5 id=\"也可以使用数组来代表分割的地方-示例代码如下-4\"><a class=\"anchor\" href=\"#也可以使用数组来代表分割的地方-示例代码如下-4\">#</a> 也可以使用数组来代表分割的地方。示例代码如下：</h5>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">np.vsplit(x, <span class=\"number\">2</span> ) #代表按照行总共分成 <span class=\"number\">2</span> 个数组</span><br><span class=\"line\">&gt;&gt;&gt; [array(<span class=\"string\">[[0., 1., 2., 3.],</span></span><br><span class=\"line\"><span class=\"string\">[4., 5., 6., 7.]]</span>), array(<span class=\"string\">[[ 8., 9., 10., 11.],</span></span><br><span class=\"line\"><span class=\"string\">[12., 13., 14., 15.]]</span>)]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">np.vsplit(x,( <span class=\"number\">1</span> , <span class=\"number\">2</span> )) #代表按照行进行划分，在下标为 <span class=\"number\">1</span> 的地方和下标为 <span class=\"number\">2</span> 的地方分割</span><br><span class=\"line\">&gt;&gt;&gt; [array(<span class=\"string\">[[0., 1., 2., 3.]]</span>),</span><br><span class=\"line\">array(<span class=\"string\">[[4., 5., 6., 7.]]</span>),</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">array</span>([[ <span class=\"number\">8</span>., <span class=\"number\">9</span>., <span class=\"number\">10</span>., <span class=\"number\">11</span>.],<span class=\"meta\"></span></span><br><span class=\"line\"><span class=\"meta\">[12., 13., 14., 15.]])]</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"3-splitarray_splitarrayindicate_or_seciontaxis-用于指定切割方式在切割的时候需-2\"><a class=\"anchor\" href=\"#3-splitarray_splitarrayindicate_or_seciontaxis-用于指定切割方式在切割的时候需-2\">#</a> 3. split/array_split (array,indicate_or_seciont,axis) ：用于指定切割方式，在切割的时候需</h5>\n<h5 id=\"要指定是按照行还是按照列-axis1-代表按照列-axis0-代表按照行-示例代码如下-2\"><a class=\"anchor\" href=\"#要指定是按照行还是按照列-axis1-代表按照列-axis0-代表按照行-示例代码如下-2\">#</a> 要指定是按照行还是按照列， axis=1 代表按照列， axis=0 代表按照行。示例代码如下：</h5>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">np.array_split(x, <span class=\"number\">2</span> ,axis= <span class=\"number\">0</span> ) #按照垂直方向切割成 <span class=\"number\">2</span> 部分</span><br><span class=\"line\">&gt;&gt;&gt; [array(<span class=\"string\">[[0., 1., 2., 3.],</span></span><br><span class=\"line\"><span class=\"string\">[4., 5., 6., 7.]]</span>), array(<span class=\"string\">[[ 8., 9., 10., 11.],</span></span><br><span class=\"line\"><span class=\"string\">[12., 13., 14., 15.]]</span>)]</span><br></pre></td></tr></table></figure>\n<h2 id=\"数组矩阵转置和轴对换-2\"><a class=\"anchor\" href=\"#数组矩阵转置和轴对换-2\">#</a> 数组（矩阵）转置和轴对换：</h2>\n<h5 id=\"numpy-中的数组其实就是线性代数中的矩阵-矩阵是可以进行转置的-ndarray-有一个-t-属性-2\"><a class=\"anchor\" href=\"#numpy-中的数组其实就是线性代数中的矩阵-矩阵是可以进行转置的-ndarray-有一个-t-属性-2\">#</a> numpy 中的数组其实就是线性代数中的矩阵。矩阵是可以进行转置的。 ndarray 有一个 T 属性，</h5>\n<h5 id=\"可以返回这个数组的转置的结果-示例代码如下-2\"><a class=\"anchor\" href=\"#可以返回这个数组的转置的结果-示例代码如下-2\">#</a> 可以返回这个数组的转置的结果。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a1 = np<span class=\"selector-class\">.arange</span>( <span class=\"number\">0</span> , <span class=\"number\">24</span> )<span class=\"selector-class\">.reshape</span>(( <span class=\"number\">4</span> , <span class=\"number\">6</span> ))</span><br><span class=\"line\">a2 = a1<span class=\"selector-class\">.T</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(a2)</span></span></span><br></pre></td></tr></table></figure>\n<h5 id=\"另外还有一个方法叫做-transpose-这个方法返回的是一个view也即修改返回值会影响到原-2\"><a class=\"anchor\" href=\"#另外还有一个方法叫做-transpose-这个方法返回的是一个view也即修改返回值会影响到原-2\">#</a> 另外还有一个方法叫做 transpose ，这个方法返回的是一个 View，也即修改返回值，会影响到原</h5>\n<h5 id=\"来数组-示例代码如下-2\"><a class=\"anchor\" href=\"#来数组-示例代码如下-2\">#</a> 来数组。示例代码如下：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a1</span> = np.arange( <span class=\"number\">0</span> , <span class=\"number\">24</span> ).reshape(( <span class=\"number\">4</span> , <span class=\"number\">6</span> ))</span><br><span class=\"line\"><span class=\"attribute\">a2</span> = a1.transpose()</span><br></pre></td></tr></table></figure>\n<h5 id=\"为什么要进行矩阵转置呢有时候在做一些计算的时候需要用到-比如做矩阵的内积的时候-就必-2\"><a class=\"anchor\" href=\"#为什么要进行矩阵转置呢有时候在做一些计算的时候需要用到-比如做矩阵的内积的时候-就必-2\">#</a> 为什么要进行矩阵转置呢，有时候在做一些计算的时候需要用到。比如做矩阵的内积的时候。就必</h5>\n<h5 id=\"须将矩阵进行转置后再乘以之前的矩阵-2\"><a class=\"anchor\" href=\"#须将矩阵进行转置后再乘以之前的矩阵-2\">#</a> 须将矩阵进行转置后再乘以之前的矩阵：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a1 = np<span class=\"selector-class\">.arange</span>( <span class=\"number\">0</span> , <span class=\"number\">24</span> )<span class=\"selector-class\">.reshape</span>(( <span class=\"number\">4</span> , <span class=\"number\">6</span> ))</span><br><span class=\"line\">a2 = a1<span class=\"selector-class\">.T</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(a1.dot(a2)</span></span>)</span><br></pre></td></tr></table></figure>\n<h1 id=\"深拷贝和浅拷贝\"><a class=\"anchor\" href=\"#深拷贝和浅拷贝\">#</a> 深拷贝和浅拷贝</h1>\n<h5 id=\"在操作数组的时候它们的数据有时候拷贝进一个新的数组有时候又不是-这经常是初学者感到\"><a class=\"anchor\" href=\"#在操作数组的时候它们的数据有时候拷贝进一个新的数组有时候又不是-这经常是初学者感到\">#</a> 在操作数组的时候，它们的数据有时候拷贝进一个新的数组，有时候又不是。这经常是初学者感到</h5>\n<h5 id=\"困惑-下面有三种情况\"><a class=\"anchor\" href=\"#困惑-下面有三种情况\">#</a> 困惑。下面有三种情况：</h5>\n<h2 id=\"不拷贝\"><a class=\"anchor\" href=\"#不拷贝\">#</a> 不拷贝：</h2>\n<h5 id=\"如果只是简单的赋值那么不会进行拷贝-示例代码如下\"><a class=\"anchor\" href=\"#如果只是简单的赋值那么不会进行拷贝-示例代码如下\">#</a> 如果只是简单的赋值，那么不会进行拷贝。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">a</span> = np<span class=\"selector-class\">.arange</span>( <span class=\"number\">12</span> )</span><br><span class=\"line\"><span class=\"selector-tag\">b</span> = <span class=\"selector-tag\">a</span> #这种情况不会进行拷贝</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(b is a)</span></span> #返回True，说明b和a是相同的</span><br></pre></td></tr></table></figure>\n<h2 id=\"view-或者浅拷贝\"><a class=\"anchor\" href=\"#view-或者浅拷贝\">#</a> View 或者浅拷贝：</h2>\n<h5 id=\"有些情况会进行变量的拷贝但是他们所指向的内存空间都是一样的那么这种情况叫做浅拷\"><a class=\"anchor\" href=\"#有些情况会进行变量的拷贝但是他们所指向的内存空间都是一样的那么这种情况叫做浅拷\">#</a> 有些情况，会进行变量的拷贝，但是他们所指向的内存空间都是一样的，那么这种情况叫做浅拷</h5>\n<h5 id=\"贝或者叫做-view视图-比如以下代码\"><a class=\"anchor\" href=\"#贝或者叫做-view视图-比如以下代码\">#</a> 贝，或者叫做 View (视图) 。比如以下代码：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">a</span> = np<span class=\"selector-class\">.arange</span>( <span class=\"number\">12</span> )</span><br><span class=\"line\">c = <span class=\"selector-tag\">a</span><span class=\"selector-class\">.view</span>()</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(c is a)</span></span> #返回False，说明c和a是两个不同的变量</span><br><span class=\"line\">c<span class=\"selector-attr\">[ 0 ]</span> = <span class=\"number\">100</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(a[ <span class=\"number\">0</span> ])</span></span> #打印 <span class=\"number\">100</span> ，说明对c上的改变，会影响a上面的值，说明他们指向的内存空间还是一样的，这种</span><br><span class=\"line\">叫做浅拷贝，或者说是view</span><br></pre></td></tr></table></figure>\n<h2 id=\"深拷贝\"><a class=\"anchor\" href=\"#深拷贝\">#</a> 深拷贝：</h2>\n<h5 id=\"将之前数据完完整整的拷贝一份放到另外一块内存空间中这样就是两个完全不同的值了-示例代\"><a class=\"anchor\" href=\"#将之前数据完完整整的拷贝一份放到另外一块内存空间中这样就是两个完全不同的值了-示例代\">#</a> 将之前数据完完整整的拷贝一份放到另外一块内存空间中，这样就是两个完全不同的值了。示例代</h5>\n<h5 id=\"码如下\"><a class=\"anchor\" href=\"#码如下\">#</a> 码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">a</span> = np<span class=\"selector-class\">.arange</span>( <span class=\"number\">12</span> )</span><br><span class=\"line\">d = <span class=\"selector-tag\">a</span><span class=\"selector-class\">.copy</span>()</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(d is a)</span></span> #返回False，说明d和a是两个不同的变量</span><br><span class=\"line\">d<span class=\"selector-attr\">[ 0 ]</span> = <span class=\"number\">100</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(a[ <span class=\"number\">0</span> ])</span></span> #打印 <span class=\"number\">0</span> ，说明d和a指向的内存空间完全不同了。</span><br></pre></td></tr></table></figure>\n<h2 id=\"例子\"><a class=\"anchor\" href=\"#例子\">#</a> 例子：</h2>\n<h5 id=\"像之前讲到的-flatten-和-ravel-就是这种情况-ravel-返回的就是view而-flatten-返回的就\"><a class=\"anchor\" href=\"#像之前讲到的-flatten-和-ravel-就是这种情况-ravel-返回的就是view而-flatten-返回的就\">#</a> 像之前讲到的 flatten 和 ravel 就是这种情况， ravel 返回的就是 View，而 flatten 返回的就</h5>\n<h5 id=\"是深拷贝\"><a class=\"anchor\" href=\"#是深拷贝\">#</a> 是深拷贝。</h5>\n<h1 id=\"文件操作\"><a class=\"anchor\" href=\"#文件操作\">#</a> 文件操作</h1>\n<h2 id=\"操作-csv-文件\"><a class=\"anchor\" href=\"#操作-csv-文件\">#</a> 操作 CSV 文件：</h2>\n<h2 id=\"文件保存\"><a class=\"anchor\" href=\"#文件保存\">#</a> 文件保存：</h2>\n<h5 id=\"有时候我们有了一个数组需要保存到文件中那么可以使用-npsavetxt-来实现-相关的函数描\"><a class=\"anchor\" href=\"#有时候我们有了一个数组需要保存到文件中那么可以使用-npsavetxt-来实现-相关的函数描\">#</a> 有时候我们有了一个数组，需要保存到文件中，那么可以使用 np.savetxt 来实现。相关的函数描</h5>\n<h5 id=\"述如下\"><a class=\"anchor\" href=\"#述如下\">#</a> 述如下：</h5>\n<figure class=\"highlight smali\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">np.savetxt(frame, array, fmt=&#x27;%.18e&#x27;, delimiter=None)</span><br><span class=\"line\">* frame<span class=\"keyword\"> :</span> 文件、字符串或产生器，可以是.gz或.bz2的压缩文件</span><br><span class=\"line\">*<span class=\"built_in\"> array </span>: 存入文件的数组</span><br><span class=\"line\">* fmt<span class=\"keyword\"> :</span> 写入文件的格式，例如：%d %.2f %.18e</span><br><span class=\"line\">* delimiter<span class=\"keyword\"> :</span> 分割字符串，默认是任何空格</span><br></pre></td></tr></table></figure>\n<h5 id=\"以下是使用的例子\"><a class=\"anchor\" href=\"#以下是使用的例子\">#</a> 以下是使用的例子：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">a</span> = np<span class=\"selector-class\">.arange</span>( <span class=\"number\">100</span> )<span class=\"selector-class\">.reshape</span>( <span class=\"number\">5</span> , <span class=\"number\">20</span> )</span><br><span class=\"line\">np<span class=\"selector-class\">.savetxt</span>(<span class=\"string\">&quot;a.csv&quot;</span>,<span class=\"selector-tag\">a</span>,fmt=<span class=\"string\">&quot;%d&quot;</span>,delimiter=<span class=\"string\">&quot;,&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h2 id=\"读取文件\"><a class=\"anchor\" href=\"#读取文件\">#</a> 读取文件：</h2>\n<h5 id=\"有时候我们的数据是需要从文件中读取出来的那么可以使用-nploadtxt-来实现-相关的函数描\"><a class=\"anchor\" href=\"#有时候我们的数据是需要从文件中读取出来的那么可以使用-nploadtxt-来实现-相关的函数描\">#</a> 有时候我们的数据是需要从文件中读取出来的，那么可以使用 np.loadtxt 来实现。相关的函数描</h5>\n<h5 id=\"述如下-2\"><a class=\"anchor\" href=\"#述如下-2\">#</a> 述如下：</h5>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">np.loadtxt(frame, <span class=\"attribute\">dtype</span>=np.float, <span class=\"attribute\">delimiter</span>=None, <span class=\"attribute\">unpack</span>=<span class=\"literal\">False</span>)</span><br><span class=\"line\">* frame：文件、字符串或产生器，可以是.gz或.bz2的压缩文件。</span><br><span class=\"line\">* dtype：数据类型，可选。</span><br><span class=\"line\">* delimiter：分割字符串，默认是任何空格。</span><br><span class=\"line\">* skiprows：跳过前面x行。</span><br><span class=\"line\">* usecols：读取指定的列，用元组组合。</span><br><span class=\"line\">* unpack：如果<span class=\"literal\">True</span>，读取出来的数组是转置后的。</span><br></pre></td></tr></table></figure>\n<h2 id=\"np-独有的存储解决方案\"><a class=\"anchor\" href=\"#np-独有的存储解决方案\">#</a> np 独有的存储解决方案：</h2>\n<h5 id=\"numpy-中还有一种独有的存储解决方案-文件名是以-npy-或者-npz-结尾的-以下是存储和加载\"><a class=\"anchor\" href=\"#numpy-中还有一种独有的存储解决方案-文件名是以-npy-或者-npz-结尾的-以下是存储和加载\">#</a> numpy 中还有一种独有的存储解决方案。文件名是以 .npy 或者 npz 结尾的。以下是存储和加载</h5>\n<h5 id=\"的函数\"><a class=\"anchor\" href=\"#的函数\">#</a> 的函数。</h5>\n<h5 id=\"1-存储-npsavefnamearray-或-npsavezfnamearray-其中前者函数的扩展名\"><a class=\"anchor\" href=\"#1-存储-npsavefnamearray-或-npsavezfnamearray-其中前者函数的扩展名\">#</a> 1. 存储： np.save (fname,array) 或 np.savez (fname,array) 。其中，前者函数的扩展名</h5>\n<h5 id=\"是-npy-后者的扩展名是-npz-后者是经过压缩的\"><a class=\"anchor\" href=\"#是-npy-后者的扩展名是-npz-后者是经过压缩的\">#</a> 是 .npy ，后者的扩展名是 .npz ，后者是经过压缩的。</h5>\n<h5 id=\"2-加载-nploadfname\"><a class=\"anchor\" href=\"#2-加载-nploadfname\">#</a> 2. 加载： np.load (fname) 。</h5>\n<h1 id=\"csv-文件操作\"><a class=\"anchor\" href=\"#csv-文件操作\">#</a> CSV 文件操作：</h1>\n<h2 id=\"读取-csv-文件\"><a class=\"anchor\" href=\"#读取-csv-文件\">#</a> 读取 csv 文件：</h2>\n<figure class=\"highlight elm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> csv</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">with <span class=\"built_in\">open</span>(<span class=\"string\">&#x27;stock.csv&#x27;</span>,<span class=\"string\">&#x27;r&#x27;</span>) as fp:</span><br><span class=\"line\">reader = csv<span class=\"selector-class\">.reader</span>(fp)</span><br><span class=\"line\">titles = <span class=\"built_in\">next</span>(reader)</span><br><span class=\"line\"><span class=\"keyword\">for</span> <span class=\"attribute\">x</span> in reader:</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(x)</span></span></span><br></pre></td></tr></table></figure>\n<h5 id=\"这样操作以后获取数据的时候就要通过下表来获取数据-如果想要在获取数据的时候通过标题\"><a class=\"anchor\" href=\"#这样操作以后获取数据的时候就要通过下表来获取数据-如果想要在获取数据的时候通过标题\">#</a> 这样操作，以后获取数据的时候，就要通过下表来获取数据。如果想要在获取数据的时候通过标题</h5>\n<h5 id=\"来获取-那么可以使用-dictreader-示例代码如下\"><a class=\"anchor\" href=\"#来获取-那么可以使用-dictreader-示例代码如下\">#</a> 来获取。那么可以使用 DictReader 。示例代码如下：</h5>\n<figure class=\"highlight elm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> csv</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">with <span class=\"built_in\">open</span>(<span class=\"string\">&#x27;stock.csv&#x27;</span>,<span class=\"string\">&#x27;r&#x27;</span>) as fp:</span><br><span class=\"line\">reader = csv<span class=\"selector-class\">.DictReader</span>(fp)</span><br><span class=\"line\"><span class=\"keyword\">for</span> <span class=\"attribute\">x</span> in reader:</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(x[<span class=\"string\">&#x27;turnoverVol&#x27;</span>])</span></span></span><br></pre></td></tr></table></figure>\n<h2 id=\"写入数据到-csv-文件\"><a class=\"anchor\" href=\"#写入数据到-csv-文件\">#</a> 写入数据到 csv 文件：</h2>\n<h5 id=\"写入数据到csv文件需要创建一个-writer-对象主要用到两个方法-一个是-writerow-这个是\"><a class=\"anchor\" href=\"#写入数据到csv文件需要创建一个-writer-对象主要用到两个方法-一个是-writerow-这个是\">#</a> 写入数据到 csv 文件，需要创建一个 writer 对象，主要用到两个方法。一个是 writerow ，这个是</h5>\n<h5 id=\"写入一行-一个是-writerows-这个是写入多行-示例代码如下\"><a class=\"anchor\" href=\"#写入一行-一个是-writerows-这个是写入多行-示例代码如下\">#</a> 写入一行。一个是 writerows ，这个是写入多行。示例代码如下：</h5>\n<figure class=\"highlight elm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> csv</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">headers <span class=\"operator\">=</span> [<span class=\"string\">&#x27;name&#x27;</span>,<span class=\"string\">&#x27;age&#x27;</span>,<span class=\"string\">&#x27;classroom&#x27;</span>]</span><br><span class=\"line\"><span class=\"keyword\">values</span> <span class=\"operator\">=</span> [</span><br><span class=\"line\">(<span class=\"string\">&#x27;zhiliao&#x27;</span>, <span class=\"number\">18</span> ,<span class=\"string\">&#x27;111&#x27;</span>),</span><br><span class=\"line\">(<span class=\"string\">&#x27;wena&#x27;</span>, <span class=\"number\">20</span> ,<span class=\"string\">&#x27;222&#x27;</span>),</span><br><span class=\"line\">(<span class=\"string\">&#x27;bbc&#x27;</span>, <span class=\"number\">21</span> ,<span class=\"string\">&#x27;111&#x27;</span>)</span><br><span class=\"line\">]</span><br><span class=\"line\"><span class=\"keyword\">with</span> <span class=\"keyword\">open</span>(<span class=\"string\">&#x27;test.csv&#x27;</span>,<span class=\"string\">&#x27;w&#x27;</span>,newline<span class=\"operator\">=</span><span class=\"string\">&#x27;&#x27;</span>) <span class=\"keyword\">as</span> fp:</span><br><span class=\"line\">writer <span class=\"operator\">=</span> csv.writer(fp)</span><br><span class=\"line\">writer.writerow(headers)</span><br><span class=\"line\">writer.writerows(<span class=\"keyword\">values</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"也可以使用字典的方式把数据写入进去-这时候就需要使用-dictwriter-了-示例代码如下\"><a class=\"anchor\" href=\"#也可以使用字典的方式把数据写入进去-这时候就需要使用-dictwriter-了-示例代码如下\">#</a> 也可以使用字典的方式把数据写入进去。这时候就需要使用 DictWriter 了。示例代码如下：</h5>\n<p>import csv</p>\n<p>headers = [‘name’,‘age’,‘classroom’]<br>\nvalues = [<br>\n{“name”:‘wenn’,“age”: 20 ,“classroom”:‘222’},<br>\n{“name”:‘abc’,“age”: 30 ,“classroom”:‘333’}<br>\n]<br>\nwith open(‘test.csv’,‘w’,newline=’’) as fp:<br>\nwriter = csv.DictWriter(fp,headers)<br>\nwriter.writerow({‘name’:‘zhiliao’,“age”: 18 ,“classroom”:‘111’})<br>\nwriter.writerows(values)</p>\n<h1 id=\"数组操作和文件操作作业\"><a class=\"anchor\" href=\"#数组操作和文件操作作业\">#</a> 数组操作和文件操作作业</h1>\n<h5 id=\"1-数组-a-nprandomrand323-能和-b-nprandomrand322-进行运算吗能和-c\"><a class=\"anchor\" href=\"#1-数组-a-nprandomrand323-能和-b-nprandomrand322-进行运算吗能和-c\">#</a> 1. 数组 a = np.random.rand (3,2,3) 能和 b = np.random.rand (3,2,2) 进行运算吗？能和 c =</h5>\n<h5 id=\"nprandomrand311-进行运算吗请说明结果的原因\"><a class=\"anchor\" href=\"#nprandomrand311-进行运算吗请说明结果的原因\">#</a> np.random.rand (3,1,1) 进行运算吗？请说明结果的原因。</h5>\n<h5 id=\"2-将数组-a-nprandomrand35-和-b-nprandomrand64-叠加在一起其中-a-在-b-的\"><a class=\"anchor\" href=\"#2-将数组-a-nprandomrand35-和-b-nprandomrand64-叠加在一起其中-a-在-b-的\">#</a> 2. 将数组 a = np.random.rand (3,5) 和 b = np.random.rand (6,4) 叠加在一起，其中 a 在 b 的</h5>\n<h5 id=\"上面并且在-b-的第-2-列下标从-0-开始新增一列用-0-来填充\"><a class=\"anchor\" href=\"#上面并且在-b-的第-2-列下标从-0-开始新增一列用-0-来填充\">#</a> 上面，并且在 b 的第 2 列（下标从 0 开始）新增一列，用 0 来填充。</h5>\n<h5 id=\"3-将数组-a-nprandomrand45-扁平化成一维数组可以使用-flatten-和-ravel-对两者\"><a class=\"anchor\" href=\"#3-将数组-a-nprandomrand45-扁平化成一维数组可以使用-flatten-和-ravel-对两者\">#</a> 3. 将数组 a = np.random.rand (4,5) 扁平化成一维数组，可以使用 flatten 和 ravel ，对两者</h5>\n<h5 id=\"的返回值进行操作哪个会影响到数组-a-对会影响到-a-数组的那个函数请说明详细的原\"><a class=\"anchor\" href=\"#的返回值进行操作哪个会影响到数组-a-对会影响到-a-数组的那个函数请说明详细的原\">#</a> 的返回值进行操作，哪个会影响到数组 a ？对会影响到 a 数组的那个函数，请说明详细的原</h5>\n<h5 id=\"因\"><a class=\"anchor\" href=\"#因\">#</a> 因。</h5>\n<h5 id=\"4-使用-numpy-自带的-csv-方法读取出-stockcsv-文件\"><a class=\"anchor\" href=\"#4-使用-numpy-自带的-csv-方法读取出-stockcsv-文件\">#</a> 4. 使用 numpy 自带的 csv 方法读取出 stock.csv 文件</h5>\n<h5 id=\"中-precloseprice-openprice-highestprice-lowestprice-的数据提示使用\"><a class=\"anchor\" href=\"#中-precloseprice-openprice-highestprice-lowestprice-的数据提示使用\">#</a> 中 preClosePrice 、 openPrice 、 highestPrice 、 lowestPrice 的数据（提示：使用</h5>\n<h5 id=\"skiprows和usecols参数\"><a class=\"anchor\" href=\"#skiprows和usecols参数\">#</a> skiprows 和 usecols 参数）。</h5>\n<h1 id=\"nan-和-inf-值处理\"><a class=\"anchor\" href=\"#nan-和-inf-值处理\">#</a> NAN 和 INF 值处理</h1>\n<h5 id=\"首先我们要知道这两个英文单词代表的什么意思\"><a class=\"anchor\" href=\"#首先我们要知道这两个英文单词代表的什么意思\">#</a> 首先我们要知道这两个英文单词代表的什么意思：</h5>\n<h5 id=\"1-nan-not-a-number-不是一个数字的意思但是他是属于浮点类型的所以想要进行数据\"><a class=\"anchor\" href=\"#1-nan-not-a-number-不是一个数字的意思但是他是属于浮点类型的所以想要进行数据\">#</a> 1. NAN ： Not A number ，不是一个数字的意思，但是他是属于浮点类型的，所以想要进行数据</h5>\n<h5 id=\"操作的时候需要注意他的类型\"><a class=\"anchor\" href=\"#操作的时候需要注意他的类型\">#</a> 操作的时候需要注意他的类型。</h5>\n<h5 id=\"2-inf-infinity-代表的是无穷大的意思也是属于浮点类型-npinf-表示正无穷大-\"><a class=\"anchor\" href=\"#2-inf-infinity-代表的是无穷大的意思也是属于浮点类型-npinf-表示正无穷大-\">#</a> 2. INF ： Infinity ，代表的是无穷大的意思，也是属于浮点类型。 np.inf 表示正无穷大， -</h5>\n<h5 id=\"npinf-表示负无穷大一般在出现除数为-0-的时候为无穷大-比如-20\"><a class=\"anchor\" href=\"#npinf-表示负无穷大一般在出现除数为-0-的时候为无穷大-比如-20\">#</a> np.inf 表示负无穷大，一般在出现除数为 0 的时候为无穷大。比如 2/0 。</h5>\n<h2 id=\"nan-一些特点\"><a class=\"anchor\" href=\"#nan-一些特点\">#</a> NAN 一些特点：</h2>\n<h5 id=\"1-nan和nan不相等-比如-npnan-npnan-这个条件是成立的\"><a class=\"anchor\" href=\"#1-nan和nan不相等-比如-npnan-npnan-这个条件是成立的\">#</a> 1. NAN 和 NAN 不相等。比如 np.NAN != np.NAN 这个条件是成立的。</h5>\n<h5 id=\"2-nan和任何值做运算结果都是nan\"><a class=\"anchor\" href=\"#2-nan和任何值做运算结果都是nan\">#</a> 2. NAN 和任何值做运算，结果都是 NAN。</h5>\n<h5 id=\"有些时候特别是从文件中读取数据的时候经常会出现一些缺失值-缺失值的出现会影响数据的\"><a class=\"anchor\" href=\"#有些时候特别是从文件中读取数据的时候经常会出现一些缺失值-缺失值的出现会影响数据的\">#</a> 有些时候，特别是从文件中读取数据的时候，经常会出现一些缺失值。缺失值的出现会影响数据的</h5>\n<h5 id=\"处理-因此我们在做数据分析之前先要对缺失值进行一些处理-处理的方式有多种需要根据实\"><a class=\"anchor\" href=\"#处理-因此我们在做数据分析之前先要对缺失值进行一些处理-处理的方式有多种需要根据实\">#</a> 处理。因此我们在做数据分析之前，先要对缺失值进行一些处理。处理的方式有多种，需要根据实</h5>\n<h5 id=\"际情况来做-一般有两种处理方式删除缺失值用其他值进行填充\"><a class=\"anchor\" href=\"#际情况来做-一般有两种处理方式删除缺失值用其他值进行填充\">#</a> 际情况来做。一般有两种处理方式：删除缺失值，用其他值进行填充。</h5>\n<h2 id=\"删除缺失值\"><a class=\"anchor\" href=\"#删除缺失值\">#</a> 删除缺失值：</h2>\n<h5 id=\"有时候我们想要将数组中的-nan-删掉那么我们可以换一种思路就是只提取不为-nan-的值\"><a class=\"anchor\" href=\"#有时候我们想要将数组中的-nan-删掉那么我们可以换一种思路就是只提取不为-nan-的值\">#</a> 有时候，我们想要将数组中的 NAN 删掉，那么我们可以换一种思路，就是只提取不为 NAN 的值。</h5>\n<h5 id=\"示例代码如下\"><a class=\"anchor\" href=\"#示例代码如下\">#</a> 示例代码如下：</h5>\n<h6 id=\"1-删除所有nan的值因为删除了值后数组将不知道该怎么变化所以会被变成一维数组\"><a class=\"anchor\" href=\"#1-删除所有nan的值因为删除了值后数组将不知道该怎么变化所以会被变成一维数组\">#</a> # 1. 删除所有 NAN 的值，因为删除了值后数组将不知道该怎么变化，所以会被变成一维数组</h6>\n<figure class=\"highlight haskell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">data</span> = np.random.randint( 0 , 10 ,<span class=\"title\">size</span>=( 3 , 5 )).astype(<span class=\"title\">np</span>.<span class=\"title\">float</span>)</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">data</span>[ 0 , 1 ] = np.nan</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">data</span> = <span class=\"keyword\">data</span>[~np.isnan(<span class=\"title\">data</span>)] # 此时的<span class=\"keyword\">data</span>会没有nan，并且变成一个 1 维数组</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight haskell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\"># 2. 删除NAN所在的行</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">data</span> = np.random.randint( 0 , 10 ,<span class=\"title\">size</span>=( 3 , 5 )).astype(<span class=\"title\">np</span>.<span class=\"title\">float</span>)</span></span><br><span class=\"line\"><span class=\"meta\"># 将第(0,1)和(1,2)两个值设置为NAN</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">data</span>[[ 0 , 1 ],[ 1 , 2 ]] = np.<span class=\"type\">NAN</span></span></span><br><span class=\"line\"><span class=\"meta\"># 获取哪些行有NAN</span></span><br><span class=\"line\"><span class=\"title\">lines</span> = np.<span class=\"keyword\">where</span>(np.isnan(<span class=\"class\"><span class=\"keyword\">data</span>))[ 0 ]</span></span><br><span class=\"line\"><span class=\"meta\"># 使用delete方法删除指定的行,axis=0表示删除行，lines表示删除的行号</span></span><br><span class=\"line\"><span class=\"title\">data1</span> = np.delete(<span class=\"class\"><span class=\"keyword\">data</span>,lines,axis= 0 )</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"用其他值进行替代\"><a class=\"anchor\" href=\"#用其他值进行替代\">#</a> 用其他值进行替代：</h2>\n<h5 id=\"有些时候我们不想直接删掉比如有一个成绩表分别是数学和英语但是因为某个人在某个科目\"><a class=\"anchor\" href=\"#有些时候我们不想直接删掉比如有一个成绩表分别是数学和英语但是因为某个人在某个科目\">#</a> 有些时候我们不想直接删掉，比如有一个成绩表，分别是数学和英语，但是因为某个人在某个科目</h5>\n<h5 id=\"上没有成绩那么此时就会出现nan的情况这时候就不能直接删掉了就可以使用某些值进行\"><a class=\"anchor\" href=\"#上没有成绩那么此时就会出现nan的情况这时候就不能直接删掉了就可以使用某些值进行\">#</a> 上没有成绩，那么此时就会出现 NAN 的情况，这时候就不能直接删掉了，就可以使用某些值进行</h5>\n<h5 id=\"替代-假如有以下表格\"><a class=\"anchor\" href=\"#替代-假如有以下表格\">#</a> 替代。假如有以下表格：</h5>\n<h5 id=\"数学-英语\"><a class=\"anchor\" href=\"#数学-英语\">#</a> 数学 英语</h5>\n<h5 id=\"59-89\"><a class=\"anchor\" href=\"#59-89\">#</a> 59 89</h5>\n<h5 id=\"90-32\"><a class=\"anchor\" href=\"#90-32\">#</a> 90 32</h5>\n<h5 id=\"78-45\"><a class=\"anchor\" href=\"#78-45\">#</a> 78 45</h5>\n<h5 id=\"34-nan\"><a class=\"anchor\" href=\"#34-nan\">#</a> 34 NAN</h5>\n<h5 id=\"nan-56\"><a class=\"anchor\" href=\"#nan-56\">#</a> NAN 56</h5>\n<h5 id=\"23-56\"><a class=\"anchor\" href=\"#23-56\">#</a> 23 56</h5>\n<h5 id=\"如果想要求每门成绩的总分以及每门成绩的平均分那么就可以采用某些值替代-比如求总分\"><a class=\"anchor\" href=\"#如果想要求每门成绩的总分以及每门成绩的平均分那么就可以采用某些值替代-比如求总分\">#</a> 如果想要求每门成绩的总分，以及每门成绩的平均分，那么就可以采用某些值替代。比如求总分，</h5>\n<h5 id=\"那么就可以把nan替换成-0-如果想要求平均分那么就可以把nan替换成其他值的平均值-示例\"><a class=\"anchor\" href=\"#那么就可以把nan替换成-0-如果想要求平均分那么就可以把nan替换成其他值的平均值-示例\">#</a> 那么就可以把 NAN 替换成 0 ，如果想要求平均分，那么就可以把 NAN 替换成其他值的平均值。示例</h5>\n<h5 id=\"代码如下\"><a class=\"anchor\" href=\"#代码如下\">#</a> 代码如下：</h5>\n<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scores = <span class=\"built_in\">np</span>.loadtxt(<span class=\"string\">&quot;nan_scores.csv&quot;</span>,skiprows= <span class=\"number\">1</span> ,delimiter=<span class=\"string\">&quot;,&quot;</span>,encoding=<span class=\"string\">&quot;utf-8&quot;</span>,dtype=<span class=\"built_in\">np</span></span><br><span class=\"line\">.str)</span><br><span class=\"line\">scores[scores == <span class=\"string\">&quot;&quot;</span>] = <span class=\"built_in\">np</span>.NAN</span><br><span class=\"line\">scores = scores.astype(<span class=\"built_in\">np</span>.<span class=\"built_in\">float</span>)</span><br><span class=\"line\"># <span class=\"number\">1</span>. 求出学生成绩的总分</span><br><span class=\"line\">scores1 = scores.<span class=\"built_in\">copy</span>()</span><br><span class=\"line\">socres1.<span class=\"built_in\">sum</span>(axis= <span class=\"number\">1</span> )</span><br></pre></td></tr></table></figure>\n<h6 id=\"2-求出每门成绩的平均分\"><a class=\"anchor\" href=\"#2-求出每门成绩的平均分\">#</a> # 2. 求出每门成绩的平均分</h6>\n<figure class=\"highlight stata\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scores2 = scores.<span class=\"keyword\">copy</span>()</span><br><span class=\"line\"><span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> <span class=\"keyword\">range</span>(scores2.shape[ 1 ]):</span><br><span class=\"line\"><span class=\"keyword\">score</span> = scores2[:,x]</span><br><span class=\"line\">non_nan_score = <span class=\"keyword\">score</span>[<span class=\"keyword\">score</span> == <span class=\"keyword\">score</span>]</span><br><span class=\"line\"><span class=\"keyword\">score</span>[<span class=\"keyword\">score</span> != <span class=\"keyword\">score</span>] = non_nan_score.<span class=\"keyword\">mean</span>()</span><br><span class=\"line\"><span class=\"keyword\">print</span>(scores2.<span class=\"keyword\">mean</span>(axis= 0 ))</span><br></pre></td></tr></table></figure>\n<h1 id=\"nprandom-模块\"><a class=\"anchor\" href=\"#nprandom-模块\">#</a> np.random 模块</h1>\n<h5 id=\"nprandom-为我们提供了许多获取随机数的函数-这里统一来学习一下\"><a class=\"anchor\" href=\"#nprandom-为我们提供了许多获取随机数的函数-这里统一来学习一下\">#</a> np.random 为我们提供了许多获取随机数的函数。这里统一来学习一下。</h5>\n<h2 id=\"nprandomseed\"><a class=\"anchor\" href=\"#nprandomseed\">#</a> np.random.seed ：</h2>\n<h5 id=\"用于指定随机数生成时所用算法开始的整数值如果使用相同的-seed-值则每次生成的随即数\"><a class=\"anchor\" href=\"#用于指定随机数生成时所用算法开始的整数值如果使用相同的-seed-值则每次生成的随即数\">#</a> 用于指定随机数生成时所用算法开始的整数值，如果使用相同的 seed () 值，则每次生成的随即数</h5>\n<h5 id=\"都相同如果不设置这个值则系统根据时间来自己选择这个值此时每次生成的随机数因时间差\"><a class=\"anchor\" href=\"#都相同如果不设置这个值则系统根据时间来自己选择这个值此时每次生成的随机数因时间差\">#</a> 都相同，如果不设置这个值，则系统根据时间来自己选择这个值，此时每次生成的随机数因时间差</h5>\n<h5 id=\"异而不同-一般没有特殊要求不用设置-以下代码\"><a class=\"anchor\" href=\"#异而不同-一般没有特殊要求不用设置-以下代码\">#</a> 异而不同。一般没有特殊要求不用设置。以下代码：</h5>\n<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">np</span>.<span class=\"built_in\">random</span>.seed( <span class=\"number\">1</span> )</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"built_in\">np</span>.<span class=\"built_in\">random</span>.rand()) # 打印<span class=\"number\">0.417022004702574</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"built_in\">np</span>.<span class=\"built_in\">random</span>.rand()) # 打印其他的值，因为随机数种子只对下一次随机数的产生会有影响。</span><br></pre></td></tr></table></figure>\n<h2 id=\"nprandomrand\"><a class=\"anchor\" href=\"#nprandomrand\">#</a> np.random.rand ：</h2>\n<h5 id=\"生成一个值为-01-之间的数组形状由参数指定如果没有参数那么将返回一个随机值-示\"><a class=\"anchor\" href=\"#生成一个值为-01-之间的数组形状由参数指定如果没有参数那么将返回一个随机值-示\">#</a> 生成一个值为 [0,1) 之间的数组，形状由参数指定，如果没有参数，那么将返回一个随机值。示</h5>\n<h5 id=\"例代码如下\"><a class=\"anchor\" href=\"#例代码如下\">#</a> 例代码如下：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">data1</span> = np.random.rand( <span class=\"number\">2</span> , <span class=\"number\">3</span> , <span class=\"number\">4</span> ) # 生成 <span class=\"number\">2</span> 块 <span class=\"number\">3</span> 行 <span class=\"number\">4</span> 列的数组，值从<span class=\"number\">0</span>-<span class=\"number\">1</span>之间</span><br><span class=\"line\"><span class=\"attribute\">data2</span> = np.random.rand() #生成一个<span class=\"number\">0</span>-<span class=\"number\">1</span>之间的随机数</span><br></pre></td></tr></table></figure>\n<h2 id=\"nprandomrandn\"><a class=\"anchor\" href=\"#nprandomrandn\">#</a> np.random.randn ：</h2>\n<h5 id=\"生成均值μ为-0-标准差σ为-1-的标准正态分布的值-示例代码如下\"><a class=\"anchor\" href=\"#生成均值μ为-0-标准差σ为-1-的标准正态分布的值-示例代码如下\">#</a> 生成均值 (μ) 为 0 ，标准差（σ）为 1 的标准正态分布的值。示例代码如下：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">data</span> = np.random.randn( <span class=\"number\">2</span> , <span class=\"number\">3</span> ) #生成一个 <span class=\"number\">2</span> 行 <span class=\"number\">3</span> 列的数组，数组中的值都满足标准正太分布</span><br></pre></td></tr></table></figure>\n<h2 id=\"nprandomrandint\"><a class=\"anchor\" href=\"#nprandomrandint\">#</a> np.random.randint ：</h2>\n<h5 id=\"生成指定范围内的随机数并且可以通过-size-参数指定维度-示例代码如下\"><a class=\"anchor\" href=\"#生成指定范围内的随机数并且可以通过-size-参数指定维度-示例代码如下\">#</a> 生成指定范围内的随机数，并且可以通过 size 参数指定维度。示例代码如下：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">data1</span> = np.random.randint( <span class=\"number\">10</span> ,size=( <span class=\"number\">3</span> , <span class=\"number\">5</span> )) #生成值在<span class=\"number\">0</span>-<span class=\"number\">10</span>之间， <span class=\"number\">3</span> 行 <span class=\"number\">5</span> 列的数组</span><br><span class=\"line\"><span class=\"attribute\">data2</span> = np.random.randint( <span class=\"number\">1</span> , <span class=\"number\">20</span> ,size=( <span class=\"number\">3</span> , <span class=\"number\">6</span> )) #生成值在<span class=\"number\">1</span>-<span class=\"number\">20</span>之间， <span class=\"number\">3</span> 行 <span class=\"number\">6</span> 列的数组</span><br></pre></td></tr></table></figure>\n<h2 id=\"nprandomchoice\"><a class=\"anchor\" href=\"#nprandomchoice\">#</a> np.random.choice ：</h2>\n<h5 id=\"从一个列表或者数组中随机进行采样-或者是从指定的区间中进行采样采样个数可以通过参数\"><a class=\"anchor\" href=\"#从一个列表或者数组中随机进行采样-或者是从指定的区间中进行采样采样个数可以通过参数\">#</a> 从一个列表或者数组中，随机进行采样。或者是从指定的区间中进行采样，采样个数可以通过参数</h5>\n<h5 id=\"指定\"><a class=\"anchor\" href=\"#指定\">#</a> 指定：</h5>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">data = [<span class=\"number\"> 4 </span>,<span class=\"number\"> 65 </span>,<span class=\"number\"> 6 </span>,<span class=\"number\"> 3 </span>,<span class=\"number\"> 5 </span>,<span class=\"number\"> 73 </span>,<span class=\"number\"> 23 </span>,<span class=\"number\"> 5 </span>,<span class=\"number\"> 6 </span>]</span><br><span class=\"line\">result1 = np.random.choice(data,size=(<span class=\"number\"> 2 </span>,<span class=\"number\"> 3 </span>)) <span class=\"comment\">#从data中随机采样，生成 2 行 3 列的数组</span></span><br><span class=\"line\">result2 = np.random.choice(data,<span class=\"number\"> 3 </span>) <span class=\"comment\">#从data中随机采样 3 个数据形成一个一维数组</span></span><br><span class=\"line\">result3 = np.random.choice(<span class=\"number\"> 10 </span>,<span class=\"number\"> 3 </span>) <span class=\"comment\">#从0-10之间随机取 3 个值</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"nprandomshuffle\"><a class=\"anchor\" href=\"#nprandomshuffle\">#</a> np.random.shuffle ：</h2>\n<h5 id=\"把原来数组的元素的位置打乱-示例代码如下\"><a class=\"anchor\" href=\"#把原来数组的元素的位置打乱-示例代码如下\">#</a> 把原来数组的元素的位置打乱。示例代码如下：</h5>\n<figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">a</span> = np.arange( <span class=\"number\">10</span> )</span><br><span class=\"line\">np.<span class=\"built_in\">random</span>.shuffle(<span class=\"keyword\">a</span>) <span class=\"comment\">#将a的元素的位置都会进行随机更换</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"更多\"><a class=\"anchor\" href=\"#更多\">#</a> 更多：</h2>\n<h5 id=\"更多的random模块的文档请参考-numpy-的官方文\"><a class=\"anchor\" href=\"#更多的random模块的文档请参考-numpy-的官方文\">#</a> 更多的 random 模块的文档，请参考 Numpy 的官方文</h5>\n<h5 id=\"档httpsdocsscipyorgdocnumpyreferenceroutinesrandomhtml\"><a class=\"anchor\" href=\"#档httpsdocsscipyorgdocnumpyreferenceroutinesrandomhtml\">#</a> 档：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLnNjaXB5Lm9yZy9kb2MvbnVtcHkvcmVmZXJlbmNlL3JvdXRpbmVzLnJhbmRvbS5odG1s\">https://docs.scipy.org/doc/numpy/reference/routines.random.html</span></h5>\n<h1 id=\"axis-理解\"><a class=\"anchor\" href=\"#axis-理解\">#</a> Axis 理解</h1>\n<h5 id=\"之前的课程中为了方便大家理解我们说-axis0-代表的是行-axis1-代表的是列-但其实不\"><a class=\"anchor\" href=\"#之前的课程中为了方便大家理解我们说-axis0-代表的是行-axis1-代表的是列-但其实不\">#</a> 之前的课程中，为了方便大家理解，我们说 axis=0 代表的是行， axis=1 代表的是列。但其实不</h5>\n<h5 id=\"是这么简单理解的-这里我们专门用一节来解释一下这个-axis-轴的概念\"><a class=\"anchor\" href=\"#是这么简单理解的-这里我们专门用一节来解释一下这个-axis-轴的概念\">#</a> 是这么简单理解的。这里我们专门用一节来解释一下这个 axis 轴的概念。</h5>\n<h5 id=\"简单来说-最外面的括号代表着-axis0-依次往里的括号对应的-axis-的计数就依次加-1-什么\"><a class=\"anchor\" href=\"#简单来说-最外面的括号代表着-axis0-依次往里的括号对应的-axis-的计数就依次加-1-什么\">#</a> 简单来说， 最外面的括号代表着 axis=0 ，依次往里的括号对应的 axis 的计数就依次加 1 。什么</h5>\n<h5 id=\"意思呢下面再来解释一下\"><a class=\"anchor\" href=\"#意思呢下面再来解释一下\">#</a> 意思呢？下面再来解释一下。</h5>\n<h5 id=\"最外面的括号就是-axis0-里面两个子括号-axis1-操作方式如果指定轴进行相关的操\"><a class=\"anchor\" href=\"#最外面的括号就是-axis0-里面两个子括号-axis1-操作方式如果指定轴进行相关的操\">#</a> 最外面的括号就是 axis=0 ，里面两个子括号 axis=1 。 操作方式：如果指定轴进行相关的操</h5>\n<h5 id=\"作那么他会使用轴下的每个直接子元素的第-0-个第-1-个第-2-个-分别进行相关的操作\"><a class=\"anchor\" href=\"#作那么他会使用轴下的每个直接子元素的第-0-个第-1-个第-2-个-分别进行相关的操作\">#</a> 作，那么他会使用轴下的每个直接子元素的第 0 个，第 1 个，第 2 个 … 分别进行相关的操作。</h5>\n<h5 id=\"现在我们用刚刚理解的方式来做几个操作-比如现在有一个二维的数组\"><a class=\"anchor\" href=\"#现在我们用刚刚理解的方式来做几个操作-比如现在有一个二维的数组\">#</a> 现在我们用刚刚理解的方式来做几个操作。比如现在有一个二维的数组：</h5>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">x = np.array(<span class=\"string\">[[ 0 , 1 ],[ 2 , 3 ]]</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"1-求-x-数组在-axis0-和-axis1-两种情况下的和\"><a class=\"anchor\" href=\"#1-求-x-数组在-axis0-和-axis1-两种情况下的和\">#</a> 1. 求 x 数组在 axis=0 和 axis=1 两种情况下的和：</h5>\n<figure class=\"highlight scss\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;&gt;&gt; <span class=\"attribute\">x</span><span class=\"selector-class\">.sum</span>(axis= <span class=\"number\">0</span> )</span><br><span class=\"line\"><span class=\"built_in\">array</span>([ <span class=\"number\">2</span> , <span class=\"number\">4</span> ])</span><br></pre></td></tr></table></figure>\n<h5 id=\"为什么得到的是24呢原因是我们按照-axis0-的方式进行相加那么就会把最外面轴下的\"><a class=\"anchor\" href=\"#为什么得到的是24呢原因是我们按照-axis0-的方式进行相加那么就会把最外面轴下的\">#</a> 为什么得到的是 [2,4] 呢，原因是我们按照 axis=0 的方式进行相加，那么就会把最外面轴下的</h5>\n<h5 id=\"所有直接子元素中的第-0-个位置进行相加第-1-个位置进行相加-依此类推得到的就\"><a class=\"anchor\" href=\"#所有直接子元素中的第-0-个位置进行相加第-1-个位置进行相加-依此类推得到的就\">#</a> 所有直接子元素中的第 0 个位置进行相加，第 1 个位置进行相加 … 依此类推，得到的就</h5>\n<h5 id=\"是-02-以及-23-然后进行相加得到的结果就是-24\"><a class=\"anchor\" href=\"#是-02-以及-23-然后进行相加得到的结果就是-24\">#</a> 是 0+2 以及 2+3 ，然后进行相加，得到的结果就是 [2,4] 。</h5>\n<figure class=\"highlight scss\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;&gt;&gt; <span class=\"attribute\">x</span><span class=\"selector-class\">.sum</span>(axis= <span class=\"number\">1</span> )</span><br><span class=\"line\"><span class=\"built_in\">array</span>([ <span class=\"number\">1</span> , <span class=\"number\">5</span> ])</span><br></pre></td></tr></table></figure>\n<h5 id=\"因为我们按照-axis1-的方式进行相加那么就会把轴为-1-里面的元素拿出来进行求和得到\"><a class=\"anchor\" href=\"#因为我们按照-axis1-的方式进行相加那么就会把轴为-1-里面的元素拿出来进行求和得到\">#</a> 因为我们按照 axis=1 的方式进行相加，那么就会把轴为 1 里面的元素拿出来进行求和，得到</h5>\n<h5 id=\"的就是-01-进行相加为-1-以及-23-进行相加为-5-所以最终结果就是-15-了\"><a class=\"anchor\" href=\"#的就是-01-进行相加为-1-以及-23-进行相加为-5-所以最终结果就是-15-了\">#</a> 的就是 0,1 ，进行相加为 1 ，以及 2,3 进行相加为 5 ，所以最终结果就是 [1,5] 了。</h5>\n<h5 id=\"2-用-npmax-求-axis0-和-axis1-两种情况下的最大值\"><a class=\"anchor\" href=\"#2-用-npmax-求-axis0-和-axis1-两种情况下的最大值\">#</a> 2. 用 np.max 求 axis=0 和 axis=1 两种情况下的最大值：</h5>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;&gt;&gt; np.random.seed(<span class=\"number\"> 100 </span>)</span><br><span class=\"line\">&gt;&gt;&gt; x = np.random.randint(<span class=\"number\"> 0 </span>,<span class=\"number\"> 10 </span>,size=(<span class=\"number\"> 3 </span>,<span class=\"number\"> 5 </span>))</span><br><span class=\"line\">&gt;&gt;&gt; x.max(axis=<span class=\"number\"> 0 </span>)</span><br><span class=\"line\">array([<span class=\"number\"> 8 </span>,<span class=\"number\"> 8 </span>,<span class=\"number\"> 3 </span>,<span class=\"number\"> 7 </span>,<span class=\"number\"> 8 </span>])</span><br></pre></td></tr></table></figure>\n<h5 id=\"因为我们是按照-axis0-进行求最大值那么就会在最外面轴里面找直接子元素然后将每个\"><a class=\"anchor\" href=\"#因为我们是按照-axis0-进行求最大值那么就会在最外面轴里面找直接子元素然后将每个\">#</a> 因为我们是按照 axis=0 进行求最大值，那么就会在最外面轴里面找直接子元素，然后将每个</h5>\n<h5 id=\"子元素的第-0-个值放在一起求最大值将第-1-个值放在一起求最大值以此类推-而如\"><a class=\"anchor\" href=\"#子元素的第-0-个值放在一起求最大值将第-1-个值放在一起求最大值以此类推-而如\">#</a> 子元素的第 0 个值放在一起求最大值，将第 1 个值放在一起求最大值，以此类推。而如</h5>\n<h5 id=\"果-axis1-那么就是拿到每个直接子元素然后求每个子元素中的最大值\"><a class=\"anchor\" href=\"#果-axis1-那么就是拿到每个直接子元素然后求每个子元素中的最大值\">#</a> 果 axis=1 ，那么就是拿到每个直接子元素，然后求每个子元素中的最大值：</h5>\n<figure class=\"highlight scss\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;&gt;&gt; <span class=\"attribute\">x</span><span class=\"selector-class\">.max</span>(axis= <span class=\"number\">1</span> )</span><br><span class=\"line\"><span class=\"built_in\">array</span>([ <span class=\"number\">8</span> , <span class=\"number\">5</span> , <span class=\"number\">8</span> ])</span><br></pre></td></tr></table></figure>\n<h5 id=\"3-用-npdelete-在-axis0-和-axis1-两种情况下删除元素\"><a class=\"anchor\" href=\"#3-用-npdelete-在-axis0-和-axis1-两种情况下删除元素\">#</a> 3. 用 np.delete 在 axis=0 和 axis=1 两种情况下删除元素：</h5>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;&gt;&gt; np.delete(x, <span class=\"number\">0</span> ,axis= <span class=\"number\">0</span> )</span><br><span class=\"line\">array(<span class=\"string\">[[ 2 , 3 ]]</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"npdelete-是个例外-我们按照-axis0-的方式进行删除那么他会首先找到最外面的括号下\"><a class=\"anchor\" href=\"#npdelete-是个例外-我们按照-axis0-的方式进行删除那么他会首先找到最外面的括号下\">#</a> np.delete 是个例外。我们按照 axis=0 的方式进行删除，那么他会首先找到最外面的括号下</h5>\n<h5 id=\"的直接子元素中的第-0-个然后删掉剩下最后一行的数据\"><a class=\"anchor\" href=\"#的直接子元素中的第-0-个然后删掉剩下最后一行的数据\">#</a> 的直接子元素中的第 0 个，然后删掉，剩下最后一行的数据。</h5>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&gt;&gt;&gt; np.delete(x, <span class=\"number\">0</span> ,axis= <span class=\"number\">1</span> )</span><br><span class=\"line\">array(<span class=\"string\">[[ 1 ],</span></span><br><span class=\"line\"><span class=\"string\">[ 3 ]]</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"同理如果我们按照-axis1-进行删除那么会把第一列的数据删掉\"><a class=\"anchor\" href=\"#同理如果我们按照-axis1-进行删除那么会把第一列的数据删掉\">#</a> 同理，如果我们按照 axis=1 进行删除，那么会把第一列的数据删掉。</h5>\n<h2 id=\"三维以上数组\"><a class=\"anchor\" href=\"#三维以上数组\">#</a> 三维以上数组：</h2>\n<h5 id=\"按照之前的理论如果以上\"><a class=\"anchor\" href=\"#按照之前的理论如果以上\">#</a> 按照之前的理论，如果以上</h5>\n<h5 id=\"数组按照-axis0-的方式进行相加得到的结果如下\"><a class=\"anchor\" href=\"#数组按照-axis0-的方式进行相加得到的结果如下\">#</a> 数组按照 axis=0 的方式进行相加，得到的结果如下：</h5>\n<h5 id=\"如果是按\"><a class=\"anchor\" href=\"#如果是按\">#</a> 如果是按</h5>\n<h5 id=\"照-axis1-的方式进行相加得到的结果如下\"><a class=\"anchor\" href=\"#照-axis1-的方式进行相加得到的结果如下\">#</a> 照 axis=1 的方式进行相加，得到的结果如下：</h5>\n<h1 id=\"通用函数\"><a class=\"anchor\" href=\"#通用函数\">#</a> 通用函数</h1>\n<h2 id=\"一元函数\"><a class=\"anchor\" href=\"#一元函数\">#</a> 一元函数：</h2>\n<h5 id=\"函数-描述\"><a class=\"anchor\" href=\"#函数-描述\">#</a> 函数 描述</h5>\n<h5 id=\"npabs-绝对值\"><a class=\"anchor\" href=\"#npabs-绝对值\">#</a> np.abs 绝对值</h5>\n<h5 id=\"npsqrt-开根\"><a class=\"anchor\" href=\"#npsqrt-开根\">#</a> np.sqrt 开根</h5>\n<h5 id=\"npsquare-平方\"><a class=\"anchor\" href=\"#npsquare-平方\">#</a> np.square 平方</h5>\n<h5 id=\"npexp-计算指数ex\"><a class=\"anchor\" href=\"#npexp-计算指数ex\">#</a> np.exp 计算指数 (e^x)</h5>\n<h5 id=\"nplognplog10nplog2nplog1p-求以对数e为底以10-为低以2-为低以1x为底的\"><a class=\"anchor\" href=\"#nplognplog10nplog2nplog1p-求以对数e为底以10-为低以2-为低以1x为底的\">#</a> np.log，np.log10，np.log2，np.log1p 求以对数 e 为底，以 ^10 为低，以 ^2 为低，以 (1+x) 为底的</h5>\n<h5 id=\"npsign-将数组中的值标签化大于成-0-小于-0-的变成-10-的变成1-等于0-的变\"><a class=\"anchor\" href=\"#npsign-将数组中的值标签化大于成-0-小于-0-的变成-10-的变成1-等于0-的变\">#</a> np.sign 将数组中的值标签化，大于成 0 ，小于 0 的变成 - 1^0 的变成 ^1 ，等于 ^0 的变</h5>\n<h5 id=\"npceil-朝着无穷大的方向取整比如变成-6-51会变成6-63会\"><a class=\"anchor\" href=\"#npceil-朝着无穷大的方向取整比如变成-6-51会变成6-63会\">#</a> np.ceil 朝着无穷大的方向取整，比如变成 - 6 5.1 会变成 ^6 ，-6.3 会</h5>\n<h5 id=\"npfloor-朝着负无穷大方向取证比如变成-7-51会变成5-63会\"><a class=\"anchor\" href=\"#npfloor-朝着负无穷大方向取证比如变成-7-51会变成5-63会\">#</a> np.floor 朝着负无穷大方向取证，比如变成 - 7 5.1 会变成 ^5 ，-6.3 会</h5>\n<h5 id=\"nprintnpround-返回四舍五入后的值\"><a class=\"anchor\" href=\"#nprintnpround-返回四舍五入后的值\">#</a> np.rint，np.round 返回四舍五入后的值</h5>\n<h5 id=\"npmodf-将整数和小数分隔开来形成两个数组\"><a class=\"anchor\" href=\"#npmodf-将整数和小数分隔开来形成两个数组\">#</a> np.modf 将整数和小数分隔开来形成两个数组</h5>\n<h5 id=\"npisnan-判断是否是nan\"><a class=\"anchor\" href=\"#npisnan-判断是否是nan\">#</a> np.isnan 判断是否是 nan</h5>\n<h5 id=\"npisinf-判断是否是inf\"><a class=\"anchor\" href=\"#npisinf-判断是否是inf\">#</a> np.isinf 判断是否是 inf</h5>\n<h5 id=\"npcosnpcoshnpsinnpsinh\"><a class=\"anchor\" href=\"#npcosnpcoshnpsinnpsinh\">#</a> np.cos，np.cosh，np.sin，np.sinh，</h5>\n<h5 id=\"nptannptanh-三角函数\"><a class=\"anchor\" href=\"#nptannptanh-三角函数\">#</a> np.tan，np.tanh 三角函数</h5>\n<h5 id=\"nparccosnparcsinnparctan-反三角函数\"><a class=\"anchor\" href=\"#nparccosnparcsinnparctan-反三角函数\">#</a> np.arccos，np.arcsin，np.arctan 反三角函数</h5>\n<h2 id=\"二元函数\"><a class=\"anchor\" href=\"#二元函数\">#</a> 二元函数：</h2>\n<h5 id=\"函数-描述-2\"><a class=\"anchor\" href=\"#函数-描述-2\">#</a> 函数 描述</h5>\n<h5 id=\"npadd-加法运算即112相当于\"><a class=\"anchor\" href=\"#npadd-加法运算即112相当于\">#</a> np.add 加法运算（即 1+1=2），相当于 +</h5>\n<h5 id=\"npsubtract-减法运算即21相当于3\"><a class=\"anchor\" href=\"#npsubtract-减法运算即21相当于3\">#</a> np.subtract 减法运算（即 2=1），相当于 3–</h5>\n<h5 id=\"npnegative-负数运算即相当于加个负号-2\"><a class=\"anchor\" href=\"#npnegative-负数运算即相当于加个负号-2\">#</a> np.negative 负数运算（即相当于加个负号 - 2），</h5>\n<h5 id=\"npmultiply-乘法运算即236相当于\"><a class=\"anchor\" href=\"#npmultiply-乘法运算即236相当于\">#</a> np.multiply 乘法运算（即 2<em>3=6），相当于</em></h5>\n<h5 id=\"npdivide-除法运算即\"><a class=\"anchor\" href=\"#npdivide-除法运算即\">#</a> np.divide 除法运算（即</h5>\n<h5 id=\"3215相当于\"><a class=\"anchor\" href=\"#3215相当于\">#</a> 3/2=1.5），相当于 /</h5>\n<h5 id=\"npfloor_divide-取整运算相当于\"><a class=\"anchor\" href=\"#npfloor_divide-取整运算相当于\">#</a> np.floor_divide 取整运算，相当于 //</h5>\n<h5 id=\"npmod-取余运算相当于\"><a class=\"anchor\" href=\"#npmod-取余运算相当于\">#</a> np.mod 取余运算，相当于 %</h5>\n<h5 id=\"greatergreater_equallessless_equalequalnot_equal-表达式-的函数\"><a class=\"anchor\" href=\"#greatergreater_equallessless_equalequalnot_equal-表达式-的函数\">#</a> greater,greater_equal,less,less_equal,equal,not_equal &gt;,&gt;=,&lt;,&lt;=,=,!= 表达式 的函数</h5>\n<h5 id=\"logical_and-的函数表达式\"><a class=\"anchor\" href=\"#logical_and-的函数表达式\">#</a> logical_and &amp; 的函数表达式</h5>\n<h5 id=\"logical_or-的函数表达式\"><a class=\"anchor\" href=\"#logical_or-的函数表达式\">#</a> logical_or \\ 的函数表达式</h5>\n<h3 id=\"聚合函数\"><a class=\"anchor\" href=\"#聚合函数\">#</a> 聚合函数：</h3>\n<h5 id=\"函数名称-nan-安全版本-描述\"><a class=\"anchor\" href=\"#函数名称-nan-安全版本-描述\">#</a> 函数名称 NAN 安全版本 描述</h5>\n<h5 id=\"npsum-npnansum-计算元素的和\"><a class=\"anchor\" href=\"#npsum-npnansum-计算元素的和\">#</a> np.sum np.nansum 计算元素的和</h5>\n<h5 id=\"npprod-npnanprod-计算元素的积\"><a class=\"anchor\" href=\"#npprod-npnanprod-计算元素的积\">#</a> np.prod np.nanprod 计算元素的积</h5>\n<h5 id=\"npmean-npnanmean-计算元素的平均值\"><a class=\"anchor\" href=\"#npmean-npnanmean-计算元素的平均值\">#</a> np.mean np.nanmean 计算元素的平均值</h5>\n<h5 id=\"npstd-npnanstd-计算元素的标准差\"><a class=\"anchor\" href=\"#npstd-npnanstd-计算元素的标准差\">#</a> np.std np.nanstd 计算元素的标准差</h5>\n<h5 id=\"npvar-npnanvar-计算元素的方差\"><a class=\"anchor\" href=\"#npvar-npnanvar-计算元素的方差\">#</a> np.var np.nanvar 计算元素的方差</h5>\n<h5 id=\"npmin-npnanmin-计算元素的最小值\"><a class=\"anchor\" href=\"#npmin-npnanmin-计算元素的最小值\">#</a> np.min np.nanmin 计算元素的最小值</h5>\n<h5 id=\"npmax-npnanmax-计算元素的最大值\"><a class=\"anchor\" href=\"#npmax-npnanmax-计算元素的最大值\">#</a> np.max np.nanmax 计算元素的最大值</h5>\n<h5 id=\"npargmin-npnanargmin-找出最小值的索引\"><a class=\"anchor\" href=\"#npargmin-npnanargmin-找出最小值的索引\">#</a> np.argmin np.nanargmin 找出最小值的索引</h5>\n<h5 id=\"npargmax-npnanargmax-找出最大值的索引\"><a class=\"anchor\" href=\"#npargmax-npnanargmax-找出最大值的索引\">#</a> np.argmax np.nanargmax 找出最大值的索引</h5>\n<h5 id=\"npmedian-npnanmedian-计算元素的中位数\"><a class=\"anchor\" href=\"#npmedian-npnanmedian-计算元素的中位数\">#</a> np.median np.nanmedian 计算元素的中位数</h5>\n<h5 id=\"使用-npsum-或者是-asum-即可实现-并且在使用的时候可以指定具体哪个轴-同样-python-中\"><a class=\"anchor\" href=\"#使用-npsum-或者是-asum-即可实现-并且在使用的时候可以指定具体哪个轴-同样-python-中\">#</a> 使用 np.sum 或者是 a.sum 即可实现。并且在使用的时候，可以指定具体哪个轴。同样 Python 中</h5>\n<h5 id=\"也内置了-sum-函数但是python内置的-sum-函数执行效率没有-npsum-那么高可以通过以下代\"><a class=\"anchor\" href=\"#也内置了-sum-函数但是python内置的-sum-函数执行效率没有-npsum-那么高可以通过以下代\">#</a> 也内置了 sum 函数，但是 Python 内置的 sum 函数执行效率没有 np.sum 那么高，可以通过以下代</h5>\n<h5 id=\"码测试了解到\"><a class=\"anchor\" href=\"#码测试了解到\">#</a> 码测试了解到：</h5>\n<figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">a</span> = np.<span class=\"built_in\">random</span>.rand( <span class=\"number\">1000000</span> )</span><br><span class=\"line\">%timeit <span class=\"built_in\">sum</span>(<span class=\"keyword\">a</span>) <span class=\"comment\">#使用Python内置的sum函数求总和，看下所花费的时间</span></span><br><span class=\"line\">%timeit np.<span class=\"built_in\">sum</span>(<span class=\"keyword\">a</span>) <span class=\"comment\">#使用Numpy的sum函数求和，看下所花费的时间</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"布尔数组的函数\"><a class=\"anchor\" href=\"#布尔数组的函数\">#</a> 布尔数组的函数：</h3>\n<h5 id=\"函数名称-描述\"><a class=\"anchor\" href=\"#函数名称-描述\">#</a> 函数名称 描述</h5>\n<h5 id=\"npany-验证任何一个元素是否为真\"><a class=\"anchor\" href=\"#npany-验证任何一个元素是否为真\">#</a> np.any 验证任何一个元素是否为真</h5>\n<h5 id=\"npall-验证所有元素是否为真\"><a class=\"anchor\" href=\"#npall-验证所有元素是否为真\">#</a> np.all 验证所有元素是否为真</h5>\n<h5 id=\"比如想看下数组中是不是所有元素都为-0-那么可以通过以下代码来实现\"><a class=\"anchor\" href=\"#比如想看下数组中是不是所有元素都为-0-那么可以通过以下代码来实现\">#</a> 比如想看下数组中是不是所有元素都为 0 ，那么可以通过以下代码来实现：</h5>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">np.all(<span class=\"attribute\">a</span>== 0 )</span><br><span class=\"line\"><span class=\"comment\"># 或者是</span></span><br><span class=\"line\">(<span class=\"attribute\">a</span>== 0 ).all()</span><br></pre></td></tr></table></figure>\n<h5 id=\"比如我们想要看数组中是否有等于-0-的数那么可以通过以下代码来实现\"><a class=\"anchor\" href=\"#比如我们想要看数组中是否有等于-0-的数那么可以通过以下代码来实现\">#</a> 比如我们想要看数组中是否有等于 0 的数，那么可以通过以下代码来实现：</h5>\n<figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">np.<span class=\"keyword\">any</span>(<span class=\"keyword\">a</span>== <span class=\"number\">0</span> )</span><br><span class=\"line\"><span class=\"comment\"># 或者是</span></span><br><span class=\"line\">(<span class=\"keyword\">a</span>== <span class=\"number\">0</span> ).<span class=\"keyword\">any</span>()</span><br></pre></td></tr></table></figure>\n<h3 id=\"排序\"><a class=\"anchor\" href=\"#排序\">#</a> 排序：</h3>\n<h5 id=\"1-npsort-指定轴进行排序-默认是使用数组的最后一个轴进行排序\"><a class=\"anchor\" href=\"#1-npsort-指定轴进行排序-默认是使用数组的最后一个轴进行排序\">#</a> 1. np.sort ：指定轴进行排序。默认是使用数组的最后一个轴进行排序。</h5>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">a</span> = np.random.randint( <span class=\"number\">0</span> , <span class=\"number\">10</span> ,size=( <span class=\"number\">3</span> , <span class=\"number\">5</span> ))</span><br><span class=\"line\"><span class=\"attr\">b</span> = np.sort(a) <span class=\"comment\">#按照行进行排序，因为最后一个轴是 1 ，那么就是将最里面的元素进行排序。</span></span><br><span class=\"line\"><span class=\"attr\">c</span> = np.sort(a,axis= <span class=\"number\">0</span> ) <span class=\"comment\">#按照列进行排序，因为指定了axis=0</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"还有-ndarraysort-这个方法会直接影响到原来的数组而不是返回一个新的排序后的数\"><a class=\"anchor\" href=\"#还有-ndarraysort-这个方法会直接影响到原来的数组而不是返回一个新的排序后的数\">#</a> 还有 ndarray.sort () ，这个方法会直接影响到原来的数组，而不是返回一个新的排序后的数</h5>\n<h5 id=\"组\"><a class=\"anchor\" href=\"#组\">#</a> 组。</h5>\n<h5 id=\"2-npargsort-返回排序后的下标值-示例代码如下\"><a class=\"anchor\" href=\"#2-npargsort-返回排序后的下标值-示例代码如下\">#</a> 2. np.argsort ：返回排序后的下标值。示例代码如下：</h5>\n<figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">np.argsort(<span class=\"keyword\">a</span>) <span class=\"comment\">#默认也是使用最后的一个轴来进行排序。</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"3-降序排序-npsort-默认会采用升序排序-如果我们想采用降序排序-那么可以采用以下方\"><a class=\"anchor\" href=\"#3-降序排序-npsort-默认会采用升序排序-如果我们想采用降序排序-那么可以采用以下方\">#</a> 3. 降序排序： np.sort 默认会采用升序排序。如果我们想采用降序排序。那么可以采用以下方</h5>\n<h5 id=\"案来实现\"><a class=\"anchor\" href=\"#案来实现\">#</a> 案来实现：</h5>\n<h6 id=\"1-使用负号\"><a class=\"anchor\" href=\"#1-使用负号\">#</a> # 1. 使用负号</h6>\n<figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-np.<span class=\"built_in\">sort</span>(-<span class=\"keyword\">a</span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 2. 使用sort和argsort以及take</span></span><br><span class=\"line\">indexes = np.argsort(-<span class=\"keyword\">a</span>) <span class=\"comment\">#排序后的结果就是降序的</span></span><br><span class=\"line\">np.take(<span class=\"keyword\">a</span>,indexes) <span class=\"comment\">#从a中根据下标提取相应的元素</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"其他函数补充\"><a class=\"anchor\" href=\"#其他函数补充\">#</a> 其他函数补充：</h3>\n<h5 id=\"1-npapply_along_axis-沿着某个轴执行指定的函数-示例代码如下\"><a class=\"anchor\" href=\"#1-npapply_along_axis-沿着某个轴执行指定的函数-示例代码如下\">#</a> 1. np.apply_along_axis ：沿着某个轴执行指定的函数。示例代码如下：</h5>\n<figure class=\"highlight gml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 求数组a按行求均值，并且要去掉最大值和最小值。</span><br><span class=\"line\">np.apply_along_axis(lambda <span class=\"variable language_\">x</span>:<span class=\"variable language_\">x</span>[(<span class=\"variable language_\">x</span> != <span class=\"variable language_\">x</span>.<span class=\"built_in\">max</span>()) &amp; (<span class=\"variable language_\">x</span> != <span class=\"variable language_\">x</span>.<span class=\"built_in\">min</span>())].<span class=\"built_in\">mean</span>(),axis= <span class=\"number\">1</span> ,arr=</span><br><span class=\"line\">a)</span><br></pre></td></tr></table></figure>\n<h5 id=\"2-nplinspace-用来将指定区间内的值平均分成多少份-示例代码如下\"><a class=\"anchor\" href=\"#2-nplinspace-用来将指定区间内的值平均分成多少份-示例代码如下\">#</a> 2. np.linspace ：用来将指定区间内的值平均分成多少份。示例代码如下：</h5>\n<h6 id=\"将0-1分成-12-分生成一个数组\"><a class=\"anchor\" href=\"#将0-1分成-12-分生成一个数组\">#</a> # 将 0-1 分成 12 分，生成一个数组</h6>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">np</span>.linspace( <span class=\"number\">0</span> , <span class=\"number\">1</span> , <span class=\"number\">12</span> )</span><br></pre></td></tr></table></figure>\n<h5 id=\"3-npunique-返回数组中的唯一值\"><a class=\"anchor\" href=\"#3-npunique-返回数组中的唯一值\">#</a> 3. np.unique ：返回数组中的唯一值。</h5>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 返回数组a中的唯一值，并且会返回每个唯一值出现的次数。</span></span><br><span class=\"line\">np.unique(a,<span class=\"attribute\">return_counts</span>=<span class=\"literal\">True</span>)</span><br></pre></td></tr></table></figure>\n<h2 id=\"更多-2\"><a class=\"anchor\" href=\"#更多-2\">#</a> 更多：</h2>\n<h5 id=\"httpsdocsscipyorgdocnumpyreferenceindexhtml\"><a class=\"anchor\" href=\"#httpsdocsscipyorgdocnumpyreferenceindexhtml\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLnNjaXB5Lm9yZy9kb2MvbnVtcHkvcmVmZXJlbmNlL2luZGV4Lmh0bWw=\">https://docs.scipy.org/doc/numpy/reference/index.html</span></h5>\n<h1 id=\"numpy-练习题\"><a class=\"anchor\" href=\"#numpy-练习题\">#</a> Numpy 练习题</h1>\n<h2 id=\"一-查看-numpy-的版本号\"><a class=\"anchor\" href=\"#一-查看-numpy-的版本号\">#</a> 一、查看 Numpy 的版本号：</h2>\n<figure class=\"highlight coffeescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"><span class=\"built_in\">print</span>(np.__version__)</span><br></pre></td></tr></table></figure>\n<h2 id=\"二-如何创建一个所有值都是-false-的布尔类型的数组\"><a class=\"anchor\" href=\"#二-如何创建一个所有值都是-false-的布尔类型的数组\">#</a> 二、如何创建一个所有值都是 False 的布尔类型的数组：</h2>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">np.<span class=\"keyword\">full</span>(( <span class=\"number\">3</span> , <span class=\"number\">3</span> ),<span class=\"keyword\">False</span>,dtype=np.bool)</span><br></pre></td></tr></table></figure>\n<h2 id=\"三-将一个有-10-个数的数组的形状进行转换\"><a class=\"anchor\" href=\"#三-将一个有-10-个数的数组的形状进行转换\">#</a> 三、将一个有 10 个数的数组的形状进行转换：</h2>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">arr</span> = np.arange( <span class=\"number\">10</span> )</span><br><span class=\"line\"><span class=\"attribute\">arr</span>.reshape( <span class=\"number\">2</span> , <span class=\"number\">5</span> ) #转换成(<span class=\"number\">2</span>,<span class=\"number\">5</span>)的数组</span><br><span class=\"line\"><span class=\"attribute\">arr</span>[:,np.newaxis] #转换成(<span class=\"number\">10</span>,<span class=\"number\">1</span>)的数组</span><br></pre></td></tr></table></figure>\n<h5 id=\"npnewaxis-所处的位置会变成-1-比如\"><a class=\"anchor\" href=\"#npnewaxis-所处的位置会变成-1-比如\">#</a> np.newaxis 所处的位置，会变成 1 。比如：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">arr</span> = np.random.randint( <span class=\"number\">0</span> , <span class=\"number\">10</span> ,size=( <span class=\"number\">10</span> , <span class=\"number\">2</span> ))</span><br><span class=\"line\"><span class=\"attribute\">arr1</span> = arr[:,np.newaxis,:]</span><br><span class=\"line\"><span class=\"attribute\">print</span>(arr1.shape)</span><br><span class=\"line\"><span class=\"comment\"># 结果是(10,1,2)，因为np.newaxis所在的位置是 1</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"四-将数组中所有偶数都替换成-0-改变原来数组和不改变原\"><a class=\"anchor\" href=\"#四-将数组中所有偶数都替换成-0-改变原来数组和不改变原\">#</a> 四、将数组中所有偶数都替换成 0 （改变原来数组和不改变原</h2>\n<h2 id=\"来数组两种方式实现\"><a class=\"anchor\" href=\"#来数组两种方式实现\">#</a> 来数组两种方式实现）：</h2>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">arr</span> = np.random.randint( <span class=\"number\">0</span> , <span class=\"number\">10</span> ,size=( <span class=\"number\">3</span> , <span class=\"number\">3</span> ))</span><br><span class=\"line\"><span class=\"comment\"># 1. 不改变原来数组</span></span><br><span class=\"line\"><span class=\"attribute\">arr1</span> = np.where(arr% <span class=\"number\">2</span> == <span class=\"number\">0</span> , <span class=\"number\">0</span> ,arr)</span><br><span class=\"line\"><span class=\"attribute\">print</span>(arr1)</span><br><span class=\"line\"><span class=\"comment\"># 2. 改变原来数组</span></span><br><span class=\"line\"><span class=\"attribute\">arr</span>[arr% <span class=\"number\">2</span> == <span class=\"number\">0</span> ] = <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"五-创建一个一维且有-10-个数的数组元素是从-0-1-之间\"><a class=\"anchor\" href=\"#五-创建一个一维且有-10-个数的数组元素是从-0-1-之间\">#</a> 五、创建一个一维且有 10 个数的数组，元素是从 0-1 之间，</h2>\n<h2 id=\"但是不包含-0-和-1\"><a class=\"anchor\" href=\"#但是不包含-0-和-1\">#</a> 但是不包含 0 和 1 ：</h2>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">arr</span> = np.linspace( <span class=\"number\">0</span> , <span class=\"number\">1</span> , <span class=\"number\">12</span> )[ <span class=\"number\">1</span> :-<span class=\"number\">1</span>]</span><br></pre></td></tr></table></figure>\n<h5 id=\"其中的-linspace-是在起始值和结束值之间平均的获取指定个数的数-比如以上就是从-0-1-之间\"><a class=\"anchor\" href=\"#其中的-linspace-是在起始值和结束值之间平均的获取指定个数的数-比如以上就是从-0-1-之间\">#</a> 其中的 linspace 是在起始值和结束值之间平均的获取指定个数的数。比如以上就是从 0-1 之间</h5>\n<h5 id=\"获取-12-个数组\"><a class=\"anchor\" href=\"#获取-12-个数组\">#</a> 获取 12 个数组。</h5>\n<h2 id=\"六-求以下数组大于等于-5-并且小于等于-10-的数组\"><a class=\"anchor\" href=\"#六-求以下数组大于等于-5-并且小于等于-10-的数组\">#</a> 六、求以下数组大于等于 5 并且小于等于 10 的数组：</h2>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a</span> = np.arange( <span class=\"number\">15</span> )</span><br><span class=\"line\"><span class=\"comment\"># 方法 1</span></span><br><span class=\"line\"><span class=\"attribute\">index</span> = np.where((a &gt;= <span class=\"number\">5</span> ) &amp; (a &lt;= <span class=\"number\">10</span> ))</span><br><span class=\"line\"><span class=\"attribute\">a</span>[index]</span><br></pre></td></tr></table></figure>\n<h6 id=\"方法2\"><a class=\"anchor\" href=\"#方法2\">#</a> # 方法 2:</h6>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">index = np<span class=\"selector-class\">.where</span>(np<span class=\"selector-class\">.logical_and</span>(a&gt;= <span class=\"number\">5</span> , a&lt;= <span class=\"number\">10</span> ))</span><br><span class=\"line\"><span class=\"selector-tag\">a</span><span class=\"selector-attr\">[index]</span></span><br><span class=\"line\">#&gt; (<span class=\"built_in\">array</span>(<span class=\"selector-attr\">[6, 9, 10]</span>),)</span><br></pre></td></tr></table></figure>\n<h6 id=\"方法-3\"><a class=\"anchor\" href=\"#方法-3\">#</a> # 方法 3 ：</h6>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a</span>[(a &gt;= <span class=\"number\">5</span> ) &amp; (a &lt;= <span class=\"number\">10</span> )]</span><br></pre></td></tr></table></figure>\n<h2 id=\"七-将一个二维数组的行和列分别进行逆向\"><a class=\"anchor\" href=\"#七-将一个二维数组的行和列分别进行逆向\">#</a> 七、将一个二维数组的行和列分别进行逆向：</h2>\n<figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">a</span> = np.arange( <span class=\"number\">15</span> ).reshape( <span class=\"number\">3</span> , <span class=\"number\">5</span> )</span><br><span class=\"line\"><span class=\"comment\"># 反转行</span></span><br><span class=\"line\">a1 = <span class=\"keyword\">a</span>[::<span class=\"number\">-1</span>] <span class=\"comment\">#里面传一个数进去（没有出现逗号），代表的是只对行进行操作</span></span><br><span class=\"line\"><span class=\"comment\"># 反转列</span></span><br><span class=\"line\">a2 = <span class=\"keyword\">a</span>[:,::<span class=\"number\">-1</span>] <span class=\"comment\">#里面传两个数进去，第一个是所有的行，第二个就是针对所有的列，但是取值的方向是从</span></span><br><span class=\"line\">后面到前面。</span><br></pre></td></tr></table></figure>\n<h2 id=\"八-如何将科学计数法转换为浮点类型打印\"><a class=\"anchor\" href=\"#八-如何将科学计数法转换为浮点类型打印\">#</a> 八、如何将科学计数法转换为浮点类型打印：</h2>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># set_printoptions用来设置打印的时候的一些配置和选项</span></span><br><span class=\"line\"><span class=\"comment\"># 将suppress设置为True，就不会显示成科学计数法了，并且通过precision来控制小数点后要保留几位</span></span><br><span class=\"line\">np.set_printoptions(<span class=\"attribute\">suppress</span>=<span class=\"literal\">True</span>,precision= 6 )</span><br><span class=\"line\">rand_arr = np.random.random([ 3 , 3 ])/1e3</span><br><span class=\"line\"><span class=\"built_in\">print</span>(rand_arr)</span><br></pre></td></tr></table></figure>\n<h2 id=\"九-获取一个数组中唯一的元素\"><a class=\"anchor\" href=\"#九-获取一个数组中唯一的元素\">#</a> 九、获取一个数组中唯一的元素：</h2>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">arr</span> = np.random.randint( <span class=\"number\">0</span> , <span class=\"number\">20</span> ,( <span class=\"number\">10</span> , <span class=\"number\">10</span> ))</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">np</span>.<span class=\"built_in\">unique</span>(arr)</span><br></pre></td></tr></table></figure>\n<h2 id=\"十-获取一个数组中唯一的元素个数的排行\"><a class=\"anchor\" href=\"#十-获取一个数组中唯一的元素个数的排行\">#</a> 十、获取一个数组中唯一的元素个数的排行：</h2>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">arr</span> = np.random.randint( <span class=\"number\">0</span> , <span class=\"number\">20</span> ,( <span class=\"number\">10</span> , <span class=\"number\">10</span> ))</span><br><span class=\"line\"><span class=\"attribute\">np</span>.unique(arr,return_counts=True)</span><br></pre></td></tr></table></figure>\n<h2 id=\"十一-如何找到数组中每行的最大值\"><a class=\"anchor\" href=\"#十一-如何找到数组中每行的最大值\">#</a> 十一、如何找到数组中每行的最大值：</h2>\n<h6 id=\"解决方案-1\"><a class=\"anchor\" href=\"#解决方案-1\">#</a> # 解决方案 1 ：</h6>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">np<span class=\"selector-class\">.random</span><span class=\"selector-class\">.seed</span>( <span class=\"number\">100</span> )</span><br><span class=\"line\"><span class=\"selector-tag\">a</span> = np<span class=\"selector-class\">.random</span><span class=\"selector-class\">.randint</span>( <span class=\"number\">1</span> , <span class=\"number\">10</span> , <span class=\"selector-attr\">[ 5 , 3 ]</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(a)</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(<span class=\"string\">&quot;=&quot;</span>* <span class=\"number\">30</span> )</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(np.amax(a,axis= <span class=\"number\">1</span> )</span></span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 解决方案 2 ：</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(np.apply_along_axis(np.max,<span class=\"attribute\">arr</span>=a,axis= 1 ))</span><br></pre></td></tr></table></figure>\n<h2 id=\"十二-如何按照行求最小值与最大值相除的结果\"><a class=\"anchor\" href=\"#十二-如何按照行求最小值与最大值相除的结果\">#</a> 十二、如何按照行求最小值与最大值相除的结果：</h2>\n<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">np</span>.<span class=\"built_in\">random</span>.seed( <span class=\"number\">100</span> )</span><br><span class=\"line\">a = <span class=\"built_in\">np</span>.<span class=\"built_in\">random</span>.randint( <span class=\"number\">1</span> , <span class=\"number\">10</span> , [ <span class=\"number\">5</span> , <span class=\"number\">3</span> ])</span><br><span class=\"line\"><span class=\"built_in\">np</span>.apply_along_axis(<span class=\"built_in\">lambda</span> x: <span class=\"built_in\">np</span>.<span class=\"built_in\">min</span>(x)/<span class=\"built_in\">np</span>.<span class=\"built_in\">max</span>(x),arr=a,axis= <span class=\"number\">1</span> )</span><br></pre></td></tr></table></figure>\n<h2 id=\"十三-判断两个数组是否完全相等\"><a class=\"anchor\" href=\"#十三-判断两个数组是否完全相等\">#</a> 十三、判断两个数组是否完全相等：</h2>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">a</span> = np<span class=\"selector-class\">.array</span>(<span class=\"selector-attr\">[ 0 , 1 , 2 ]</span>)</span><br><span class=\"line\"><span class=\"selector-tag\">b</span> = np<span class=\"selector-class\">.arange</span>( <span class=\"number\">3</span> )</span><br><span class=\"line\">(<span class=\"selector-tag\">a</span> == b)<span class=\"selector-class\">.all</span>()</span><br></pre></td></tr></table></figure>\n<h2 id=\"十四-设置一个数组不能修改值\"><a class=\"anchor\" href=\"#十四-设置一个数组不能修改值\">#</a> 十四、设置一个数组不能修改值：</h2>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">a</span> = np<span class=\"selector-class\">.zeros</span>(( <span class=\"number\">2</span> , <span class=\"number\">2</span> ))</span><br><span class=\"line\"><span class=\"selector-tag\">a</span><span class=\"selector-class\">.flags</span><span class=\"selector-class\">.writable</span> = False</span><br><span class=\"line\"><span class=\"selector-tag\">a</span><span class=\"selector-attr\">[ 0 ]</span> = <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"十五-找到数组中离某个元素的最近的值\"><a class=\"anchor\" href=\"#十五-找到数组中离某个元素的最近的值\">#</a> 十五、找到数组中离某个元素的最近的值：</h2>\n<p>np.random.seed( 100 )<br>\nZ = np.random.uniform( 0 , 1 , 10 )<br>\nz = 0.5<br>\nm = Z[np.abs(Z - z).argmin()]<br>\nprint(m)</p>\n<h2 id=\"为什么要学习-pandas\"><a class=\"anchor\" href=\"#为什么要学习-pandas\">#</a> 为什么要学习 pandas?</h2>\n<h5 id=\"那么问题来了\"><a class=\"anchor\" href=\"#那么问题来了\">#</a> 那么问题来了：</h5>\n<h5 id=\"numpy已经能够帮助我们处理数据能够结合matplotlib解决我们数据分析的问题那么pandas学\"><a class=\"anchor\" href=\"#numpy已经能够帮助我们处理数据能够结合matplotlib解决我们数据分析的问题那么pandas学\">#</a> numpy 已经能够帮助我们处理数据，能够结合 matplotlib 解决我们数据分析的问题，那么 pandas 学</h5>\n<h5 id=\"习的目的在什么地方呢\"><a class=\"anchor\" href=\"#习的目的在什么地方呢\">#</a> 习的目的在什么地方呢？</h5>\n<h5 id=\"numpy能够帮我们处理处理数值型数据但是这还不够-很多时候我们的数据除了数值之外\"><a class=\"anchor\" href=\"#numpy能够帮我们处理处理数值型数据但是这还不够-很多时候我们的数据除了数值之外\">#</a> numpy 能够帮我们处理处理数值型数据，但是这还不够， 很多时候，我们的数据除了数值之外，</h5>\n<h5 id=\"还有字符串还有时间序列等\"><a class=\"anchor\" href=\"#还有字符串还有时间序列等\">#</a> 还有字符串，还有时间序列等</h5>\n<h5 id=\"比如我们通过爬虫获取到了存储在数据库中的数据\"><a class=\"anchor\" href=\"#比如我们通过爬虫获取到了存储在数据库中的数据\">#</a> 比如：我们通过爬虫获取到了存储在数据库中的数据</h5>\n<h5 id=\"所以pandas出现了\"><a class=\"anchor\" href=\"#所以pandas出现了\">#</a> 所以，pandas 出现了。</h5>\n<h2 id=\"什么是-pandas\"><a class=\"anchor\" href=\"#什么是-pandas\">#</a> 什么是 Pandas?</h2>\n<h5 id=\"pandas的名称来自于面板数据panel-data\"><a class=\"anchor\" href=\"#pandas的名称来自于面板数据panel-data\">#</a> Pandas 的名称来自于面板数据（panel data）</h5>\n<h5 id=\"pandas是一个强大的分析结构化数据的工具集基于numpy构建提供了高级数据结构和数据操\"><a class=\"anchor\" href=\"#pandas是一个强大的分析结构化数据的工具集基于numpy构建提供了高级数据结构和数据操\">#</a> Pandas 是一个强大的分析结构化数据的工具集，基于 NumPy 构建，提供了高级数据结构和数据操</h5>\n<h5 id=\"作工具它是使python成为强大而高效的数据分析环境的重要因素之一\"><a class=\"anchor\" href=\"#作工具它是使python成为强大而高效的数据分析环境的重要因素之一\">#</a> 作工具，它是使 Python 成为强大而高效的数据分析环境的重要因素之一。</h5>\n<h5 id=\"一个强大的分析和操作大型结构化数据集所需的工具集\"><a class=\"anchor\" href=\"#一个强大的分析和操作大型结构化数据集所需的工具集\">#</a> 一个强大的分析和操作大型结构化数据集所需的工具集</h5>\n<h5 id=\"基础是numpy提供了高性能矩阵的运算\"><a class=\"anchor\" href=\"#基础是numpy提供了高性能矩阵的运算\">#</a> 基础是 NumPy，提供了高性能矩阵的运算</h5>\n<h5 id=\"提供了大量能够快速便捷地处理数据的函数和方法\"><a class=\"anchor\" href=\"#提供了大量能够快速便捷地处理数据的函数和方法\">#</a> 提供了大量能够快速便捷地处理数据的函数和方法</h5>\n<h5 id=\"应用于数据挖掘数据分析\"><a class=\"anchor\" href=\"#应用于数据挖掘数据分析\">#</a> 应用于数据挖掘，数据分析</h5>\n<h5 id=\"提供数据清洗功能\"><a class=\"anchor\" href=\"#提供数据清洗功能\">#</a> 提供数据清洗功能</h5>\n<h2 id=\"官网\"><a class=\"anchor\" href=\"#官网\">#</a> 官网：</h2>\n<h5 id=\"httppandaspydataorg\"><a class=\"anchor\" href=\"#httppandaspydataorg\">#</a> <span class=\"exturl\" data-url=\"aHR0cDovL3BhbmRhcy5weWRhdGEub3JnLw==\">http://pandas.pydata.org/</span></h5>\n<h1 id=\"pandas-的索引操作\"><a class=\"anchor\" href=\"#pandas-的索引操作\">#</a> Pandas 的索引操作</h1>\n<h2 id=\"索引对象-index\"><a class=\"anchor\" href=\"#索引对象-index\">#</a> 索引对象 Index</h2>\n<h2 id=\"1-series-和-dataframe-中的索引都是-index-对象\"><a class=\"anchor\" href=\"#1-series-和-dataframe-中的索引都是-index-对象\">#</a> 1. Series 和 DataFrame 中的索引都是 Index 对象</h2>\n<h5 id=\"示例代码\"><a class=\"anchor\" href=\"#示例代码\">#</a> 示例代码：</h5>\n<figure class=\"highlight elm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title\">print</span>(<span class=\"keyword\">type</span>(ser_obj.index))</span><br><span class=\"line\"><span class=\"title\">print</span>(<span class=\"keyword\">type</span>(df_obj2.index))</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(df_obj2.index)</span></span></span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果\"><a class=\"anchor\" href=\"#运行结果\">#</a> 运行结果：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">&lt;class &#x27;pandas.indexes.range.RangeIndex&#x27;&gt;</span></span><br><span class=\"line\"><span class=\"section\">&lt;class &#x27;pandas.indexes.numeric.Int64Index&#x27;&gt;</span></span><br><span class=\"line\"><span class=\"attribute\">Int64Index</span>([<span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>], dtype=&#x27;int64&#x27;)</span><br></pre></td></tr></table></figure>\n<h2 id=\"2-索引对象不可变保证了数据的安全\"><a class=\"anchor\" href=\"#2-索引对象不可变保证了数据的安全\">#</a> 2. 索引对象不可变，保证了数据的安全</h2>\n<h5 id=\"示例代码-2\"><a class=\"anchor\" href=\"#示例代码-2\">#</a> 示例代码：</h5>\n<h6 id=\"索引对象不可变\"><a class=\"anchor\" href=\"#索引对象不可变\">#</a> # 索引对象不可变</h6>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">df_obj2</span>.index[ <span class=\"number\">0</span> ] = <span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-2\"><a class=\"anchor\" href=\"#运行结果-2\">#</a> 运行结果：</h5>\n<h6 id=\"-\"><a class=\"anchor\" href=\"#-\">#</a> ---------------------------------------------------------------------------</h6>\n<figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">TypeError Traceback (most recent <span class=\"keyword\">call</span> <span class=\"keyword\">last</span>)</span><br><span class=\"line\"><span class=\"symbol\">&lt;ipython-input-23-7f40a356d7d1&gt;</span> in <span class=\"symbol\">&lt;module&gt;</span>()</span><br><span class=\"line\"><span class=\"number\">1</span> # 索引对象不可变</span><br><span class=\"line\">----&gt; <span class=\"number\">2</span> df_obj2.<span class=\"built_in\">index</span>[<span class=\"number\">0</span>] = <span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/<span class=\"title class_\">Users</span>/<span class=\"title class_\">Power</span>/anaconda/lib/python3.<span class=\"number\">6</span>/site-packages/pandas/indexes/base.py <span class=\"keyword\">in</span> __setitem__</span><br><span class=\"line\">(<span class=\"variable language_\">self</span>, key, value)</span><br><span class=\"line\"><span class=\"number\">1402</span></span><br><span class=\"line\"><span class=\"number\">1403</span> <span class=\"keyword\">def</span> <span class=\"title function_\">__setitem__</span>(<span class=\"params\"><span class=\"variable language_\">self</span>, key, value</span>):</span><br><span class=\"line\">-&gt; <span class=\"number\">1404</span> <span class=\"keyword\">raise</span> <span class=\"title class_\">TypeError</span>(<span class=\"string\">&quot;Index does not support mutable operations&quot;</span>)</span><br><span class=\"line\"><span class=\"number\">1405</span></span><br><span class=\"line\"><span class=\"number\">1406</span> <span class=\"keyword\">def</span> <span class=\"title function_\">__getitem__</span>(<span class=\"params\"><span class=\"variable language_\">self</span>, key</span>)<span class=\"symbol\">:</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight elm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">TypeError</span>: <span class=\"type\">Index</span> does not sup<span class=\"keyword\">port</span> mutable operations</span><br></pre></td></tr></table></figure>\n<h4 id=\"常见的-index-种类\"><a class=\"anchor\" href=\"#常见的-index-种类\">#</a> 常见的 Index 种类</h4>\n<h5 id=\"index索引\"><a class=\"anchor\" href=\"#index索引\">#</a> Index，索引</h5>\n<h5 id=\"int64index整数索引\"><a class=\"anchor\" href=\"#int64index整数索引\">#</a> Int64Index，整数索引</h5>\n<h5 id=\"multiindex层级索引\"><a class=\"anchor\" href=\"#multiindex层级索引\">#</a> MultiIndex，层级索引</h5>\n<h5 id=\"datetimeindex时间戳类型\"><a class=\"anchor\" href=\"#datetimeindex时间戳类型\">#</a> DatetimeIndex，时间戳类型</h5>\n<h2 id=\"series-索引\"><a class=\"anchor\" href=\"#series-索引\">#</a> Series 索引</h2>\n<h4 id=\"1-index-指定行索引名\"><a class=\"anchor\" href=\"#1-index-指定行索引名\">#</a> 1. index 指定行索引名</h4>\n<h5 id=\"示例代码-3\"><a class=\"anchor\" href=\"#示例代码-3\">#</a> 示例代码：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ser_obj = pd<span class=\"selector-class\">.Series</span>(<span class=\"built_in\">range</span>( <span class=\"number\">5</span> ), index = <span class=\"selector-attr\">[<span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;c&#x27;</span>, <span class=\"string\">&#x27;d&#x27;</span>, <span class=\"string\">&#x27;e&#x27;</span>]</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(ser_obj.head()</span></span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-3\"><a class=\"anchor\" href=\"#运行结果-3\">#</a> 运行结果：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a</span> <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">b</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">c</span> <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"attribute\">d</span> <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"attribute\">e</span> <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: int64</span><br></pre></td></tr></table></figure>\n<h4 id=\"2-行索引\"><a class=\"anchor\" href=\"#2-行索引\">#</a> 2. 行索引</h4>\n<h5 id=\"ser_objlabel-ser_objpos\"><a class=\"anchor\" href=\"#ser_objlabel-ser_objpos\">#</a> ser_obj[‘label’], ser_obj[pos]</h5>\n<h5 id=\"示例代码-4\"><a class=\"anchor\" href=\"#示例代码-4\">#</a> 示例代码：</h5>\n<h6 id=\"行索引\"><a class=\"anchor\" href=\"#行索引\">#</a> # 行索引</h6>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(ser_obj[<span class=\"string\">&#x27;b&#x27;</span>])</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(ser_obj[ <span class=\"number\">2</span> ])</span></span></span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-4\"><a class=\"anchor\" href=\"#运行结果-4\">#</a> 运行结果：</h5>\n<h6 id=\"1\"><a class=\"anchor\" href=\"#1\">#</a> 1</h6>\n<h6 id=\"2\"><a class=\"anchor\" href=\"#2\">#</a> 2</h6>\n<h4 id=\"3-切片索引\"><a class=\"anchor\" href=\"#3-切片索引\">#</a> 3. 切片索引</h4>\n<h5 id=\"ser_obj24-ser_objlabel1-label3\"><a class=\"anchor\" href=\"#ser_obj24-ser_objlabel1-label3\">#</a> ser_obj[2:4], ser_obj[‘label1’: ’label3’]</h5>\n<h5 id=\"注意按索引名切片操作时是包含终止索引的\"><a class=\"anchor\" href=\"#注意按索引名切片操作时是包含终止索引的\">#</a> 注意，按索引名切片操作时，是包含终止索引的。</h5>\n<h5 id=\"示例代码-5\"><a class=\"anchor\" href=\"#示例代码-5\">#</a> 示例代码：</h5>\n<h6 id=\"切片索引\"><a class=\"anchor\" href=\"#切片索引\">#</a> # 切片索引</h6>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(ser_obj[ <span class=\"number\">1</span> : <span class=\"number\">3</span> ])</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(ser_obj[<span class=\"string\">&#x27;b&#x27;</span>:<span class=\"string\">&#x27;d&#x27;</span>])</span></span></span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-5\"><a class=\"anchor\" href=\"#运行结果-5\">#</a> 运行结果：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">b</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">c</span> <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: int64</span><br><span class=\"line\"><span class=\"attribute\">b</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">c</span> <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"attribute\">d</span> <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: int64</span><br></pre></td></tr></table></figure>\n<h4 id=\"4-不连续索引\"><a class=\"anchor\" href=\"#4-不连续索引\">#</a> 4. 不连续索引</h4>\n<h5 id=\"ser_objlabel1-label2-label3\"><a class=\"anchor\" href=\"#ser_objlabel1-label2-label3\">#</a> ser_obj[[‘label1’, ’label2’, ‘label3’]]</h5>\n<h5 id=\"示例代码-6\"><a class=\"anchor\" href=\"#示例代码-6\">#</a> 示例代码：</h5>\n<h6 id=\"不连续索引\"><a class=\"anchor\" href=\"#不连续索引\">#</a> # 不连续索引</h6>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">print</span>(ser_obj<span class=\"string\">[[ 0 , 2 , 4 ]]</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(ser_obj<span class=\"string\">[[&#x27;a&#x27;, &#x27;e&#x27;]]</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-6\"><a class=\"anchor\" href=\"#运行结果-6\">#</a> 运行结果：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a</span> <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">c</span> <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"attribute\">e</span> <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: int64</span><br><span class=\"line\"><span class=\"attribute\">a</span> <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">e</span> <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: int64</span><br></pre></td></tr></table></figure>\n<h4 id=\"5-布尔索引\"><a class=\"anchor\" href=\"#5-布尔索引\">#</a> 5. 布尔索引</h4>\n<h5 id=\"示例代码-7\"><a class=\"anchor\" href=\"#示例代码-7\">#</a> 示例代码：</h5>\n<h6 id=\"布尔索引-2\"><a class=\"anchor\" href=\"#布尔索引-2\">#</a> # 布尔索引</h6>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ser_bool = ser_obj &gt; <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(ser_bool)</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(ser_obj[ser_bool])</span></span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(ser_obj[ser_obj &gt; <span class=\"number\">2</span> ])</span></span></span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-7\"><a class=\"anchor\" href=\"#运行结果-7\">#</a> 运行结果：</h5>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">a</span> <span class=\"literal\">False</span></span><br><span class=\"line\"><span class=\"string\">b</span> <span class=\"literal\">False</span></span><br><span class=\"line\"><span class=\"string\">c</span> <span class=\"literal\">False</span></span><br><span class=\"line\"><span class=\"string\">d</span> <span class=\"literal\">True</span></span><br><span class=\"line\"><span class=\"string\">e</span> <span class=\"literal\">True</span></span><br><span class=\"line\"><span class=\"attr\">dtype:</span> <span class=\"string\">bool</span></span><br><span class=\"line\"><span class=\"string\">d</span> <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"string\">e</span> <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attr\">dtype:</span> <span class=\"string\">int64</span></span><br><span class=\"line\"><span class=\"string\">d</span> <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"string\">e</span> <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attr\">dtype:</span> <span class=\"string\">int64</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"dataframe-索引\"><a class=\"anchor\" href=\"#dataframe-索引\">#</a> DataFrame 索引</h2>\n<h4 id=\"1-columns-指定列索引名\"><a class=\"anchor\" href=\"#1-columns-指定列索引名\">#</a> 1. columns 指定列索引名</h4>\n<h5 id=\"示例代码-8\"><a class=\"anchor\" href=\"#示例代码-8\">#</a> 示例代码：</h5>\n<figure class=\"highlight elm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">df_obj = pd<span class=\"selector-class\">.DataFrame</span>(np<span class=\"selector-class\">.random</span><span class=\"selector-class\">.randn</span>( <span class=\"number\">5</span> , <span class=\"number\">4</span> ), <span class=\"attribute\">columns</span> = [<span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;c&#x27;</span>, <span class=\"string\">&#x27;d&#x27;</span>])</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(df_obj.head()</span></span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-8\"><a class=\"anchor\" href=\"#运行结果-8\">#</a> 运行结果：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a</span> b c d</span><br><span class=\"line\"><span class=\"attribute\">0</span> -<span class=\"number\">0</span>.<span class=\"number\">241678</span> <span class=\"number\">0</span>.<span class=\"number\">621589</span> <span class=\"number\">0</span>.<span class=\"number\">843546</span> -<span class=\"number\">0</span>.<span class=\"number\">383105</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> -<span class=\"number\">0</span>.<span class=\"number\">526918</span> -<span class=\"number\">0</span>.<span class=\"number\">485325</span> <span class=\"number\">1</span>.<span class=\"number\">124420</span> -<span class=\"number\">0</span>.<span class=\"number\">653144</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> -<span class=\"number\">1</span>.<span class=\"number\">074163</span> <span class=\"number\">0</span>.<span class=\"number\">939324</span> -<span class=\"number\">0</span>.<span class=\"number\">309822</span> -<span class=\"number\">0</span>.<span class=\"number\">209149</span></span><br><span class=\"line\"><span class=\"attribute\">3</span> -<span class=\"number\">0</span>.<span class=\"number\">716816</span> <span class=\"number\">1</span>.<span class=\"number\">844654</span> -<span class=\"number\">2</span>.<span class=\"number\">123637</span> -<span class=\"number\">1</span>.<span class=\"number\">323484</span></span><br><span class=\"line\"><span class=\"attribute\">4</span> <span class=\"number\">0</span>.<span class=\"number\">368212</span> -<span class=\"number\">0</span>.<span class=\"number\">910324</span> <span class=\"number\">0</span>.<span class=\"number\">064703</span> <span class=\"number\">0</span>.<span class=\"number\">486016</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"2-列索引\"><a class=\"anchor\" href=\"#2-列索引\">#</a> 2. 列索引</h4>\n<h5 id=\"df_objlabel\"><a class=\"anchor\" href=\"#df_objlabel\">#</a> df_obj[[‘label’]]</h5>\n<h5 id=\"示例代码-9\"><a class=\"anchor\" href=\"#示例代码-9\">#</a> 示例代码：</h5>\n<h6 id=\"列索引\"><a class=\"anchor\" href=\"#列索引\">#</a> # 列索引</h6>\n<figure class=\"highlight axapta\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">print</span>(df_obj[<span class=\"string\">&#x27;a&#x27;</span>]) <span class=\"meta\"># 返回Series类型</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-9\"><a class=\"anchor\" href=\"#运行结果-9\">#</a> 运行结果：</h5>\n<h6 id=\"0-0241678\"><a class=\"anchor\" href=\"#0-0241678\">#</a> 0 -0.241678</h6>\n<h6 id=\"1-0526918\"><a class=\"anchor\" href=\"#1-0526918\">#</a> 1 -0.526918</h6>\n<h6 id=\"2-1074163\"><a class=\"anchor\" href=\"#2-1074163\">#</a> 2 -1.074163</h6>\n<h6 id=\"3-0716816\"><a class=\"anchor\" href=\"#3-0716816\">#</a> 3 -0.716816</h6>\n<h6 id=\"4-0368212\"><a class=\"anchor\" href=\"#4-0368212\">#</a> 4 0.368212</h6>\n<figure class=\"highlight elm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">Name</span>: a, d<span class=\"keyword\">type</span>: float64</span><br></pre></td></tr></table></figure>\n<h4 id=\"3-不连续索引\"><a class=\"anchor\" href=\"#3-不连续索引\">#</a> 3. 不连续索引</h4>\n<h5 id=\"df_objlabel1-label2\"><a class=\"anchor\" href=\"#df_objlabel1-label2\">#</a> df_obj[[‘label1’, ‘label2’]]</h5>\n<h5 id=\"示例代码-10\"><a class=\"anchor\" href=\"#示例代码-10\">#</a> 示例代码：</h5>\n<h6 id=\"不连续索引-2\"><a class=\"anchor\" href=\"#不连续索引-2\">#</a> # 不连续索引</h6>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">print</span>(df_obj<span class=\"string\">[[&#x27;a&#x27;,&#x27;c&#x27;]]</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-10\"><a class=\"anchor\" href=\"#运行结果-10\">#</a> 运行结果：</h5>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">a</span> c</span><br></pre></td></tr></table></figure>\n<h6 id=\"0-0241678-0843546\"><a class=\"anchor\" href=\"#0-0241678-0843546\">#</a> 0 -0.241678 0.843546</h6>\n<h6 id=\"1-0526918-1124420\"><a class=\"anchor\" href=\"#1-0526918-1124420\">#</a> 1 -0.526918 1.124420</h6>\n<h6 id=\"2-1074163-0309822\"><a class=\"anchor\" href=\"#2-1074163-0309822\">#</a> 2 -1.074163 -0.309822</h6>\n<h6 id=\"3-0716816-2123637\"><a class=\"anchor\" href=\"#3-0716816-2123637\">#</a> 3 -0.716816 -2.123637</h6>\n<h6 id=\"4-0368212-0064703\"><a class=\"anchor\" href=\"#4-0368212-0064703\">#</a> 4 0.368212 0.064703</h6>\n<h2 id=\"高级索引标签-位置和混合\"><a class=\"anchor\" href=\"#高级索引标签-位置和混合\">#</a> 高级索引：标签、位置和混合</h2>\n<h5 id=\"pandas的高级索引有-3-种\"><a class=\"anchor\" href=\"#pandas的高级索引有-3-种\">#</a> Pandas 的高级索引有 3 种</h5>\n<h4 id=\"1-loc-标签索引\"><a class=\"anchor\" href=\"#1-loc-标签索引\">#</a> 1. loc 标签索引</h4>\n<h5 id=\"dataframe-不能直接切片可以通过loc来做切片\"><a class=\"anchor\" href=\"#dataframe-不能直接切片可以通过loc来做切片\">#</a> DataFrame 不能直接切片，可以通过 loc 来做切片</h5>\n<h5 id=\"loc是基于标签名的索引也就是我们自定义的索引名\"><a class=\"anchor\" href=\"#loc是基于标签名的索引也就是我们自定义的索引名\">#</a> loc 是基于标签名的索引，也就是我们自定义的索引名</h5>\n<h5 id=\"示例代码-11\"><a class=\"anchor\" href=\"#示例代码-11\">#</a> 示例代码：</h5>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 标签索引 loc</span></span><br><span class=\"line\"><span class=\"comment\"># Series</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(ser_obj[<span class=\"string\">&#x27;b&#x27;</span>:<span class=\"string\">&#x27;d&#x27;</span>])</span><br><span class=\"line\"><span class=\"built_in\">print</span>(ser_obj.loc[<span class=\"string\">&#x27;b&#x27;</span>:<span class=\"string\">&#x27;d&#x27;</span>])</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># DataFrame</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(df_obj[<span class=\"string\">&#x27;a&#x27;</span>])</span><br></pre></td></tr></table></figure>\n<h6 id=\"第一个参数索引行第二个参数是列\"><a class=\"anchor\" href=\"#第一个参数索引行第二个参数是列\">#</a> # 第一个参数索引行，第二个参数是列</h6>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(df_obj.loc[ <span class=\"number\">0</span> : <span class=\"number\">2</span> , <span class=\"string\">&#x27;a&#x27;</span>])</span></span></span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-11\"><a class=\"anchor\" href=\"#运行结果-11\">#</a> 运行结果：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">b</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">c</span> <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"attribute\">d</span> <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: int64</span><br><span class=\"line\"><span class=\"attribute\">b</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">c</span> <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"attribute\">d</span> <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: int64</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">0</span> -<span class=\"number\">0</span>.<span class=\"number\">241678</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> -<span class=\"number\">0</span>.<span class=\"number\">526918</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> -<span class=\"number\">1</span>.<span class=\"number\">074163</span></span><br><span class=\"line\"><span class=\"attribute\">3</span> -<span class=\"number\">0</span>.<span class=\"number\">716816</span></span><br><span class=\"line\"><span class=\"attribute\">4</span> <span class=\"number\">0</span>.<span class=\"number\">368212</span></span><br><span class=\"line\"><span class=\"attribute\">Name</span>: a, dtype: float64</span><br><span class=\"line\"><span class=\"attribute\">0</span> -<span class=\"number\">0</span>.<span class=\"number\">241678</span></span><br></pre></td></tr></table></figure>\n<h6 id=\"1-0526918-2\"><a class=\"anchor\" href=\"#1-0526918-2\">#</a> 1 -0.526918</h6>\n<h6 id=\"2-1074163-2\"><a class=\"anchor\" href=\"#2-1074163-2\">#</a> 2 -1.074163</h6>\n<figure class=\"highlight elm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">Name</span>: a, d<span class=\"keyword\">type</span>: float64</span><br></pre></td></tr></table></figure>\n<h4 id=\"2-iloc-位置索引\"><a class=\"anchor\" href=\"#2-iloc-位置索引\">#</a> 2. iloc 位置索引</h4>\n<h5 id=\"作用和loc一样不过是基于索引编号来索引\"><a class=\"anchor\" href=\"#作用和loc一样不过是基于索引编号来索引\">#</a> 作用和 loc 一样，不过是基于索引编号来索引</h5>\n<h5 id=\"示例代码-12\"><a class=\"anchor\" href=\"#示例代码-12\">#</a> 示例代码：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 整型位置索引 iloc</span></span><br><span class=\"line\"><span class=\"comment\"># Series</span></span><br><span class=\"line\"><span class=\"attribute\">print</span>(ser_obj[ <span class=\"number\">1</span> : <span class=\"number\">3</span> ])</span><br><span class=\"line\"><span class=\"attribute\">print</span>(ser_obj.iloc[ <span class=\"number\">1</span> : <span class=\"number\">3</span> ])</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># DataFrame</span></span><br><span class=\"line\"><span class=\"attribute\">print</span>(df_obj.iloc[ <span class=\"number\">0</span> : <span class=\"number\">2</span> , <span class=\"number\">0</span> ]) # 注意和df_obj.loc[<span class=\"number\">0</span>:<span class=\"number\">2</span>, &#x27;a&#x27;]的区别</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-12\"><a class=\"anchor\" href=\"#运行结果-12\">#</a> 运行结果：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">b</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">c</span> <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: int64</span><br><span class=\"line\"><span class=\"attribute\">b</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">c</span> <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: int64</span><br></pre></td></tr></table></figure>\n<h6 id=\"0-0241678-2\"><a class=\"anchor\" href=\"#0-0241678-2\">#</a> 0 -0.241678</h6>\n<h6 id=\"1-0526918-3\"><a class=\"anchor\" href=\"#1-0526918-3\">#</a> 1 -0.526918</h6>\n<figure class=\"highlight elm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">Name</span>: a, d<span class=\"keyword\">type</span>: float64</span><br></pre></td></tr></table></figure>\n<h4 id=\"3-ix-标签与位置混合索引\"><a class=\"anchor\" href=\"#3-ix-标签与位置混合索引\">#</a> 3. ix 标签与位置混合索引</h4>\n<h5 id=\"ix是以上二者的综合既可以使用索引编号又可以使用自定义索引要视情况不同来使\"><a class=\"anchor\" href=\"#ix是以上二者的综合既可以使用索引编号又可以使用自定义索引要视情况不同来使\">#</a> ix 是以上二者的综合，既可以使用索引编号，又可以使用自定义索引，要视情况不同来使</h5>\n<h5 id=\"用\"><a class=\"anchor\" href=\"#用\">#</a> 用，</h5>\n<h5 id=\"如果索引既有数字又有英文那么这种方式是不建议使用的容易导致定位的混乱\"><a class=\"anchor\" href=\"#如果索引既有数字又有英文那么这种方式是不建议使用的容易导致定位的混乱\">#</a> 如果索引既有数字又有英文，那么这种方式是不建议使用的，容易导致定位的混乱。</h5>\n<h5 id=\"示例代码-13\"><a class=\"anchor\" href=\"#示例代码-13\">#</a> 示例代码：</h5>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 混合索引 ix</span></span><br><span class=\"line\"><span class=\"comment\"># Series</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(ser_obj.ix[ 1 : 3 ])</span><br><span class=\"line\"><span class=\"built_in\">print</span>(ser_obj.ix[<span class=\"string\">&#x27;b&#x27;</span>:<span class=\"string\">&#x27;c&#x27;</span>])</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># DataFrame</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(df_obj.loc[ 0 : 2 , <span class=\"string\">&#x27;a&#x27;</span>])</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">print</span>(df_obj.ix[ <span class=\"number\">0</span> : <span class=\"number\">2</span> , <span class=\"number\">0</span> ])</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-13\"><a class=\"anchor\" href=\"#运行结果-13\">#</a> 运行结果：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">b</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">c</span> <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: int64</span><br><span class=\"line\"><span class=\"attribute\">b</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">c</span> <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: int64</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">0</span> -<span class=\"number\">0</span>.<span class=\"number\">241678</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> -<span class=\"number\">0</span>.<span class=\"number\">526918</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> -<span class=\"number\">1</span>.<span class=\"number\">074163</span></span><br><span class=\"line\"><span class=\"attribute\">Name</span>: a, dtype: float64</span><br></pre></td></tr></table></figure>\n<h4 id=\"注意\"><a class=\"anchor\" href=\"#注意\">#</a> 注意</h4>\n<h5 id=\"dataframe索引操作可将其看作ndarray的索引操作\"><a class=\"anchor\" href=\"#dataframe索引操作可将其看作ndarray的索引操作\">#</a> DataFrame 索引操作，可将其看作 ndarray 的索引操作</h5>\n<h5 id=\"标签的切片索引是包含末尾位置的\"><a class=\"anchor\" href=\"#标签的切片索引是包含末尾位置的\">#</a> 标签的切片索引是包含末尾位置的</h5>\n<h1 id=\"pandas-的对齐运算\"><a class=\"anchor\" href=\"#pandas-的对齐运算\">#</a> Pandas 的对齐运算</h1>\n<h5 id=\"是数据清洗的重要过程可以按索引对齐进行运算如果没对齐的位置则补nan最后也可以填充\"><a class=\"anchor\" href=\"#是数据清洗的重要过程可以按索引对齐进行运算如果没对齐的位置则补nan最后也可以填充\">#</a> 是数据清洗的重要过程，可以按索引对齐进行运算，如果没对齐的位置则补 NaN，最后也可以填充</h5>\n<h5 id=\"nan\"><a class=\"anchor\" href=\"#nan\">#</a> NaN</h5>\n<h2 id=\"series-的对齐运算\"><a class=\"anchor\" href=\"#series-的对齐运算\">#</a> Series 的对齐运算</h2>\n<h2 id=\"1-series-按行-索引对齐\"><a class=\"anchor\" href=\"#1-series-按行-索引对齐\">#</a> 1. Series 按行、索引对齐</h2>\n<h5 id=\"示例代码-14\"><a class=\"anchor\" href=\"#示例代码-14\">#</a> 示例代码：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">s1</span> = pd.Series(range( <span class=\"number\">10</span> , <span class=\"number\">20</span> ), index = range( <span class=\"number\">10</span> ))</span><br><span class=\"line\"><span class=\"attribute\">s2</span> = pd.Series(range( <span class=\"number\">20</span> , <span class=\"number\">25</span> ), index = range( <span class=\"number\">5</span> ))</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(<span class=\"string\">&#x27;s1: &#x27;</span> )</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(s1)</span></span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(<span class=\"string\">&#x27;&#x27;</span>)</span></span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(<span class=\"string\">&#x27;s2: &#x27;</span>)</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(s2)</span></span></span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-14\"><a class=\"anchor\" href=\"#运行结果-14\">#</a> 运行结果：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">s1</span>:</span><br><span class=\"line\"><span class=\"attribute\">0</span> <span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> <span class=\"number\">11</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> <span class=\"number\">12</span></span><br><span class=\"line\"><span class=\"attribute\">3</span> <span class=\"number\">13</span></span><br><span class=\"line\"><span class=\"attribute\">4</span> <span class=\"number\">14</span></span><br><span class=\"line\"><span class=\"attribute\">5</span> <span class=\"number\">15</span></span><br><span class=\"line\"><span class=\"attribute\">6</span> <span class=\"number\">16</span></span><br><span class=\"line\"><span class=\"attribute\">7</span> <span class=\"number\">17</span></span><br><span class=\"line\"><span class=\"attribute\">8</span> <span class=\"number\">18</span></span><br><span class=\"line\"><span class=\"attribute\">9</span> <span class=\"number\">19</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: int64</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">s2</span>:</span><br><span class=\"line\"><span class=\"attribute\">0</span> <span class=\"number\">20</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> <span class=\"number\">21</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> <span class=\"number\">22</span></span><br><span class=\"line\"><span class=\"attribute\">3</span> <span class=\"number\">23</span></span><br><span class=\"line\"><span class=\"attribute\">4</span> <span class=\"number\">24</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: int64</span><br></pre></td></tr></table></figure>\n<h4 id=\"2-series-的对齐运算\"><a class=\"anchor\" href=\"#2-series-的对齐运算\">#</a> 2. Series 的对齐运算</h4>\n<h5 id=\"示例代码-15\"><a class=\"anchor\" href=\"#示例代码-15\">#</a> 示例代码：</h5>\n<figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Series 对齐运算</span></span><br><span class=\"line\"><span class=\"built_in\">s1</span> + <span class=\"built_in\">s2</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-15\"><a class=\"anchor\" href=\"#运行结果-15\">#</a> 运行结果：</h5>\n<h6 id=\"0-300\"><a class=\"anchor\" href=\"#0-300\">#</a> 0 30.0</h6>\n<h6 id=\"1-320\"><a class=\"anchor\" href=\"#1-320\">#</a> 1 32.0</h6>\n<h6 id=\"2-340\"><a class=\"anchor\" href=\"#2-340\">#</a> 2 34.0</h6>\n<h6 id=\"3-360\"><a class=\"anchor\" href=\"#3-360\">#</a> 3 36.0</h6>\n<h6 id=\"4-380\"><a class=\"anchor\" href=\"#4-380\">#</a> 4 38.0</h6>\n<figure class=\"highlight x86asm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">5</span> <span class=\"meta\">NaN</span></span><br><span class=\"line\"><span class=\"number\">6</span> <span class=\"meta\">NaN</span></span><br><span class=\"line\"><span class=\"number\">7</span> <span class=\"meta\">NaN</span></span><br><span class=\"line\"><span class=\"number\">8</span> <span class=\"meta\">NaN</span></span><br><span class=\"line\"><span class=\"number\">9</span> <span class=\"meta\">NaN</span></span><br><span class=\"line\"><span class=\"symbol\">dtype:</span> <span class=\"meta\">float64</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"dataframe-的对齐运算\"><a class=\"anchor\" href=\"#dataframe-的对齐运算\">#</a> DataFrame 的对齐运算</h2>\n<h4 id=\"1-dataframe-按行-列索引对齐\"><a class=\"anchor\" href=\"#1-dataframe-按行-列索引对齐\">#</a> 1. DataFrame 按行、列索引对齐</h4>\n<h5 id=\"示例代码-16\"><a class=\"anchor\" href=\"#示例代码-16\">#</a> 示例代码：</h5>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">df1</span> = pd.DataFrame(np.<span class=\"literal\">on</span>es(( <span class=\"number\">2</span> , <span class=\"number\">2</span> )), columns = [<span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>])</span><br><span class=\"line\"><span class=\"attr\">df2</span> = pd.DataFrame(np.<span class=\"literal\">on</span>es(( <span class=\"number\">3</span> , <span class=\"number\">3</span> )), columns = [<span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;c&#x27;</span>])</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(<span class=\"string\">&#x27;df1: &#x27;</span>)</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(df1)</span></span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(<span class=\"string\">&#x27;&#x27;</span>)</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(<span class=\"string\">&#x27;df2: &#x27;</span>)</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(df2)</span></span></span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-16\"><a class=\"anchor\" href=\"#运行结果-16\">#</a> 运行结果：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">df1</span>:</span><br><span class=\"line\"><span class=\"attribute\">a</span> b</span><br><span class=\"line\"><span class=\"attribute\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> <span class=\"number\">1</span>.<span class=\"number\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight avrasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">df2:</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a</span> b c</span><br><span class=\"line\"><span class=\"attribute\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> <span class=\"number\">1</span>.<span class=\"number\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> <span class=\"number\">1</span>.<span class=\"number\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"2-dataframe-的对齐运算\"><a class=\"anchor\" href=\"#2-dataframe-的对齐运算\">#</a> 2. DataFrame 的对齐运算</h4>\n<h5 id=\"示例代码-17\"><a class=\"anchor\" href=\"#示例代码-17\">#</a> 示例代码：</h5>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># DataFrame对齐操作</span></span><br><span class=\"line\"><span class=\"attribute\">df1</span> + df2</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-17\"><a class=\"anchor\" href=\"#运行结果-17\">#</a> 运行结果：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a</span> b c</span><br><span class=\"line\"><span class=\"attribute\">0</span> <span class=\"number\">2</span>.<span class=\"number\">0</span> <span class=\"number\">2</span>.<span class=\"number\">0</span> NaN</span><br><span class=\"line\"><span class=\"attribute\">1</span> <span class=\"number\">2</span>.<span class=\"number\">0</span> <span class=\"number\">2</span>.<span class=\"number\">0</span> NaN</span><br><span class=\"line\"><span class=\"attribute\">2</span> NaN NaN NaN</span><br></pre></td></tr></table></figure>\n<h2 id=\"填充未对齐的数据进行运算\"><a class=\"anchor\" href=\"#填充未对齐的数据进行运算\">#</a> 填充未对齐的数据进行运算</h2>\n<h4 id=\"1-fill_value\"><a class=\"anchor\" href=\"#1-fill_value\">#</a> 1. fill_value</h4>\n<h5 id=\"使用-add-sub-div-mul-的同时\"><a class=\"anchor\" href=\"#使用-add-sub-div-mul-的同时\">#</a> 使用 add , sub , div , mul 的同时，</h5>\n<h5 id=\"通过-fill_value-指定填充值未对齐的数据将和填充值做运算\"><a class=\"anchor\" href=\"#通过-fill_value-指定填充值未对齐的数据将和填充值做运算\">#</a> 通过 fill_value 指定填充值，未对齐的数据将和填充值做运算</h5>\n<h5 id=\"示例代码-18\"><a class=\"anchor\" href=\"#示例代码-18\">#</a> 示例代码：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(s1)</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(s2)</span></span></span><br><span class=\"line\">s1<span class=\"selector-class\">.add</span>(s2, fill_value = -<span class=\"number\">1</span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(df1)</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(df2)</span></span></span><br><span class=\"line\">df1<span class=\"selector-class\">.sub</span>(df2, fill_value = <span class=\"number\">2</span>.)</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-18\"><a class=\"anchor\" href=\"#运行结果-18\">#</a> 运行结果：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># print(s1)</span></span><br><span class=\"line\"><span class=\"attribute\">0</span> <span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> <span class=\"number\">11</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> <span class=\"number\">12</span></span><br><span class=\"line\"><span class=\"attribute\">3</span> <span class=\"number\">13</span></span><br><span class=\"line\"><span class=\"attribute\">4</span> <span class=\"number\">14</span></span><br></pre></td></tr></table></figure>\n<h6 id=\"5-15\"><a class=\"anchor\" href=\"#5-15\">#</a> 5 15</h6>\n<h6 id=\"6-16\"><a class=\"anchor\" href=\"#6-16\">#</a> 6 16</h6>\n<h6 id=\"7-17\"><a class=\"anchor\" href=\"#7-17\">#</a> 7 17</h6>\n<h6 id=\"8-18\"><a class=\"anchor\" href=\"#8-18\">#</a> 8 18</h6>\n<h6 id=\"9-19\"><a class=\"anchor\" href=\"#9-19\">#</a> 9 19</h6>\n<figure class=\"highlight angelscript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dtype: <span class=\"built_in\">int64</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># print(s2)</span></span><br><span class=\"line\"><span class=\"attribute\">0</span> <span class=\"number\">20</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> <span class=\"number\">21</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> <span class=\"number\">22</span></span><br><span class=\"line\"><span class=\"attribute\">3</span> <span class=\"number\">23</span></span><br><span class=\"line\"><span class=\"attribute\">4</span> <span class=\"number\">24</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: int64</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># s1.add(s2, fill_value = -1)</span></span><br><span class=\"line\"><span class=\"attribute\">0</span> <span class=\"number\">30</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> <span class=\"number\">32</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> <span class=\"number\">34</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">3</span> <span class=\"number\">36</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">4</span> <span class=\"number\">38</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">5</span> <span class=\"number\">14</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">6</span> <span class=\"number\">15</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">7</span> <span class=\"number\">16</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">8</span> <span class=\"number\">17</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">9</span> <span class=\"number\">18</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: float64</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># print(df1)</span></span><br><span class=\"line\"><span class=\"attribute\">a</span> b</span><br><span class=\"line\"><span class=\"attribute\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> <span class=\"number\">1</span>.<span class=\"number\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># print(df2)</span></span><br><span class=\"line\"><span class=\"attribute\">a</span> b c</span><br><span class=\"line\"><span class=\"attribute\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> <span class=\"number\">1</span>.<span class=\"number\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> <span class=\"number\">1</span>.<span class=\"number\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># df1.sub(df2, fill_value = 2.)</span></span><br><span class=\"line\"><span class=\"attribute\">a</span> b c</span><br><span class=\"line\"><span class=\"attribute\">0</span> <span class=\"number\">0</span>.<span class=\"number\">0</span> <span class=\"number\">0</span>.<span class=\"number\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> <span class=\"number\">0</span>.<span class=\"number\">0</span> <span class=\"number\">0</span>.<span class=\"number\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> <span class=\"number\">1</span>.<span class=\"number\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span> <span class=\"number\">1</span>.<span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"算术方法表\"><a class=\"anchor\" href=\"#算术方法表\">#</a> 算术方法表:</h5>\n<h5 id=\"方法-描述\"><a class=\"anchor\" href=\"#方法-描述\">#</a> 方法 描述</h5>\n<h5 id=\"addradd-加法\"><a class=\"anchor\" href=\"#addradd-加法\">#</a> add，radd 加法（+）</h5>\n<h5 id=\"subrsub-减法-\"><a class=\"anchor\" href=\"#subrsub-减法-\">#</a> sub，rsub 减法（-）</h5>\n<h5 id=\"divrdiv-除法\"><a class=\"anchor\" href=\"#divrdiv-除法\">#</a> div，rdiv 除法（/）</h5>\n<h5 id=\"floordivrfllordiv-整除\"><a class=\"anchor\" href=\"#floordivrfllordiv-整除\">#</a> floordiv，rfllordiv 整除（//）</h5>\n<h5 id=\"mulrmul-乘法\"><a class=\"anchor\" href=\"#mulrmul-乘法\">#</a> mul，rmul 乘法（*）</h5>\n<h5 id=\"powrpow-幂次方\"><a class=\"anchor\" href=\"#powrpow-幂次方\">#</a> pow，rpow 幂次方（**）</h5>\n<h1 id=\"pandas-的函数应用\"><a class=\"anchor\" href=\"#pandas-的函数应用\">#</a> Pandas 的函数应用</h1>\n<h2 id=\"apply-和-applymap\"><a class=\"anchor\" href=\"#apply-和-applymap\">#</a> apply 和 applymap</h2>\n<h2 id=\"1-可直接使用-numpy-的函数\"><a class=\"anchor\" href=\"#1-可直接使用-numpy-的函数\">#</a> 1. 可直接使用 NumPy 的函数</h2>\n<h5 id=\"示例代码-19\"><a class=\"anchor\" href=\"#示例代码-19\">#</a> 示例代码：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Numpy ufunc 函数</span></span><br><span class=\"line\"><span class=\"attribute\">df</span> = pd.DataFrame(np.random.randn( <span class=\"number\">5</span> , <span class=\"number\">4</span> ) - <span class=\"number\">1</span> )</span><br><span class=\"line\"><span class=\"attribute\">print</span>(df)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"built_in\">np</span>.<span class=\"built_in\">abs</span>(df))</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-19\"><a class=\"anchor\" href=\"#运行结果-19\">#</a> 运行结果：</h5>\n<h6 id=\"0-1-2-3\"><a class=\"anchor\" href=\"#0-1-2-3\">#</a> 0 1 2 3</h6>\n<h6 id=\"0-0062413-0844813-1853721-1980717\"><a class=\"anchor\" href=\"#0-0062413-0844813-1853721-1980717\">#</a> 0 -0.062413 0.844813 -1.853721 -1.980717</h6>\n<h6 id=\"1-0539628-1975173-0856597-2612406\"><a class=\"anchor\" href=\"#1-0539628-1975173-0856597-2612406\">#</a> 1 -0.539628 -1.975173 -0.856597 -2.612406</h6>\n<h6 id=\"2-1277081-1088457-0152189-0530325\"><a class=\"anchor\" href=\"#2-1277081-1088457-0152189-0530325\">#</a> 2 -1.277081 -1.088457 -0.152189 0.530325</h6>\n<h6 id=\"3-1356578-1996441-0368822-2211478\"><a class=\"anchor\" href=\"#3-1356578-1996441-0368822-2211478\">#</a> 3 -1.356578 -1.996441 0.368822 -2.211478</h6>\n<h6 id=\"4-0562777-0518648-2007223-0059411\"><a class=\"anchor\" href=\"#4-0562777-0518648-2007223-0059411\">#</a> 4 -0.562777 0.518648 -2.007223 0.059411</h6>\n<h6 id=\"0-1-2-3-2\"><a class=\"anchor\" href=\"#0-1-2-3-2\">#</a> 0 1 2 3</h6>\n<h6 id=\"0-0062413-0844813-1853721-1980717-2\"><a class=\"anchor\" href=\"#0-0062413-0844813-1853721-1980717-2\">#</a> 0 0.062413 0.844813 1.853721 1.980717</h6>\n<h6 id=\"1-0539628-1975173-0856597-2612406-2\"><a class=\"anchor\" href=\"#1-0539628-1975173-0856597-2612406-2\">#</a> 1 0.539628 1.975173 0.856597 2.612406</h6>\n<h6 id=\"2-1277081-1088457-0152189-0530325-2\"><a class=\"anchor\" href=\"#2-1277081-1088457-0152189-0530325-2\">#</a> 2 1.277081 1.088457 0.152189 0.530325</h6>\n<h6 id=\"3-1356578-1996441-0368822-2211478-2\"><a class=\"anchor\" href=\"#3-1356578-1996441-0368822-2211478-2\">#</a> 3 1.356578 1.996441 0.368822 2.211478</h6>\n<h6 id=\"4-0562777-0518648-2007223-0059411-2\"><a class=\"anchor\" href=\"#4-0562777-0518648-2007223-0059411-2\">#</a> 4 0.562777 0.518648 2.007223 0.059411</h6>\n<h2 id=\"2-通过-apply-将函数应用到列或行上\"><a class=\"anchor\" href=\"#2-通过-apply-将函数应用到列或行上\">#</a> 2. 通过 apply 将函数应用到列或行上</h2>\n<h5 id=\"示例代码-20\"><a class=\"anchor\" href=\"#示例代码-20\">#</a> 示例代码：</h5>\n<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 使用<span class=\"built_in\">apply</span>应用行或列数据</span><br><span class=\"line\">#f = <span class=\"built_in\">lambda</span> x : x.<span class=\"built_in\">max</span>()</span><br><span class=\"line\"><span class=\"built_in\">print</span>(df.<span class=\"built_in\">apply</span>(<span class=\"built_in\">lambda</span> x : x.<span class=\"built_in\">max</span>()))</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-20\"><a class=\"anchor\" href=\"#运行结果-20\">#</a> 运行结果：</h5>\n<h6 id=\"0-0062413\"><a class=\"anchor\" href=\"#0-0062413\">#</a> 0 -0.062413</h6>\n<h6 id=\"1-0844813\"><a class=\"anchor\" href=\"#1-0844813\">#</a> 1 0.844813</h6>\n<h6 id=\"2-0368822\"><a class=\"anchor\" href=\"#2-0368822\">#</a> 2 0.368822</h6>\n<h6 id=\"3-0530325\"><a class=\"anchor\" href=\"#3-0530325\">#</a> 3 0.530325</h6>\n<figure class=\"highlight angelscript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dtype: <span class=\"built_in\">float</span>64</span><br></pre></td></tr></table></figure>\n<h5 id=\"注意指定轴的方向默认axis0方向是列\"><a class=\"anchor\" href=\"#注意指定轴的方向默认axis0方向是列\">#</a> 注意指定轴的方向，默认 axis=0，方向是列</h5>\n<h5 id=\"示例代码-21\"><a class=\"anchor\" href=\"#示例代码-21\">#</a> 示例代码：</h5>\n<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 指定轴方向，axis=<span class=\"number\">1</span>，方向是行</span><br><span class=\"line\"><span class=\"built_in\">print</span>(df.<span class=\"built_in\">apply</span>(<span class=\"built_in\">lambda</span> x : x.<span class=\"built_in\">max</span>(), axis= <span class=\"number\">1</span> ))</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-21\"><a class=\"anchor\" href=\"#运行结果-21\">#</a> 运行结果：</h5>\n<h6 id=\"0-0844813\"><a class=\"anchor\" href=\"#0-0844813\">#</a> 0 0.844813</h6>\n<h6 id=\"1-0539628\"><a class=\"anchor\" href=\"#1-0539628\">#</a> 1 -0.539628</h6>\n<h6 id=\"2-0530325\"><a class=\"anchor\" href=\"#2-0530325\">#</a> 2 0.530325</h6>\n<h6 id=\"3-0368822\"><a class=\"anchor\" href=\"#3-0368822\">#</a> 3 0.368822</h6>\n<h6 id=\"4-0518648\"><a class=\"anchor\" href=\"#4-0518648\">#</a> 4 0.518648</h6>\n<figure class=\"highlight angelscript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dtype: <span class=\"built_in\">float</span>64</span><br></pre></td></tr></table></figure>\n<h4 id=\"3-通过-applymap-将函数应用到每个数据上\"><a class=\"anchor\" href=\"#3-通过-applymap-将函数应用到每个数据上\">#</a> 3. 通过 applymap 将函数应用到每个数据上</h4>\n<h5 id=\"示例代码-22\"><a class=\"anchor\" href=\"#示例代码-22\">#</a> 示例代码：</h5>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 使用applymap应用到每个数据</span></span><br><span class=\"line\">f2 = <span class=\"keyword\">lambda</span> x : <span class=\"string\">&#x27;%.2f&#x27;</span> % x</span><br><span class=\"line\"><span class=\"built_in\">print</span>(df.applymap(f2))</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-22\"><a class=\"anchor\" href=\"#运行结果-22\">#</a> 运行结果：</h5>\n<h6 id=\"0-1-2-3-3\"><a class=\"anchor\" href=\"#0-1-2-3-3\">#</a> 0 1 2 3</h6>\n<h6 id=\"0-006-084-185-198\"><a class=\"anchor\" href=\"#0-006-084-185-198\">#</a> 0 -0.06 0.84 -1.85 -1.98</h6>\n<h6 id=\"1-054-198-086-261\"><a class=\"anchor\" href=\"#1-054-198-086-261\">#</a> 1 -0.54 -1.98 -0.86 -2.61</h6>\n<h6 id=\"2-128-109-015-053\"><a class=\"anchor\" href=\"#2-128-109-015-053\">#</a> 2 -1.28 -1.09 -0.15 0.53</h6>\n<h6 id=\"3-136-200-037-221\"><a class=\"anchor\" href=\"#3-136-200-037-221\">#</a> 3 -1.36 -2.00 0.37 -2.21</h6>\n<h6 id=\"4-056-052-201-006\"><a class=\"anchor\" href=\"#4-056-052-201-006\">#</a> 4 -0.56 0.52 -2.01 0.06</h6>\n<h2 id=\"排序-2\"><a class=\"anchor\" href=\"#排序-2\">#</a> 排序</h2>\n<h4 id=\"1-索引排序\"><a class=\"anchor\" href=\"#1-索引排序\">#</a> 1. 索引排序</h4>\n<h5 id=\"sort_index\"><a class=\"anchor\" href=\"#sort_index\">#</a> sort_index()</h5>\n<h5 id=\"排序默认使用升序排序ascendingfalse-为降序排序\"><a class=\"anchor\" href=\"#排序默认使用升序排序ascendingfalse-为降序排序\">#</a> 排序默认使用升序排序，ascending=False 为降序排序</h5>\n<h5 id=\"示例代码-23\"><a class=\"anchor\" href=\"#示例代码-23\">#</a> 示例代码：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Series</span></span><br><span class=\"line\"><span class=\"attribute\">s4</span> = pd.Series(range( <span class=\"number\">10</span> , <span class=\"number\">15</span> ), index = np.random.randint( <span class=\"number\">5</span> , size= <span class=\"number\">5</span> ))</span><br><span class=\"line\"><span class=\"attribute\">print</span>(s4)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 索引排序</span></span><br><span class=\"line\"><span class=\"attribute\">s4</span>.sort_index() # <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">1</span> <span class=\"number\">3</span> <span class=\"number\">3</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-23\"><a class=\"anchor\" href=\"#运行结果-23\">#</a> 运行结果：</h5>\n<h6 id=\"0-10\"><a class=\"anchor\" href=\"#0-10\">#</a> 0 10</h6>\n<h6 id=\"3-11\"><a class=\"anchor\" href=\"#3-11\">#</a> 3 11</h6>\n<h6 id=\"1-12\"><a class=\"anchor\" href=\"#1-12\">#</a> 1 12</h6>\n<h6 id=\"3-13\"><a class=\"anchor\" href=\"#3-13\">#</a> 3 13</h6>\n<h6 id=\"0-14\"><a class=\"anchor\" href=\"#0-14\">#</a> 0 14</h6>\n<figure class=\"highlight angelscript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dtype: <span class=\"built_in\">int64</span></span><br></pre></td></tr></table></figure>\n<h6 id=\"0-10-2\"><a class=\"anchor\" href=\"#0-10-2\">#</a> 0 10</h6>\n<h6 id=\"0-14-2\"><a class=\"anchor\" href=\"#0-14-2\">#</a> 0 14</h6>\n<h6 id=\"1-12-2\"><a class=\"anchor\" href=\"#1-12-2\">#</a> 1 12</h6>\n<h6 id=\"3-11-2\"><a class=\"anchor\" href=\"#3-11-2\">#</a> 3 11</h6>\n<h6 id=\"3-13-2\"><a class=\"anchor\" href=\"#3-13-2\">#</a> 3 13</h6>\n<figure class=\"highlight angelscript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dtype: <span class=\"built_in\">int64</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"对dataframe操作时注意轴方向\"><a class=\"anchor\" href=\"#对dataframe操作时注意轴方向\">#</a> 对 DataFrame 操作时注意轴方向</h5>\n<h5 id=\"示例代码-24\"><a class=\"anchor\" href=\"#示例代码-24\">#</a> 示例代码：</h5>\n<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># DataFrame</span><br><span class=\"line\">df4 = pd.DataFrame(<span class=\"built_in\">np</span>.<span class=\"built_in\">random</span>.randn( <span class=\"number\">3</span> , <span class=\"number\">5</span> ),</span><br><span class=\"line\">index=<span class=\"built_in\">np</span>.<span class=\"built_in\">random</span>.randint( <span class=\"number\">3</span> , size= <span class=\"number\">3</span> ),</span><br><span class=\"line\"><span class=\"built_in\">columns</span>=<span class=\"built_in\">np</span>.<span class=\"built_in\">random</span>.randint( <span class=\"number\">5</span> , size= <span class=\"number\">5</span> ))</span><br><span class=\"line\"><span class=\"built_in\">print</span>(df4)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">df4_isort</span> = df4.sort_index(axis= <span class=\"number\">1</span> , ascending=False)</span><br><span class=\"line\"><span class=\"attribute\">print</span>(df4_isort) # <span class=\"number\">4</span> <span class=\"number\">2</span> <span class=\"number\">1</span> <span class=\"number\">1</span> <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-24\"><a class=\"anchor\" href=\"#运行结果-24\">#</a> 运行结果：</h5>\n<h6 id=\"1-4-0-1-2\"><a class=\"anchor\" href=\"#1-4-0-1-2\">#</a> 1 4 0 1 2</h6>\n<h6 id=\"2-0416686-0161256-0088802-0004294-1164138\"><a class=\"anchor\" href=\"#2-0416686-0161256-0088802-0004294-1164138\">#</a> 2 -0.416686 -0.161256 0.088802 -0.004294 1.164138</h6>\n<h6 id=\"1-0671914-0531256-0303222-0509493-0342573\"><a class=\"anchor\" href=\"#1-0671914-0531256-0303222-0509493-0342573\">#</a> 1 -0.671914 0.531256 0.303222 -0.509493 -0.342573</h6>\n<h6 id=\"1-1988321-0466987-2787891-1105912-0889082\"><a class=\"anchor\" href=\"#1-1988321-0466987-2787891-1105912-0889082\">#</a> 1 1.988321 -0.466987 2.787891 -1.105912 0.889082</h6>\n<h6 id=\"4-2-1-1-0\"><a class=\"anchor\" href=\"#4-2-1-1-0\">#</a> 4 2 1 1 0</h6>\n<h6 id=\"2-0161256-1164138-0416686-0004294-0088802\"><a class=\"anchor\" href=\"#2-0161256-1164138-0416686-0004294-0088802\">#</a> 2 -0.161256 1.164138 -0.416686 -0.004294 0.088802</h6>\n<h6 id=\"1-0531256-0342573-0671914-0509493-0303222\"><a class=\"anchor\" href=\"#1-0531256-0342573-0671914-0509493-0303222\">#</a> 1 0.531256 -0.342573 -0.671914 -0.509493 0.303222</h6>\n<h6 id=\"1-0466987-0889082-1988321-1105912-2787891\"><a class=\"anchor\" href=\"#1-0466987-0889082-1988321-1105912-2787891\">#</a> 1 -0.466987 0.889082 1.988321 -1.105912 2.787891</h6>\n<h4 id=\"2-按值排序\"><a class=\"anchor\" href=\"#2-按值排序\">#</a> 2. 按值排序</h4>\n<h5 id=\"sort_valuesbycolumn-name\"><a class=\"anchor\" href=\"#sort_valuesbycolumn-name\">#</a> sort_values(by=‘column name’)</h5>\n<h5 id=\"根据某个唯一的列名进行排序如果有其他相同列名则报错\"><a class=\"anchor\" href=\"#根据某个唯一的列名进行排序如果有其他相同列名则报错\">#</a> 根据某个唯一的列名进行排序，如果有其他相同列名则报错。</h5>\n<h5 id=\"示例代码-25\"><a class=\"anchor\" href=\"#示例代码-25\">#</a> 示例代码：</h5>\n<h6 id=\"按值排序\"><a class=\"anchor\" href=\"#按值排序\">#</a> # 按值排序</h6>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">df4_vsort = df4.sort_values(by= 0 , <span class=\"attribute\">ascending</span>=<span class=\"literal\">False</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(df4_vsort)</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-25\"><a class=\"anchor\" href=\"#运行结果-25\">#</a> 运行结果：</h5>\n<h6 id=\"1-4-0-1-2-2\"><a class=\"anchor\" href=\"#1-4-0-1-2-2\">#</a> 1 4 0 1 2</h6>\n<h6 id=\"1-1988321-0466987-2787891-1105912-0889082-2\"><a class=\"anchor\" href=\"#1-1988321-0466987-2787891-1105912-0889082-2\">#</a> 1 1.988321 -0.466987 2.787891 -1.105912 0.889082</h6>\n<h6 id=\"1-0671914-0531256-0303222-0509493-0342573-2\"><a class=\"anchor\" href=\"#1-0671914-0531256-0303222-0509493-0342573-2\">#</a> 1 -0.671914 0.531256 0.303222 -0.509493 -0.342573</h6>\n<h6 id=\"2-0416686-0161256-0088802-0004294-1164138-2\"><a class=\"anchor\" href=\"#2-0416686-0161256-0088802-0004294-1164138-2\">#</a> 2 -0.416686 -0.161256 0.088802 -0.004294 1.164138</h6>\n<h2 id=\"处理缺失数据\"><a class=\"anchor\" href=\"#处理缺失数据\">#</a> 处理缺失数据</h2>\n<h5 id=\"示例代码-26\"><a class=\"anchor\" href=\"#示例代码-26\">#</a> 示例代码：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">df_data = pd<span class=\"selector-class\">.DataFrame</span>(<span class=\"selector-attr\">[np.random.randn( 3 ), [1., 2., np.nan]</span>,</span><br><span class=\"line\"><span class=\"selector-attr\">[np.nan, 4., np.nan]</span>, <span class=\"selector-attr\">[1., 2., 3.]</span>])</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(df_data.head()</span></span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-26\"><a class=\"anchor\" href=\"#运行结果-26\">#</a> 运行结果：</h5>\n<h6 id=\"0-1-2\"><a class=\"anchor\" href=\"#0-1-2\">#</a> 0 1 2</h6>\n<h6 id=\"0-0281885-0786572-0487126\"><a class=\"anchor\" href=\"#0-0281885-0786572-0487126\">#</a> 0 -0.281885 -0.786572 0.487126</h6>\n<figure class=\"highlight basic\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">1 </span><span class=\"number\">1.000000</span> <span class=\"number\">2.000000</span> NaN</span><br><span class=\"line\"><span class=\"symbol\">2 </span>NaN <span class=\"number\">4.000000</span> NaN</span><br><span class=\"line\"><span class=\"symbol\">3 </span><span class=\"number\">1.000000</span> <span class=\"number\">2.000000</span> <span class=\"number\">3.000000</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"1-判断是否存在缺失值-isnull\"><a class=\"anchor\" href=\"#1-判断是否存在缺失值-isnull\">#</a> 1. 判断是否存在缺失值： isnull ()</h4>\n<h5 id=\"示例代码-27\"><a class=\"anchor\" href=\"#示例代码-27\">#</a> 示例代码：</h5>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># isnull</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(df_data.isnull())</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-27\"><a class=\"anchor\" href=\"#运行结果-27\">#</a> 运行结果：</h5>\n<h6 id=\"0-1-2-2\"><a class=\"anchor\" href=\"#0-1-2-2\">#</a> 0 1 2</h6>\n<figure class=\"highlight basic\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">0 </span>False False False</span><br><span class=\"line\"><span class=\"symbol\">1 </span>False False True</span><br><span class=\"line\"><span class=\"symbol\">2 </span>True False True</span><br><span class=\"line\"><span class=\"symbol\">3 </span>False False False</span><br></pre></td></tr></table></figure>\n<h4 id=\"2-丢弃缺失数据-dropna\"><a class=\"anchor\" href=\"#2-丢弃缺失数据-dropna\">#</a> 2. 丢弃缺失数据： dropna ()</h4>\n<h5 id=\"根据axis轴方向丢弃包含nan的行或列-示例代码\"><a class=\"anchor\" href=\"#根据axis轴方向丢弃包含nan的行或列-示例代码\">#</a> 根据 axis 轴方向，丢弃包含 NaN 的行或列。 示例代码：</h5>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># dropna</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(df_data.dropna())</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(df_data.dropna(axis= <span class=\"number\">1</span> )</span></span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-28\"><a class=\"anchor\" href=\"#运行结果-28\">#</a> 运行结果：</h5>\n<h6 id=\"0-1-2-3\"><a class=\"anchor\" href=\"#0-1-2-3\">#</a> 0 1 2</h6>\n<h6 id=\"0-0281885-0786572-0487126-2\"><a class=\"anchor\" href=\"#0-0281885-0786572-0487126-2\">#</a> 0 -0.281885 -0.786572 0.487126</h6>\n<h6 id=\"3-1000000-2000000-3000000\"><a class=\"anchor\" href=\"#3-1000000-2000000-3000000\">#</a> 3 1.000000 2.000000 3.000000</h6>\n<h6 id=\"1-2\"><a class=\"anchor\" href=\"#1-2\">#</a> 1</h6>\n<h6 id=\"0-0786572\"><a class=\"anchor\" href=\"#0-0786572\">#</a> 0 -0.786572</h6>\n<h6 id=\"1-2000000\"><a class=\"anchor\" href=\"#1-2000000\">#</a> 1 2.000000</h6>\n<h6 id=\"2-4000000\"><a class=\"anchor\" href=\"#2-4000000\">#</a> 2 4.000000</h6>\n<h6 id=\"3-2000000\"><a class=\"anchor\" href=\"#3-2000000\">#</a> 3 2.000000</h6>\n<h4 id=\"3-填充缺失数据-fillna\"><a class=\"anchor\" href=\"#3-填充缺失数据-fillna\">#</a> 3. 填充缺失数据： fillna ()</h4>\n<h5 id=\"示例代码-28\"><a class=\"anchor\" href=\"#示例代码-28\">#</a> 示例代码：</h5>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># fillna</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(df_data.fillna(-100.))</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-29\"><a class=\"anchor\" href=\"#运行结果-29\">#</a> 运行结果：</h5>\n<h6 id=\"0-1-2-4\"><a class=\"anchor\" href=\"#0-1-2-4\">#</a> 0 1 2</h6>\n<h6 id=\"0-0281885-0786572-0487126-3\"><a class=\"anchor\" href=\"#0-0281885-0786572-0487126-3\">#</a> 0 -0.281885 -0.786572 0.487126</h6>\n<h6 id=\"1-1000000-2000000-100000000\"><a class=\"anchor\" href=\"#1-1000000-2000000-100000000\">#</a> 1 1.000000 2.000000 -100.000000</h6>\n<h6 id=\"2-100000000-4000000-100000000\"><a class=\"anchor\" href=\"#2-100000000-4000000-100000000\">#</a> 2 -100.000000 4.000000 -100.000000</h6>\n<h6 id=\"3-1000000-2000000-3000000-2\"><a class=\"anchor\" href=\"#3-1000000-2000000-3000000-2\">#</a> 3 1.000000 2.000000 3.000000</h6>\n<h1 id=\"层级索引-hierarchical-indexing\"><a class=\"anchor\" href=\"#层级索引-hierarchical-indexing\">#</a> 层级索引（ hierarchical indexing ）</h1>\n<h5 id=\"下面创建一个series-在输入索引index时输入了由两个子list组成的list第一个子list是外\"><a class=\"anchor\" href=\"#下面创建一个series-在输入索引index时输入了由两个子list组成的list第一个子list是外\">#</a> 下面创建一个 Series， 在输入索引 Index 时，输入了由两个子 list 组成的 list，第一个子 list 是外</h5>\n<h5 id=\"层索引第二个list是内层索引\"><a class=\"anchor\" href=\"#层索引第二个list是内层索引\">#</a> 层索引，第二个 list 是内层索引。</h5>\n<h5 id=\"示例代码-29\"><a class=\"anchor\" href=\"#示例代码-29\">#</a> 示例代码：</h5>\n<figure class=\"highlight elm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> pandas <span class=\"keyword\">as</span> pd</span><br><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight prolog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ser_obj = pd.<span class=\"symbol\">Series</span>(np.random.randn( <span class=\"number\">12</span> ),index=[</span><br><span class=\"line\">[<span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;c&#x27;</span>, <span class=\"string\">&#x27;c&#x27;</span>, <span class=\"string\">&#x27;c&#x27;</span>, <span class=\"string\">&#x27;d&#x27;</span>, <span class=\"string\">&#x27;d&#x27;</span>, <span class=\"string\">&#x27;d&#x27;</span>],</span><br><span class=\"line\">[ <span class=\"number\">0</span> , <span class=\"number\">1</span> , <span class=\"number\">2</span> , <span class=\"number\">0</span> , <span class=\"number\">1</span> , <span class=\"number\">2</span> , <span class=\"number\">0</span> , <span class=\"number\">1</span> , <span class=\"number\">2</span> , <span class=\"number\">0</span> , <span class=\"number\">1</span> , <span class=\"number\">2</span> ]</span><br><span class=\"line\">])</span><br><span class=\"line\">print(ser_obj)</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-30\"><a class=\"anchor\" href=\"#运行结果-30\">#</a> 运行结果：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a</span> <span class=\"number\">0</span> <span class=\"number\">0</span>.<span class=\"number\">099174</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> -<span class=\"number\">0</span>.<span class=\"number\">310414</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> -<span class=\"number\">0</span>.<span class=\"number\">558047</span></span><br><span class=\"line\"><span class=\"attribute\">b</span> <span class=\"number\">0</span> <span class=\"number\">1</span>.<span class=\"number\">742445</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> <span class=\"number\">1</span>.<span class=\"number\">152924</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> -<span class=\"number\">0</span>.<span class=\"number\">725332</span></span><br><span class=\"line\"><span class=\"attribute\">c</span> <span class=\"number\">0</span> -<span class=\"number\">0</span>.<span class=\"number\">150638</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> <span class=\"number\">0</span>.<span class=\"number\">251660</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> <span class=\"number\">0</span>.<span class=\"number\">063387</span></span><br><span class=\"line\"><span class=\"attribute\">d</span> <span class=\"number\">0</span> <span class=\"number\">1</span>.<span class=\"number\">080605</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> <span class=\"number\">0</span>.<span class=\"number\">567547</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> -<span class=\"number\">0</span>.<span class=\"number\">154148</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: float64</span><br></pre></td></tr></table></figure>\n<h2 id=\"multiindex-索引对象\"><a class=\"anchor\" href=\"#multiindex-索引对象\">#</a> MultiIndex 索引对象</h2>\n<h5 id=\"打印这个series的索引类型显示是multiindex\"><a class=\"anchor\" href=\"#打印这个series的索引类型显示是multiindex\">#</a> 打印这个 Series 的索引类型，显示是 MultiIndex</h5>\n<h5 id=\"直接将索引打印出来可以看到有lavels和labels两个信息-levels表示两个层级中分别有那些\"><a class=\"anchor\" href=\"#直接将索引打印出来可以看到有lavels和labels两个信息-levels表示两个层级中分别有那些\">#</a> 直接将索引打印出来，可以看到有 lavels, 和 labels 两个信息。levels 表示两个层级中分别有那些</h5>\n<h5 id=\"标签labels是每个位置分别是什么标签\"><a class=\"anchor\" href=\"#标签labels是每个位置分别是什么标签\">#</a> 标签，labels 是每个位置分别是什么标签。</h5>\n<h5 id=\"示例代码-30\"><a class=\"anchor\" href=\"#示例代码-30\">#</a> 示例代码：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(type(ser_obj.index)</span></span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(ser_obj.index)</span></span></span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-31\"><a class=\"anchor\" href=\"#运行结果-31\">#</a> 运行结果：</h5>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;class <span class=\"string\">&#x27;pandas.indexes.multi.MultiIndex&#x27;</span>&gt;</span><br><span class=\"line\">MultiIndex(levels=<span class=\"string\">[[&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;], [0, 1, 2]]</span>,</span><br><span class=\"line\">labels=<span class=\"string\">[[0, 0, 0, 1, 1, 1, 2, 2, 2, 3, 3, 3], [0, 1, 2, 0, 1, 2, 0, 1, 2, 0,</span></span><br><span class=\"line\"><span class=\"string\">1, 2]]</span>)</span><br></pre></td></tr></table></figure>\n<h2 id=\"选取子集\"><a class=\"anchor\" href=\"#选取子集\">#</a> 选取子集</h2>\n<h5 id=\"根据索引获取数据-因为现在有两层索引当通过外层索引获取数据的时候可以直接利用外\"><a class=\"anchor\" href=\"#根据索引获取数据-因为现在有两层索引当通过外层索引获取数据的时候可以直接利用外\">#</a> 根据索引获取数据。因为现在有两层索引，当通过外层索引获取数据的时候，可以直接利用外</h5>\n<h5 id=\"层索引的标签来获取\"><a class=\"anchor\" href=\"#层索引的标签来获取\">#</a> 层索引的标签来获取。</h5>\n<h5 id=\"当要通过内层索引获取数据的时候在list中传入两个元素前者是表示要选取的外层索引\"><a class=\"anchor\" href=\"#当要通过内层索引获取数据的时候在list中传入两个元素前者是表示要选取的外层索引\">#</a> 当要通过内层索引获取数据的时候，在 list 中传入两个元素，前者是表示要选取的外层索引，</h5>\n<h5 id=\"后者表示要选取的内层索引\"><a class=\"anchor\" href=\"#后者表示要选取的内层索引\">#</a> 后者表示要选取的内层索引。</h5>\n<h3 id=\"1-外层选取\"><a class=\"anchor\" href=\"#1-外层选取\">#</a> 1. 外层选取：</h3>\n<h5 id=\"ser_objouter_label\"><a class=\"anchor\" href=\"#ser_objouter_label\">#</a> ser_obj[‘outer_label’]</h5>\n<h5 id=\"示例代码-31\"><a class=\"anchor\" href=\"#示例代码-31\">#</a> 示例代码：</h5>\n<h6 id=\"外层选取\"><a class=\"anchor\" href=\"#外层选取\">#</a> # 外层选取</h6>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(ser_obj[<span class=\"string\">&#x27;c&#x27;</span>])</span></span></span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-32\"><a class=\"anchor\" href=\"#运行结果-32\">#</a> 运行结果：</h5>\n<h6 id=\"0-1362096\"><a class=\"anchor\" href=\"#0-1362096\">#</a> 0 -1.362096</h6>\n<h6 id=\"1-1558091\"><a class=\"anchor\" href=\"#1-1558091\">#</a> 1 1.558091</h6>\n<h6 id=\"2-0452313\"><a class=\"anchor\" href=\"#2-0452313\">#</a> 2 -0.452313</h6>\n<figure class=\"highlight angelscript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dtype: <span class=\"built_in\">float</span>64</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-内层选取\"><a class=\"anchor\" href=\"#2-内层选取\">#</a> 2. 内层选取：</h3>\n<h5 id=\"ser_obj-inner_label\"><a class=\"anchor\" href=\"#ser_obj-inner_label\">#</a> ser_obj[:, ‘inner_label’]</h5>\n<h5 id=\"示例代码-32\"><a class=\"anchor\" href=\"#示例代码-32\">#</a> 示例代码：</h5>\n<h6 id=\"内层选取\"><a class=\"anchor\" href=\"#内层选取\">#</a> # 内层选取</h6>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(ser_obj[:, <span class=\"number\">2</span> ])</span></span></span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-33\"><a class=\"anchor\" href=\"#运行结果-33\">#</a> 运行结果：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a</span> <span class=\"number\">0</span>.<span class=\"number\">826662</span></span><br><span class=\"line\"><span class=\"attribute\">b</span> <span class=\"number\">0</span>.<span class=\"number\">015426</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">c</span> -<span class=\"number\">0</span>.<span class=\"number\">452313</span></span><br><span class=\"line\"><span class=\"attribute\">d</span> -<span class=\"number\">0</span>.<span class=\"number\">051063</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: float64</span><br></pre></td></tr></table></figure>\n<h5 id=\"常用于分组操作-透视表的生成等\"><a class=\"anchor\" href=\"#常用于分组操作-透视表的生成等\">#</a> 常用于分组操作、透视表的生成等</h5>\n<h2 id=\"交换分层顺序\"><a class=\"anchor\" href=\"#交换分层顺序\">#</a> 交换分层顺序</h2>\n<h3 id=\"swaplevel\"><a class=\"anchor\" href=\"#swaplevel\">#</a> swaplevel()</h3>\n<h5 id=\"swaplevel-交换内层与外层索引\"><a class=\"anchor\" href=\"#swaplevel-交换内层与外层索引\">#</a> .swaplevel ( ) 交换内层与外层索引。</h5>\n<h5 id=\"示例代码-33\"><a class=\"anchor\" href=\"#示例代码-33\">#</a> 示例代码：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(ser_obj.swaplevel()</span></span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-34\"><a class=\"anchor\" href=\"#运行结果-34\">#</a> 运行结果：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">0</span> a <span class=\"number\">0</span>.<span class=\"number\">099174</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> a -<span class=\"number\">0</span>.<span class=\"number\">310414</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> a -<span class=\"number\">0</span>.<span class=\"number\">558047</span></span><br><span class=\"line\"><span class=\"attribute\">0</span> b <span class=\"number\">1</span>.<span class=\"number\">742445</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> b <span class=\"number\">1</span>.<span class=\"number\">152924</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> b -<span class=\"number\">0</span>.<span class=\"number\">725332</span></span><br><span class=\"line\"><span class=\"attribute\">0</span> c -<span class=\"number\">0</span>.<span class=\"number\">150638</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> c <span class=\"number\">0</span>.<span class=\"number\">251660</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> c <span class=\"number\">0</span>.<span class=\"number\">063387</span></span><br><span class=\"line\"><span class=\"attribute\">0</span> d <span class=\"number\">1</span>.<span class=\"number\">080605</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> d <span class=\"number\">0</span>.<span class=\"number\">567547</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> d -<span class=\"number\">0</span>.<span class=\"number\">154148</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: float64</span><br></pre></td></tr></table></figure>\n<h2 id=\"交换并排序分层\"><a class=\"anchor\" href=\"#交换并排序分层\">#</a> 交换并排序分层</h2>\n<h3 id=\"sortlevel\"><a class=\"anchor\" href=\"#sortlevel\">#</a> sortlevel()</h3>\n<h5 id=\"sortlevel-先对外层索引进行排序再对内层索引进行排序默认是升序\"><a class=\"anchor\" href=\"#sortlevel-先对外层索引进行排序再对内层索引进行排序默认是升序\">#</a> .sortlevel ( ) 先对外层索引进行排序，再对内层索引进行排序，默认是升序。</h5>\n<h5 id=\"示例代码-34\"><a class=\"anchor\" href=\"#示例代码-34\">#</a> 示例代码：</h5>\n<h6 id=\"交换并排序分层-2\"><a class=\"anchor\" href=\"#交换并排序分层-2\">#</a> # 交换并排序分层</h6>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(ser_obj.swaplevel()</span></span><span class=\"selector-class\">.sortlevel</span>())</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-35\"><a class=\"anchor\" href=\"#运行结果-35\">#</a> 运行结果：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">0</span> a <span class=\"number\">0</span>.<span class=\"number\">099174</span></span><br><span class=\"line\"><span class=\"attribute\">b</span> <span class=\"number\">1</span>.<span class=\"number\">742445</span></span><br><span class=\"line\"><span class=\"attribute\">c</span> -<span class=\"number\">0</span>.<span class=\"number\">150638</span></span><br><span class=\"line\"><span class=\"attribute\">d</span> <span class=\"number\">1</span>.<span class=\"number\">080605</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> a -<span class=\"number\">0</span>.<span class=\"number\">310414</span></span><br><span class=\"line\"><span class=\"attribute\">b</span> <span class=\"number\">1</span>.<span class=\"number\">152924</span></span><br><span class=\"line\"><span class=\"attribute\">c</span> <span class=\"number\">0</span>.<span class=\"number\">251660</span></span><br><span class=\"line\"><span class=\"attribute\">d</span> <span class=\"number\">0</span>.<span class=\"number\">567547</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> a -<span class=\"number\">0</span>.<span class=\"number\">558047</span></span><br><span class=\"line\"><span class=\"attribute\">b</span> -<span class=\"number\">0</span>.<span class=\"number\">725332</span></span><br><span class=\"line\"><span class=\"attribute\">c</span> <span class=\"number\">0</span>.<span class=\"number\">063387</span></span><br><span class=\"line\"><span class=\"attribute\">d</span> -<span class=\"number\">0</span>.<span class=\"number\">154148</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: float64</span><br></pre></td></tr></table></figure>\n<h1 id=\"pandas-统计计算和描述\"><a class=\"anchor\" href=\"#pandas-统计计算和描述\">#</a> Pandas 统计计算和描述</h1>\n<h5 id=\"示例代码-35\"><a class=\"anchor\" href=\"#示例代码-35\">#</a> 示例代码：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">arr1 = np<span class=\"selector-class\">.random</span><span class=\"selector-class\">.rand</span>( <span class=\"number\">4</span> , <span class=\"number\">3</span> )</span><br><span class=\"line\">pd1 = pd<span class=\"selector-class\">.DataFrame</span>(arr1,<span class=\"attribute\">columns</span>=<span class=\"built_in\">list</span>(<span class=\"string\">&#x27;ABC&#x27;</span>),index=<span class=\"built_in\">list</span>(<span class=\"string\">&#x27;abcd&#x27;</span>))</span><br><span class=\"line\">f = lambda <span class=\"attribute\">x</span>: <span class=\"string\">&#x27;%.2f&#x27;</span>% x</span><br><span class=\"line\">pd2 = pd1<span class=\"selector-class\">.applymap</span>(f)<span class=\"selector-class\">.astype</span>(<span class=\"attribute\">float</span>)</span><br><span class=\"line\">pd2</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-36\"><a class=\"anchor\" href=\"#运行结果-36\">#</a> 运行结果：</h5>\n<h6 id=\"a-b-c\"><a class=\"anchor\" href=\"#a-b-c\">#</a> A B C</h6>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a</span> <span class=\"number\">0</span>.<span class=\"number\">87</span> <span class=\"number\">0</span>.<span class=\"number\">26</span> <span class=\"number\">0</span>.<span class=\"number\">67</span></span><br><span class=\"line\"><span class=\"attribute\">b</span> <span class=\"number\">0</span>.<span class=\"number\">69</span> <span class=\"number\">0</span>.<span class=\"number\">89</span> <span class=\"number\">0</span>.<span class=\"number\">17</span></span><br><span class=\"line\"><span class=\"attribute\">c</span> <span class=\"number\">0</span>.<span class=\"number\">94</span> <span class=\"number\">0</span>.<span class=\"number\">33</span> <span class=\"number\">0</span>.<span class=\"number\">04</span></span><br><span class=\"line\"><span class=\"attribute\">d</span> <span class=\"number\">0</span>.<span class=\"number\">35</span> <span class=\"number\">0</span>.<span class=\"number\">46</span> <span class=\"number\">0</span>.<span class=\"number\">29</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"常用的统计计算\"><a class=\"anchor\" href=\"#常用的统计计算\">#</a> 常用的统计计算</h2>\n<h2 id=\"sum-mean-max-min\"><a class=\"anchor\" href=\"#sum-mean-max-min\">#</a> sum, mean, max, min…</h2>\n<h5 id=\"axis0-按列统计axis1按行统计\"><a class=\"anchor\" href=\"#axis0-按列统计axis1按行统计\">#</a> axis=0 按列统计，axis=1 按行统计</h5>\n<h5 id=\"skipna-排除缺失值-默认为true\"><a class=\"anchor\" href=\"#skipna-排除缺失值-默认为true\">#</a> skipna 排除缺失值， 默认为 True</h5>\n<h5 id=\"示例代码-36\"><a class=\"anchor\" href=\"#示例代码-36\">#</a> 示例代码：</h5>\n<figure class=\"highlight axapta\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pd2.<span class=\"keyword\">sum</span>() <span class=\"meta\">#默认把这一列的Series计算,所有行求和</span></span><br><span class=\"line\">pd2.<span class=\"keyword\">sum</span>(axis=<span class=\"string\">&#x27;columns&#x27;</span>) <span class=\"meta\">#指定求每一行的所有列的和</span></span><br><span class=\"line\">pd2.idxmax()<span class=\"meta\">#查看每一列所有行的最大值所在的标签索引，同样我们也可以通过axis=&#x27;columns&#x27;求每一行</span></span><br><span class=\"line\">所有列的最大值的标签索引</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-37\"><a class=\"anchor\" href=\"#运行结果-37\">#</a> 运行结果：</h5>\n<h6 id=\"a-285\"><a class=\"anchor\" href=\"#a-285\">#</a> A 2.85</h6>\n<h6 id=\"b-194\"><a class=\"anchor\" href=\"#b-194\">#</a> B 1.94</h6>\n<h6 id=\"c-117\"><a class=\"anchor\" href=\"#c-117\">#</a> C 1.17</h6>\n<figure class=\"highlight angelscript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dtype: <span class=\"built_in\">float</span>64</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">a</span> <span class=\"number\">1</span>.<span class=\"number\">80</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">b</span> <span class=\"number\">1</span>.<span class=\"number\">75</span></span><br><span class=\"line\"><span class=\"attribute\">c</span> <span class=\"number\">1</span>.<span class=\"number\">31</span></span><br><span class=\"line\"><span class=\"attribute\">d</span> <span class=\"number\">1</span>.<span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: float64</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">A</span> <span class=\"selector-tag\">c</span></span><br><span class=\"line\"><span class=\"selector-tag\">B</span> <span class=\"selector-tag\">b</span></span><br><span class=\"line\"><span class=\"selector-tag\">C</span> <span class=\"selector-tag\">a</span></span><br><span class=\"line\"><span class=\"selector-tag\">dtype</span>: <span class=\"selector-tag\">object</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"常用的统计描述\"><a class=\"anchor\" href=\"#常用的统计描述\">#</a> 常用的统计描述</h2>\n<h3 id=\"describe-产生多个统计数据\"><a class=\"anchor\" href=\"#describe-产生多个统计数据\">#</a> describe 产生多个统计数据</h3>\n<h5 id=\"示例代码-37\"><a class=\"anchor\" href=\"#示例代码-37\">#</a> 示例代码：</h5>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pd2.describe<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"meta\">#查看汇总</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-38\"><a class=\"anchor\" href=\"#运行结果-38\">#</a> 运行结果：</h5>\n<h6 id=\"a-b-c-2\"><a class=\"anchor\" href=\"#a-b-c-2\">#</a> A B C</h6>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">count</span> <span class=\"number\">4</span>.<span class=\"number\">000000</span> <span class=\"number\">4</span>.<span class=\"number\">00000</span> <span class=\"number\">4</span>.<span class=\"number\">000000</span></span><br><span class=\"line\"><span class=\"attribute\">mean</span> <span class=\"number\">0</span>.<span class=\"number\">712500</span> <span class=\"number\">0</span>.<span class=\"number\">48500</span> <span class=\"number\">0</span>.<span class=\"number\">292500</span></span><br><span class=\"line\"><span class=\"attribute\">std</span> <span class=\"number\">0</span>.<span class=\"number\">263613</span> <span class=\"number\">0</span>.<span class=\"number\">28243</span> <span class=\"number\">0</span>.<span class=\"number\">271585</span></span><br><span class=\"line\"><span class=\"attribute\">min</span> <span class=\"number\">0</span>.<span class=\"number\">350000</span> <span class=\"number\">0</span>.<span class=\"number\">26000</span> <span class=\"number\">0</span>.<span class=\"number\">040000</span></span><br><span class=\"line\"><span class=\"attribute\">25</span> % <span class=\"number\">0</span>.<span class=\"number\">605000</span> <span class=\"number\">0</span>.<span class=\"number\">31250</span> <span class=\"number\">0</span>.<span class=\"number\">137500</span></span><br><span class=\"line\"><span class=\"attribute\">50</span> % <span class=\"number\">0</span>.<span class=\"number\">780000</span> <span class=\"number\">0</span>.<span class=\"number\">39500</span> <span class=\"number\">0</span>.<span class=\"number\">230000</span></span><br><span class=\"line\"><span class=\"attribute\">75</span> % <span class=\"number\">0</span>.<span class=\"number\">887500</span> <span class=\"number\">0</span>.<span class=\"number\">56750</span> <span class=\"number\">0</span>.<span class=\"number\">385000</span></span><br><span class=\"line\"><span class=\"attribute\">max</span> <span class=\"number\">0</span>.<span class=\"number\">940000</span> <span class=\"number\">0</span>.<span class=\"number\">89000</span> <span class=\"number\">0</span>.<span class=\"number\">670000</span></span><br></pre></td></tr></table></figure>\n<h6 id=\"百分比除以原来的量\"><a class=\"anchor\" href=\"#百分比除以原来的量\">#</a> #百分比：除以原来的量</h6>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">pd2</span>.pct_change() #查看行的百分比变化，同样指定axis=&#x27;columns&#x27;列与列的百分比变化</span><br><span class=\"line\"><span class=\"attribute\">A</span> B C</span><br><span class=\"line\"><span class=\"attribute\">a</span> NaN NaN NaN</span><br><span class=\"line\"><span class=\"attribute\">b</span> -<span class=\"number\">0</span>.<span class=\"number\">206897</span> <span class=\"number\">2</span>.<span class=\"number\">423077</span> -<span class=\"number\">0</span>.<span class=\"number\">746269</span></span><br><span class=\"line\"><span class=\"attribute\">c</span> <span class=\"number\">0</span>.<span class=\"number\">362319</span> -<span class=\"number\">0</span>.<span class=\"number\">629213</span> -<span class=\"number\">0</span>.<span class=\"number\">764706</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">d</span> -<span class=\"number\">0</span>.<span class=\"number\">627660</span> <span class=\"number\">0</span>.<span class=\"number\">393939</span> <span class=\"number\">6</span>.<span class=\"number\">250000</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"常用的统计描述方法\"><a class=\"anchor\" href=\"#常用的统计描述方法\">#</a> 常用的统计描述方法：</h2>\n<h1 id=\"数据读取与存储\"><a class=\"anchor\" href=\"#数据读取与存储\">#</a> 数据读取与存储</h1>\n<h2 id=\"csv-文件\"><a class=\"anchor\" href=\"#csv-文件\">#</a> csv 文件</h2>\n<h5 id=\"1-读取csv文件-read_csv-file_path-or-bufusecolsencoding-file_path-文件路径-usecols\"><a class=\"anchor\" href=\"#1-读取csv文件-read_csv-file_path-or-bufusecolsencoding-file_path-文件路径-usecols\">#</a> 1. 读取 csv 文件 read_csv (file_path or buf,usecols,encoding) : file_path ：文件路径，usecols :</h5>\n<h5 id=\"指定读取的列名-encoding-编码\"><a class=\"anchor\" href=\"#指定读取的列名-encoding-编码\">#</a> 指定读取的列名， encoding : 编码</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">data</span> = pd.read_csv(&#x27;d:/test_data/food_rank.csv&#x27;,encoding=&#x27;utf8&#x27;)</span><br><span class=\"line\"><span class=\"attribute\">data</span>.head()</span><br><span class=\"line\"><span class=\"attribute\">name</span> num</span><br><span class=\"line\"><span class=\"attribute\">0</span> 酥油茶 <span class=\"number\">219</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> 青稞酒 <span class=\"number\">95</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> 酸奶 <span class=\"number\">62</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">3</span> 糌粑 <span class=\"number\">16</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">4</span> 琵琶肉 <span class=\"number\">2</span>.<span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h6 id=\"指定读取的列名\"><a class=\"anchor\" href=\"#指定读取的列名\">#</a> #指定读取的列名</h6>\n<figure class=\"highlight haskell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">data</span> = pd.read_csv(&#x27;<span class=\"title\">d</span>:/<span class=\"title\">test_data</span>/<span class=\"title\">food_rank</span>.<span class=\"title\">csv&#x27;</span>,<span class=\"title\">usecols</span>=[&#x27;<span class=\"title\">name&#x27;</span>])</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">data</span>.head()</span></span><br><span class=\"line\"><span class=\"title\">name</span></span><br><span class=\"line\"><span class=\"number\">0</span> 酥油茶</span><br><span class=\"line\"><span class=\"number\">1</span> 青稞酒</span><br><span class=\"line\"><span class=\"number\">2</span> 酸奶</span><br><span class=\"line\"><span class=\"number\">3</span> 糌粑</span><br><span class=\"line\"><span class=\"number\">4</span> 琵琶肉</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#如果文件路径有中文，则需要知道参数engine=&#x27;python&#x27;</span></span><br><span class=\"line\"><span class=\"attribute\">data</span> = pd.read_csv(&#x27;d:/数据/food_rank.csv&#x27;,engine=&#x27;python&#x27;,encoding=&#x27;utf8&#x27;)</span><br><span class=\"line\"><span class=\"attribute\">data</span>.head()</span><br><span class=\"line\"><span class=\"attribute\">name</span> num</span><br><span class=\"line\"><span class=\"attribute\">0</span> 酥油茶 <span class=\"number\">219</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> 青稞酒 <span class=\"number\">95</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> 酸奶 <span class=\"number\">62</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">3</span> 糌粑 <span class=\"number\">16</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">4</span> 琵琶肉 <span class=\"number\">2</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"comment\">#建议文件路径和文件名，不要出现中文</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"2-写入csv文件\"><a class=\"anchor\" href=\"#2-写入csv文件\">#</a> 2. 写入 csv 文件</h5>\n<h5 id=\"dataframe-to_csv-file_path-or\"><a class=\"anchor\" href=\"#dataframe-to_csv-file_path-or\">#</a> DataFrame : to_csv ( file_path or</h5>\n<h5 id=\"bufsepcolumnsheaderindexna_repmode-file_path-保存文件路径-默认-none-sep\"><a class=\"anchor\" href=\"#bufsepcolumnsheaderindexna_repmode-file_path-保存文件路径-默认-none-sep\">#</a> buf,sep,columns,header,index,na_rep,mode )： file_path ：保存文件路径，默认 None, sep :</h5>\n<h5 id=\"分隔符-默认-columns-是否保留某列数据-默认-none-header-是否保留列名-默认\"><a class=\"anchor\" href=\"#分隔符-默认-columns-是否保留某列数据-默认-none-header-是否保留列名-默认\">#</a> 分隔符，默认 ‘,’ , columns : 是否保留某列数据，默认 None , header ：是否保留列名，默认</h5>\n<h5 id=\"true-index-是否保留行索引-默认-true-na_rep-指定字符串来代替空值-默认是空字\"><a class=\"anchor\" href=\"#true-index-是否保留行索引-默认-true-na_rep-指定字符串来代替空值-默认是空字\">#</a> True , index : 是否保留行索引，默认 True , na_rep : 指定字符串来代替空值，默认是空字</h5>\n<h5 id=\"符-mode-默认-w-追加-a\"><a class=\"anchor\" href=\"#符-mode-默认-w-追加-a\">#</a> 符，mode : 默认 ‘w’, 追加 ‘a’</h5>\n<figure class=\"highlight jboss-cli\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">**Series**:`Series.to_csv`\\<span class=\"params\">(<span class=\"attr\">_path</span>=None_,<span class=\"attr\">_index</span>=True_,<span class=\"attr\">_sep</span>=&#x27;_,_&#x27;_,_na\\<span class=\"attr\">_rep</span>=&#x27;&#x27;_,_h</span></span><br><span class=\"line\"><span class=\"params\"><span class=\"attr\">eader</span>=False_,<span class=\"attr\">_mode</span>=&#x27;w&#x27;_,<span class=\"attr\">_encoding</span>=None_\\)</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"数据库交互\"><a class=\"anchor\" href=\"#数据库交互\">#</a> 数据库交互</h2>\n<h5 id=\"pandas\"><a class=\"anchor\" href=\"#pandas\">#</a> pandas</h5>\n<h5 id=\"sqlalchemy\"><a class=\"anchor\" href=\"#sqlalchemy\">#</a> sqlalchemy</h5>\n<h5 id=\"pymysql\"><a class=\"anchor\" href=\"#pymysql\">#</a> pymysql</h5>\n<h6 id=\"导入必要模块\"><a class=\"anchor\" href=\"#导入必要模块\">#</a> # 导入必要模块</h6>\n<figure class=\"highlight elm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> pandas <span class=\"keyword\">as</span> pd</span><br><span class=\"line\"><span class=\"title\">from</span> sqlalchemy <span class=\"keyword\">import</span> create_engine</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#初始化数据库连接</span></span><br><span class=\"line\"><span class=\"comment\">#用户名root 密码 端口 3306 数据库 db2</span></span><br><span class=\"line\">engine = create_engine(<span class=\"string\">&#x27;mysql+pymysql://root:@localhost:3306/db2&#x27;</span>)</span><br><span class=\"line\"><span class=\"comment\">#查询语句</span></span><br><span class=\"line\">sql = <span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"string\">select * from class;</span></span><br><span class=\"line\"><span class=\"string\">&#x27;&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">#两个参数 sql语句 数据库连接</span></span><br><span class=\"line\">df = pd.read_sql(sql,engine)</span><br><span class=\"line\">df</span><br></pre></td></tr></table></figure>\n<h6 id=\"新建\"><a class=\"anchor\" href=\"#新建\">#</a> #新建</h6>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">df = pd.DataFrame(&#123;<span class=\"string\">&#x27;id&#x27;</span>:[ 1 , 2 , 3 , 4 ],<span class=\"string\">&#x27;num&#x27;</span>:[ 34 , 56 , 78 , 90 ]&#125;)</span><br><span class=\"line\">df = pd.read_csv(<span class=\"string\">&#x27;ex1.csv&#x27;</span>)</span><br><span class=\"line\"><span class=\"comment\"># #写入到数据库</span></span><br><span class=\"line\">df.to_sql(<span class=\"string\">&#x27;df2&#x27;</span>,engine,<span class=\"attribute\">index</span>=<span class=\"literal\">False</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;ok&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"进入数据库查看\"><a class=\"anchor\" href=\"#进入数据库查看\">#</a> 进入数据库查看</h5>\n<h1 id=\"一-数据清洗和准备\"><a class=\"anchor\" href=\"#一-数据清洗和准备\">#</a> 一、数据清洗和准备</h1>\n<h5 id=\"数据清洗是数据分析关键的一步直接影响之后的处理工作\"><a class=\"anchor\" href=\"#数据清洗是数据分析关键的一步直接影响之后的处理工作\">#</a> 数据清洗是数据分析关键的一步，直接影响之后的处理工作</h5>\n<h5 id=\"数据需要修改吗有什么需要修改的吗数据应该怎么调整才能适用于接下来的分析和挖掘\"><a class=\"anchor\" href=\"#数据需要修改吗有什么需要修改的吗数据应该怎么调整才能适用于接下来的分析和挖掘\">#</a> 数据需要修改吗？有什么需要修改的吗？数据应该怎么调整才能适用于接下来的分析和挖掘？</h5>\n<h5 id=\"是一个迭代的过程实际项目中可能需要不止一次地执行这些清洗操作\"><a class=\"anchor\" href=\"#是一个迭代的过程实际项目中可能需要不止一次地执行这些清洗操作\">#</a> 是一个迭代的过程，实际项目中可能需要不止一次地执行这些清洗操作</h5>\n<h2 id=\"1-处理缺失数据\"><a class=\"anchor\" href=\"#1-处理缺失数据\">#</a> 1. 处理缺失数据 :</h2>\n<h5 id=\"pdfillna\"><a class=\"anchor\" href=\"#pdfillna\">#</a> pd.fillna()</h5>\n<h5 id=\"pddropna\"><a class=\"anchor\" href=\"#pddropna\">#</a> pd.dropna()</h5>\n<h2 id=\"2-数据转换\"><a class=\"anchor\" href=\"#2-数据转换\">#</a> 2. 数据转换</h2>\n<h2 id=\"21-处理重复数据\"><a class=\"anchor\" href=\"#21-处理重复数据\">#</a> 2.1 处理重复数据</h2>\n<h2 id=\"duplicated-返回布尔型-series-表示每行是否为重复行\"><a class=\"anchor\" href=\"#duplicated-返回布尔型-series-表示每行是否为重复行\">#</a> duplicated () 返回布尔型 Series 表示每行是否为重复行</h2>\n<h5 id=\"示例代码-38\"><a class=\"anchor\" href=\"#示例代码-38\">#</a> 示例代码：</h5>\n<figure class=\"highlight elm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"><span class=\"keyword\">import</span> pandas <span class=\"keyword\">as</span> pd</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">df_obj = pd.DataFrame(&#123;<span class=\"string\">&#x27;data1&#x27;</span> : [<span class=\"string\">&#x27;a&#x27;</span>] * <span class=\"number\">4</span> + [<span class=\"string\">&#x27;b&#x27;</span>] * <span class=\"number\">4</span> ,</span><br><span class=\"line\"><span class=\"string\">&#x27;data2&#x27;</span> : np.<span class=\"built_in\">random</span>.randint( <span class=\"number\">0</span> , <span class=\"number\">4</span> , <span class=\"number\">8</span> )&#125;)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(df_obj)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(df_obj.duplicated()</span></span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-39\"><a class=\"anchor\" href=\"#运行结果-39\">#</a> 运行结果：</h5>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># print(df_obj)</span></span><br><span class=\"line\"><span class=\"attribute\">data1</span> data2</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight basic\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">0 </span>a <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"symbol\">1 </span>a <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"symbol\">2 </span>a <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"symbol\">3 </span>a <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"symbol\">4 </span>b <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"symbol\">5 </span>b <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"symbol\">6 </span>b <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"symbol\">7 </span>b <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># print(df_obj.duplicated())</span></span><br><span class=\"line\"><span class=\"number\">0</span> <span class=\"literal\">False</span></span><br><span class=\"line\"><span class=\"number\">1</span> <span class=\"literal\">False</span></span><br><span class=\"line\"><span class=\"number\">2</span> <span class=\"literal\">True</span></span><br><span class=\"line\"><span class=\"number\">3</span> <span class=\"literal\">True</span></span><br><span class=\"line\"><span class=\"number\">4</span> <span class=\"literal\">False</span></span><br><span class=\"line\"><span class=\"number\">5</span> <span class=\"literal\">False</span></span><br><span class=\"line\"><span class=\"number\">6</span> <span class=\"literal\">False</span></span><br><span class=\"line\"><span class=\"number\">7</span> <span class=\"literal\">True</span></span><br><span class=\"line\">dtype: <span class=\"built_in\">bool</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"drop_duplicates-过滤重复行\"><a class=\"anchor\" href=\"#drop_duplicates-过滤重复行\">#</a> drop_duplicates () 过滤重复行</h4>\n<h5 id=\"默认判断全部列\"><a class=\"anchor\" href=\"#默认判断全部列\">#</a> 默认判断全部列</h5>\n<h5 id=\"可指定按某些列判断\"><a class=\"anchor\" href=\"#可指定按某些列判断\">#</a> 可指定按某些列判断</h5>\n<h5 id=\"示例代码-39\"><a class=\"anchor\" href=\"#示例代码-39\">#</a> 示例代码：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(df_obj.drop_duplicates()</span></span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(df_obj.drop_duplicates(<span class=\"string\">&#x27;data2&#x27;</span>)</span></span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-40\"><a class=\"anchor\" href=\"#运行结果-40\">#</a> 运行结果：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># print(df_obj.drop_duplicates())</span></span><br><span class=\"line\"><span class=\"attribute\">data1</span> data2</span><br><span class=\"line\"><span class=\"attribute\">0</span> a <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> a <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"attribute\">4</span> b <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">5</span> b <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">6</span> b <span class=\"number\">3</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight less\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># <span class=\"selector-tag\">print</span>(df_obj.<span class=\"built_in\">drop_duplicates</span>(<span class=\"string\">&#x27;data2&#x27;</span>))</span><br><span class=\"line\"><span class=\"selector-tag\">data1</span> <span class=\"selector-tag\">data2</span></span><br><span class=\"line\"><span class=\"number\">0</span> <span class=\"selector-tag\">a</span> <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"number\">1</span> <span class=\"selector-tag\">a</span> <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"number\">4</span> <span class=\"selector-tag\">b</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"number\">5</span> <span class=\"selector-tag\">b</span> <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"22-利用函数或映射进行数据转换\"><a class=\"anchor\" href=\"#22-利用函数或映射进行数据转换\">#</a> 2.2 利用函数或映射进行数据转换</h3>\n<h5 id=\"根据map传入的函数对每行或每列进行转换\"><a class=\"anchor\" href=\"#根据map传入的函数对每行或每列进行转换\">#</a> 根据 map 传入的函数对每行或每列进行转换</h5>\n<h5 id=\"示例代码-40\"><a class=\"anchor\" href=\"#示例代码-40\">#</a> 示例代码：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ser_obj = pd<span class=\"selector-class\">.Series</span>(np<span class=\"selector-class\">.random</span><span class=\"selector-class\">.randint</span>( <span class=\"number\">0</span> , <span class=\"number\">10</span> , <span class=\"number\">10</span> ))</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(ser_obj)</span></span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight lisp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">print(<span class=\"name\">ser_obj</span>.map(<span class=\"name\">lambda</span> x : x ** <span class=\"number\">2</span> ))</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-41\"><a class=\"anchor\" href=\"#运行结果-41\">#</a> 运行结果：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># print(ser_obj)</span></span><br><span class=\"line\"><span class=\"attribute\">0</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> <span class=\"number\">8</span></span><br><span class=\"line\"><span class=\"attribute\">3</span> <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"attribute\">4</span> <span class=\"number\">8</span></span><br><span class=\"line\"><span class=\"attribute\">5</span> <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"attribute\">6</span> <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"attribute\">7</span> <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attribute\">8</span> <span class=\"number\">7</span></span><br><span class=\"line\"><span class=\"attribute\">9</span> <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: int64</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># print(ser_obj.map(lambda x : x ** 2))</span></span><br><span class=\"line\"><span class=\"attribute\">0</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> <span class=\"number\">16</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> <span class=\"number\">64</span></span><br><span class=\"line\"><span class=\"attribute\">3</span> <span class=\"number\">36</span></span><br><span class=\"line\"><span class=\"attribute\">4</span> <span class=\"number\">64</span></span><br><span class=\"line\"><span class=\"attribute\">5</span> <span class=\"number\">36</span></span><br><span class=\"line\"><span class=\"attribute\">6</span> <span class=\"number\">36</span></span><br><span class=\"line\"><span class=\"attribute\">7</span> <span class=\"number\">16</span></span><br><span class=\"line\"><span class=\"attribute\">8</span> <span class=\"number\">49</span></span><br><span class=\"line\"><span class=\"attribute\">9</span> <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: int64</span><br></pre></td></tr></table></figure>\n<h3 id=\"23-替换值\"><a class=\"anchor\" href=\"#23-替换值\">#</a> 2.3 替换值</h3>\n<h4 id=\"replace-根据值的内容进行替换\"><a class=\"anchor\" href=\"#replace-根据值的内容进行替换\">#</a> replace 根据值的内容进行替换</h4>\n<h5 id=\"示例代码-41\"><a class=\"anchor\" href=\"#示例代码-41\">#</a> 示例代码：</h5>\n<h6 id=\"单个值替换单个值\"><a class=\"anchor\" href=\"#单个值替换单个值\">#</a> # 单个值替换单个值</h6>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(ser_obj.replace( <span class=\"number\">1</span> , -<span class=\"number\">100</span>)</span></span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 多个值替换一个值</span></span><br><span class=\"line\"><span class=\"attribute\">print</span>(ser_obj.replace([ <span class=\"number\">6</span> , <span class=\"number\">8</span> ], -<span class=\"number\">100</span>))</span><br></pre></td></tr></table></figure>\n<h6 id=\"多个值替换多个值\"><a class=\"anchor\" href=\"#多个值替换多个值\">#</a> # 多个值替换多个值</h6>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(ser_obj.replace([ <span class=\"number\">4</span> , <span class=\"number\">7</span> ], [-<span class=\"number\">100</span>, -<span class=\"number\">200</span>])</span></span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-42\"><a class=\"anchor\" href=\"#运行结果-42\">#</a> 运行结果：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># print(ser_obj.replace(1, -100))</span></span><br><span class=\"line\"><span class=\"attribute\">0</span> -<span class=\"number\">100</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> <span class=\"number\">8</span></span><br><span class=\"line\"><span class=\"attribute\">3</span> <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"attribute\">4</span> <span class=\"number\">8</span></span><br><span class=\"line\"><span class=\"attribute\">5</span> <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"attribute\">6</span> <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"attribute\">7</span> <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attribute\">8</span> <span class=\"number\">7</span></span><br><span class=\"line\"><span class=\"attribute\">9</span> <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: int64</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># print(ser_obj.replace([6, 8], -100))</span></span><br><span class=\"line\"><span class=\"attribute\">0</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> -<span class=\"number\">100</span></span><br><span class=\"line\"><span class=\"attribute\">3</span> -<span class=\"number\">100</span></span><br><span class=\"line\"><span class=\"attribute\">4</span> -<span class=\"number\">100</span></span><br><span class=\"line\"><span class=\"attribute\">5</span> -<span class=\"number\">100</span></span><br><span class=\"line\"><span class=\"attribute\">6</span> -<span class=\"number\">100</span></span><br><span class=\"line\"><span class=\"attribute\">7</span> <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attribute\">8</span> <span class=\"number\">7</span></span><br><span class=\"line\"><span class=\"attribute\">9</span> <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: int64</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># print(ser_obj.replace([4, 7], [-100, -200]))</span></span><br><span class=\"line\"><span class=\"attribute\">0</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> -<span class=\"number\">100</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> <span class=\"number\">8</span></span><br><span class=\"line\"><span class=\"attribute\">3</span> <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"attribute\">4</span> <span class=\"number\">8</span></span><br><span class=\"line\"><span class=\"attribute\">5</span> <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"attribute\">6</span> <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"attribute\">7</span> -<span class=\"number\">100</span></span><br><span class=\"line\"><span class=\"attribute\">8</span> -<span class=\"number\">200</span></span><br><span class=\"line\"><span class=\"attribute\">9</span> <span class=\"number\">3</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: int64</span><br></pre></td></tr></table></figure>\n<h2 id=\"3-字符串操作\"><a class=\"anchor\" href=\"#3-字符串操作\">#</a> 3. 字符串操作</h2>\n<h3 id=\"31-字符串方法\"><a class=\"anchor\" href=\"#31-字符串方法\">#</a> 3.1 字符串方法 :</h3>\n<h3 id=\"32-正则表达式方法\"><a class=\"anchor\" href=\"#32-正则表达式方法\">#</a> 3.2 正则表达式方法</h3>\n<h3 id=\"33-pandas-字符串函数\"><a class=\"anchor\" href=\"#33-pandas-字符串函数\">#</a> 3.3 pandas 字符串函数 :</h3>\n<h1 id=\"二-数据合并\"><a class=\"anchor\" href=\"#二-数据合并\">#</a> 二、数据合并</h1>\n<h2 id=\"数据合并-pdmerge\"><a class=\"anchor\" href=\"#数据合并-pdmerge\">#</a> 数据合并 (pd.merge)</h2>\n<h5 id=\"根据单个或多个键将不同dataframe的行连接起来\"><a class=\"anchor\" href=\"#根据单个或多个键将不同dataframe的行连接起来\">#</a> 根据单个或多个键将不同 DataFrame 的行连接起来</h5>\n<h5 id=\"类似数据库的连接操作\"><a class=\"anchor\" href=\"#类似数据库的连接操作\">#</a> 类似数据库的连接操作</h5>\n<h5 id=\"pdmerge-left-right-howinneronnoneleft_onnone-right_onnone\"><a class=\"anchor\" href=\"#pdmerge-left-right-howinneronnoneleft_onnone-right_onnone\">#</a> pd.merge :(left, right, how=‘inner’,on=None,left_on=None, right_on=None )</h5>\n<h5 id=\"left合并时左边的dataframe\"><a class=\"anchor\" href=\"#left合并时左边的dataframe\">#</a> left: 合并时左边的 DataFrame</h5>\n<h5 id=\"right合并时右边的dataframe\"><a class=\"anchor\" href=\"#right合并时右边的dataframe\">#</a> right: 合并时右边的 DataFrame</h5>\n<h5 id=\"how合并的方式默认inner-outer-left-right\"><a class=\"anchor\" href=\"#how合并的方式默认inner-outer-left-right\">#</a> how: 合并的方式，默认’inner’, ‘outer’, ‘left’, ‘right’</h5>\n<h5 id=\"on需要合并的列名必须两边都有的列名并以-left-和-right-中的列名的交集作为连接键\"><a class=\"anchor\" href=\"#on需要合并的列名必须两边都有的列名并以-left-和-right-中的列名的交集作为连接键\">#</a> on: 需要合并的列名，必须两边都有的列名，并以 left 和 right 中的列名的交集作为连接键</h5>\n<h5 id=\"left_on-left-dataframe中用作连接键的列\"><a class=\"anchor\" href=\"#left_on-left-dataframe中用作连接键的列\">#</a> left_on: left Dataframe 中用作连接键的列</h5>\n<h5 id=\"right_on-right-dataframe中用作连接键的列\"><a class=\"anchor\" href=\"#right_on-right-dataframe中用作连接键的列\">#</a> right_on: right Dataframe 中用作连接键的列</h5>\n<h5 id=\"内连接-inner对两张表都有的键的交集进行联合\"><a class=\"anchor\" href=\"#内连接-inner对两张表都有的键的交集进行联合\">#</a> 内连接 inner: 对两张表都有的键的交集进行联合</h5>\n<h5 id=\"全连接-outer对两者表的都有的键的并集进行联合\"><a class=\"anchor\" href=\"#全连接-outer对两者表的都有的键的并集进行联合\">#</a> 全连接 outer：对两者表的都有的键的并集进行联合</h5>\n<h5 id=\"左连接-left对所有左表的键进行联合\"><a class=\"anchor\" href=\"#左连接-left对所有左表的键进行联合\">#</a> 左连接 left：对所有左表的键进行联合</h5>\n<h5 id=\"右连接-right对所有右表的键进行联合\"><a class=\"anchor\" href=\"#右连接-right对所有右表的键进行联合\">#</a> 右连接 right：对所有右表的键进行联合</h5>\n<h5 id=\"示例代码-42\"><a class=\"anchor\" href=\"#示例代码-42\">#</a> 示例代码：</h5>\n<figure class=\"highlight elm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> pandas <span class=\"keyword\">as</span> pd</span><br><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight prolog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">left = pd.<span class=\"symbol\">DataFrame</span>(&#123;<span class=\"string\">&#x27;key&#x27;</span>: [<span class=\"string\">&#x27;K0&#x27;</span>, <span class=\"string\">&#x27;K1&#x27;</span>, <span class=\"string\">&#x27;K2&#x27;</span>, <span class=\"string\">&#x27;K3&#x27;</span>],</span><br><span class=\"line\"><span class=\"string\">&#x27;A&#x27;</span>: [<span class=\"string\">&#x27;A0&#x27;</span>, <span class=\"string\">&#x27;A1&#x27;</span>, <span class=\"string\">&#x27;A2&#x27;</span>, <span class=\"string\">&#x27;A3&#x27;</span>],</span><br><span class=\"line\"><span class=\"string\">&#x27;B&#x27;</span>: [<span class=\"string\">&#x27;B0&#x27;</span>, <span class=\"string\">&#x27;B1&#x27;</span>, <span class=\"string\">&#x27;B2&#x27;</span>, <span class=\"string\">&#x27;B3&#x27;</span>]&#125;)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight prolog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">right = pd.<span class=\"symbol\">DataFrame</span>(&#123;<span class=\"string\">&#x27;key&#x27;</span>: [<span class=\"string\">&#x27;K0&#x27;</span>, <span class=\"string\">&#x27;K1&#x27;</span>, <span class=\"string\">&#x27;K2&#x27;</span>, <span class=\"string\">&#x27;K3&#x27;</span>],</span><br><span class=\"line\"><span class=\"string\">&#x27;C&#x27;</span>: [<span class=\"string\">&#x27;C0&#x27;</span>, <span class=\"string\">&#x27;C1&#x27;</span>, <span class=\"string\">&#x27;C2&#x27;</span>, <span class=\"string\">&#x27;C3&#x27;</span>],</span><br><span class=\"line\"><span class=\"string\">&#x27;D&#x27;</span>: [<span class=\"string\">&#x27;D0&#x27;</span>, <span class=\"string\">&#x27;D1&#x27;</span>, <span class=\"string\">&#x27;D2&#x27;</span>, <span class=\"string\">&#x27;D3&#x27;</span>]&#125;)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight nsis\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pd.merge(<span class=\"literal\">left</span>,<span class=\"literal\">right</span>,<span class=\"literal\">on</span>=<span class=\"string\">&#x27;key&#x27;</span>) <span class=\"comment\">#指定连接键key</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-43\"><a class=\"anchor\" href=\"#运行结果-43\">#</a> 运行结果：</h5>\n<figure class=\"highlight armasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">key</span> A <span class=\"keyword\">B</span> C D</span><br><span class=\"line\"><span class=\"number\">0</span> K0 A0 B0 <span class=\"built_in\">C0</span> <span class=\"built_in\">D0</span></span><br><span class=\"line\"><span class=\"number\">1</span> K1 <span class=\"built_in\">A1</span> B1 <span class=\"built_in\">C1</span> <span class=\"built_in\">D1</span></span><br><span class=\"line\"><span class=\"number\">2</span> K2 <span class=\"built_in\">A2</span> B2 <span class=\"built_in\">C2</span> <span class=\"built_in\">D2</span></span><br><span class=\"line\"><span class=\"number\">3</span> K3 <span class=\"built_in\">A3</span> B3 <span class=\"built_in\">C3</span> <span class=\"built_in\">D3</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"示例代码-43\"><a class=\"anchor\" href=\"#示例代码-43\">#</a> 示例代码：</h5>\n<figure class=\"highlight prolog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">left = pd.<span class=\"symbol\">DataFrame</span>(&#123;<span class=\"string\">&#x27;key1&#x27;</span>: [<span class=\"string\">&#x27;K0&#x27;</span>, <span class=\"string\">&#x27;K0&#x27;</span>, <span class=\"string\">&#x27;K1&#x27;</span>, <span class=\"string\">&#x27;K2&#x27;</span>],</span><br><span class=\"line\"><span class=\"string\">&#x27;key2&#x27;</span>: [<span class=\"string\">&#x27;K0&#x27;</span>, <span class=\"string\">&#x27;K1&#x27;</span>, <span class=\"string\">&#x27;K0&#x27;</span>, <span class=\"string\">&#x27;K1&#x27;</span>],</span><br><span class=\"line\"><span class=\"string\">&#x27;A&#x27;</span>: [<span class=\"string\">&#x27;A0&#x27;</span>, <span class=\"string\">&#x27;A1&#x27;</span>, <span class=\"string\">&#x27;A2&#x27;</span>, <span class=\"string\">&#x27;A3&#x27;</span>],</span><br><span class=\"line\"><span class=\"string\">&#x27;B&#x27;</span>: [<span class=\"string\">&#x27;B0&#x27;</span>, <span class=\"string\">&#x27;B1&#x27;</span>, <span class=\"string\">&#x27;B2&#x27;</span>, <span class=\"string\">&#x27;B3&#x27;</span>]&#125;)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight prolog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">right = pd.<span class=\"symbol\">DataFrame</span>(&#123;<span class=\"string\">&#x27;key1&#x27;</span>: [<span class=\"string\">&#x27;K0&#x27;</span>, <span class=\"string\">&#x27;K1&#x27;</span>, <span class=\"string\">&#x27;K1&#x27;</span>, <span class=\"string\">&#x27;K2&#x27;</span>],</span><br><span class=\"line\"><span class=\"string\">&#x27;key2&#x27;</span>: [<span class=\"string\">&#x27;K0&#x27;</span>, <span class=\"string\">&#x27;K0&#x27;</span>, <span class=\"string\">&#x27;K0&#x27;</span>, <span class=\"string\">&#x27;K0&#x27;</span>],</span><br><span class=\"line\"><span class=\"string\">&#x27;C&#x27;</span>: [<span class=\"string\">&#x27;C0&#x27;</span>, <span class=\"string\">&#x27;C1&#x27;</span>, <span class=\"string\">&#x27;C2&#x27;</span>, <span class=\"string\">&#x27;C3&#x27;</span>],</span><br><span class=\"line\"><span class=\"string\">&#x27;D&#x27;</span>: [<span class=\"string\">&#x27;D0&#x27;</span>, <span class=\"string\">&#x27;D1&#x27;</span>, <span class=\"string\">&#x27;D2&#x27;</span>, <span class=\"string\">&#x27;D3&#x27;</span>]&#125;)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight nsis\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pd.merge(<span class=\"literal\">left</span>,<span class=\"literal\">right</span>,<span class=\"literal\">on</span>=[<span class=\"string\">&#x27;key1&#x27;</span>,<span class=\"string\">&#x27;key2&#x27;</span>]) <span class=\"comment\">#指定多个键，进行合并</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-44\"><a class=\"anchor\" href=\"#运行结果-44\">#</a> 运行结果：</h5>\n<figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">key1 key2 A <span class=\"keyword\">B </span>C D</span><br><span class=\"line\"><span class=\"number\">0</span> <span class=\"built_in\">K0</span> <span class=\"built_in\">K0</span> <span class=\"built_in\">A0</span> <span class=\"keyword\">B0 </span>C0 D0</span><br><span class=\"line\"><span class=\"number\">1</span> <span class=\"built_in\">K1</span> <span class=\"built_in\">K0</span> <span class=\"built_in\">A2</span> <span class=\"keyword\">B2 </span>C1 D1</span><br><span class=\"line\"><span class=\"number\">2</span> <span class=\"built_in\">K1</span> <span class=\"built_in\">K0</span> <span class=\"built_in\">A2</span> <span class=\"keyword\">B2 </span>C2 D2</span><br></pre></td></tr></table></figure>\n<h6 id=\"指定左连接\"><a class=\"anchor\" href=\"#指定左连接\">#</a> #指定左连接</h6>\n<figure class=\"highlight prolog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">left = pd.<span class=\"symbol\">DataFrame</span>(&#123;<span class=\"string\">&#x27;key1&#x27;</span>: [<span class=\"string\">&#x27;K0&#x27;</span>, <span class=\"string\">&#x27;K0&#x27;</span>, <span class=\"string\">&#x27;K1&#x27;</span>, <span class=\"string\">&#x27;K2&#x27;</span>],</span><br><span class=\"line\"><span class=\"string\">&#x27;key2&#x27;</span>: [<span class=\"string\">&#x27;K0&#x27;</span>, <span class=\"string\">&#x27;K1&#x27;</span>, <span class=\"string\">&#x27;K0&#x27;</span>, <span class=\"string\">&#x27;K1&#x27;</span>],</span><br></pre></td></tr></table></figure>\n<h6 id=\"a-a0-a1-a2-a3\"><a class=\"anchor\" href=\"#a-a0-a1-a2-a3\">#</a> ‘A’: [‘A0’, ‘A1’, ‘A2’, ‘A3’],</h6>\n<h6 id=\"b-b0-b1-b2-b3\"><a class=\"anchor\" href=\"#b-b0-b1-b2-b3\">#</a> ‘B’: [‘B0’, ‘B1’, ‘B2’, ‘B3’]})</h6>\n<p>right = pd.DataFrame({‘key1’: [‘K0’, ‘K1’, ‘K1’, ‘K2’],<br>\n‘key2’: [‘K0’, ‘K0’, ‘K0’, ‘K0’],<br>\n‘C’: [‘C0’, ‘C1’, ‘C2’, ‘C3’],<br>\n‘D’: [‘D0’, ‘D1’, ‘D2’, ‘D3’]})</p>\n<p>pd.merge(left, right, how=‘left’, on=[‘key1’, ‘key2’])<br>\nkey1 key2 A B C D<br>\n0 K0 K0 A0 B0 C0 D0<br>\n1 K0 K1 A1 B1 NaN NaN<br>\n2 K1 K0 A2 B2 C1 D1<br>\n3 K1 K0 A2 B2 C2 D2<br>\n4 K2 K1 A3 B3 NaN NaN</p>\n<h6 id=\"指定右连接\"><a class=\"anchor\" href=\"#指定右连接\">#</a> #指定右连接</h6>\n<p>left = pd.DataFrame({‘key1’: [‘K0’, ‘K0’, ‘K1’, ‘K2’],<br>\n‘key2’: [‘K0’, ‘K1’, ‘K0’, ‘K1’],<br>\n‘A’: [‘A0’, ‘A1’, ‘A2’, ‘A3’],<br>\n‘B’: [‘B0’, ‘B1’, ‘B2’, ‘B3’]})<br>\nright = pd.DataFrame({‘key1’: [‘K0’, ‘K1’, ‘K1’, ‘K2’],<br>\n‘key2’: [‘K0’, ‘K0’, ‘K0’, ‘K0’],<br>\n‘C’: [‘C0’, ‘C1’, ‘C2’, ‘C3’],<br>\n‘D’: [‘D0’, ‘D1’, ‘D2’, ‘D3’]})<br>\npd.merge(left, right, how=‘right’, on=[‘key1’, ‘key2’])<br>\nkey1 key2 A B C D<br>\n0 K0 K0 A0 B0 C0 D0<br>\n1 K1 K0 A2 B2 C1 D1<br>\n2 K1 K0 A2 B2 C2 D2<br>\n3 K2 K0 NaN NaN C3 D3</p>\n<h5 id=\"默认是内连接inner即结果中的键是交集\"><a class=\"anchor\" href=\"#默认是内连接inner即结果中的键是交集\">#</a> 默认是 “内连接”(inner)，即结果中的键是交集</h5>\n<h5 id=\"how指定连接方式\"><a class=\"anchor\" href=\"#how指定连接方式\">#</a> how 指定连接方式</h5>\n<h4 id=\"外连接-outer-结果中的键是并集\"><a class=\"anchor\" href=\"#外连接-outer-结果中的键是并集\">#</a> “外连接”(outer) ，结果中的键是并集</h4>\n<h5 id=\"示例代码-44\"><a class=\"anchor\" href=\"#示例代码-44\">#</a> 示例代码：</h5>\n<figure class=\"highlight prolog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">left = pd.<span class=\"symbol\">DataFrame</span>(&#123;<span class=\"string\">&#x27;key1&#x27;</span>: [<span class=\"string\">&#x27;K0&#x27;</span>, <span class=\"string\">&#x27;K0&#x27;</span>, <span class=\"string\">&#x27;K1&#x27;</span>, <span class=\"string\">&#x27;K2&#x27;</span>],</span><br><span class=\"line\"><span class=\"string\">&#x27;key2&#x27;</span>: [<span class=\"string\">&#x27;K0&#x27;</span>, <span class=\"string\">&#x27;K1&#x27;</span>, <span class=\"string\">&#x27;K0&#x27;</span>, <span class=\"string\">&#x27;K1&#x27;</span>],</span><br><span class=\"line\"><span class=\"string\">&#x27;A&#x27;</span>: [<span class=\"string\">&#x27;A0&#x27;</span>, <span class=\"string\">&#x27;A1&#x27;</span>, <span class=\"string\">&#x27;A2&#x27;</span>, <span class=\"string\">&#x27;A3&#x27;</span>],</span><br><span class=\"line\"><span class=\"string\">&#x27;B&#x27;</span>: [<span class=\"string\">&#x27;B0&#x27;</span>, <span class=\"string\">&#x27;B1&#x27;</span>, <span class=\"string\">&#x27;B2&#x27;</span>, <span class=\"string\">&#x27;B3&#x27;</span>]&#125;)</span><br><span class=\"line\">right = pd.<span class=\"symbol\">DataFrame</span>(&#123;<span class=\"string\">&#x27;key1&#x27;</span>: [<span class=\"string\">&#x27;K0&#x27;</span>, <span class=\"string\">&#x27;K1&#x27;</span>, <span class=\"string\">&#x27;K1&#x27;</span>, <span class=\"string\">&#x27;K2&#x27;</span>],</span><br><span class=\"line\"><span class=\"string\">&#x27;key2&#x27;</span>: [<span class=\"string\">&#x27;K0&#x27;</span>, <span class=\"string\">&#x27;K0&#x27;</span>, <span class=\"string\">&#x27;K0&#x27;</span>, <span class=\"string\">&#x27;K0&#x27;</span>],</span><br><span class=\"line\"><span class=\"string\">&#x27;C&#x27;</span>: [<span class=\"string\">&#x27;C0&#x27;</span>, <span class=\"string\">&#x27;C1&#x27;</span>, <span class=\"string\">&#x27;C2&#x27;</span>, <span class=\"string\">&#x27;C3&#x27;</span>],</span><br><span class=\"line\"><span class=\"string\">&#x27;D&#x27;</span>: [<span class=\"string\">&#x27;D0&#x27;</span>, <span class=\"string\">&#x27;D1&#x27;</span>, <span class=\"string\">&#x27;D2&#x27;</span>, <span class=\"string\">&#x27;D3&#x27;</span>]&#125;)</span><br><span class=\"line\">pd.merge(left,right,how=<span class=\"string\">&#x27;outer&#x27;</span>,on=[<span class=\"string\">&#x27;key1&#x27;</span>,<span class=\"string\">&#x27;key2&#x27;</span>])</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-45\"><a class=\"anchor\" href=\"#运行结果-45\">#</a> 运行结果：</h5>\n<figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">key1 key2 A <span class=\"keyword\">B </span>C D</span><br><span class=\"line\"><span class=\"number\">0</span> <span class=\"built_in\">K0</span> <span class=\"built_in\">K0</span> <span class=\"built_in\">A0</span> <span class=\"keyword\">B0 </span>C0 D0</span><br><span class=\"line\"><span class=\"number\">1</span> <span class=\"built_in\">K0</span> <span class=\"built_in\">K1</span> <span class=\"built_in\">A1</span> <span class=\"keyword\">B1 </span>NaN NaN</span><br><span class=\"line\"><span class=\"number\">2</span> <span class=\"built_in\">K1</span> <span class=\"built_in\">K0</span> <span class=\"built_in\">A2</span> <span class=\"keyword\">B2 </span>C1 D1</span><br><span class=\"line\"><span class=\"number\">3</span> <span class=\"built_in\">K1</span> <span class=\"built_in\">K0</span> <span class=\"built_in\">A2</span> <span class=\"keyword\">B2 </span>C2 D2</span><br><span class=\"line\"><span class=\"number\">4</span> K2 <span class=\"built_in\">K1</span> <span class=\"built_in\">A3</span> <span class=\"keyword\">B3 </span>NaN NaN</span><br><span class=\"line\"><span class=\"number\">5</span> K2 <span class=\"built_in\">K0</span> NaN NaN C3 D3</span><br></pre></td></tr></table></figure>\n<h4 id=\"处理重复列名\"><a class=\"anchor\" href=\"#处理重复列名\">#</a> 处理重复列名</h4>\n<h5 id=\"参数suffixes默认为_x-_y\"><a class=\"anchor\" href=\"#参数suffixes默认为_x-_y\">#</a> 参数 suffixes：默认为_x, _y</h5>\n<h5 id=\"示例代码-45\"><a class=\"anchor\" href=\"#示例代码-45\">#</a> 示例代码：</h5>\n<h6 id=\"处理重复列名-2\"><a class=\"anchor\" href=\"#处理重复列名-2\">#</a> # 处理重复列名</h6>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">df_obj1 = pd<span class=\"selector-class\">.DataFrame</span>(&#123;<span class=\"string\">&#x27;key&#x27;</span>: <span class=\"selector-attr\">[<span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;c&#x27;</span>, <span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>]</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;data&#x27;</span> : np<span class=\"selector-class\">.random</span><span class=\"selector-class\">.randint</span>( <span class=\"number\">0</span> , <span class=\"number\">10</span> , <span class=\"number\">7</span> )&#125;)</span><br><span class=\"line\">df_obj2 = pd<span class=\"selector-class\">.DataFrame</span>(&#123;<span class=\"string\">&#x27;key&#x27;</span>: <span class=\"selector-attr\">[<span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;d&#x27;</span>]</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;data&#x27;</span> : np<span class=\"selector-class\">.random</span><span class=\"selector-class\">.randint</span>( <span class=\"number\">0</span> , <span class=\"number\">10</span> , <span class=\"number\">3</span> )&#125;)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">print</span>(pd.merge(df_obj1, df_obj2, <span class=\"attribute\">on</span>=<span class=\"string\">&#x27;key&#x27;</span>, suffixes=(<span class=\"string\">&#x27;_left&#x27;</span>, <span class=\"string\">&#x27;_right&#x27;</span>)))</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-46\"><a class=\"anchor\" href=\"#运行结果-46\">#</a> 运行结果：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">data_left</span> key data_right</span><br><span class=\"line\"><span class=\"attribute\">0</span> <span class=\"number\">9</span> b <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> <span class=\"number\">5</span> b <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> <span class=\"number\">1</span> b <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">3</span> <span class=\"number\">2</span> a <span class=\"number\">8</span></span><br><span class=\"line\"><span class=\"attribute\">4</span> <span class=\"number\">2</span> a <span class=\"number\">8</span></span><br><span class=\"line\"><span class=\"attribute\">5</span> <span class=\"number\">5</span> a <span class=\"number\">8</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"按索引连接\"><a class=\"anchor\" href=\"#按索引连接\">#</a> 按索引连接</h4>\n<h5 id=\"参数left_indextrue或right_indextrue\"><a class=\"anchor\" href=\"#参数left_indextrue或right_indextrue\">#</a> 参数 left_index=True 或 right_index=True</h5>\n<h5 id=\"示例代码-46\"><a class=\"anchor\" href=\"#示例代码-46\">#</a> 示例代码：</h5>\n<h6 id=\"按索引连接-2\"><a class=\"anchor\" href=\"#按索引连接-2\">#</a> # 按索引连接</h6>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">df_obj1 = pd<span class=\"selector-class\">.DataFrame</span>(&#123;<span class=\"string\">&#x27;key&#x27;</span>: <span class=\"selector-attr\">[<span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;c&#x27;</span>, <span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>]</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;data1&#x27;</span> : np<span class=\"selector-class\">.random</span><span class=\"selector-class\">.randint</span>( <span class=\"number\">0</span> , <span class=\"number\">10</span> , <span class=\"number\">7</span> )&#125;)</span><br><span class=\"line\">df_obj2 = pd<span class=\"selector-class\">.DataFrame</span>(&#123;<span class=\"string\">&#x27;data2&#x27;</span> : np<span class=\"selector-class\">.random</span><span class=\"selector-class\">.randint</span>( <span class=\"number\">0</span> , <span class=\"number\">10</span> , <span class=\"number\">3</span> )&#125;, index=<span class=\"selector-attr\">[<span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;d&#x27;</span>]</span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">print</span>(pd.merge(df_obj1, df_obj2, <span class=\"attribute\">left_on</span>=<span class=\"string\">&#x27;key&#x27;</span>, <span class=\"attribute\">right_index</span>=<span class=\"literal\">True</span>))</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-47\"><a class=\"anchor\" href=\"#运行结果-47\">#</a> 运行结果：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">data1</span> key data2</span><br><span class=\"line\"><span class=\"attribute\">0</span> <span class=\"number\">3</span> b <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> <span class=\"number\">4</span> b <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"attribute\">6</span> <span class=\"number\">8</span> b <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> <span class=\"number\">6</span> a <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">4</span> <span class=\"number\">3</span> a <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">5</span> <span class=\"number\">0</span> a <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"数据合并-pdconcat\"><a class=\"anchor\" href=\"#数据合并-pdconcat\">#</a> 数据合并 (pd.concat)</h2>\n<h5 id=\"沿轴方向将多个对象合并到一起\"><a class=\"anchor\" href=\"#沿轴方向将多个对象合并到一起\">#</a> 沿轴方向将多个对象合并到一起</h5>\n<h4 id=\"1-numpy-的-concat\"><a class=\"anchor\" href=\"#1-numpy-的-concat\">#</a> 1. NumPy 的 concat</h4>\n<h5 id=\"npconcatenate\"><a class=\"anchor\" href=\"#npconcatenate\">#</a> np.concatenate</h5>\n<h5 id=\"示例代码-47\"><a class=\"anchor\" href=\"#示例代码-47\">#</a> 示例代码：</h5>\n<figure class=\"highlight elm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"><span class=\"keyword\">import</span> pandas <span class=\"keyword\">as</span> pd</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">arr1</span> = np.random.randint( <span class=\"number\">0</span> , <span class=\"number\">10</span> , ( <span class=\"number\">3</span> , <span class=\"number\">4</span> ))</span><br><span class=\"line\"><span class=\"attribute\">arr2</span> = np.random.randint( <span class=\"number\">0</span> , <span class=\"number\">10</span> , ( <span class=\"number\">3</span> , <span class=\"number\">4</span> ))</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(arr1)</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(arr2)</span></span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(np.concatenate([arr1, arr2])</span></span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(np.concatenate([arr1, arr2], axis= <span class=\"number\">1</span> )</span></span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-48\"><a class=\"anchor\" href=\"#运行结果-48\">#</a> 运行结果：</h5>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># print(arr1)</span></span><br><span class=\"line\">[[<span class=\"number\"> 3 </span>3<span class=\"number\"> 0 </span>8 ]</span><br><span class=\"line\">[<span class=\"number\"> 2 </span>0<span class=\"number\"> 3 </span>1 ]</span><br><span class=\"line\">[<span class=\"number\"> 4 </span>8<span class=\"number\"> 8 </span>2 ]]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># print(arr2)</span></span><br><span class=\"line\">[[<span class=\"number\"> 6 </span>8<span class=\"number\"> 7 </span>3 ]</span><br><span class=\"line\">[<span class=\"number\"> 1 </span>6<span class=\"number\"> 8 </span>7 ]</span><br><span class=\"line\">[<span class=\"number\"> 1 </span>4<span class=\"number\"> 7 </span>1 ]]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># print(np.concatenate([arr1, arr2]))</span></span><br><span class=\"line\">[[<span class=\"number\"> 3 </span>3<span class=\"number\"> 0 </span>8 ]</span><br><span class=\"line\">[<span class=\"number\"> 2 </span>0<span class=\"number\"> 3 </span>1 ]</span><br><span class=\"line\">[<span class=\"number\"> 4 </span>8<span class=\"number\"> 8 </span>2 ]</span><br><span class=\"line\">[<span class=\"number\"> 6 </span>8<span class=\"number\"> 7 </span>3 ]</span><br><span class=\"line\">[<span class=\"number\"> 1 </span>6<span class=\"number\"> 8 </span>7 ]</span><br><span class=\"line\">[<span class=\"number\"> 1 </span>4<span class=\"number\"> 7 </span>1 ]]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># print(np.concatenate([arr1, arr2], axis=1))</span></span><br><span class=\"line\">[[<span class=\"number\"> 3 </span>3<span class=\"number\"> 0 </span>8<span class=\"number\"> 6 </span>8<span class=\"number\"> 7 </span>3 ]</span><br><span class=\"line\">[<span class=\"number\"> 2 </span>0<span class=\"number\"> 3 </span>1<span class=\"number\"> 1 </span>6<span class=\"number\"> 8 </span>7 ]</span><br><span class=\"line\">[<span class=\"number\"> 4 </span>8<span class=\"number\"> 8 </span>2<span class=\"number\"> 1 </span>4<span class=\"number\"> 7 </span>1 ]]</span><br></pre></td></tr></table></figure>\n<h4 id=\"2-pdconcat\"><a class=\"anchor\" href=\"#2-pdconcat\">#</a> 2. pd.concat</h4>\n<h5 id=\"注意指定轴方向默认axis0\"><a class=\"anchor\" href=\"#注意指定轴方向默认axis0\">#</a> 注意指定轴方向，默认 axis=0</h5>\n<h5 id=\"join指定合并方式默认为outer\"><a class=\"anchor\" href=\"#join指定合并方式默认为outer\">#</a> join 指定合并方式，默认为 outer</h5>\n<h5 id=\"series合并时查看行索引有无重复\"><a class=\"anchor\" href=\"#series合并时查看行索引有无重复\">#</a> Series 合并时查看行索引有无重复</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">df1 = pd<span class=\"selector-class\">.DataFrame</span>(np<span class=\"selector-class\">.arange</span>( <span class=\"number\">6</span> )<span class=\"selector-class\">.reshape</span>( <span class=\"number\">3</span> , <span class=\"number\">2</span> ),index=<span class=\"built_in\">list</span>(<span class=\"string\">&#x27;abc&#x27;</span>),<span class=\"attribute\">columns</span>=[<span class=\"string\">&#x27;one&#x27;</span>,<span class=\"string\">&#x27;two&#x27;</span>])</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">df2 = pd<span class=\"selector-class\">.DataFrame</span>(np<span class=\"selector-class\">.arange</span>( <span class=\"number\">4</span> )<span class=\"selector-class\">.reshape</span>( <span class=\"number\">2</span> , <span class=\"number\">2</span> )+ <span class=\"number\">5</span> ,index=<span class=\"built_in\">list</span>(<span class=\"string\">&#x27;ac&#x27;</span>),<span class=\"attribute\">columns</span>=[<span class=\"string\">&#x27;three&#x27;</span>,<span class=\"string\">&#x27;four&#x27;</span></span><br><span class=\"line\">])</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">pd</span>.concat([df1,df2]) #默认外连接，axis=<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">four</span> one three two</span><br><span class=\"line\"><span class=\"attribute\">a</span> NaN <span class=\"number\">0</span>.<span class=\"number\">0</span> NaN <span class=\"number\">1</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">b</span> NaN <span class=\"number\">2</span>.<span class=\"number\">0</span> NaN <span class=\"number\">3</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">c</span> NaN <span class=\"number\">4</span>.<span class=\"number\">0</span> NaN <span class=\"number\">5</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">a</span> <span class=\"number\">6</span>.<span class=\"number\">0</span> NaN <span class=\"number\">5</span>.<span class=\"number\">0</span> NaN</span><br><span class=\"line\"><span class=\"attribute\">c</span> <span class=\"number\">8</span>.<span class=\"number\">0</span> NaN <span class=\"number\">7</span>.<span class=\"number\">0</span> NaN</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">pd</span>.concat([df1,df2],axis=&#x27;columns&#x27;) #指定axis=<span class=\"number\">1</span>连接</span><br><span class=\"line\"><span class=\"attribute\">one</span> two three four</span><br><span class=\"line\"><span class=\"attribute\">a</span> <span class=\"number\">0</span> <span class=\"number\">1</span> <span class=\"number\">5</span>.<span class=\"number\">0</span> <span class=\"number\">6</span>.<span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"attribute\">b</span> <span class=\"number\">2</span> <span class=\"number\">3</span> NaN NaN</span><br><span class=\"line\"><span class=\"attribute\">c</span> <span class=\"number\">4</span> <span class=\"number\">5</span> <span class=\"number\">7</span>.<span class=\"number\">0</span> <span class=\"number\">8</span>.<span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#同样我们也可以指定连接的方式为<span class=\"keyword\">inner</span></span><br><span class=\"line\">pd.concat([df1,df2],axis= <span class=\"number\">1</span> ,join=<span class=\"string\">&#x27;inner&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">one</span> two three four</span><br><span class=\"line\"><span class=\"attribute\">a</span> <span class=\"number\">0</span> <span class=\"number\">1</span> <span class=\"number\">5</span> <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"attribute\">c</span> <span class=\"number\">4</span> <span class=\"number\">5</span> <span class=\"number\">7</span> <span class=\"number\">8</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"三-重塑\"><a class=\"anchor\" href=\"#三-重塑\">#</a> 三、重塑</h1>\n<h2 id=\"1-stack\"><a class=\"anchor\" href=\"#1-stack\">#</a> 1. stack</h2>\n<h5 id=\"将列索引旋转为行索引完成层级索引\"><a class=\"anchor\" href=\"#将列索引旋转为行索引完成层级索引\">#</a> 将列索引旋转为行索引，完成层级索引</h5>\n<h5 id=\"dataframe-series\"><a class=\"anchor\" href=\"#dataframe-series\">#</a> DataFrame-&gt;Series</h5>\n<h5 id=\"示例代码-48\"><a class=\"anchor\" href=\"#示例代码-48\">#</a> 示例代码：</h5>\n<figure class=\"highlight elm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"><span class=\"keyword\">import</span> pandas <span class=\"keyword\">as</span> pd</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">df_obj = pd<span class=\"selector-class\">.DataFrame</span>(np<span class=\"selector-class\">.random</span><span class=\"selector-class\">.randint</span>( <span class=\"number\">0</span> , <span class=\"number\">10</span> , ( <span class=\"number\">5</span> , <span class=\"number\">2</span> )), <span class=\"attribute\">columns</span>=[<span class=\"string\">&#x27;data1&#x27;</span>, <span class=\"string\">&#x27;data2&#x27;</span>])</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(df_obj)</span></span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">stacked</span> = df_obj.stack()</span><br><span class=\"line\">print(<span class=\"keyword\">stacked</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-49\"><a class=\"anchor\" href=\"#运行结果-49\">#</a> 运行结果：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># print(df_obj)</span></span><br><span class=\"line\"><span class=\"attribute\">data1</span> data2</span><br><span class=\"line\"><span class=\"attribute\">0</span> <span class=\"number\">7</span> <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> <span class=\"number\">7</span> <span class=\"number\">8</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> <span class=\"number\">8</span> <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attribute\">3</span> <span class=\"number\">4</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">4</span> <span class=\"number\">1</span> <span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># print(stacked)</span></span><br><span class=\"line\"><span class=\"attribute\">0</span> data1 <span class=\"number\">7</span></span><br><span class=\"line\"><span class=\"attribute\">data2</span> <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> data1 <span class=\"number\">7</span></span><br><span class=\"line\"><span class=\"attribute\">data2</span> <span class=\"number\">8</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> data1 <span class=\"number\">8</span></span><br><span class=\"line\"><span class=\"attribute\">data2</span> <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attribute\">3</span> data1 <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attribute\">data2</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">4</span> data1 <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">data2</span> <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: int64</span><br></pre></td></tr></table></figure>\n<h2 id=\"2-unstack\"><a class=\"anchor\" href=\"#2-unstack\">#</a> 2. unstack</h2>\n<h5 id=\"将层级索引展开\"><a class=\"anchor\" href=\"#将层级索引展开\">#</a> 将层级索引展开</h5>\n<h5 id=\"series-dataframe\"><a class=\"anchor\" href=\"#series-dataframe\">#</a> Series-&gt;DataFrame</h5>\n<h5 id=\"默认操作内层索引即level-1\"><a class=\"anchor\" href=\"#默认操作内层索引即level-1\">#</a> 默认操作内层索引，即 level=-1</h5>\n<h5 id=\"示例代码-49\"><a class=\"anchor\" href=\"#示例代码-49\">#</a> 示例代码：</h5>\n<h6 id=\"默认操作内层索引\"><a class=\"anchor\" href=\"#默认操作内层索引\">#</a> # 默认操作内层索引</h6>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">print(<span class=\"keyword\">stacked</span>.unstack())</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 通过<span class=\"keyword\">level</span>指定操作索引的级别</span><br><span class=\"line\">print(<span class=\"keyword\">stacked</span>.unstack(<span class=\"keyword\">level</span>= <span class=\"number\">0</span> ))</span><br></pre></td></tr></table></figure>\n<h5 id=\"运行结果-50\"><a class=\"anchor\" href=\"#运行结果-50\">#</a> 运行结果：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># print(stacked.unstack())</span></span><br><span class=\"line\"><span class=\"attribute\">data1</span> data2</span><br><span class=\"line\"><span class=\"attribute\">0</span> <span class=\"number\">7</span> <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> <span class=\"number\">7</span> <span class=\"number\">8</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> <span class=\"number\">8</span> <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"attribute\">3</span> <span class=\"number\">4</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">4</span> <span class=\"number\">1</span> <span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># print(stacked.unstack(level=0))</span></span><br><span class=\"line\"><span class=\"attribute\">0</span> <span class=\"number\">1</span> <span class=\"number\">2</span> <span class=\"number\">3</span> <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"attribute\">data1</span> <span class=\"number\">7</span> <span class=\"number\">7</span> <span class=\"number\">8</span> <span class=\"number\">4</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"attribute\">data2</span> <span class=\"number\">9</span> <span class=\"number\">8</span> <span class=\"number\">9</span> <span class=\"number\">1</span> <span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"数据聚合与分组\"><a class=\"anchor\" href=\"#数据聚合与分组\">#</a> 数据聚合与分组</h1>\n<h5 id=\"什么是分组聚合如图\"><a class=\"anchor\" href=\"#什么是分组聚合如图\">#</a> 什么是分组聚合？如图：</h5>\n<h5 id=\"groupby-bynoneas_indextrue\"><a class=\"anchor\" href=\"#groupby-bynoneas_indextrue\">#</a> groupby : (by=None,as_index=True)</h5>\n<h5 id=\"by-根据什么进行分组用于确定-groupby-的组\"><a class=\"anchor\" href=\"#by-根据什么进行分组用于确定-groupby-的组\">#</a> by : 根据什么进行分组，用于确定 groupby 的组</h5>\n<h5 id=\"as_index-对于聚合输出返回以组便签为索引的对象仅对dataframe\"><a class=\"anchor\" href=\"#as_index-对于聚合输出返回以组便签为索引的对象仅对dataframe\">#</a> as_index : 对于聚合输出，返回以组便签为索引的对象，仅对 DataFrame</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">df1 = pd<span class=\"selector-class\">.DataFrame</span>(&#123;<span class=\"string\">&#x27;fruit&#x27;</span>:<span class=\"selector-attr\">[<span class=\"string\">&#x27;apple&#x27;</span>,<span class=\"string\">&#x27;banana&#x27;</span>,<span class=\"string\">&#x27;orange&#x27;</span>,<span class=\"string\">&#x27;apple&#x27;</span>,<span class=\"string\">&#x27;banana&#x27;</span>]</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;color&#x27;</span>:<span class=\"selector-attr\">[<span class=\"string\">&#x27;red&#x27;</span>,<span class=\"string\">&#x27;yellow&#x27;</span>,<span class=\"string\">&#x27;yellow&#x27;</span>,<span class=\"string\">&#x27;cyan&#x27;</span>,<span class=\"string\">&#x27;cyan&#x27;</span>]</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;price&#x27;</span>:<span class=\"selector-attr\">[8.5,6.8,5.6,7.8,6.4]</span>&#125;)</span><br><span class=\"line\">#查看类型</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">type</span><span class=\"params\">(df1.groupby(<span class=\"string\">&#x27;fruit&#x27;</span>)</span></span>)</span><br><span class=\"line\">pandas<span class=\"selector-class\">.core</span><span class=\"selector-class\">.groupby</span><span class=\"selector-class\">.groupby</span><span class=\"selector-class\">.DataFrameGroupBy</span> #GruopBy对象，它是一个包含组名，和数据块的 <span class=\"number\">2</span></span><br><span class=\"line\">维元组序列，支持迭代</span><br><span class=\"line\"><span class=\"keyword\">for</span> name, group <span class=\"keyword\">in</span> df1<span class=\"selector-class\">.groupby</span>(<span class=\"string\">&#x27;fruit&#x27;</span>):</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(name)</span></span> #输出组名</span><br><span class=\"line\">apple</span><br><span class=\"line\">banana</span><br><span class=\"line\">orange</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight axapta\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">print</span>(<span class=\"keyword\">group</span>) <span class=\"meta\"># 输出数据块</span></span><br></pre></td></tr></table></figure>\n<p>fruit color price<br>\n0 apple red 8.5<br>\n3 apple cyan 7.8<br>\nfruit color price<br>\n1 banana yellow 6.8<br>\n4 banana cyan 6.4<br>\nfruit color price<br>\n2 orange yellow 5.6</p>\n<p>#输出 group 类型<br>\n print (type (group)) #数据块是 dataframe 类型<br>\n &lt;class ‘pandas.core.frame.DataFrame’&gt;<br>\n&lt;class ‘pandas.core.frame.DataFrame’&gt;<br>\n&lt;class ‘pandas.core.frame.DataFrame’&gt;</p>\n<h6 id=\"选择任意的数据块\"><a class=\"anchor\" href=\"#选择任意的数据块\">#</a> #选择任意的数据块</h6>\n<p>dict (list (df1.groupby (‘fruit’)))[‘apple’] #取出 apple 组的数据块<br>\n fruit color price<br>\n0 apple red 8.5<br>\n3 apple cyan 7.8</p>\n<h5 id=\"聚合\"><a class=\"anchor\" href=\"#聚合\">#</a> 聚合</h5>\n<h5 id=\"函数名-描述-count-分组中非na值的数量-sum-非na值的和-mean-非\"><a class=\"anchor\" href=\"#函数名-描述-count-分组中非na值的数量-sum-非na值的和-mean-非\">#</a> | 函数名 | 描述 | | :— | :— | | count | 分组中非 NA 值的数量 | | sum | 非 NA 值的和 | | mean | 非</h5>\n<h5 id=\"na值的平均值-median-非na值的中位数-std-var-标准差和方差-min-max-非na的\"><a class=\"anchor\" href=\"#na值的平均值-median-非na值的中位数-std-var-标准差和方差-min-max-非na的\">#</a> NA 值的平均值 | | median | 非 NA 值的中位数 | | std, var | 标准差和方差 | | min, max | 非 NA 的</h5>\n<h5 id=\"最小值最大值-prod-非na值的乘积-first-last-非na值的第一个最后一个\"><a class=\"anchor\" href=\"#最小值最大值-prod-非na值的乘积-first-last-非na值的第一个最后一个\">#</a> 最小值，最大值 | | prod | 非 NA 值的乘积 | | first, last | 非 NA 值的第一个，最后一个 |</h5>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#Groupby对象具有上表中的聚合方法</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#根据fruit来求price的平均值</span><br><span class=\"line\">df1<span class=\"selector-attr\">[<span class=\"string\">&#x27;price&#x27;</span>]</span><span class=\"selector-class\">.groupby</span>(df1<span class=\"selector-attr\">[<span class=\"string\">&#x27;fruit&#x27;</span>]</span>)<span class=\"selector-class\">.mean</span>()</span><br><span class=\"line\">fruit</span><br><span class=\"line\">apple <span class=\"number\">8.15</span></span><br><span class=\"line\">banana <span class=\"number\">6.60</span></span><br><span class=\"line\">orange <span class=\"number\">5.60</span></span><br><span class=\"line\">Name: price, dtype: float64</span><br><span class=\"line\">#或者</span><br><span class=\"line\">df1<span class=\"selector-class\">.groupby</span>(<span class=\"string\">&#x27;fruit&#x27;</span>)<span class=\"selector-attr\">[<span class=\"string\">&#x27;price&#x27;</span>]</span><span class=\"selector-class\">.mean</span>()</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#as_index=False</span></span><br><span class=\"line\"><span class=\"attribute\">df1</span>.groupby(&#x27;fruit&#x27;,as_index=False)[&#x27;price&#x27;].mean()</span><br><span class=\"line\"><span class=\"attribute\">fruit</span> price</span><br><span class=\"line\"><span class=\"attribute\">0</span> apple <span class=\"number\">8</span>.<span class=\"number\">15</span></span><br><span class=\"line\"><span class=\"attribute\">1</span> banana <span class=\"number\">6</span>.<span class=\"number\">60</span></span><br><span class=\"line\"><span class=\"attribute\">2</span> orange <span class=\"number\">5</span>.<span class=\"number\">60</span></span><br></pre></td></tr></table></figure>\n<h6 id=\"\"><a class=\"anchor\" href=\"#\">#</a> “”&quot;</h6>\n<h6 id=\"如果我现在有个需求计算每种水果的差值\"><a class=\"anchor\" href=\"#如果我现在有个需求计算每种水果的差值\">#</a> 如果我现在有个需求，计算每种水果的差值，</h6>\n<h6 id=\"1上表中的聚合函数不能满足于我们的需求我们需要使用自定义的聚合函数\"><a class=\"anchor\" href=\"#1上表中的聚合函数不能满足于我们的需求我们需要使用自定义的聚合函数\">#</a> 1. 上表中的聚合函数不能满足于我们的需求，我们需要使用自定义的聚合函数</h6>\n<h6 id=\"2在分组对象中使用我们自定义的聚合函数\"><a class=\"anchor\" href=\"#2在分组对象中使用我们自定义的聚合函数\">#</a> 2. 在分组对象中，使用我们自定义的聚合函数</h6>\n<h6 id=\"-2\"><a class=\"anchor\" href=\"#-2\">#</a> “”&quot;</h6>\n<h6 id=\"定义一个计算差值的函数\"><a class=\"anchor\" href=\"#定义一个计算差值的函数\">#</a> #定义一个计算差值的函数</h6>\n<p>def diff_value(arr):<br>\nreturn arr.max() - arr.min()<br>\n# 使用自定义聚合函数，我们需要将函数传递给 agg 或 aggregate 方法，我们使用自定义聚合函数时，会<br>\n比我们表中的聚合函数慢的多，因为要进行函数调用，数据重新排列<br>\n df1.groupby (‘fruit’)[‘price’].agg (diff_value)<br>\nfruit<br>\napple 0.7<br>\nbanana 0.4<br>\norange 0.0<br>\nName: price, dtype: float64</p>\n<h1 id=\"pandas-中的时间序列\"><a class=\"anchor\" href=\"#pandas-中的时间序列\">#</a> Pandas 中的时间序列</h1>\n<h5 id=\"时间序列time-series数据是一种重要的结构化数据形式-在多个时间点观察或测量到的任何\"><a class=\"anchor\" href=\"#时间序列time-series数据是一种重要的结构化数据形式-在多个时间点观察或测量到的任何\">#</a> 时间序列（time series）数据是一种重要的结构化数据形式，。在多个时间点观察或测量到的任何</h5>\n<h5 id=\"时间都可以形成一段时间序列-很多时间-时间序列是固定频率的-也就是说-数据点是根据某\"><a class=\"anchor\" href=\"#时间都可以形成一段时间序列-很多时间-时间序列是固定频率的-也就是说-数据点是根据某\">#</a> 时间都可以形成一段时间序列。很多时间， 时间序列是固定频率的， 也就是说， 数据点是根据某</h5>\n<h5 id=\"种规律定期出现的比如每-15-秒-时间序列也可以是不定期的-时间序列数据的意义\"><a class=\"anchor\" href=\"#种规律定期出现的比如每-15-秒-时间序列也可以是不定期的-时间序列数据的意义\">#</a> 种规律定期出现的（比如每 15 秒。。。。）。时间序列也可以是不定期的。时间序列数据的意义</h5>\n<h5 id=\"取决于具体的应用场景-主要由以下几种\"><a class=\"anchor\" href=\"#取决于具体的应用场景-主要由以下几种\">#</a> 取决于具体的应用场景。主要由以下几种：</h5>\n<h5 id=\"时间戳timestamp特定的时刻\"><a class=\"anchor\" href=\"#时间戳timestamp特定的时刻\">#</a> 时间戳（timestamp），特定的时刻。</h5>\n<h5 id=\"固定时期period如-2007-年-1-月或-2010-年全年\"><a class=\"anchor\" href=\"#固定时期period如-2007-年-1-月或-2010-年全年\">#</a> 固定时期（period），如 2007 年 1 月或 2010 年全年。</h5>\n<h5 id=\"时间间隔interval由起始和结束时间戳表示-时期period可以被看做间隔\"><a class=\"anchor\" href=\"#时间间隔interval由起始和结束时间戳表示-时期period可以被看做间隔\">#</a> 时间间隔（interval），由起始和结束时间戳表示。时期（period）可以被看做间隔</h5>\n<h5 id=\"interval的特例\"><a class=\"anchor\" href=\"#interval的特例\">#</a> （interval）的特例。</h5>\n<h2 id=\"1-时间和日期数据类型及其工具\"><a class=\"anchor\" href=\"#1-时间和日期数据类型及其工具\">#</a> 1. 时间和日期数据类型及其工具：</h2>\n<h5 id=\"python标准库包含用于日期date和时间time数据的数据类型而且还有日历方面的功能\"><a class=\"anchor\" href=\"#python标准库包含用于日期date和时间time数据的数据类型而且还有日历方面的功能\">#</a> Python 标准库包含用于日期（date）和时间（time）数据的数据类型，而且还有日历方面的功能。</h5>\n<h5 id=\"我们主要会用到datetime-time以及calendar模块-datetimedatetime也可以简写为datetime\"><a class=\"anchor\" href=\"#我们主要会用到datetime-time以及calendar模块-datetimedatetime也可以简写为datetime\">#</a> 我们主要会用到 datetime、time 以及 calendar 模块。datetime.datetime（也可以简写为 datetime）</h5>\n<h5 id=\"是用得最多的数据类型\"><a class=\"anchor\" href=\"#是用得最多的数据类型\">#</a> 是用得最多的数据类型：</h5>\n<figure class=\"highlight angelscript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [ <span class=\"number\">10</span> ]: <span class=\"keyword\">from</span> datetime <span class=\"keyword\">import</span> datetime</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight arcade\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">In</span> [ <span class=\"number\">11</span> ]: <span class=\"built_in\">now</span> = datetime.<span class=\"built_in\">now</span>()</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [<span class=\"number\"> 12 </span>]: now</span><br><span class=\"line\">Out[<span class=\"number\"> 12 </span>]: datetime.datetime(<span class=\"number\"> 2017 </span>,<span class=\"number\"> 9 </span>,<span class=\"number\"> 25 </span>,<span class=\"number\"> 14 </span>,<span class=\"number\"> 5 </span>,<span class=\"number\"> 52 </span>,<span class=\"number\"> 72973 </span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight arcade\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">In</span> [ <span class=\"number\">13</span> ]: <span class=\"built_in\">now</span>.<span class=\"built_in\">year</span>, <span class=\"built_in\">now</span>.<span class=\"built_in\">month</span>, <span class=\"built_in\">now</span>.<span class=\"built_in\">day</span></span><br><span class=\"line\">Out[ <span class=\"number\">13</span> ]: ( <span class=\"number\">2017</span> , <span class=\"number\">9</span> , <span class=\"number\">25</span> )</span><br></pre></td></tr></table></figure>\n<h5 id=\"datetime以毫秒形式存储日期和时间-timedelta表示两个datetime对象之间的时间差\"><a class=\"anchor\" href=\"#datetime以毫秒形式存储日期和时间-timedelta表示两个datetime对象之间的时间差\">#</a> datetime 以毫秒形式存储日期和时间。timedelta 表示两个 datetime 对象之间的时间差：</h5>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [<span class=\"number\"> 14 </span>]: delta = datetime(<span class=\"number\"> 2011 </span>,<span class=\"number\"> 1 </span>,<span class=\"number\"> 7 </span>) - datetime(<span class=\"number\"> 2008 </span>,<span class=\"number\"> 6 </span>,<span class=\"number\"> 24 </span>,<span class=\"number\"> 8 </span>,<span class=\"number\"> 15 </span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [<span class=\"number\"> 15 </span>]: delta</span><br><span class=\"line\">Out[<span class=\"number\"> 15 </span>]: datetime.timedelta(<span class=\"number\"> 926 </span>,<span class=\"number\"> 56700 </span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In <span class=\"selector-attr\">[ 16 ]</span>: delta<span class=\"selector-class\">.days</span></span><br><span class=\"line\">Out<span class=\"selector-attr\">[ 16 ]</span>: <span class=\"number\">926</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In <span class=\"selector-attr\">[ 17 ]</span>: delta<span class=\"selector-class\">.seconds</span></span><br><span class=\"line\">Out<span class=\"selector-attr\">[ 17 ]</span>: <span class=\"number\">56700</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"可以给datetime对象加上或减去一个或多个timedelta这样会产生一个新对象\"><a class=\"anchor\" href=\"#可以给datetime对象加上或减去一个或多个timedelta这样会产生一个新对象\">#</a> 可以给 datetime 对象加上（或减去）一个或多个 timedelta，这样会产生一个新对象：</h5>\n<figure class=\"highlight angelscript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [ <span class=\"number\">18</span> ]: <span class=\"keyword\">from</span> datetime <span class=\"keyword\">import</span> timedelta</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [<span class=\"number\"> 19 </span>]: start = datetime(<span class=\"number\"> 2011 </span>,<span class=\"number\"> 1 </span>,<span class=\"number\"> 7 </span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [<span class=\"number\"> 20 </span>]: start + timedelta(<span class=\"number\"> 12 </span>)</span><br><span class=\"line\">Out[<span class=\"number\"> 20 </span>]: datetime.datetime(<span class=\"number\"> 2011 </span>,<span class=\"number\"> 1 </span>,<span class=\"number\"> 19 </span>,<span class=\"number\"> 0 </span>,<span class=\"number\"> 0 </span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [<span class=\"number\"> 21 </span>]: start -<span class=\"number\"> 2 </span>* timedelta(<span class=\"number\"> 12 </span>)</span><br><span class=\"line\">Out[<span class=\"number\"> 21 </span>]: datetime.datetime(<span class=\"number\"> 2010 </span>,<span class=\"number\"> 12 </span>,<span class=\"number\"> 14 </span>,<span class=\"number\"> 0 </span>,<span class=\"number\"> 0 </span>)</span><br></pre></td></tr></table></figure>\n<h2 id=\"字符串和-datetime-的相互转换\"><a class=\"anchor\" href=\"#字符串和-datetime-的相互转换\">#</a> 字符串和 datetime 的相互转换</h2>\n<h5 id=\"利用str或strftime方法传入一个格式化字符串datetime对象和pandas的timestamp对象稍\"><a class=\"anchor\" href=\"#利用str或strftime方法传入一个格式化字符串datetime对象和pandas的timestamp对象稍\">#</a> 利用 str 或 strftime 方法（传入一个格式化字符串），datetime 对象和 pandas 的 Timestamp 对象（稍</h5>\n<h5 id=\"后就会介绍可以被格式化为字符串\"><a class=\"anchor\" href=\"#后就会介绍可以被格式化为字符串\">#</a> 后就会介绍）可以被格式化为字符串：</h5>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [<span class=\"number\"> 22 </span>]: stamp = datetime(<span class=\"number\"> 2011 </span>,<span class=\"number\"> 1 </span>,<span class=\"number\"> 3 </span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In <span class=\"selector-attr\">[ 23 ]</span>: <span class=\"built_in\">str</span>(stamp)</span><br><span class=\"line\">Out<span class=\"selector-attr\">[ 23 ]</span>: <span class=\"string\">&#x27;2011-01-03 00:00:00&#x27;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In <span class=\"selector-attr\">[ 24 ]</span>: stamp<span class=\"selector-class\">.strftime</span>(<span class=\"string\">&#x27;%Y-%m-%d&#x27;</span>)</span><br><span class=\"line\">Out<span class=\"selector-attr\">[ 24 ]</span>: <span class=\"string\">&#x27;2011-01-03&#x27;</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"datetimestrptime可以用这些格式化编码将字符串转换为日期\"><a class=\"anchor\" href=\"#datetimestrptime可以用这些格式化编码将字符串转换为日期\">#</a> datetime.strptime 可以用这些格式化编码将字符串转换为日期：</h5>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [<span class=\"number\"> 26 </span>]: datetime.strptime(value, &#x27;%Y-%m-%d&#x27;)</span><br><span class=\"line\">Out[<span class=\"number\"> 26 </span>]: datetime.datetime(<span class=\"number\"> 2011 </span>,<span class=\"number\"> 1 </span>,<span class=\"number\"> 3 </span>,<span class=\"number\"> 0 </span>,<span class=\"number\"> 0 </span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [ <span class=\"number\">27</span> ]<span class=\"punctuation\">:</span> datestrs <span class=\"punctuation\">=</span> [&#x27;7/6/<span class=\"number\">2011</span>&#x27;<span class=\"punctuation\">,</span> &#x27;8/6/<span class=\"number\">2011</span>&#x27;]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [<span class=\"number\"> 28 </span>]: [datetime.strptime(x, &#x27;%m/%d/%Y&#x27;) for x in datestrs]</span><br><span class=\"line\">Out[<span class=\"number\"> 28 </span>]:</span><br><span class=\"line\">[datetime.datetime(<span class=\"number\"> 2011 </span>,<span class=\"number\"> 7 </span>,<span class=\"number\"> 6 </span>,<span class=\"number\"> 0 </span>,<span class=\"number\"> 0 </span>),</span><br><span class=\"line\">datetime.datetime(<span class=\"number\"> 2011 </span>,<span class=\"number\"> 8 </span>,<span class=\"number\"> 6 </span>,<span class=\"number\"> 0 </span>,<span class=\"number\"> 0 </span>)]</span><br></pre></td></tr></table></figure>\n<h5 id=\"datetimestrptime是通过已知格式进行日期解析的最佳方式-但是每次都要编写格式定义是很麻烦\"><a class=\"anchor\" href=\"#datetimestrptime是通过已知格式进行日期解析的最佳方式-但是每次都要编写格式定义是很麻烦\">#</a> datetime.strptime 是通过已知格式进行日期解析的最佳方式。但是每次都要编写格式定义是很麻烦</h5>\n<h5 id=\"的事情尤其是对于一些常见的日期格式-这种情况下你可以用dateutil这个第三方包中的\"><a class=\"anchor\" href=\"#的事情尤其是对于一些常见的日期格式-这种情况下你可以用dateutil这个第三方包中的\">#</a> 的事情，尤其是对于一些常见的日期格式。这种情况下，你可以用 dateutil 这个第三方包中的</h5>\n<h5 id=\"parserparse方法pandas中已经自动安装好了\"><a class=\"anchor\" href=\"#parserparse方法pandas中已经自动安装好了\">#</a> parser.parse 方法（pandas 中已经自动安装好了）：</h5>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">In</span> [ <span class=\"number\">29</span> ]: <span class=\"keyword\">from</span> dateutil.<span class=\"keyword\">parser</span> <span class=\"keyword\">import</span> parse</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [<span class=\"number\"> 30 </span>]: parse(&#x27;2011-01-03&#x27;)</span><br><span class=\"line\">Out[<span class=\"number\"> 30 </span>]: datetime.datetime(<span class=\"number\"> 2011 </span>,<span class=\"number\"> 1 </span>,<span class=\"number\"> 3 </span>,<span class=\"number\"> 0 </span>,<span class=\"number\"> 0 </span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"dateutil可以解析几乎所有人类能够理解的日期表示形式\"><a class=\"anchor\" href=\"#dateutil可以解析几乎所有人类能够理解的日期表示形式\">#</a> dateutil 可以解析几乎所有人类能够理解的日期表示形式：</h5>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [<span class=\"number\"> 31 </span>]: parse(&#x27;Jan 31,<span class=\"number\"> 1997 </span>10:45 PM&#x27;)</span><br><span class=\"line\">Out[<span class=\"number\"> 31 </span>]: datetime.datetime(<span class=\"number\"> 1997 </span>,<span class=\"number\"> 1 </span>,<span class=\"number\"> 31 </span>,<span class=\"number\"> 22 </span>,<span class=\"number\"> 45 </span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"在国际通用的格式中日出现在月的前面很普遍传入dayfirsttrue即可解决这个问题\"><a class=\"anchor\" href=\"#在国际通用的格式中日出现在月的前面很普遍传入dayfirsttrue即可解决这个问题\">#</a> 在国际通用的格式中，日出现在月的前面很普遍，传入 dayfirst=True 即可解决这个问题：</h5>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [<span class=\"number\"> 32 </span>]: parse(&#x27;6/12/2011&#x27;, dayfirst=True)</span><br><span class=\"line\">Out[<span class=\"number\"> 32 </span>]: datetime.datetime(<span class=\"number\"> 2011 </span>,<span class=\"number\"> 12 </span>,<span class=\"number\"> 6 </span>,<span class=\"number\"> 0 </span>,<span class=\"number\"> 0 </span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"pandas通常是用于处理成组日期的不管这些日期是dataframe的轴索引还是列-to_datetime方\"><a class=\"anchor\" href=\"#pandas通常是用于处理成组日期的不管这些日期是dataframe的轴索引还是列-to_datetime方\">#</a> pandas 通常是用于处理成组日期的，不管这些日期是 DataFrame 的轴索引还是列。to_datetime 方</h5>\n<h5 id=\"法可以解析多种不同的日期表示形式-对标准日期格式如iso8601的解析非常快\"><a class=\"anchor\" href=\"#法可以解析多种不同的日期表示形式-对标准日期格式如iso8601的解析非常快\">#</a> 法可以解析多种不同的日期表示形式。对标准日期格式（如 ISO8601）的解析非常快：</h5>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [<span class=\"number\">33</span>]<span class=\"punctuation\">:</span> datestrs <span class=\"punctuation\">=</span> [&#x27;<span class=\"number\">2011-07-06</span> 12:00:00&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2011-08-06</span> 00:00:00&#x27;]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">In</span> [34]: pd.to_datetime(datestrs)</span><br><span class=\"line\">Out[34]: DatetimeIndex([<span class=\"string\">&#x27;2011-07-06 12:00:00&#x27;</span>, <span class=\"string\">&#x27;2011-08-06 00:00:00&#x27;</span>], <span class=\"attribute\">dtype</span>=<span class=\"string\">&#x27;dat</span></span><br><span class=\"line\"><span class=\"string\">etime64[ns]&#x27;</span>, <span class=\"attribute\">freq</span>=None)</span><br></pre></td></tr></table></figure>\n<h5 id=\"它还可以处理缺失值none-空字符串等\"><a class=\"anchor\" href=\"#它还可以处理缺失值none-空字符串等\">#</a> 它还可以处理缺失值（None、空字符串等）：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In <span class=\"selector-attr\">[35]</span>: idx = pd<span class=\"selector-class\">.to_datetime</span>(datestrs + <span class=\"selector-attr\">[None]</span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">In</span> [36]: idx</span><br><span class=\"line\">Out[36]: DatetimeIndex([<span class=\"string\">&#x27;2011-07-06 12:00:00&#x27;</span>, <span class=\"string\">&#x27;2011-08-06 00:00:00&#x27;</span>, <span class=\"string\">&#x27;NaT&#x27;</span>], dty</span><br><span class=\"line\"><span class=\"attribute\">pe</span>=<span class=\"string\">&#x27;datetime64[ns]&#x27;</span>, <span class=\"attribute\">freq</span>=None)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In <span class=\"comment\">[37]</span>: idx<span class=\"comment\">[2]</span></span><br><span class=\"line\">Out<span class=\"comment\">[37]</span>: NaT</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight pgsql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">In</span> [<span class=\"number\">38</span>]: pd.<span class=\"keyword\">isnull</span>(idx)</span><br><span class=\"line\"><span class=\"keyword\">Out</span>[<span class=\"number\">38</span>]: <span class=\"keyword\">array</span>([<span class=\"keyword\">False</span>, <span class=\"keyword\">False</span>, <span class=\"keyword\">True</span>], dtype=<span class=\"type\">bool</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"natnot-a-time是pandas中时间戳数据的null值\"><a class=\"anchor\" href=\"#natnot-a-time是pandas中时间戳数据的null值\">#</a> NaT（Not a Time）是 pandas 中时间戳数据的 null 值。</h5>\n<h3 id=\"2-时间序列基础\"><a class=\"anchor\" href=\"#2-时间序列基础\">#</a> 2. 时间序列基础</h3>\n<h5 id=\"pandas最基本的时间序列类型就是以时间戳通常以python字符串或datatime对象表示为索引\"><a class=\"anchor\" href=\"#pandas最基本的时间序列类型就是以时间戳通常以python字符串或datatime对象表示为索引\">#</a> pandas 最基本的时间序列类型就是以时间戳（通常以 Python 字符串或 datatime 对象表示）为索引</h5>\n<h5 id=\"的series\"><a class=\"anchor\" href=\"#的series\">#</a> 的 Series：</h5>\n<figure class=\"highlight angelscript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [<span class=\"number\">39</span>]: <span class=\"keyword\">from</span> datetime <span class=\"keyword\">import</span> datetime</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In <span class=\"selector-attr\">[40]</span>: dates = [<span class=\"built_in\">datetime</span>(<span class=\"number\">2011</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>), <span class=\"built_in\">datetime</span>(<span class=\"number\">2011</span>, <span class=\"number\">1</span>, <span class=\"number\">5</span>),</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">....: <span class=\"built_in\">datetime</span>(<span class=\"number\">2011</span>, <span class=\"number\">1</span>, <span class=\"number\">7</span>), <span class=\"built_in\">datetime</span>(<span class=\"number\">2011</span>, <span class=\"number\">1</span>, <span class=\"number\">8</span>),</span><br><span class=\"line\">....: <span class=\"built_in\">datetime</span>(<span class=\"number\">2011</span>, <span class=\"number\">1</span>, <span class=\"number\">10</span>), <span class=\"built_in\">datetime</span>(<span class=\"number\">2011</span>, <span class=\"number\">1</span>, <span class=\"number\">12</span>)]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In <span class=\"selector-attr\">[41]</span>: ts = pd<span class=\"selector-class\">.Series</span>(np<span class=\"selector-class\">.random</span><span class=\"selector-class\">.randn</span>(<span class=\"number\">6</span>), index=dates)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight subunit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [42]: ts</span><br><span class=\"line\">Out[42]:</span><br><span class=\"line\">2011<span class=\"string\">-01</span><span class=\"string\">-02</span> <span class=\"string\">-0</span>.204708</span><br><span class=\"line\">2011<span class=\"string\">-01</span><span class=\"string\">-05</span> 0.478943</span><br><span class=\"line\">2011<span class=\"string\">-01</span><span class=\"string\">-07</span> <span class=\"string\">-0</span>.519439</span><br><span class=\"line\">2011<span class=\"string\">-01</span><span class=\"string\">-08</span> <span class=\"string\">-0</span>.555730</span><br><span class=\"line\">2011<span class=\"string\">-01</span><span class=\"string\">-10</span> 1.965781</span><br><span class=\"line\">2011<span class=\"string\">-01</span><span class=\"string\">-12</span> 1.393406</span><br><span class=\"line\">dtype: float64</span><br></pre></td></tr></table></figure>\n<h5 id=\"这些datetime对象实际上是被放在一个datetimeindex中的\"><a class=\"anchor\" href=\"#这些datetime对象实际上是被放在一个datetimeindex中的\">#</a> 这些 datetime 对象实际上是被放在一个 DatetimeIndex 中的：</h5>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [<span class=\"number\">43</span>]<span class=\"punctuation\">:</span> ts.index</span><br><span class=\"line\">Out[<span class=\"number\">43</span>]<span class=\"punctuation\">:</span></span><br><span class=\"line\">DatetimeIndex<span class=\"punctuation\">(</span>[&#x27;<span class=\"number\">2011-01-02</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2011-01-05</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2011-01-07</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2011-01-08</span>&#x27;<span class=\"punctuation\">,</span></span><br><span class=\"line\">&#x27;<span class=\"number\">2011-01-10</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2011-01-12</span>&#x27;]<span class=\"punctuation\">,</span></span><br><span class=\"line\">dtype<span class=\"punctuation\">=</span>&#x27;datetime64[ns]&#x27;<span class=\"punctuation\">,</span> freq<span class=\"punctuation\">=</span>None<span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"跟其他series一样不同索引的时间序列之间的算术运算会自动按日期对齐\"><a class=\"anchor\" href=\"#跟其他series一样不同索引的时间序列之间的算术运算会自动按日期对齐\">#</a> 跟其他 Series 一样，不同索引的时间序列之间的算术运算会自动按日期对齐：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">In</span><span class=\"meta\"> [44]: ts + ts[::2]</span></span><br><span class=\"line\"><span class=\"attribute\">Out</span>[<span class=\"number\">44</span>]:</span><br><span class=\"line\"><span class=\"attribute\">2011</span>-<span class=\"number\">01</span>-<span class=\"number\">02</span> -<span class=\"number\">0</span>.<span class=\"number\">409415</span></span><br><span class=\"line\"><span class=\"attribute\">2011</span>-<span class=\"number\">01</span>-<span class=\"number\">05</span> NaN</span><br><span class=\"line\"><span class=\"attribute\">2011</span>-<span class=\"number\">01</span>-<span class=\"number\">07</span> -<span class=\"number\">1</span>.<span class=\"number\">038877</span></span><br><span class=\"line\"><span class=\"attribute\">2011</span>-<span class=\"number\">01</span>-<span class=\"number\">08</span> NaN</span><br><span class=\"line\"><span class=\"attribute\">2011</span>-<span class=\"number\">01</span>-<span class=\"number\">10</span> <span class=\"number\">3</span>.<span class=\"number\">931561</span></span><br><span class=\"line\"><span class=\"attribute\">2011</span>-<span class=\"number\">01</span>-<span class=\"number\">12</span> NaN</span><br><span class=\"line\"><span class=\"attribute\">dtype</span>: float64</span><br></pre></td></tr></table></figure>\n<h5 id=\"ts2-是每隔两个取一个\"><a class=\"anchor\" href=\"#ts2-是每隔两个取一个\">#</a> ts [::2] 是每隔两个取一个。</h5>\n<h2 id=\"索引-选取-子集构造\"><a class=\"anchor\" href=\"#索引-选取-子集构造\">#</a> 索引、选取、子集构造</h2>\n<h5 id=\"当你根据标签索引选取数据时时间序列和其它的pandasseries很像\"><a class=\"anchor\" href=\"#当你根据标签索引选取数据时时间序列和其它的pandasseries很像\">#</a> 当你根据标签索引选取数据时，时间序列和其它的 pandas.Series 很像：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In <span class=\"selector-attr\">[48]</span>: stamp = ts<span class=\"selector-class\">.index</span><span class=\"selector-attr\">[2]</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">In</span><span class=\"meta\"> [49]: ts[stamp]</span></span><br><span class=\"line\"><span class=\"attribute\">Out</span>[<span class=\"number\">49</span>]: -<span class=\"number\">0</span>.<span class=\"number\">51943871505673811</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"还有一种更为方便的用法传入一个可以被解释为日期的字符串\"><a class=\"anchor\" href=\"#还有一种更为方便的用法传入一个可以被解释为日期的字符串\">#</a> 还有一种更为方便的用法：传入一个可以被解释为日期的字符串：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">In</span><span class=\"meta\"> [50]: ts[&#x27;1/10/2011&#x27;]</span></span><br><span class=\"line\"><span class=\"attribute\">Out</span>[<span class=\"number\">50</span>]: <span class=\"number\">1</span>.<span class=\"number\">9657805725027142</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">In</span><span class=\"meta\"> [51]: ts[&#x27;20110110&#x27;]</span></span><br><span class=\"line\"><span class=\"attribute\">Out</span>[<span class=\"number\">51</span>]: <span class=\"number\">1</span>.<span class=\"number\">9657805725027142</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"3-日期的范围-频率以及移动\"><a class=\"anchor\" href=\"#3-日期的范围-频率以及移动\">#</a> 3. 日期的范围、频率以及移动</h1>\n<h5 id=\"pandas中的原生时间序列一般被认为是不规则的也就是说它们没有固定的频率-对于大部分\"><a class=\"anchor\" href=\"#pandas中的原生时间序列一般被认为是不规则的也就是说它们没有固定的频率-对于大部分\">#</a> pandas 中的原生时间序列一般被认为是不规则的，也就是说，它们没有固定的频率。对于大部分</h5>\n<h5 id=\"应用程序而言这是无所谓的-但是它常常需要以某种相对固定的频率进行分析比如每日-每\"><a class=\"anchor\" href=\"#应用程序而言这是无所谓的-但是它常常需要以某种相对固定的频率进行分析比如每日-每\">#</a> 应用程序而言，这是无所谓的。但是，它常常需要以某种相对固定的频率进行分析，比如每日、每</h5>\n<h5 id=\"月-每-15-分钟等这样自然会在时间序列中引入缺失值-幸运的是pandas有一整套标准时间\"><a class=\"anchor\" href=\"#月-每-15-分钟等这样自然会在时间序列中引入缺失值-幸运的是pandas有一整套标准时间\">#</a> 月、每 15 分钟等（这样自然会在时间序列中引入缺失值）。幸运的是，pandas 有一整套标准时间</h5>\n<h5 id=\"序列频率以及用于重采样-频率推断-生成固定频率日期范围的工具-例如我们可以将之前那个\"><a class=\"anchor\" href=\"#序列频率以及用于重采样-频率推断-生成固定频率日期范围的工具-例如我们可以将之前那个\">#</a> 序列频率以及用于重采样、频率推断、生成固定频率日期范围的工具。例如，我们可以将之前那个</h5>\n<h5 id=\"时间序列转换为一个具有固定频率每日的时间序列只需调用resample即可\"><a class=\"anchor\" href=\"#时间序列转换为一个具有固定频率每日的时间序列只需调用resample即可\">#</a> 时间序列转换为一个具有固定频率（每日）的时间序列，只需调用 resample 即可：</h5>\n<figure class=\"highlight subunit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [ 72 ]: ts</span><br><span class=\"line\">Out[ 72 ]:</span><br><span class=\"line\">2011<span class=\"string\">-01</span><span class=\"string\">-02</span> <span class=\"string\">-0</span>.204708</span><br><span class=\"line\">2011<span class=\"string\">-01</span><span class=\"string\">-05</span> 0.478943</span><br><span class=\"line\">2011<span class=\"string\">-01</span><span class=\"string\">-07</span> <span class=\"string\">-0</span>.519439</span><br><span class=\"line\">2011<span class=\"string\">-01</span><span class=\"string\">-08</span> <span class=\"string\">-0</span>.555730</span><br><span class=\"line\">2011<span class=\"string\">-01</span><span class=\"string\">-10</span> 1.965781</span><br><span class=\"line\">2011<span class=\"string\">-01</span><span class=\"string\">-12</span> 1.393406</span><br><span class=\"line\">dtype: float64</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In <span class=\"selector-attr\">[ 73 ]</span>: resampler = ts.<span class=\"built_in\">resample</span>(<span class=\"string\">&#x27;D&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"字符串d是每天的意思\"><a class=\"anchor\" href=\"#字符串d是每天的意思\">#</a> 字符串 “D” 是每天的意思。</h5>\n<h5 id=\"频率的转换或重采样是一个比较大的主题-这里我将告诉你如何使用基本的频率和它的倍\"><a class=\"anchor\" href=\"#频率的转换或重采样是一个比较大的主题-这里我将告诉你如何使用基本的频率和它的倍\">#</a> 频率的转换（或重采样）是一个比较大的主题。这里，我将告诉你如何使用基本的频率和它的倍</h5>\n<h5 id=\"数\"><a class=\"anchor\" href=\"#数\">#</a> 数。</h5>\n<h2 id=\"3-生成日期范围\"><a class=\"anchor\" href=\"#3-生成日期范围\">#</a> 3. 生成日期范围</h2>\n<h5 id=\"虽然我之前用的时候没有明说但你可能已经猜到pandasdate_range可用于根据指定的频率生成\"><a class=\"anchor\" href=\"#虽然我之前用的时候没有明说但你可能已经猜到pandasdate_range可用于根据指定的频率生成\">#</a> 虽然我之前用的时候没有明说，但你可能已经猜到 pandas.date_range 可用于根据指定的频率生成</h5>\n<h5 id=\"指定长度的datetimeindex\"><a class=\"anchor\" href=\"#指定长度的datetimeindex\">#</a> 指定长度的 DatetimeIndex：</h5>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [<span class=\"number\">74</span>]<span class=\"punctuation\">:</span> index <span class=\"punctuation\">=</span> pd.date_range<span class=\"punctuation\">(</span>&#x27;<span class=\"number\">2012-04-01</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-06-01</span>&#x27;<span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [<span class=\"number\">75</span>]<span class=\"punctuation\">:</span> index</span><br><span class=\"line\">Out[<span class=\"number\">75</span>]<span class=\"punctuation\">:</span></span><br><span class=\"line\">DatetimeIndex<span class=\"punctuation\">(</span>[&#x27;<span class=\"number\">2012-04-01</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-04-02</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-04-03</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-04-04</span>&#x27;<span class=\"punctuation\">,</span></span><br><span class=\"line\">&#x27;<span class=\"number\">2012-04-05</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-04-06</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-04-07</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-04-08</span>&#x27;<span class=\"punctuation\">,</span></span><br></pre></td></tr></table></figure>\n<h6 id=\"2012-04-09-2012-04-10-2012-04-11-2012-04-12\"><a class=\"anchor\" href=\"#2012-04-09-2012-04-10-2012-04-11-2012-04-12\">#</a> ‘2012-04-09’, ‘2012-04-10’, ‘2012-04-11’, ‘2012-04-12’,</h6>\n<h6 id=\"2012-04-13-2012-04-14-2012-04-15-2012-04-16\"><a class=\"anchor\" href=\"#2012-04-13-2012-04-14-2012-04-15-2012-04-16\">#</a> ‘2012-04-13’, ‘2012-04-14’, ‘2012-04-15’, ‘2012-04-16’,</h6>\n<h6 id=\"2012-04-17-2012-04-18-2012-04-19-2012-04-20\"><a class=\"anchor\" href=\"#2012-04-17-2012-04-18-2012-04-19-2012-04-20\">#</a> ‘2012-04-17’, ‘2012-04-18’, ‘2012-04-19’, ‘2012-04-20’,</h6>\n<h6 id=\"2012-04-21-2012-04-22-2012-04-23-2012-04-24\"><a class=\"anchor\" href=\"#2012-04-21-2012-04-22-2012-04-23-2012-04-24\">#</a> ‘2012-04-21’, ‘2012-04-22’, ‘2012-04-23’, ‘2012-04-24’,</h6>\n<h6 id=\"2012-04-25-2012-04-26-2012-04-27-2012-04-28\"><a class=\"anchor\" href=\"#2012-04-25-2012-04-26-2012-04-27-2012-04-28\">#</a> ‘2012-04-25’, ‘2012-04-26’, ‘2012-04-27’, ‘2012-04-28’,</h6>\n<h6 id=\"2012-04-29-2012-04-30-2012-05-01-2012-05-02\"><a class=\"anchor\" href=\"#2012-04-29-2012-04-30-2012-05-01-2012-05-02\">#</a> ‘2012-04-29’, ‘2012-04-30’, ‘2012-05-01’, ‘2012-05-02’,</h6>\n<h6 id=\"2012-05-03-2012-05-04-2012-05-05-2012-05-06\"><a class=\"anchor\" href=\"#2012-05-03-2012-05-04-2012-05-05-2012-05-06\">#</a> ‘2012-05-03’, ‘2012-05-04’, ‘2012-05-05’, ‘2012-05-06’,</h6>\n<h6 id=\"2012-05-07-2012-05-08-2012-05-09-2012-05-10\"><a class=\"anchor\" href=\"#2012-05-07-2012-05-08-2012-05-09-2012-05-10\">#</a> ‘2012-05-07’, ‘2012-05-08’, ‘2012-05-09’, ‘2012-05-10’,</h6>\n<h6 id=\"2012-05-11-2012-05-12-2012-05-13-2012-05-14\"><a class=\"anchor\" href=\"#2012-05-11-2012-05-12-2012-05-13-2012-05-14\">#</a> ‘2012-05-11’, ‘2012-05-12’, ‘2012-05-13’, ‘2012-05-14’,</h6>\n<h6 id=\"2012-05-15-2012-05-16-2012-05-17-2012-05-18\"><a class=\"anchor\" href=\"#2012-05-15-2012-05-16-2012-05-17-2012-05-18\">#</a> ‘2012-05-15’, ‘2012-05-16’, ‘2012-05-17’, ‘2012-05-18’,</h6>\n<h6 id=\"2012-05-19-2012-05-20-2012-05-21-2012-05-22\"><a class=\"anchor\" href=\"#2012-05-19-2012-05-20-2012-05-21-2012-05-22\">#</a> ‘2012-05-19’, ‘2012-05-20’, ‘2012-05-21’, ‘2012-05-22’,</h6>\n<h6 id=\"2012-05-23-2012-05-24-2012-05-25-2012-05-26\"><a class=\"anchor\" href=\"#2012-05-23-2012-05-24-2012-05-25-2012-05-26\">#</a> ‘2012-05-23’, ‘2012-05-24’, ‘2012-05-25’, ‘2012-05-26’,</h6>\n<h6 id=\"2012-05-27-2012-05-28-2012-05-29-2012-05-30\"><a class=\"anchor\" href=\"#2012-05-27-2012-05-28-2012-05-29-2012-05-30\">#</a> ‘2012-05-27’, ‘2012-05-28’, ‘2012-05-29’, ‘2012-05-30’,</h6>\n<h6 id=\"2012-05-31-2012-06-01\"><a class=\"anchor\" href=\"#2012-05-31-2012-06-01\">#</a> ‘2012-05-31’, ‘2012-06-01’],</h6>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">dtype</span>=<span class=\"string\">&#x27;datetime64[ns]&#x27;</span>, <span class=\"attribute\">freq</span>=<span class=\"string\">&#x27;D&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"默认情况下date_range会产生按天计算的时间点-如果只传入起始或结束日期那就还得传入\"><a class=\"anchor\" href=\"#默认情况下date_range会产生按天计算的时间点-如果只传入起始或结束日期那就还得传入\">#</a> 默认情况下，date_range 会产生按天计算的时间点。如果只传入起始或结束日期，那就还得传入</h5>\n<h5 id=\"一个表示一段时间的数字\"><a class=\"anchor\" href=\"#一个表示一段时间的数字\">#</a> 一个表示一段时间的数字：</h5>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [ <span class=\"number\">76</span> ]<span class=\"punctuation\">:</span> pd.date_range<span class=\"punctuation\">(</span>start<span class=\"punctuation\">=</span>&#x27;<span class=\"number\">2012-04-01</span>&#x27;<span class=\"punctuation\">,</span> periods<span class=\"punctuation\">=</span> <span class=\"number\">20</span> <span class=\"punctuation\">)</span></span><br><span class=\"line\">Out[ <span class=\"number\">76</span> ]<span class=\"punctuation\">:</span></span><br><span class=\"line\">DatetimeIndex<span class=\"punctuation\">(</span>[&#x27;<span class=\"number\">2012-04-01</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-04-02</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-04-03</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-04-04</span>&#x27;<span class=\"punctuation\">,</span></span><br><span class=\"line\">&#x27;<span class=\"number\">2012-04-05</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-04-06</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-04-07</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-04-08</span>&#x27;<span class=\"punctuation\">,</span></span><br><span class=\"line\">&#x27;<span class=\"number\">2012-04-09</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-04-10</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-04-11</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-04-12</span>&#x27;<span class=\"punctuation\">,</span></span><br><span class=\"line\">&#x27;<span class=\"number\">2012-04-13</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-04-14</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-04-15</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-04-16</span>&#x27;<span class=\"punctuation\">,</span></span><br><span class=\"line\">&#x27;<span class=\"number\">2012-04-17</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-04-18</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-04-19</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-04-20</span>&#x27;]<span class=\"punctuation\">,</span></span><br><span class=\"line\">dtype<span class=\"punctuation\">=</span>&#x27;datetime64[ns]&#x27;<span class=\"punctuation\">,</span> freq<span class=\"punctuation\">=</span>&#x27;D&#x27;<span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [ <span class=\"number\">77</span> ]<span class=\"punctuation\">:</span> pd.date_range<span class=\"punctuation\">(</span>end<span class=\"punctuation\">=</span>&#x27;<span class=\"number\">2012-06-01</span>&#x27;<span class=\"punctuation\">,</span> periods<span class=\"punctuation\">=</span> <span class=\"number\">20</span> <span class=\"punctuation\">)</span></span><br><span class=\"line\">Out[ <span class=\"number\">77</span> ]<span class=\"punctuation\">:</span></span><br><span class=\"line\">DatetimeIndex<span class=\"punctuation\">(</span>[&#x27;<span class=\"number\">2012-05-13</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-05-14</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-05-15</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-05-16</span>&#x27;<span class=\"punctuation\">,</span></span><br><span class=\"line\">&#x27;<span class=\"number\">2012-05-17</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-05-18</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-05-19</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-05-20</span>&#x27;<span class=\"punctuation\">,</span></span><br><span class=\"line\">&#x27;<span class=\"number\">2012-05-21</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-05-22</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-05-23</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-05-24</span>&#x27;<span class=\"punctuation\">,</span></span><br><span class=\"line\">&#x27;<span class=\"number\">2012-05-25</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-05-26</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-05-27</span>&#x27;<span class=\"punctuation\">,</span>&#x27;<span class=\"number\">2012-05-28</span>&#x27;<span class=\"punctuation\">,</span></span><br><span class=\"line\">&#x27;<span class=\"number\">2012-05-29</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-05-30</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-05-31</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2012-06-01</span>&#x27;]<span class=\"punctuation\">,</span></span><br><span class=\"line\">dtype<span class=\"punctuation\">=</span>&#x27;datetime64[ns]&#x27;<span class=\"punctuation\">,</span> freq<span class=\"punctuation\">=</span>&#x27;D&#x27;<span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"起始和结束日期定义了日期索引的严格边界-例如如果你想要生成一个由每月最后一个工作日组\"><a class=\"anchor\" href=\"#起始和结束日期定义了日期索引的严格边界-例如如果你想要生成一个由每月最后一个工作日组\">#</a> 起始和结束日期定义了日期索引的严格边界。例如，如果你想要生成一个由每月最后一个工作日组</h5>\n<h5 id=\"成的日期索引可以传入bm频率表示business-end-of-month这样就只会包含时间间隔内\"><a class=\"anchor\" href=\"#成的日期索引可以传入bm频率表示business-end-of-month这样就只会包含时间间隔内\">#</a> 成的日期索引，可以传入 &quot;BM&quot; 频率（表示 business end of month），这样就只会包含时间间隔内</h5>\n<h5 id=\"或刚好在边界上的符合频率要求的日期\"><a class=\"anchor\" href=\"#或刚好在边界上的符合频率要求的日期\">#</a> （或刚好在边界上的）符合频率要求的日期：</h5>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [ <span class=\"number\">78</span> ]<span class=\"punctuation\">:</span> pd.date_range<span class=\"punctuation\">(</span>&#x27;<span class=\"number\">2000-01-01</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2000-12-01</span>&#x27;<span class=\"punctuation\">,</span> freq<span class=\"punctuation\">=</span>&#x27;BM&#x27;<span class=\"punctuation\">)</span></span><br><span class=\"line\">Out[ <span class=\"number\">78</span> ]<span class=\"punctuation\">:</span></span><br><span class=\"line\">DatetimeIndex<span class=\"punctuation\">(</span>[&#x27;<span class=\"number\">2000-01-31</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2000-02-29</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2000-03-31</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2000-04-28</span>&#x27;<span class=\"punctuation\">,</span></span><br><span class=\"line\">&#x27;<span class=\"number\">2000-05-31</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2000-06-30</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2000-07-31</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2000-08-31</span>&#x27;<span class=\"punctuation\">,</span></span><br><span class=\"line\">&#x27;<span class=\"number\">2000-09-29</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2000-10-31</span>&#x27;<span class=\"punctuation\">,</span> &#x27;<span class=\"number\">2000-11-30</span>&#x27;]<span class=\"punctuation\">,</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">dtype</span>=<span class=\"string\">&#x27;datetime64[ns]&#x27;</span>, <span class=\"attribute\">freq</span>=<span class=\"string\">&#x27;BM&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-重采样及频率转换\"><a class=\"anchor\" href=\"#4-重采样及频率转换\">#</a> 4. 重采样及频率转换</h3>\n<h5 id=\"重采样resampling指的是将时间序列从一个频率转换到另一个频率的处理过程-将高频率数据\"><a class=\"anchor\" href=\"#重采样resampling指的是将时间序列从一个频率转换到另一个频率的处理过程-将高频率数据\">#</a> 重采样（resampling）指的是将时间序列从一个频率转换到另一个频率的处理过程。将高频率数据</h5>\n<h5 id=\"聚合到低频率称为降采样downsampling而将低频率数据转换到高频率则称为升采样\"><a class=\"anchor\" href=\"#聚合到低频率称为降采样downsampling而将低频率数据转换到高频率则称为升采样\">#</a> 聚合到低频率称为降采样（downsampling），而将低频率数据转换到高频率则称为升采样</h5>\n<h5 id=\"upsampling-并不是所有的重采样都能被划分到这两个大类中-例如将w-wed每周三\"><a class=\"anchor\" href=\"#upsampling-并不是所有的重采样都能被划分到这两个大类中-例如将w-wed每周三\">#</a> （upsampling）。并不是所有的重采样都能被划分到这两个大类中。例如，将 W-WED（每周三）</h5>\n<h5 id=\"转换为w-fri既不是降采样也不是升采样\"><a class=\"anchor\" href=\"#转换为w-fri既不是降采样也不是升采样\">#</a> 转换为 W-FRI 既不是降采样也不是升采样。</h5>\n<h5 id=\"pandas对象都带有一个resample方法它是各种频率转换工作的主力函数-resample有一个类似\"><a class=\"anchor\" href=\"#pandas对象都带有一个resample方法它是各种频率转换工作的主力函数-resample有一个类似\">#</a> pandas 对象都带有一个 resample 方法，它是各种频率转换工作的主力函数。resample 有一个类似</h5>\n<h5 id=\"于groupby的api调用resample可以分组数据然后会调用一个聚合函数\"><a class=\"anchor\" href=\"#于groupby的api调用resample可以分组数据然后会调用一个聚合函数\">#</a> 于 groupby 的 API，调用 resample 可以分组数据，然后会调用一个聚合函数：</h5>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In <span class=\"selector-attr\">[ 208 ]</span>: rng = pd.<span class=\"built_in\">date_range</span>(<span class=\"string\">&#x27;2000-01-01&#x27;</span>, periods= <span class=\"number\">100</span> , freq=<span class=\"string\">&#x27;D&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In <span class=\"selector-attr\">[ 209 ]</span>: ts = pd<span class=\"selector-class\">.Series</span>(np<span class=\"selector-class\">.random</span><span class=\"selector-class\">.randn</span>(<span class=\"built_in\">len</span>(rng)), index=rng)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight subunit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [ 210 ]: ts</span><br><span class=\"line\">Out[ 210 ]:</span><br><span class=\"line\">2000<span class=\"string\">-01</span><span class=\"string\">-01</span> 0.631634</span><br><span class=\"line\">2000<span class=\"string\">-01</span><span class=\"string\">-02</span> <span class=\"string\">-1</span>.594313</span><br><span class=\"line\">2000<span class=\"string\">-01</span><span class=\"string\">-03</span> <span class=\"string\">-1</span>.519937</span><br><span class=\"line\">2000<span class=\"string\">-01</span><span class=\"string\">-04</span> 1.108752</span><br><span class=\"line\">2000<span class=\"string\">-01</span><span class=\"string\">-05</span> 1.255853</span><br><span class=\"line\">2000<span class=\"string\">-01</span><span class=\"string\">-06</span> <span class=\"string\">-0</span>.024330</span><br><span class=\"line\">2000<span class=\"string\">-01</span><span class=\"string\">-07</span> <span class=\"string\">-2</span>.047939</span><br><span class=\"line\">2000<span class=\"string\">-01</span><span class=\"string\">-08</span> <span class=\"string\">-0</span>.272657</span><br><span class=\"line\">2000<span class=\"string\">-01</span><span class=\"string\">-09</span> <span class=\"string\">-1</span>.692615</span><br><span class=\"line\">2000<span class=\"string\">-01</span><span class=\"string\">-10</span> 1.423830</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n<h6 id=\"2000-03-31-0007852\"><a class=\"anchor\" href=\"#2000-03-31-0007852\">#</a> 2000-03-31 -0.007852</h6>\n<h6 id=\"2000-04-01-1638806\"><a class=\"anchor\" href=\"#2000-04-01-1638806\">#</a> 2000-04-01 -1.638806</h6>\n<h6 id=\"2000-04-02-1401227\"><a class=\"anchor\" href=\"#2000-04-02-1401227\">#</a> 2000-04-02 1.401227</h6>\n<h6 id=\"2000-04-03-1758539\"><a class=\"anchor\" href=\"#2000-04-03-1758539\">#</a> 2000-04-03 1.758539</h6>\n<h6 id=\"2000-04-04-0628932\"><a class=\"anchor\" href=\"#2000-04-04-0628932\">#</a> 2000-04-04 0.628932</h6>\n<h6 id=\"2000-04-05-0423776\"><a class=\"anchor\" href=\"#2000-04-05-0423776\">#</a> 2000-04-05 -0.423776</h6>\n<h6 id=\"2000-04-06-0789740\"><a class=\"anchor\" href=\"#2000-04-06-0789740\">#</a> 2000-04-06 0.789740</h6>\n<h6 id=\"2000-04-07-0937568\"><a class=\"anchor\" href=\"#2000-04-07-0937568\">#</a> 2000-04-07 0.937568</h6>\n<h6 id=\"2000-04-08-2253294\"><a class=\"anchor\" href=\"#2000-04-08-2253294\">#</a> 2000-04-08 -2.253294</h6>\n<h6 id=\"2000-04-09-1772919\"><a class=\"anchor\" href=\"#2000-04-09-1772919\">#</a> 2000-04-09 -1.772919</h6>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">Freq:</span> <span class=\"string\">D,</span> <span class=\"attr\">Length:</span> <span class=\"number\">100</span> <span class=\"string\">,</span> <span class=\"attr\">dtype:</span> <span class=\"string\">float64</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight subunit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [ 211 ]: ts.resample(&#x27;M&#x27;).mean()</span><br><span class=\"line\">Out[ 211 ]:</span><br><span class=\"line\">2000<span class=\"string\">-01</span><span class=\"string\">-31</span> <span class=\"string\">-0</span>.165893</span><br><span class=\"line\">2000<span class=\"string\">-02</span><span class=\"string\">-29</span> 0.078606</span><br><span class=\"line\">2000<span class=\"string\">-03</span><span class=\"string\">-31</span> 0.223811</span><br><span class=\"line\">2000<span class=\"string\">-04</span><span class=\"string\">-30</span> <span class=\"string\">-0</span>.063643</span><br><span class=\"line\">Freq: M, dtype: float64</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In <span class=\"selector-attr\">[ 212 ]</span>: ts<span class=\"selector-class\">.resample</span>(<span class=\"string\">&#x27;M&#x27;</span>, kind=<span class=\"string\">&#x27;period&#x27;</span>)<span class=\"selector-class\">.mean</span>()</span><br><span class=\"line\">Out<span class=\"selector-attr\">[ 212 ]</span>:</span><br><span class=\"line\"><span class=\"number\">2000</span>-<span class=\"number\">01</span> -<span class=\"number\">0.165893</span></span><br><span class=\"line\"><span class=\"number\">2000</span>-<span class=\"number\">02</span> <span class=\"number\">0.078606</span></span><br><span class=\"line\"><span class=\"number\">2000</span>-<span class=\"number\">03</span> <span class=\"number\">0.223811</span></span><br><span class=\"line\"><span class=\"number\">2000</span>-<span class=\"number\">04</span> -<span class=\"number\">0.063643</span></span><br><span class=\"line\">Freq: M, dtype: float64</span><br></pre></td></tr></table></figure>\n<h5 id=\"resample是一个灵活高效的方法可用于处理非常大的时间序列\"><a class=\"anchor\" href=\"#resample是一个灵活高效的方法可用于处理非常大的时间序列\">#</a> resample 是一个灵活高效的方法，可用于处理非常大的时间序列。</h5>\n<h1 id=\"数据分析中常用图\"><a class=\"anchor\" href=\"#数据分析中常用图\">#</a> 数据分析中常用图</h1>\n<h2 id=\"折线图\"><a class=\"anchor\" href=\"#折线图\">#</a> 折线图：</h2>\n<h5 id=\"折线图用于显示数据在一个连续的时间间隔或者时间跨度上的变化它的特点是反映事物随时间或\"><a class=\"anchor\" href=\"#折线图用于显示数据在一个连续的时间间隔或者时间跨度上的变化它的特点是反映事物随时间或\">#</a> 折线图用于显示数据在一个连续的时间间隔或者时间跨度上的变化，它的特点是反映事物随时间或</h5>\n<h5 id=\"有序类别而变化的趋势-示例图如下\"><a class=\"anchor\" href=\"#有序类别而变化的趋势-示例图如下\">#</a> 有序类别而变化的趋势。示例图如下：</h5>\n<h5 id=\"折线图应用场景\"><a class=\"anchor\" href=\"#折线图应用场景\">#</a> 折线图应用场景：</h5>\n<h5 id=\"1-折线图适合-x-轴是一个连续递增或递减的对于没有规律的则不适合使用折线图建议使\"><a class=\"anchor\" href=\"#1-折线图适合-x-轴是一个连续递增或递减的对于没有规律的则不适合使用折线图建议使\">#</a> 1. 折线图适合 X 轴是一个连续递增或递减的，对于没有规律的，则不适合使用折线图，建议使</h5>\n<h5 id=\"用柱状图\"><a class=\"anchor\" href=\"#用柱状图\">#</a> 用柱状图。</h5>\n<h5 id=\"2-如果折线图条数过多则不应该都绘制在一个图上\"><a class=\"anchor\" href=\"#2-如果折线图条数过多则不应该都绘制在一个图上\">#</a> 2. 如果折线图条数过多，则不应该都绘制在一个图上。</h5>\n<h2 id=\"柱状图\"><a class=\"anchor\" href=\"#柱状图\">#</a> 柱状图：</h2>\n<h5 id=\"典型的柱状图又名条形图使用垂直或水平的柱子显示类别之间的数值比较-其中一个轴表示\"><a class=\"anchor\" href=\"#典型的柱状图又名条形图使用垂直或水平的柱子显示类别之间的数值比较-其中一个轴表示\">#</a> 典型的柱状图（又名条形图），使用垂直或水平的柱子显示类别之间的数值比较。其中一个轴表示</h5>\n<h5 id=\"需要对比的分类另一个轴代表相应的数值\"><a class=\"anchor\" href=\"#需要对比的分类另一个轴代表相应的数值\">#</a> 需要对比的分类，另一个轴代表相应的数值。</h5>\n<h5 id=\"柱状图有别于直方图柱状图无法显示数据在一个区间内的连续变化趋势-柱状图描述的是分类数\"><a class=\"anchor\" href=\"#柱状图有别于直方图柱状图无法显示数据在一个区间内的连续变化趋势-柱状图描述的是分类数\">#</a> 柱状图有别于直方图，柱状图无法显示数据在一个区间内的连续变化趋势。柱状图描述的是分类数</h5>\n<h5 id=\"据回答的是每一个分类中有多少这个问题-示例图如下\"><a class=\"anchor\" href=\"#据回答的是每一个分类中有多少这个问题-示例图如下\">#</a> 据，回答的是每一个分类中 “有多少？” 这个问题。 示例图如下：</h5>\n<h5 id=\"柱状图应用场景\"><a class=\"anchor\" href=\"#柱状图应用场景\">#</a> 柱状图应用场景：</h5>\n<h5 id=\"1-适用于分类数据对比\"><a class=\"anchor\" href=\"#1-适用于分类数据对比\">#</a> 1. 适用于分类数据对比。</h5>\n<h5 id=\"2-垂直条形图最多不超过-12-个分类也就是-12-个柱形横向条形图最多不超过-30-个分类-如\"><a class=\"anchor\" href=\"#2-垂直条形图最多不超过-12-个分类也就是-12-个柱形横向条形图最多不超过-30-个分类-如\">#</a> 2. 垂直条形图最多不超过 12 个分类（也就是 12 个柱形），横向条形图最多不超过 30 个分类。如</h5>\n<h5 id=\"果垂直条形图的分类名太长那么建议换成横向条形图\"><a class=\"anchor\" href=\"#果垂直条形图的分类名太长那么建议换成横向条形图\">#</a> 果垂直条形图的分类名太长，那么建议换成横向条形图。</h5>\n<h5 id=\"3-柱状图不适合表示趋势如果想要表示趋势应该使用折线图\"><a class=\"anchor\" href=\"#3-柱状图不适合表示趋势如果想要表示趋势应该使用折线图\">#</a> 3. 柱状图不适合表示趋势，如果想要表示趋势，应该使用折线图。</h5>\n<h2 id=\"直方图\"><a class=\"anchor\" href=\"#直方图\">#</a> 直方图：</h2>\n<h5 id=\"直方图histogram又称质量分布图是一种统计报告图由一系列高度不等的条纹表示数据分\"><a class=\"anchor\" href=\"#直方图histogram又称质量分布图是一种统计报告图由一系列高度不等的条纹表示数据分\">#</a> 直方图 (Histogram)，又称质量分布图，是一种统计报告图，由一系列高度不等的条纹表示数据分</h5>\n<h5 id=\"布的情况-一般用横轴表示数据类型纵轴表示分布情况\"><a class=\"anchor\" href=\"#布的情况-一般用横轴表示数据类型纵轴表示分布情况\">#</a> 布的情况。一般用横轴表示数据类型，纵轴表示分布情况。</h5>\n<h5 id=\"直方图是数值数据分布的精确图形表示-为了构建直方图第一步是将值的范围分段即将整个值\"><a class=\"anchor\" href=\"#直方图是数值数据分布的精确图形表示-为了构建直方图第一步是将值的范围分段即将整个值\">#</a> 直方图是数值数据分布的精确图形表示。为了构建直方图，第一步是将值的范围分段，即将整个值</h5>\n<h5 id=\"的范围分成一系列间隔然后计算每个间隔中有多少值-这些值通常被指定为连续的不重叠的变\"><a class=\"anchor\" href=\"#的范围分成一系列间隔然后计算每个间隔中有多少值-这些值通常被指定为连续的不重叠的变\">#</a> 的范围分成一系列间隔，然后计算每个间隔中有多少值。这些值通常被指定为连续的，不重叠的变</h5>\n<h5 id=\"量间隔-间隔必须相邻并且通常是但不是必须的相等的大小\"><a class=\"anchor\" href=\"#量间隔-间隔必须相邻并且通常是但不是必须的相等的大小\">#</a> 量间隔。间隔必须相邻，并且通常是（但不是必须的）相等的大小。</h5>\n<h5 id=\"直方图的应用场景\"><a class=\"anchor\" href=\"#直方图的应用场景\">#</a> 直方图的应用场景：</h5>\n<h5 id=\"1-显示各组数据数量分布的情况\"><a class=\"anchor\" href=\"#1-显示各组数据数量分布的情况\">#</a> 1. 显示各组数据数量分布的情况。</h5>\n<h5 id=\"2-用于观察异常或孤立数据\"><a class=\"anchor\" href=\"#2-用于观察异常或孤立数据\">#</a> 2. 用于观察异常或孤立数据。</h5>\n<h5 id=\"3-抽取的样本数量过小将会产生较大误差可信度低也就失去了统计的意义-因此样本数\"><a class=\"anchor\" href=\"#3-抽取的样本数量过小将会产生较大误差可信度低也就失去了统计的意义-因此样本数\">#</a> 3. 抽取的样本数量过小，将会产生较大误差，可信度低，也就失去了统计的意义。因此，样本数</h5>\n<h5 id=\"不应少于-50-个\"><a class=\"anchor\" href=\"#不应少于-50-个\">#</a> 不应少于 50 个。</h5>\n<h2 id=\"散点图\"><a class=\"anchor\" href=\"#散点图\">#</a> 散点图：</h2>\n<h5 id=\"散点图也叫-x-y-图它将所有的数据以点的形式展现在直角坐标系上以显示变量之间的相互影\"><a class=\"anchor\" href=\"#散点图也叫-x-y-图它将所有的数据以点的形式展现在直角坐标系上以显示变量之间的相互影\">#</a> 散点图也叫 X-Y 图，它将所有的数据以点的形式展现在直角坐标系上，以显示变量之间的相互影</h5>\n<h5 id=\"响程度点的位置由变量的数值决定\"><a class=\"anchor\" href=\"#响程度点的位置由变量的数值决定\">#</a> 响程度，点的位置由变量的数值决定。</h5>\n<h5 id=\"通过观察散点图上数据点的分布情况我们可以推断出变量间的相关性-如果变量之间不存在相互\"><a class=\"anchor\" href=\"#通过观察散点图上数据点的分布情况我们可以推断出变量间的相关性-如果变量之间不存在相互\">#</a> 通过观察散点图上数据点的分布情况，我们可以推断出变量间的相关性。如果变量之间不存在相互</h5>\n<h5 id=\"关系那么在散点图上就会表现为随机分布的离散的点如果存在某种相关性那么大部分的数据\"><a class=\"anchor\" href=\"#关系那么在散点图上就会表现为随机分布的离散的点如果存在某种相关性那么大部分的数据\">#</a> 关系，那么在散点图上就会表现为随机分布的离散的点，如果存在某种相关性，那么大部分的数据</h5>\n<h5 id=\"点就会相对密集并以某种趋势呈现-数据的相关关系主要分为正相关两个变量值同时增长\"><a class=\"anchor\" href=\"#点就会相对密集并以某种趋势呈现-数据的相关关系主要分为正相关两个变量值同时增长\">#</a> 点就会相对密集并以某种趋势呈现。数据的相关关系主要分为：正相关（两个变量值同时增长）、</h5>\n<h5 id=\"负相关一个变量值增加另一个变量值下降-不相关-线性相关-指数相关等表现在散点图上\"><a class=\"anchor\" href=\"#负相关一个变量值增加另一个变量值下降-不相关-线性相关-指数相关等表现在散点图上\">#</a> 负相关（一个变量值增加另一个变量值下降）、不相关、线性相关、指数相关等，表现在散点图上</h5>\n<h5 id=\"的大致分布如下图所示-那些离点集群较远的点我们称为离群点或者异常点\"><a class=\"anchor\" href=\"#的大致分布如下图所示-那些离点集群较远的点我们称为离群点或者异常点\">#</a> 的大致分布如下图所示。那些离点集群较远的点我们称为离群点或者异常点。</h5>\n<h5 id=\"示例图如下\"><a class=\"anchor\" href=\"#示例图如下\">#</a> 示例图如下：</h5>\n<h5 id=\"散点图的应用场景\"><a class=\"anchor\" href=\"#散点图的应用场景\">#</a> 散点图的应用场景：</h5>\n<h5 id=\"1-观察数据集的分布情况\"><a class=\"anchor\" href=\"#1-观察数据集的分布情况\">#</a> 1. 观察数据集的分布情况。</h5>\n<h5 id=\"2-通过分析规律根据样本数据特征计算出回归方程\"><a class=\"anchor\" href=\"#2-通过分析规律根据样本数据特征计算出回归方程\">#</a> 2. 通过分析规律，根据样本数据特征计算出回归方程。</h5>\n<h2 id=\"饼状图\"><a class=\"anchor\" href=\"#饼状图\">#</a> 饼状图：</h2>\n<h5 id=\"饼状图通常用来描述量-频率和百分比之间的关系-在饼图中每个扇区的弧长大小为其所表示的\"><a class=\"anchor\" href=\"#饼状图通常用来描述量-频率和百分比之间的关系-在饼图中每个扇区的弧长大小为其所表示的\">#</a> 饼状图通常用来描述量、频率和百分比之间的关系。在饼图中，每个扇区的弧长大小为其所表示的</h5>\n<h5 id=\"数量的比例\"><a class=\"anchor\" href=\"#数量的比例\">#</a> 数量的比例。</h5>\n<h5 id=\"饼状图的应用场景\"><a class=\"anchor\" href=\"#饼状图的应用场景\">#</a> 饼状图的应用场景：</h5>\n<h5 id=\"1-展示多个分类的占比情况分类数量建议不超过-9-个\"><a class=\"anchor\" href=\"#1-展示多个分类的占比情况分类数量建议不超过-9-个\">#</a> 1. 展示多个分类的占比情况，分类数量建议不超过 9 个。</h5>\n<h5 id=\"2-对于一些占比值非常接近的不建议使用饼状图可以使用柱状图\"><a class=\"anchor\" href=\"#2-对于一些占比值非常接近的不建议使用饼状图可以使用柱状图\">#</a> 2. 对于一些占比值非常接近的，不建议使用饼状图，可以使用柱状图。</h5>\n<h2 id=\"箱线图\"><a class=\"anchor\" href=\"#箱线图\">#</a> 箱线图：</h2>\n<h5 id=\"箱线图box-plot又称为盒须图-盒式图或箱型图是一种用作显示一组数据分散情况资料的统\"><a class=\"anchor\" href=\"#箱线图box-plot又称为盒须图-盒式图或箱型图是一种用作显示一组数据分散情况资料的统\">#</a> 箱线图（Box-plot）又称为盒须图、盒式图或箱型图，是一种用作显示一组数据分散情况资料的统</h5>\n<h5 id=\"计图-因形状如箱子而得名-在各种领域也经常被使用它主要用于反映原始数据分布的特征还\"><a class=\"anchor\" href=\"#计图-因形状如箱子而得名-在各种领域也经常被使用它主要用于反映原始数据分布的特征还\">#</a> 计图。因形状如箱子而得名。在各种领域也经常被使用，它主要用于反映原始数据分布的特征，还</h5>\n<h5 id=\"可以进行多组数据分布特征的比较-箱线图的绘制方法是先找出一组数据的上限值-下限值\"><a class=\"anchor\" href=\"#可以进行多组数据分布特征的比较-箱线图的绘制方法是先找出一组数据的上限值-下限值\">#</a> 可以进行多组数据分布特征的比较。箱线图的绘制方法是：先找出一组数据的上限值、下限值、</h5>\n<h5 id=\"中位数-q2-和下四分位数-q1-以及上四分位数-q3-然后连接两个四分位数画出箱\"><a class=\"anchor\" href=\"#中位数-q2-和下四分位数-q1-以及上四分位数-q3-然后连接两个四分位数画出箱\">#</a> 中位数（ Q2 ）和下四分位数（ Q1 ）以及上四分位数（ Q3 ）；然后，连接两个四分位数画出箱</h5>\n<h5 id=\"子再将最大值和最小值与箱子相连接中位数在箱子中间\"><a class=\"anchor\" href=\"#子再将最大值和最小值与箱子相连接中位数在箱子中间\">#</a> 子；再将最大值和最小值与箱子相连接，中位数在箱子中间。</h5>\n<h5 id=\"四分位数quartile也称四分位点是指在统计学中把所有数值由小到大排列并分成四等\"><a class=\"anchor\" href=\"#四分位数quartile也称四分位点是指在统计学中把所有数值由小到大排列并分成四等\">#</a> 四分位数（Quartile）也称四分位点，是指在统计学中把所有数值由小到大排列并分成四等</h5>\n<h5 id=\"份处于三个分割点位置的数值-多应用于统计学中的箱线图绘制-它是一组数据排序后处\"><a class=\"anchor\" href=\"#份处于三个分割点位置的数值-多应用于统计学中的箱线图绘制-它是一组数据排序后处\">#</a> 份，处于三个分割点位置的数值。多应用于统计学中的箱线图绘制。它是一组数据排序后处</h5>\n<h5 id=\"于25和75位置上的值-四分位数是通过-3-个点将全部数据等分为-4-部分其中每部分包含\"><a class=\"anchor\" href=\"#于25和75位置上的值-四分位数是通过-3-个点将全部数据等分为-4-部分其中每部分包含\">#</a> 于 25% 和 75% 位置上的值。四分位数是通过 3 个点将全部数据等分为 4 部分，其中每部分包含</h5>\n<h5 id=\"25的数据-很显然中间的四分位数就是中位数因此通常所说的四分位数是指处在25\"><a class=\"anchor\" href=\"#25的数据-很显然中间的四分位数就是中位数因此通常所说的四分位数是指处在25\">#</a> 25% 的数据。很显然，中间的四分位数就是中位数，因此通常所说的四分位数是指处在 25%</h5>\n<h5 id=\"位置上的数值称为下四分位数和处在75位置上的数值称为上四分位数-与中位数\"><a class=\"anchor\" href=\"#位置上的数值称为下四分位数和处在75位置上的数值称为上四分位数-与中位数\">#</a> 位置上的数值（称为下四分位数）和处在 75% 位置上的数值（称为上四分位数）。与中位数</h5>\n<h5 id=\"的计算方法类似根据未分组数据计算四分位数时首先对数据进行排序然后确定四分位\"><a class=\"anchor\" href=\"#的计算方法类似根据未分组数据计算四分位数时首先对数据进行排序然后确定四分位\">#</a> 的计算方法类似，根据未分组数据计算四分位数时，首先对数据进行排序，然后确定四分位</h5>\n<h5 id=\"数所在的位置该位置上的数值就是四分位数-与中位数不同的是四分位数位置的确定方\"><a class=\"anchor\" href=\"#数所在的位置该位置上的数值就是四分位数-与中位数不同的是四分位数位置的确定方\">#</a> 数所在的位置，该位置上的数值就是四分位数。与中位数不同的是，四分位数位置的确定方</h5>\n<h5 id=\"法有几种每种方法得到的结果会有一定差异但差异不会很大\"><a class=\"anchor\" href=\"#法有几种每种方法得到的结果会有一定差异但差异不会很大\">#</a> 法有几种，每种方法得到的结果会有一定差异，但差异不会很大。</h5>\n<h5 id=\"上限的计算规则是\"><a class=\"anchor\" href=\"#上限的计算规则是\">#</a> 上限的计算规则是：</h5>\n<h5 id=\"iqrq3-q1\"><a class=\"anchor\" href=\"#iqrq3-q1\">#</a> IQR=Q3-Q1</h5>\n<h5 id=\"上限q315iqr\"><a class=\"anchor\" href=\"#上限q315iqr\">#</a> 上限 = Q3+1.5IQR</h5>\n<h5 id=\"下限q1-15iqr\"><a class=\"anchor\" href=\"#下限q1-15iqr\">#</a> 下限 = Q1-1.5IQR</h5>\n<h5 id=\"箱线图的应用场景\"><a class=\"anchor\" href=\"#箱线图的应用场景\">#</a> 箱线图的应用场景：</h5>\n<h5 id=\"1-直观明了地识别数据中的异常值\"><a class=\"anchor\" href=\"#1-直观明了地识别数据中的异常值\">#</a> 1. 直观明了地识别数据中的异常值。</h5>\n<h5 id=\"2-利用箱线图判断数据的偏态\"><a class=\"anchor\" href=\"#2-利用箱线图判断数据的偏态\">#</a> 2. 利用箱线图判断数据的偏态。</h5>\n<h5 id=\"3-利用箱线图比较几批数据的形状\"><a class=\"anchor\" href=\"#3-利用箱线图比较几批数据的形状\">#</a> 3. 利用箱线图比较几批数据的形状。</h5>\n<h5 id=\"4-箱线图适合比较多组数据如果知识要看一组数据的分布情况建议使用直方图\"><a class=\"anchor\" href=\"#4-箱线图适合比较多组数据如果知识要看一组数据的分布情况建议使用直方图\">#</a> 4. 箱线图适合比较多组数据，如果知识要看一组数据的分布情况，建议使用直方图。</h5>\n<h2 id=\"更多参考\"><a class=\"anchor\" href=\"#更多参考\">#</a> 更多参考：</h2>\n<h5 id=\"httpsantvisgithubiovisdocchartclassifycomparehtml\"><a class=\"anchor\" href=\"#httpsantvisgithubiovisdocchartclassifycomparehtml\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9hbnR2aXMuZ2l0aHViLmlvL3Zpcy9kb2MvY2hhcnQvY2xhc3NpZnkvY29tcGFyZS5odG1s\">https://antvis.github.io/vis/doc/chart/classify/compare.html</span></h5>\n<h1 id=\"matplotlib-库\"><a class=\"anchor\" href=\"#matplotlib-库\">#</a> Matplotlib 库</h1>\n<h5 id=\"matplotlib-是一个-python-的-2d-绘图库通过-matplotlib-开发者可以仅需要几行代码便可\"><a class=\"anchor\" href=\"#matplotlib-是一个-python-的-2d-绘图库通过-matplotlib-开发者可以仅需要几行代码便可\">#</a> Matplotlib 是一个 Python 的 2D 绘图库，通过 Matplotlib ，开发者可以仅需要几行代码，便可</h5>\n<h5 id=\"以生成折线图直方图条形图饼状图散点图等\"><a class=\"anchor\" href=\"#以生成折线图直方图条形图饼状图散点图等\">#</a> 以生成折线图，直方图，条形图，饼状图，散点图等。</h5>\n<h2 id=\"安装-3\"><a class=\"anchor\" href=\"#安装-3\">#</a> 安装：</h2>\n<h5 id=\"如果是用-anaconda-可以通过-conda-install-matplotlib-或者通过-pip-install-matplotlib-进\"><a class=\"anchor\" href=\"#如果是用-anaconda-可以通过-conda-install-matplotlib-或者通过-pip-install-matplotlib-进\">#</a> 如果是用 Anaconda ，可以通过 conda install matplotlib 或者通过 pip install matplotlib 进</h5>\n<h5 id=\"行安装\"><a class=\"anchor\" href=\"#行安装\">#</a> 行安装。</h5>\n<h2 id=\"基本使用\"><a class=\"anchor\" href=\"#基本使用\">#</a> 基本使用：</h2>\n<h5 id=\"首先先看以下例子\"><a class=\"anchor\" href=\"#首先先看以下例子\">#</a> 首先先看以下例子：</h5>\n<figure class=\"highlight elm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> matplotlib.pyplot <span class=\"keyword\">as</span> plt</span><br><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"><span class=\"title\">plt</span>.plot(range( <span class=\"number\">10</span> ),[np.random.randint( <span class=\"number\">0</span> , <span class=\"number\">10</span> ) for x <span class=\"keyword\">in</span> range( <span class=\"number\">10</span> )])</span><br></pre></td></tr></table></figure>\n<h5 id=\"那么就会出现以下图\"><a class=\"anchor\" href=\"#那么就会出现以下图\">#</a> 那么就会出现以下图：</h5>\n<h5 id=\"其中-plot-是一个画图的函数他的参数为-plotxyfmtdatanonekwargs-其\"><a class=\"anchor\" href=\"#其中-plot-是一个画图的函数他的参数为-plotxyfmtdatanonekwargs-其\">#</a> 其中 plot 是一个画图的函数，他的参数为 plot ([x],y,[fmt],data=None,**kwargs) 。其</h5>\n<h5 id=\"中-fmt-可以传一个字符串用来给这个图做一些样式修改的-默认的绘制样式是-b-也就是蓝\"><a class=\"anchor\" href=\"#中-fmt-可以传一个字符串用来给这个图做一些样式修改的-默认的绘制样式是-b-也就是蓝\">#</a> 中 fmt 可以传一个字符串，用来给这个图做一些样式修改的。默认的绘制样式是 b- ，也就是蓝</h5>\n<h5 id=\"色实体线条-比如我想将原来的图的线条改成点状那么可以通过以下代码实现\"><a class=\"anchor\" href=\"#色实体线条-比如我想将原来的图的线条改成点状那么可以通过以下代码实现\">#</a> 色实体线条。比如我想将原来的图的线条改成点状，那么可以通过以下代码实现：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">import</span> matplotlib.pyplot as plt</span><br><span class=\"line\"><span class=\"attribute\">plt</span>.plot(range( <span class=\"number\">10</span> ),[np.random.randint( <span class=\"number\">0</span> , <span class=\"number\">10</span> ) for x in range( <span class=\"number\">10</span> )],<span class=\"string\">&quot;:&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"其中使用-代表点线是-matplotlib-的一个缩写-这些缩写还有以下的\"><a class=\"anchor\" href=\"#其中使用-代表点线是-matplotlib-的一个缩写-这些缩写还有以下的\">#</a> 其中使用：代表点线，是 matplotlib 的一个缩写。这些缩写还有以下的：</h5>\n<h5 id=\"字符-类型-字符-类型\"><a class=\"anchor\" href=\"#字符-类型-字符-类型\">#</a> 字符 类型 字符 类型</h5>\n<h5 id=\"-实线-虚线\"><a class=\"anchor\" href=\"#-实线-虚线\">#</a> ‘-’ 实线 ‘–’ 虚线</h5>\n<h5 id=\"-虚点线-点线\"><a class=\"anchor\" href=\"#-虚点线-点线\">#</a> ‘-.’ 虚点线 ‘:’ 点线</h5>\n<h5 id=\"点-像素点\"><a class=\"anchor\" href=\"#点-像素点\">#</a> ‘.’ 点 ‘,’ 像素点</h5>\n<h5 id=\"o-圆点-v-下三角点\"><a class=\"anchor\" href=\"#o-圆点-v-下三角点\">#</a> ‘o’ 圆点 ‘v’ 下三角点</h5>\n<h5 id=\"上三角点-左三角点\"><a class=\"anchor\" href=\"#上三角点-左三角点\">#</a> ‘^’ 上三角点 ‘&lt;’ 左三角点</h5>\n<h5 id=\"右三角点-1-下三叉点\"><a class=\"anchor\" href=\"#右三角点-1-下三叉点\">#</a> ‘&gt;’ 右三角点 ‘1’ 下三叉点</h5>\n<h5 id=\"2-上三叉点-3-左三叉点\"><a class=\"anchor\" href=\"#2-上三叉点-3-左三叉点\">#</a> ‘2’ 上三叉点 ‘3’ 左三叉点</h5>\n<h5 id=\"4-右三叉点-s-正方点\"><a class=\"anchor\" href=\"#4-右三叉点-s-正方点\">#</a> ‘4’ 右三叉点 ‘s’ 正方点</h5>\n<h5 id=\"p-五角点-星形点\"><a class=\"anchor\" href=\"#p-五角点-星形点\">#</a> ‘p’ 五角点 ‘*’ 星形点</h5>\n<h5 id=\"h-六边形点-1-h-六边形点-2\"><a class=\"anchor\" href=\"#h-六边形点-1-h-六边形点-2\">#</a> ‘h’ 六边形点 1 ‘H’ 六边形点 2</h5>\n<h5 id=\"加号点-x-乘号点\"><a class=\"anchor\" href=\"#加号点-x-乘号点\">#</a> ‘+’ 加号点 ‘x’ 乘号点</h5>\n<h5 id=\"d-实心菱形点-d-瘦菱形点\"><a class=\"anchor\" href=\"#d-实心菱形点-d-瘦菱形点\">#</a> ‘D’ 实心菱形点 ‘d’ 瘦菱形点</h5>\n<h5 id=\"_-横线点\"><a class=\"anchor\" href=\"#_-横线点\">#</a> ‘_’ 横线点</h5>\n<h5 id=\"除了设置线条的形状外我们还可以设置点的颜色-示例代码如下\"><a class=\"anchor\" href=\"#除了设置线条的形状外我们还可以设置点的颜色-示例代码如下\">#</a> 除了设置线条的形状外，我们还可以设置点的颜色。示例代码如下：</h5>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plt.plot([<span class=\"number\"> 1 </span>,<span class=\"number\"> 2 </span>,<span class=\"number\"> 3 </span>,<span class=\"number\"> 4 </span>,<span class=\"number\"> 5 </span>],[<span class=\"number\"> 1 </span>,<span class=\"number\"> 2 </span>,<span class=\"number\"> 3 </span>,<span class=\"number\"> 4 </span>,<span class=\"number\"> 5 </span>],&#x27;r&#x27;) <span class=\"comment\">#将颜色线条设置成红色</span></span><br><span class=\"line\">plt.plot([<span class=\"number\"> 1 </span>,<span class=\"number\"> 2 </span>,<span class=\"number\"> 3 </span>,<span class=\"number\"> 4 </span>,<span class=\"number\"> 5 </span>],[<span class=\"number\"> 1 </span>,<span class=\"number\"> 2 </span>,<span class=\"number\"> 3 </span>,<span class=\"number\"> 4 </span>,<span class=\"number\"> 5 </span>],color=&#x27;red&#x27;) <span class=\"comment\">#将颜色设置成红色</span></span><br><span class=\"line\">plt.plot([<span class=\"number\"> 1 </span>,<span class=\"number\"> 2 </span>,<span class=\"number\"> 3 </span>,<span class=\"number\"> 4 </span>,<span class=\"number\"> 5 </span>],[<span class=\"number\"> 1 </span>,<span class=\"number\"> 2 </span>,<span class=\"number\"> 3 </span>,<span class=\"number\"> 4 </span>,<span class=\"number\"> 5 </span>],color=&#x27;<span class=\"comment\">#000000&#x27;) #将颜色设置成纯黑色</span></span><br><span class=\"line\">plt.plot([<span class=\"number\"> 1 </span>,<span class=\"number\"> 2 </span>,<span class=\"number\"> 3 </span>,<span class=\"number\"> 4 </span>,<span class=\"number\"> 5 </span>],[<span class=\"number\"> 1 </span>,<span class=\"number\"> 2 </span>,<span class=\"number\"> 3 </span>,<span class=\"number\"> 4 </span>,<span class=\"number\"> 5 </span>],color=(<span class=\"number\"> 0 </span>,<span class=\"number\"> 0 </span>,<span class=\"number\"> 0 </span>,<span class=\"number\"> 0 </span>)) <span class=\"comment\">#将颜色设置成纯黑色</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"给线条设置颜色总体来说有三种方式第一种是使用颜色名称-r-是-red-的缩写的形式第二\"><a class=\"anchor\" href=\"#给线条设置颜色总体来说有三种方式第一种是使用颜色名称-r-是-red-的缩写的形式第二\">#</a> 给线条设置颜色总体来说有三种方式，第一种是使用颜色名称（ r 是 red 的缩写）的形式，第二</h5>\n<h5 id=\"种是使用十六进制的方式第三种是使用-rgb-或-rgba-的方式-如果使用的是颜色名称那么可\"><a class=\"anchor\" href=\"#种是使用十六进制的方式第三种是使用-rgb-或-rgba-的方式-如果使用的是颜色名称那么可\">#</a> 种是使用十六进制的方式，第三种是使用 RGB 或 RGBA 的方式。如果使用的是颜色名称，那么可</h5>\n<h5 id=\"以和线的形状写在同一个字符串中-比如使用红色的五角点那么可以使用如下的方式实现\"><a class=\"anchor\" href=\"#以和线的形状写在同一个字符串中-比如使用红色的五角点那么可以使用如下的方式实现\">#</a> 以和线的形状写在同一个字符串中。比如使用红色的五角点，那么可以使用如下的方式实现：</h5>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plt.plot([<span class=\"number\"> 1 </span>,<span class=\"number\"> 2 </span>,<span class=\"number\"> 3 </span>,<span class=\"number\"> 4 </span>,<span class=\"number\"> 5 </span>],[<span class=\"number\"> 1 </span>,<span class=\"number\"> 2 </span>,<span class=\"number\"> 3 </span>,<span class=\"number\"> 4 </span>,<span class=\"number\"> 5 </span>],&#x27;rp&#x27;) <span class=\"comment\">#将颜色线条设置成红色</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"其中可以表示颜色的缩写字符有如下\"><a class=\"anchor\" href=\"#其中可以表示颜色的缩写字符有如下\">#</a> 其中可以表示颜色的缩写字符有如下：</h5>\n<h5 id=\"字符-颜色\"><a class=\"anchor\" href=\"#字符-颜色\">#</a> 字符 颜色</h5>\n<h5 id=\"b-蓝色blue\"><a class=\"anchor\" href=\"#b-蓝色blue\">#</a> ‘b’ 蓝色，blue</h5>\n<h5 id=\"g-绿色green\"><a class=\"anchor\" href=\"#g-绿色green\">#</a> ‘g’ 绿色，green</h5>\n<h5 id=\"r-红色red\"><a class=\"anchor\" href=\"#r-红色red\">#</a> ‘r’ 红色，red</h5>\n<h5 id=\"c-青色cyan\"><a class=\"anchor\" href=\"#c-青色cyan\">#</a> ‘c’ 青色，cyan</h5>\n<h5 id=\"m-品红magenta\"><a class=\"anchor\" href=\"#m-品红magenta\">#</a> ‘m’ 品红，magenta</h5>\n<h5 id=\"y-黄色yellow\"><a class=\"anchor\" href=\"#y-黄色yellow\">#</a> ‘y’ 黄色，yellow</h5>\n<h5 id=\"k-黑色black\"><a class=\"anchor\" href=\"#k-黑色black\">#</a> ‘k’ 黑色，black</h5>\n<h5 id=\"w-白色white\"><a class=\"anchor\" href=\"#w-白色white\">#</a> ‘w’ 白色，white</h5>\n<h2 id=\"设置图的信息\"><a class=\"anchor\" href=\"#设置图的信息\">#</a> 设置图的信息：</h2>\n<h5 id=\"现在我们添加图后没有指定x轴代表什么y轴代表什么以及这个图的标题是什么-因此以下我\"><a class=\"anchor\" href=\"#现在我们添加图后没有指定x轴代表什么y轴代表什么以及这个图的标题是什么-因此以下我\">#</a> 现在我们添加图后，没有指定 x 轴代表什么，y 轴代表什么，以及这个图的标题是什么。因此以下我</h5>\n<h5 id=\"们通过一些属性来设置一下\"><a class=\"anchor\" href=\"#们通过一些属性来设置一下\">#</a> 们通过一些属性来设置一下。</h5>\n<h3 id=\"设置线条样式\"><a class=\"anchor\" href=\"#设置线条样式\">#</a> 设置线条样式：</h3>\n<h5 id=\"1-使用-plot-方法-plot-方法就是用来绘制线条的因此可以在绘制的时候就把线条相关的样\"><a class=\"anchor\" href=\"#1-使用-plot-方法-plot-方法就是用来绘制线条的因此可以在绘制的时候就把线条相关的样\">#</a> 1. 使用 plot 方法： plot 方法就是用来绘制线条的，因此可以在绘制的时候就把线条相关的样</h5>\n<h5 id=\"式通过参数传进去-示例代码如下\"><a class=\"anchor\" href=\"#式通过参数传进去-示例代码如下\">#</a> 式通过参数传进去。示例代码如下：</h5>\n<figure class=\"highlight gml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plt.plot(<span class=\"variable language_\">x</span>,<span class=\"variable language_\">y</span>,linewidth= <span class=\"number\">2</span> )</span><br></pre></td></tr></table></figure>\n<h5 id=\"2-通过-line2d-对象来设置-plot-方法会返回一个装有-line2d-对象的列表比\"><a class=\"anchor\" href=\"#2-通过-line2d-对象来设置-plot-方法会返回一个装有-line2d-对象的列表比\">#</a> 2. 通过 Line2D 对象来设置： plot 方法会返回一个装有 Line2D 对象的列表，比</h5>\n<h5 id=\"如-linespltplotx1y1x2y2-因为绘制了两根线条因此-lines-中会有两个-2d-对象-而\"><a class=\"anchor\" href=\"#如-linespltplotx1y1x2y2-因为绘制了两根线条因此-lines-中会有两个-2d-对象-而\">#</a> 如 lines=plt.plot (x1,y1,x2,y2) 因为绘制了两根线条，因此 lines 中会有两个 2D 对象。而</h5>\n<h5 id=\"如果-plot-只绘制一根线条那么-lines-中就只有一个-line2d-对象-拿到这个-line2d-对象\"><a class=\"anchor\" href=\"#如果-plot-只绘制一根线条那么-lines-中就只有一个-line2d-对象-拿到这个-line2d-对象\">#</a> 如果 plot 只绘制一根线条，那么 lines 中就只有一个 Line2D 对象。拿到这个 Line2D 对象</h5>\n<h5 id=\"后就可以通过-set_属性名-设置线条的样式了\"><a class=\"anchor\" href=\"#后就可以通过-set_属性名-设置线条的样式了\">#</a> 后就可以通过 set_属性名 设置线条的样式了：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lines = plt<span class=\"selector-class\">.plot</span>(<span class=\"attribute\">x</span>,y)</span><br><span class=\"line\"><span class=\"selector-tag\">line</span> = lines<span class=\"selector-attr\">[ 0 ]</span></span><br><span class=\"line\"><span class=\"selector-tag\">line</span><span class=\"selector-class\">.set_aa</span>(False) #关掉反锯齿</span><br><span class=\"line\"><span class=\"selector-tag\">line</span><span class=\"selector-class\">.set_alpha</span>(<span class=\"number\">0.5</span>) #设置<span class=\"number\">0.5</span>的透明度</span><br></pre></td></tr></table></figure>\n<h5 id=\"3-使用-pltsetp-来设置-setp-的好处是一次性可以设置多根线条的样式-示例代码如下\"><a class=\"anchor\" href=\"#3-使用-pltsetp-来设置-setp-的好处是一次性可以设置多根线条的样式-示例代码如下\">#</a> 3. 使用 plt.setp 来设置： setp 的好处是一次性可以设置多根线条的样式。示例代码如下：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">lines</span> = plt.plot(x,y)</span><br><span class=\"line\"><span class=\"attribute\">plt</span>.setp(lines,linewidth= <span class=\"number\">10</span> ,alpha=<span class=\"number\">0</span>.<span class=\"number\">5</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"4-更多-line2d-属性\"><a class=\"anchor\" href=\"#4-更多-line2d-属性\">#</a> 4. 更多 Line2D 属性：</h5>\n<h3 id=\"设置轴和标题\"><a class=\"anchor\" href=\"#设置轴和标题\">#</a> 设置轴和标题：</h3>\n<h5 id=\"1-设置轴名称可以通过-pltxlabel-和-pltylabel-来设置-x-轴和-y-轴的的名称-示例代码\"><a class=\"anchor\" href=\"#1-设置轴名称可以通过-pltxlabel-和-pltylabel-来设置-x-轴和-y-轴的的名称-示例代码\">#</a> 1. 设置轴名称：可以通过 plt.xlabel 和 plt.ylabel 来设置 x 轴和 y 轴的的名称。示例代码</h5>\n<h5 id=\"如下\"><a class=\"anchor\" href=\"#如下\">#</a> 如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plt<span class=\"selector-class\">.plot</span>(<span class=\"attribute\">x</span>,y,linewidth= <span class=\"number\">10</span> ,color=<span class=\"string\">&#x27;red&#x27;</span>)</span><br><span class=\"line\">plt<span class=\"selector-class\">.xlabel</span>(<span class=\"string\">&quot;x轴&quot;</span>)</span><br><span class=\"line\">plt<span class=\"selector-class\">.ylabel</span>(<span class=\"string\">&quot;y轴&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"默认情况下是显示不了中文的-需要设置字体-可以通过以下代码来实现\"><a class=\"anchor\" href=\"#默认情况下是显示不了中文的-需要设置字体-可以通过以下代码来实现\">#</a> 默认情况下是显示不了中文的。需要设置字体。可以通过以下代码来实现：</h5>\n<h6 id=\"加载字体\"><a class=\"anchor\" href=\"#加载字体\">#</a> # 加载字体</h6>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">font = font_manager.FontProperties(<span class=\"attribute\">fname</span>=<span class=\"string\">&quot;C:\\Windows\\Fonts\\msyh.ttc&quot;</span>)</span><br><span class=\"line\">plt.plot(x,y,linewidth= 10 ,<span class=\"attribute\">color</span>=<span class=\"string\">&#x27;red&#x27;</span>)</span><br><span class=\"line\">plt.xlabel(<span class=\"string\">&quot;x轴&quot;</span>,<span class=\"attribute\">fontproperties</span>=font)</span><br><span class=\"line\">plt.ylabel(<span class=\"string\">&quot;y轴&quot;</span>,<span class=\"attribute\">fontproperties</span>=font)</span><br></pre></td></tr></table></figure>\n<h5 id=\"加载字体的时候可以到-cwindowsfonts-中找你喜欢的并且可以显示中文的字体-找到字\"><a class=\"anchor\" href=\"#加载字体的时候可以到-cwindowsfonts-中找你喜欢的并且可以显示中文的字体-找到字\">#</a> 加载字体的时候，可以到 C:\\Windows\\Fonts 中找你喜欢的并且可以显示中文的字体。找到字</h5>\n<h5 id=\"体后还需要找到字体的真实名称-方法是右键-属性-安全-对象名称\"><a class=\"anchor\" href=\"#体后还需要找到字体的真实名称-方法是右键-属性-安全-对象名称\">#</a> 体后，还需要找到字体的真实名称。方法是右键 -&gt; 属性 -&gt; 安全 -&gt; 对象名称：</h5>\n<h5 id=\"2-设置标题可以通过-plttitle-方法来实现-示例代码如下\"><a class=\"anchor\" href=\"#2-设置标题可以通过-plttitle-方法来实现-示例代码如下\">#</a> 2. 设置标题：可以通过 plt.title 方法来实现。示例代码如下：</h5>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">font = font_manager.FontProperties(<span class=\"attribute\">fname</span>=<span class=\"string\">&quot;C:\\Windows\\Fonts\\msyh.ttc&quot;</span>)</span><br><span class=\"line\">plt.title(<span class=\"string\">&quot;sin函数&quot;</span>,<span class=\"attribute\">fontproperties</span>=font)</span><br></pre></td></tr></table></figure>\n<h5 id=\"3-设置-x-轴和-y-轴的刻度之前我们画的图-x-轴和-y-轴的刻度都是-matplotlib-自动生成\"><a class=\"anchor\" href=\"#3-设置-x-轴和-y-轴的刻度之前我们画的图-x-轴和-y-轴的刻度都是-matplotlib-自动生成\">#</a> 3. 设置 x 轴和 y 轴的刻度：之前我们画的图， x 轴和 y 轴的刻度都是 matplotlib 自动生成</h5>\n<h5 id=\"的-如果想要在生成图的时候手动的指定那么可以通过-pltxticks-和-pltyticks-来实\"><a class=\"anchor\" href=\"#的-如果想要在生成图的时候手动的指定那么可以通过-pltxticks-和-pltyticks-来实\">#</a> 的。如果想要在生成图的时候手动的指定，那么可以通过 plt.xticks 和 plt.yticks 来实</h5>\n<h5 id=\"现\"><a class=\"anchor\" href=\"#现\">#</a> 现：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">plt</span>.xticks(range( <span class=\"number\">0</span> , <span class=\"number\">20</span> , <span class=\"number\">2</span> )) #在x轴上的刻度是<span class=\"number\">0</span>,<span class=\"number\">2</span>,<span class=\"number\">4</span>,<span class=\"number\">6</span>...<span class=\"number\">20</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"以上会把那个刻度显示在-x-轴上-如果想要显示字符串类型那么可以再构造一个数组这\"><a class=\"anchor\" href=\"#以上会把那个刻度显示在-x-轴上-如果想要显示字符串类型那么可以再构造一个数组这\">#</a> 以上会把那个刻度显示在 x 轴上。如果想要显示字符串类型，那么可以再构造一个数组，这</h5>\n<h5 id=\"个数组的长度必须和-x-轴刻度的长度保持一致-然后传给-xticks-的第二个参数-示例代码\"><a class=\"anchor\" href=\"#个数组的长度必须和-x-轴刻度的长度保持一致-然后传给-xticks-的第二个参数-示例代码\">#</a> 个数组的长度必须和 x 轴刻度的长度保持一致。然后传给 xticks 的第二个参数。示例代码</h5>\n<h5 id=\"如下-2\"><a class=\"anchor\" href=\"#如下-2\">#</a> 如下：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">_x</span> = range( <span class=\"number\">0</span> , <span class=\"number\">20</span> , <span class=\"number\">2</span> )</span><br><span class=\"line\"><span class=\"attribute\">_xticks</span> =<span class=\"meta\"> [&quot;%d坐标&quot;%i for i in _x]</span></span><br><span class=\"line\"><span class=\"attribute\">plt</span>.xticks(_x,_xticks,fontproperties=font) #在x轴上的刻度是 <span class=\"number\">0</span> 坐标,<span class=\"number\">2</span>坐标...<span class=\"number\">20</span>坐标</span><br></pre></td></tr></table></figure>\n<h5 id=\"同样-y-轴的刻度设置也是一样的-示例代码如下\"><a class=\"anchor\" href=\"#同样-y-轴的刻度设置也是一样的-示例代码如下\">#</a> 同样 y 轴的刻度设置也是一样的。示例代码如下：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">_y</span> = np.arange(-<span class=\"number\">1</span>, <span class=\"number\">1</span> ,<span class=\"number\">0</span>.<span class=\"number\">25</span>)</span><br><span class=\"line\"><span class=\"attribute\">_yticks</span> =<span class=\"meta\"> [&quot;%.2f点&quot;%i for i in _y]</span></span><br><span class=\"line\"><span class=\"attribute\">plt</span>.yticks(_y,_yticks,fontproperties=font)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下\"><a class=\"anchor\" href=\"#效果图如下\">#</a> 效果图如下：</h5>\n<h5 id=\"复仇者联盟电影票房案例\"><a class=\"anchor\" href=\"#复仇者联盟电影票房案例\">#</a> 复仇者联盟电影票房案例：</h5>\n<figure class=\"highlight dns\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">avenger = [<span class=\"number\">17974.4</span>,<span class=\"number\">50918.4</span>,<span class=\"number\">30033.0</span>,<span class=\"number\">40329.1</span>,<span class=\"number\">52330.2</span>,<span class=\"number\">19833.3</span>,<span class=\"number\">11902.0</span>,<span class=\"number\">24322.6</span>,<span class=\"number\">47521.8</span>,</span><br><span class=\"line\"><span class=\"number\">32262.0</span>,<span class=\"number\">22841.9</span>,<span class=\"number\">12938.7</span>,<span class=\"number\">4835</span>.<span class=\"number\">1,3118.1</span>,<span class=\"number\">2570</span>.<span class=\"number\">9,2267.9</span>,<span class=\"number\">1902</span>.<span class=\"number\">8,2548.9</span>,<span class=\"number\">5046</span>.<span class=\"number\">6,3600.8</span>]</span><br><span class=\"line\">plt.figure(figsize=( <span class=\"number\">15</span> , <span class=\"number\">5</span> ))</span><br><span class=\"line\">plt.plot(avenger,marker=&quot;o&quot;)</span><br><span class=\"line\">font.set_size( <span class=\"number\">10</span> )</span><br><span class=\"line\">plt.xticks(range( <span class=\"number\">20</span> ),[&quot;第%d天&quot;%x for x in range( <span class=\"number\">1</span> , <span class=\"number\">21</span> )],fontproperties=font)</span><br><span class=\"line\">plt.xlabel(&quot;天数&quot;,fontproperties=font)</span><br><span class=\"line\">plt.ylabel(&quot;票房数(万)&quot;,fontproperties=font)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight gcode\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plt.grid<span class=\"comment\">()</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"设置-marker\"><a class=\"anchor\" href=\"#设置-marker\">#</a> 设置 marker ：</h3>\n<h5 id=\"有时候我们想要在一些关键点上重点标记出来-那么我们可以通过设置-marker-来实现-示例代\"><a class=\"anchor\" href=\"#有时候我们想要在一些关键点上重点标记出来-那么我们可以通过设置-marker-来实现-示例代\">#</a> 有时候，我们想要在一些关键点上重点标记出来。那么我们可以通过设置 marker 来实现。示例代</h5>\n<h5 id=\"码如下-2\"><a class=\"anchor\" href=\"#码如下-2\">#</a> 码如下：</h5>\n<figure class=\"highlight gml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">x</span> = np.linspace( <span class=\"number\">0</span> , <span class=\"number\">20</span> )</span><br><span class=\"line\"><span class=\"variable language_\">y</span> = np.<span class=\"built_in\">sin</span>(<span class=\"variable language_\">x</span>)</span><br><span class=\"line\">plt.plot(<span class=\"variable language_\">x</span>,<span class=\"variable language_\">y</span>,marker=<span class=\"string\">&quot;o&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"我们设置了-marker-为-o-这样就是会在-xy-的坐标点上显示出来并且显示的是圆点-其\"><a class=\"anchor\" href=\"#我们设置了-marker-为-o-这样就是会在-xy-的坐标点上显示出来并且显示的是圆点-其\">#</a> 我们设置了 marker 为 o ，这样就是会在 (x,y) 的坐标点上显示出来，并且显示的是圆点。其</h5>\n<h5 id=\"中-o-跟之前的线条样式的简写是一样的-另外还可以通过-markerfacecolor-属性\"><a class=\"anchor\" href=\"#中-o-跟之前的线条样式的简写是一样的-另外还可以通过-markerfacecolor-属性\">#</a> 中 o 跟之前的线条样式的简写是一样的。另外，还可以通过 markerfacecolor 属性</h5>\n<h5 id=\"和-markersize-来指定标记点的颜色和大小-示例代码如下\"><a class=\"anchor\" href=\"#和-markersize-来指定标记点的颜色和大小-示例代码如下\">#</a> 和 markersize 来指定标记点的颜色和大小。示例代码如下：</h5>\n<h6 id=\"以下设置标记点的颜色为黑色尺寸为-10\"><a class=\"anchor\" href=\"#以下设置标记点的颜色为黑色尺寸为-10\">#</a> # 以下设置标记点的颜色为黑色，尺寸为 10</h6>\n<figure class=\"highlight gml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plt.plot(<span class=\"variable language_\">x</span>,<span class=\"variable language_\">y</span>,marker=<span class=\"string\">&quot;o&quot;</span>,markerfacecolor=<span class=\"string\">&#x27;k&#x27;</span>,markersize= <span class=\"number\">10</span> )</span><br></pre></td></tr></table></figure>\n<h3 id=\"设置注释文本\"><a class=\"anchor\" href=\"#设置注释文本\">#</a> 设置注释文本：</h3>\n<h5 id=\"有时候需要在图形中的某个点标记或者注释一下-那么我们可以使\"><a class=\"anchor\" href=\"#有时候需要在图形中的某个点标记或者注释一下-那么我们可以使\">#</a> 有时候需要在图形中的某个点标记或者注释一下。那么我们可以使</h5>\n<h5 id=\"用-pltannotatetextxyxytextarrowprops-来实现其中-text-是注释的文本-xy-是需要\"><a class=\"anchor\" href=\"#用-pltannotatetextxyxytextarrowprops-来实现其中-text-是注释的文本-xy-是需要\">#</a> 用 plt.annotate (text,xy,xytext,arrowprops={}) 来实现，其中 text 是注释的文本， xy 是需要</h5>\n<h5 id=\"注释的点的坐标-xytext-是注释文本的坐标-arrowprops-是箭头的样式属性-示例代码如下\"><a class=\"anchor\" href=\"#注释的点的坐标-xytext-是注释文本的坐标-arrowprops-是箭头的样式属性-示例代码如下\">#</a> 注释的点的坐标， xytext 是注释文本的坐标， arrowprops 是箭头的样式属性。示例代码如下：</h5>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">ax</span> <span class=\"operator\">=</span> plt.subplot( <span class=\"number\">111</span> )</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">x</span> = np.arange(<span class=\"number\">0</span>.<span class=\"number\">0</span>, <span class=\"number\">5</span>.<span class=\"number\">0</span>, <span class=\"number\">0</span>.<span class=\"number\">01</span>)</span><br><span class=\"line\"><span class=\"attribute\">y</span> = np.cos( <span class=\"number\">2</span> *np.pi*t)</span><br><span class=\"line\"><span class=\"attribute\">line</span>, = plt.plot(x, y,linewidth= <span class=\"number\">2</span> )</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plt<span class=\"selector-class\">.annotate</span>(<span class=\"string\">&#x27;local max&#x27;</span>, xy=( <span class=\"number\">2</span> , <span class=\"number\">1</span> ), xytext=( <span class=\"number\">3</span> , <span class=\"number\">1.5</span>),</span><br><span class=\"line\">arrowprops=<span class=\"built_in\">dict</span>(facecolor=<span class=\"string\">&#x27;black&#x27;</span>,shrink=<span class=\"number\">0.05</span>),</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">plt</span>.ylim(-<span class=\"number\">2</span>, <span class=\"number\">2</span> )</span><br><span class=\"line\"><span class=\"attribute\">plt</span>.show()</span><br></pre></td></tr></table></figure>\n<h3 id=\"设置图形样式\"><a class=\"anchor\" href=\"#设置图形样式\">#</a> 设置图形样式：</h3>\n<h5 id=\"如果想要调整图片的大小和像素可以通过-pltfigurenumnone-figsizenone-dpinone\"><a class=\"anchor\" href=\"#如果想要调整图片的大小和像素可以通过-pltfigurenumnone-figsizenone-dpinone\">#</a> 如果想要调整图片的大小和像素，可以通过 plt.figure (num=None, figsize=None, dpi=None,</h5>\n<h5 id=\"facecolornone-edgecolornone-frameontrue-来实现\"><a class=\"anchor\" href=\"#facecolornone-edgecolornone-frameontrue-来实现\">#</a> facecolor=None, edgecolor=None, frameon=True) 来实现。</h5>\n<h5 id=\"其中-num-是图的编号-figsize-的单位是英寸-dpi-是每英寸的像素点-facecolor-是图片背\"><a class=\"anchor\" href=\"#其中-num-是图的编号-figsize-的单位是英寸-dpi-是每英寸的像素点-facecolor-是图片背\">#</a> 其中 num 是图的编号， figsize 的单位是英寸， dpi 是每英寸的像素点， facecolor 是图片背</h5>\n<h5 id=\"景颜色-edgecolor-是边框颜色-frameon-代表是否绘制画板\"><a class=\"anchor\" href=\"#景颜色-edgecolor-是边框颜色-frameon-代表是否绘制画板\">#</a> 景颜色， edgecolor 是边框颜色， frameon 代表是否绘制画板。</h5>\n<h5 id=\"示例代码如下-2\"><a class=\"anchor\" href=\"#示例代码如下-2\">#</a> 示例代码如下：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">plt</span>.figure(figsize=( <span class=\"number\">20</span> , <span class=\"number\">8</span> ),dpi= <span class=\"number\">80</span> )</span><br><span class=\"line\"><span class=\"comment\"># 其他的绘制图形的代码</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"我们也可以使用-grid-方法来显示图片的网格\"><a class=\"anchor\" href=\"#我们也可以使用-grid-方法来显示图片的网格\">#</a> 我们也可以使用 grid 方法，来显示图片的网格：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plt<span class=\"selector-class\">.plot</span>(<span class=\"attribute\">x</span>,y,color=<span class=\"string\">&quot;r&quot;</span>)</span><br><span class=\"line\">plt<span class=\"selector-class\">.grid</span>()</span><br></pre></td></tr></table></figure>\n<h3 id=\"保存图片\"><a class=\"anchor\" href=\"#保存图片\">#</a> 保存图片：</h3>\n<h5 id=\"可以调用-pltsavefigpath-来保存当前的图片-示例代码如下\"><a class=\"anchor\" href=\"#可以调用-pltsavefigpath-来保存当前的图片-示例代码如下\">#</a> 可以调用 plt.savefig (path) 来保存当前的图片。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plt<span class=\"selector-class\">.savefig</span>(<span class=\"string\">&quot;./abc.png&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h2 id=\"绘制多个图\"><a class=\"anchor\" href=\"#绘制多个图\">#</a> 绘制多个图：</h2>\n<h5 id=\"绘制多个图有两种形式第一种形式是在一张图中绘制多跟线条第二种形式是绘制多个子图形\"><a class=\"anchor\" href=\"#绘制多个图有两种形式第一种形式是在一张图中绘制多跟线条第二种形式是绘制多个子图形\">#</a> 绘制多个图有两种形式，第一种形式是在一张图中绘制多跟线条，第二种形式是绘制多个子图形。</h5>\n<h5 id=\"以下分别进行讲解\"><a class=\"anchor\" href=\"#以下分别进行讲解\">#</a> 以下分别进行讲解。</h5>\n<h3 id=\"绘制多根折线\"><a class=\"anchor\" href=\"#绘制多根折线\">#</a> 绘制多根折线：</h3>\n<h5 id=\"绘制多根线条只要准备好坐标重新使用-pltplot-绘制即可-示例代码如下\"><a class=\"anchor\" href=\"#绘制多根线条只要准备好坐标重新使用-pltplot-绘制即可-示例代码如下\">#</a> 绘制多根线条，只要准备好坐标，重新使用 plt.plot 绘制即可。示例代码如下：</h5>\n<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">from matplotlib import font_manager</span><br><span class=\"line\">x = <span class=\"built_in\">np</span>.linspace( <span class=\"number\">0</span> , <span class=\"number\">20</span> )</span><br><span class=\"line\">y = <span class=\"built_in\">np</span>.<span class=\"built_in\">sin</span>(x)</span><br><span class=\"line\">z = <span class=\"built_in\">np</span>.<span class=\"built_in\">cos</span>(x)</span><br><span class=\"line\"><span class=\"built_in\">font</span> = font_manager.FontProperties(fname=<span class=\"string\">&quot;C:\\Windows\\Fonts\\msyh.ttc&quot;</span>)</span><br><span class=\"line\">plt.<span class=\"built_in\">xlabel</span>(<span class=\"string\">&quot;x轴&quot;</span>,fontproperties=<span class=\"built_in\">font</span>)</span><br><span class=\"line\">plt.<span class=\"built_in\">ylabel</span>(<span class=\"string\">&quot;y轴&quot;</span>,fontproperties=<span class=\"built_in\">font</span>)</span><br><span class=\"line\">_x = <span class=\"built_in\">range</span>( <span class=\"number\">0</span> , <span class=\"number\">20</span> , <span class=\"number\">2</span> )</span><br><span class=\"line\">_xticks = [<span class=\"string\">&quot;%s点&quot;</span><span class=\"literal\">%i</span> <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> _x]</span><br><span class=\"line\">plt.xticks(<span class=\"built_in\">range</span>( <span class=\"number\">0</span> , <span class=\"number\">20</span> , <span class=\"number\">2</span> ),_xticks,fontproperties=<span class=\"built_in\">font</span>,rotation= <span class=\"number\">45</span> )</span><br><span class=\"line\">_y = list(<span class=\"built_in\">np</span>.<span class=\"built_in\">range</span>(-<span class=\"number\">1</span>, <span class=\"number\">1</span> ,<span class=\"number\">0.25</span>))</span><br><span class=\"line\">_yticks = [<span class=\"string\">&quot;%.2f点&quot;</span><span class=\"literal\">%i</span> <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> _y]</span><br><span class=\"line\">plt.yticks(_y,_yticks,fontproperties=<span class=\"built_in\">font</span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plt<span class=\"selector-class\">.plot</span>(<span class=\"attribute\">x</span>,y)</span><br><span class=\"line\">plt<span class=\"selector-class\">.plot</span>(<span class=\"attribute\">x</span>,z)</span><br></pre></td></tr></table></figure>\n<h5 id=\"示例图如下-2\"><a class=\"anchor\" href=\"#示例图如下-2\">#</a> 示例图如下：</h5>\n<h3 id=\"绘制多个子图\"><a class=\"anchor\" href=\"#绘制多个子图\">#</a> 绘制多个子图：</h3>\n<h5 id=\"绘制子图的时候我们可以使用-pltsubplot-或-pltsubplots-来实现-示例代码如下\"><a class=\"anchor\" href=\"#绘制子图的时候我们可以使用-pltsubplot-或-pltsubplots-来实现-示例代码如下\">#</a> 绘制子图的时候，我们可以使用 plt.subplot 或 plt.subplots 来实现。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plt<span class=\"selector-class\">.subplot</span>( <span class=\"number\">221</span> )</span><br><span class=\"line\">plt<span class=\"selector-class\">.plot</span>(np<span class=\"selector-class\">.arange</span>( <span class=\"number\">10</span> ),c=<span class=\"string\">&#x27;r&#x27;</span>)</span><br><span class=\"line\">plt<span class=\"selector-class\">.subplot</span>( <span class=\"number\">222</span> )</span><br><span class=\"line\">plt<span class=\"selector-class\">.plot</span>(np<span class=\"selector-class\">.sin</span>(np<span class=\"selector-class\">.arange</span>( <span class=\"number\">10</span> )),c=<span class=\"string\">&#x27;b&#x27;</span>)</span><br><span class=\"line\">plt<span class=\"selector-class\">.subplot</span>( <span class=\"number\">223</span> )</span><br><span class=\"line\">plt<span class=\"selector-class\">.plot</span>(np<span class=\"selector-class\">.cos</span>(np<span class=\"selector-class\">.arange</span>( <span class=\"number\">10</span> )),c=<span class=\"string\">&#x27;y&#x27;</span>)</span><br><span class=\"line\">plt<span class=\"selector-class\">.subplot</span>( <span class=\"number\">224</span> )</span><br><span class=\"line\">plt<span class=\"selector-class\">.plot</span>(np<span class=\"selector-class\">.tan</span>(np<span class=\"selector-class\">.arange</span>( <span class=\"number\">10</span> )),c=<span class=\"string\">&#x27;g&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-2\"><a class=\"anchor\" href=\"#效果图如下-2\">#</a> 效果图如下：</h5>\n<h5 id=\"其中-subplot-中的-211-和-212-分别代表的意思是第一个数表示这个大图中总共有-2-行第二\"><a class=\"anchor\" href=\"#其中-subplot-中的-211-和-212-分别代表的意思是第一个数表示这个大图中总共有-2-行第二\">#</a> 其中 subplot 中的 211 和 212 分别代表的意思是，第一个数表示这个大图中总共有 2 行，第二</h5>\n<h5 id=\"个数表示总共有-1-列然后第三个数表示当前绘制第几个图\"><a class=\"anchor\" href=\"#个数表示总共有-1-列然后第三个数表示当前绘制第几个图\">#</a> 个数表示总共有 1 列，然后第三个数表示当前绘制第几个图。</h5>\n<h5 id=\"也可以使用-figaxspltsubplotsrowscolsargskwargs-来绘制多个图形返回值是一个元\"><a class=\"anchor\" href=\"#也可以使用-figaxspltsubplotsrowscolsargskwargs-来绘制多个图形返回值是一个元\">#</a> 也可以使用 fig,axs=plt.subplots (rows,cols,*args,**kwargs) 来绘制多个图形，返回值是一个元</h5>\n<h5 id=\"组其中的-fig-参数是-figure-对象-axs-是-axes-对象的-array-示例代码如下\"><a class=\"anchor\" href=\"#组其中的-fig-参数是-figure-对象-axs-是-axes-对象的-array-示例代码如下\">#</a> 组，其中的 fig 参数是 figure 对象， axs 是 axes 对象的 array 。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">figure</span>,axes = plt<span class=\"selector-class\">.subplots</span>( <span class=\"number\">2</span> , <span class=\"number\">2</span> )</span><br><span class=\"line\">axes<span class=\"selector-attr\">[ 0 , 0 ]</span><span class=\"selector-class\">.plot</span>(np<span class=\"selector-class\">.sin</span>(np<span class=\"selector-class\">.arange</span>( <span class=\"number\">10</span> )),c=<span class=\"string\">&#x27;r&#x27;</span>)</span><br><span class=\"line\">axes<span class=\"selector-attr\">[ 0 , 1 ]</span><span class=\"selector-class\">.plot</span>(np<span class=\"selector-class\">.cos</span>(np<span class=\"selector-class\">.arange</span>( <span class=\"number\">10</span> )),c=<span class=\"string\">&#x27;b&#x27;</span>)</span><br><span class=\"line\">axes<span class=\"selector-attr\">[ 1 , 0 ]</span><span class=\"selector-class\">.plot</span>(np<span class=\"selector-class\">.tan</span>(np<span class=\"selector-class\">.arange</span>( <span class=\"number\">10</span> )),c=<span class=\"string\">&#x27;y&#x27;</span>)</span><br><span class=\"line\">axes<span class=\"selector-attr\">[ 1 , 1 ]</span><span class=\"selector-class\">.plot</span>(np<span class=\"selector-class\">.arange</span>( <span class=\"number\">10</span> ),c=<span class=\"string\">&#x27;g&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图跟之前使用-pltsubplot-一样-另外使用-subplot-和-subplots-都可以传\"><a class=\"anchor\" href=\"#效果图跟之前使用-pltsubplot-一样-另外使用-subplot-和-subplots-都可以传\">#</a> 效果图跟之前使用 plt.subplot 一样。另外使用 subplot 和 subplots 都可以传</h5>\n<h5 id=\"递-sharexsharey-参数这两个参数表示是否需要共享x轴和y轴-示例代码如下\"><a class=\"anchor\" href=\"#递-sharexsharey-参数这两个参数表示是否需要共享x轴和y轴-示例代码如下\">#</a> 递 sharex/sharey 参数，这两个参数表示是否需要共享 X 轴和 Y 轴。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">figure</span>,axes = plt<span class=\"selector-class\">.subplots</span>( <span class=\"number\">2</span> , <span class=\"number\">2</span> ,sharex=True,sharey=True)</span><br><span class=\"line\">axes<span class=\"selector-attr\">[ 0 , 0 ]</span><span class=\"selector-class\">.plot</span>(np<span class=\"selector-class\">.sin</span>(np<span class=\"selector-class\">.arange</span>( <span class=\"number\">10</span> )),c=<span class=\"string\">&#x27;r&#x27;</span>)</span><br><span class=\"line\">axes<span class=\"selector-attr\">[ 0 , 1 ]</span><span class=\"selector-class\">.plot</span>(np<span class=\"selector-class\">.cos</span>(np<span class=\"selector-class\">.arange</span>( <span class=\"number\">10</span> )),c=<span class=\"string\">&#x27;b&#x27;</span>)</span><br><span class=\"line\">axes<span class=\"selector-attr\">[ 1 , 0 ]</span><span class=\"selector-class\">.plot</span>(np<span class=\"selector-class\">.tan</span>(np<span class=\"selector-class\">.arange</span>( <span class=\"number\">10</span> )),c=<span class=\"string\">&#x27;y&#x27;</span>)</span><br><span class=\"line\">axes<span class=\"selector-attr\">[ 1 , 1 ]</span><span class=\"selector-class\">.plot</span>(np<span class=\"selector-class\">.arange</span>( <span class=\"number\">10</span> ),c=<span class=\"string\">&#x27;g&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"风格设置\"><a class=\"anchor\" href=\"#风格设置\">#</a> 风格设置：</h3>\n<h5 id=\"matplotlib-图片默认内置了几种风格-我们可以通过-pltstyleavailable-来查看内置的所有风\"><a class=\"anchor\" href=\"#matplotlib-图片默认内置了几种风格-我们可以通过-pltstyleavailable-来查看内置的所有风\">#</a> matplotlib 图片默认内置了几种风格。我们可以通过 plt.style.available 来查看内置的所有风</h5>\n<h5 id=\"格\"><a class=\"anchor\" href=\"#格\">#</a> 格:</h5>\n<figure class=\"highlight scheme\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"symbol\">&#x27;bmh</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;classic</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;dark_background</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;fast</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;fivethirtyeight</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;ggplot</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;grayscale</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;seaborn-bright</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;seaborn-colorblind</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;seaborn-dark-palette</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;seaborn-dark</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;seaborn-darkgrid</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;seaborn-deep</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;seaborn-muted</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;seaborn-notebook</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;seaborn-paper</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;seaborn-pastel</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;seaborn-poster</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;seaborn-talk</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;seaborn-ticks</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;seaborn-white</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;seaborn-whitegrid</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;seaborn</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;Solarize_Light2</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;tableau-colorblind10</span>&#x27;,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;_classic_test</span>&#x27;]</span><br></pre></td></tr></table></figure>\n<h5 id=\"在绘制的可以使用-pltstyleuse-方法来使用不同的风格-示例代码如下\"><a class=\"anchor\" href=\"#在绘制的可以使用-pltstyleuse-方法来使用不同的风格-示例代码如下\">#</a> 在绘制的，可以使用 plt.style.use 方法来使用不同的风格。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plt<span class=\"selector-class\">.style</span><span class=\"selector-class\">.use</span>(<span class=\"string\">&quot;dark_background&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h2 id=\"官方文档介绍\"><a class=\"anchor\" href=\"#官方文档介绍\">#</a> 官方文档介绍：</h2>\n<h5 id=\"1-pltplot-使用详\"><a class=\"anchor\" href=\"#1-pltplot-使用详\">#</a> 1. plt.plot 使用详</h5>\n<h5 id=\"解httpsmatplotliborgapi_as_genmatplotlibpyplotplothtmlmatplotlibpyplotplot\"><a class=\"anchor\" href=\"#解httpsmatplotliborgapi_as_genmatplotlibpyplotplothtmlmatplotlibpyplotplot\">#</a> 解：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9hcGkvX2FzX2dlbi9tYXRwbG90bGliLnB5cGxvdC5wbG90Lmh0bWwjbWF0cGxvdGxpYi5weXBsb3QucGxvdA==\">https://matplotlib.org/api/_as_gen/matplotlib.pyplot.plot.html#matplotlib.pyplot.plot</span></h5>\n<h5 id=\"2-matplotlibpyplot-使用详解httpsmatplotliborgapipyplot_summaryhtml\"><a class=\"anchor\" href=\"#2-matplotlibpyplot-使用详解httpsmatplotliborgapipyplot_summaryhtml\">#</a> 2. matplotlib.pyplot 使用详解：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9hcGkvcHlwbG90X3N1bW1hcnkuaHRtbA==\">https://matplotlib.org/api/pyplot_summary.html</span></h5>\n<h5 id=\"3-matplotlib-内置的样式httpstonysyugithubioraw_contentmatplotlib-style-\"><a class=\"anchor\" href=\"#3-matplotlib-内置的样式httpstonysyugithubioraw_contentmatplotlib-style-\">#</a> 3. matplotlib 内置的样式：<span class=\"exturl\" data-url=\"aHR0cHM6Ly90b255c3l1LmdpdGh1Yi5pby9yYXdfY29udGVudC9tYXRwbG90bGliLXN0eWxlLQ==\">https://tonysyu.github.io/raw_content/matplotlib-style-</span></h5>\n<h5 id=\"gallerygalleryhtml\"><a class=\"anchor\" href=\"#gallerygalleryhtml\">#</a> gallery/gallery.html</h5>\n<h1 id=\"条形图\"><a class=\"anchor\" href=\"#条形图\">#</a> 条形图</h1>\n<h5 id=\"条形图的绘制方式跟折线图非常的类似只不过是换成了-pltbar-方法-pltbar-方法有以下常\"><a class=\"anchor\" href=\"#条形图的绘制方式跟折线图非常的类似只不过是换成了-pltbar-方法-pltbar-方法有以下常\">#</a> 条形图的绘制方式跟折线图非常的类似，只不过是换成了 plt.bar 方法。 plt.bar 方法有以下常</h5>\n<h5 id=\"用参数\"><a class=\"anchor\" href=\"#用参数\">#</a> 用参数：</h5>\n<h5 id=\"1-x-一个数组或者列表代表需要绘制的条形图的x轴的坐标点\"><a class=\"anchor\" href=\"#1-x-一个数组或者列表代表需要绘制的条形图的x轴的坐标点\">#</a> 1. x ：一个数组或者列表，代表需要绘制的条形图的 x 轴的坐标点。</h5>\n<h5 id=\"2-height-一个数组或者列表代表需要绘制的条形图y轴的坐标点\"><a class=\"anchor\" href=\"#2-height-一个数组或者列表代表需要绘制的条形图y轴的坐标点\">#</a> 2. height ：一个数组或者列表，代表需要绘制的条形图 y 轴的坐标点。</h5>\n<h5 id=\"3-width-每一个条形图的宽度默认是08的宽度\"><a class=\"anchor\" href=\"#3-width-每一个条形图的宽度默认是08的宽度\">#</a> 3. width ：每一个条形图的宽度，默认是 0.8 的宽度。</h5>\n<h5 id=\"4-bottom-y-轴的基线默认是-0-也就是距离底部为0\"><a class=\"anchor\" href=\"#4-bottom-y-轴的基线默认是-0-也就是距离底部为0\">#</a> 4. bottom ： y 轴的基线，默认是 0 ，也就是距离底部为 0.</h5>\n<h5 id=\"5-align-对齐方式默认是-center-也就是跟指定的-x-坐标居中对齐还有为-edge-靠\"><a class=\"anchor\" href=\"#5-align-对齐方式默认是-center-也就是跟指定的-x-坐标居中对齐还有为-edge-靠\">#</a> 5. align ：对齐方式，默认是 center ，也就是跟指定的 x 坐标居中对齐，还有为 edge ，靠</h5>\n<h5 id=\"边对齐具体靠右边还是靠左边看-width-的正负\"><a class=\"anchor\" href=\"#边对齐具体靠右边还是靠左边看-width-的正负\">#</a> 边对齐，具体靠右边还是靠左边，看 width 的正负。</h5>\n<h5 id=\"6-color-条形图的颜色\"><a class=\"anchor\" href=\"#6-color-条形图的颜色\">#</a> 6. color ：条形图的颜色。</h5>\n<h5 id=\"返回值为-barcontainer-是一个存储了条形图的容器而条形图实际上的类型\"><a class=\"anchor\" href=\"#返回值为-barcontainer-是一个存储了条形图的容器而条形图实际上的类型\">#</a> 返回值为 BarContainer ，是一个存储了条形图的容器，而条形图实际上的类型</h5>\n<h5 id=\"是-matplotlibpatchesrectangle-对象\"><a class=\"anchor\" href=\"#是-matplotlibpatchesrectangle-对象\">#</a> 是 matplotlib.patches.Rectangle 对象。</h5>\n<h5 id=\"更多参考httpsmatplotliborgapi_as_genmatplotlibpyplotbarhtmlmatplotlibpyplotbar\"><a class=\"anchor\" href=\"#更多参考httpsmatplotliborgapi_as_genmatplotlibpyplotbarhtmlmatplotlibpyplotbar\">#</a> 更多参考：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9hcGkvX2FzX2dlbi9tYXRwbG90bGliLnB5cGxvdC5iYXIuaHRtbCNtYXRwbG90bGliLnB5cGxvdC5iYXI=\">https://matplotlib.org/api/_as_gen/matplotlib.pyplot.bar.html#matplotlib.pyplot.bar</span></h5>\n<h2 id=\"条形图的绘制\"><a class=\"anchor\" href=\"#条形图的绘制\">#</a> 条形图的绘制：</h2>\n<h5 id=\"比如现在有-2019-年贺岁片票房的数据数据来源httpspiaofangmaoyancomdashboard\"><a class=\"anchor\" href=\"#比如现在有-2019-年贺岁片票房的数据数据来源httpspiaofangmaoyancomdashboard\">#</a> 比如现在有 2019 年贺岁片票房的数据（数据来源：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9waWFvZmFuZy5tYW95YW4uY29tL2Rhc2hib2FyZCVFRiVCQyU4OSVFRiVCQyU5QQ==\">https://piaofang.maoyan.com/dashboard）：</span></h5>\n<h6 id=\"票房单位亿元\"><a class=\"anchor\" href=\"#票房单位亿元\">#</a> #票房单位亿元</h6>\n<figure class=\"highlight makefile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">movies = &#123;</span><br><span class=\"line\"><span class=\"string\">&quot;流浪地球&quot;</span>:40.78,</span><br><span class=\"line\"><span class=\"string\">&quot;飞驰人生&quot;</span>:15.77,</span><br><span class=\"line\"><span class=\"string\">&quot;疯狂的外星人&quot;</span>:20.83,</span><br><span class=\"line\"><span class=\"string\">&quot;新喜剧之王&quot;</span>:6.10,</span><br><span class=\"line\"><span class=\"string\">&quot;廉政风云&quot;</span>:1.10,</span><br><span class=\"line\"><span class=\"string\">&quot;神探蒲松龄&quot;</span>:1.49,</span><br><span class=\"line\"><span class=\"string\">&quot;小猪佩奇过大年&quot;</span>:1.22,</span><br><span class=\"line\"><span class=\"string\">&quot;熊出没·原始时代&quot;</span>:6.71</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"用条形图绘制每部电影及其票房的代码如下\"><a class=\"anchor\" href=\"#用条形图绘制每部电影及其票房的代码如下\">#</a> 用条形图绘制每部电影及其票房的代码如下：</h5>\n<figure class=\"highlight makefile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">movies = &#123;</span><br><span class=\"line\"><span class=\"string\">&quot;流浪地球&quot;</span>:40.78,</span><br><span class=\"line\"><span class=\"string\">&quot;飞驰人生&quot;</span>:15.77,</span><br><span class=\"line\"><span class=\"string\">&quot;疯狂的外星人&quot;</span>:20.83,</span><br><span class=\"line\"><span class=\"string\">&quot;新喜剧之王&quot;</span>:6.10,</span><br><span class=\"line\"><span class=\"string\">&quot;廉政风云&quot;</span>:1.10,</span><br><span class=\"line\"><span class=\"string\">&quot;神探蒲松龄&quot;</span>:1.49,</span><br><span class=\"line\"><span class=\"string\">&quot;小猪佩奇过大年&quot;</span>:1.22,</span><br></pre></td></tr></table></figure>\n<h6 id=\"熊出没原始时代671\"><a class=\"anchor\" href=\"#熊出没原始时代671\">#</a> “熊出没・原始时代”:6.71</h6>\n<h6 id=\"-3\"><a class=\"anchor\" href=\"#-3\">#</a> }</h6>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plt<span class=\"selector-class\">.bar</span>(np<span class=\"selector-class\">.arange</span>(<span class=\"built_in\">len</span>(movies)),<span class=\"built_in\">list</span>(movies<span class=\"selector-class\">.keys</span>()))</span><br><span class=\"line\">plt<span class=\"selector-class\">.xticks</span>(np<span class=\"selector-class\">.arange</span>(<span class=\"built_in\">len</span>(movies)),<span class=\"built_in\">list</span>(movies<span class=\"selector-class\">.keys</span>()),fontproperties=<span class=\"attribute\">font</span>)</span><br><span class=\"line\">plt<span class=\"selector-class\">.grid</span>()</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-3\"><a class=\"anchor\" href=\"#效果图如下-3\">#</a> 效果图如下：</h5>\n<h5 id=\"其中-xticks-和-yticks-的用法跟之前的折线图一样-这里新出现的方法是-bar-bar-常用的有-3\"><a class=\"anchor\" href=\"#其中-xticks-和-yticks-的用法跟之前的折线图一样-这里新出现的方法是-bar-bar-常用的有-3\">#</a> 其中 xticks 和 yticks 的用法跟之前的折线图一样。这里新出现的方法是 bar ， bar 常用的有 3</h5>\n<h5 id=\"个参数分别是-x-x轴的坐标点-y-y轴的坐标点以及-width-条形的宽度\"><a class=\"anchor\" href=\"#个参数分别是-x-x轴的坐标点-y-y轴的坐标点以及-width-条形的宽度\">#</a> 个参数，分别是 x （x 轴的坐标点）, y （y 轴的坐标点）以及 width （条形的宽度）。</h5>\n<h2 id=\"横向条形图\"><a class=\"anchor\" href=\"#横向条形图\">#</a> 横向条形图：</h2>\n<h5 id=\"横向条形图需要使用-pltbarh-这个方法跟-bar-非常的类似只不过把方向进行旋转-参数\"><a class=\"anchor\" href=\"#横向条形图需要使用-pltbarh-这个方法跟-bar-非常的类似只不过把方向进行旋转-参数\">#</a> 横向条形图需要使用 plt.barh 这个方法跟 bar 非常的类似，只不过把方向进行旋转。参数</h5>\n<h5 id=\"跟-bar-类似但也有区别-如下\"><a class=\"anchor\" href=\"#跟-bar-类似但也有区别-如下\">#</a> 跟 bar 类似，但也有区别。如下：</h5>\n<h5 id=\"1-y-数组或列表代表需要绘制的条形图在-y-轴上的坐标点\"><a class=\"anchor\" href=\"#1-y-数组或列表代表需要绘制的条形图在-y-轴上的坐标点\">#</a> 1. y ：数组或列表，代表需要绘制的条形图在 y 轴上的坐标点。</h5>\n<h5 id=\"2-width-数组或列表代表需要绘制的条形图在-x-轴上的值也就是长度\"><a class=\"anchor\" href=\"#2-width-数组或列表代表需要绘制的条形图在-x-轴上的值也就是长度\">#</a> 2. width ：数组或列表，代表需要绘制的条形图在 x 轴上的值（也就是长度）。</h5>\n<h5 id=\"3-height-条形图的高度默认是08\"><a class=\"anchor\" href=\"#3-height-条形图的高度默认是08\">#</a> 3. height ：条形图的高度，默认是 0.8。</h5>\n<h5 id=\"4-left-条形图的基线也就是距离y轴的距离\"><a class=\"anchor\" href=\"#4-left-条形图的基线也就是距离y轴的距离\">#</a> 4. left ：条形图的基线，也就是距离 y 轴的距离。</h5>\n<h5 id=\"5-其他参数跟-bar-一样\"><a class=\"anchor\" href=\"#5-其他参数跟-bar-一样\">#</a> 5. 其他参数跟 bar 一样。</h5>\n<h5 id=\"返回值也是-barcontainer-容器对象\"><a class=\"anchor\" href=\"#返回值也是-barcontainer-容器对象\">#</a> 返回值也是 BarContainer 容器对象。</h5>\n<h5 id=\"还是以以上数据为例将电影名和票房反转一下-示例代码如下\"><a class=\"anchor\" href=\"#还是以以上数据为例将电影名和票房反转一下-示例代码如下\">#</a> 还是以以上数据为例，将电影名和票房反转一下。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">movies = &#123;</span><br><span class=\"line\"><span class=\"string\">&quot;流浪地球&quot;</span>:<span class=\"number\">40.78</span>,</span><br><span class=\"line\"><span class=\"string\">&quot;飞驰人生&quot;</span>:<span class=\"number\">15.77</span>,</span><br><span class=\"line\"><span class=\"string\">&quot;疯狂的外星人&quot;</span>:<span class=\"number\">20.83</span>,</span><br><span class=\"line\"><span class=\"string\">&quot;新喜剧之王&quot;</span>:<span class=\"number\">6.10</span>,</span><br><span class=\"line\"><span class=\"string\">&quot;廉政风云&quot;</span>:<span class=\"number\">1.10</span>,</span><br><span class=\"line\"><span class=\"string\">&quot;神探蒲松龄&quot;</span>:<span class=\"number\">1.49</span>,</span><br><span class=\"line\"><span class=\"string\">&quot;小猪佩奇过大年&quot;</span>:<span class=\"number\">1.22</span>,</span><br><span class=\"line\"><span class=\"string\">&quot;熊出没·原始时代&quot;</span>:<span class=\"number\">6.71</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">plt<span class=\"selector-class\">.barh</span>(np<span class=\"selector-class\">.arange</span>(<span class=\"built_in\">len</span>(movies)),<span class=\"built_in\">list</span>(movies<span class=\"selector-class\">.values</span>()))</span><br><span class=\"line\">plt<span class=\"selector-class\">.yticks</span>(np<span class=\"selector-class\">.arange</span>(<span class=\"built_in\">len</span>(movies)),<span class=\"built_in\">list</span>(movies<span class=\"selector-class\">.keys</span>()),fontproperties=<span class=\"attribute\">font</span>)</span><br><span class=\"line\">plt<span class=\"selector-class\">.grid</span>()</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-4\"><a class=\"anchor\" href=\"#效果图如下-4\">#</a> 效果图如下：</h5>\n<h2 id=\"分组条形图\"><a class=\"anchor\" href=\"#分组条形图\">#</a> 分组条形图：</h2>\n<h5 id=\"现在有一组数据是-2019-年春节贺岁片前五天的电影票房记录\"><a class=\"anchor\" href=\"#现在有一组数据是-2019-年春节贺岁片前五天的电影票房记录\">#</a> 现在有一组数据，是 2019 年春节贺岁片前五天的电影票房记录。</h5>\n<h5 id=\"示例代码如下-3\"><a class=\"anchor\" href=\"#示例代码如下-3\">#</a> 示例代码如下：</h5>\n<figure class=\"highlight dns\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">movies = &#123;</span><br><span class=\"line\">&quot;流浪地球&quot;:[<span class=\"number\">2.01,4.59</span>,<span class=\"number\">7.99,11.83</span>, <span class=\"number\">16</span> ],</span><br><span class=\"line\">&quot;飞驰人生&quot;:[<span class=\"number\">3.19,5.08</span>,<span class=\"number\">6.73,8.10</span>,<span class=\"number\">9</span>.<span class=\"number\">35</span>],</span><br><span class=\"line\">&quot;疯狂的外星人&quot;:[<span class=\"number\">4.07,6.92</span>,<span class=\"number\">9.30,11.29</span>,<span class=\"number\">13</span>.<span class=\"number\">03</span>],</span><br><span class=\"line\">&quot;新喜剧之王&quot;:[<span class=\"number\">2.72,3.79</span>,<span class=\"number\">4.45,4.83</span>,<span class=\"number\">5</span>.<span class=\"number\">11</span>],</span><br><span class=\"line\">&quot;廉政风云&quot;:[<span class=\"number\">0.56,0.74</span>,<span class=\"number\">0.83,0.88</span>,<span class=\"number\">0</span>.<span class=\"number\">92</span>],</span><br></pre></td></tr></table></figure>\n<h6 id=\"神探蒲松龄066095110117123\"><a class=\"anchor\" href=\"#神探蒲松龄066095110117123\">#</a> “神探蒲松龄”:[0.66,0.95,1.10,1.17,1.23],</h6>\n<h6 id=\"小猪佩奇过大年058081094101107\"><a class=\"anchor\" href=\"#小猪佩奇过大年058081094101107\">#</a> “小猪佩奇过大年”:[0.58,0.81,0.94,1.01,1.07],</h6>\n<h6 id=\"熊出没原始时代113196273342405\"><a class=\"anchor\" href=\"#熊出没原始时代113196273342405\">#</a> “熊出没・原始时代”:[1.13,1.96,2.73,3.42,4.05]</h6>\n<h6 id=\"-4\"><a class=\"anchor\" href=\"#-4\">#</a> }</h6>\n<p>plt.figure(figsize=( 20 , 8 ))<br>\nwidth = 0.75<br>\nbin_width = width/ 5<br>\nmovie_pd = pd.DataFrame(movies)<br>\nind = np.arange( 0 ,len(movies))</p>\n<p>##### 第一种方案</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">first_day = movie_pd.iloc[<span class=\"number\">0</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">plt.bar(ind-bin_width*<span class=\"number\">2</span>,first_day,width=bin_width,label=<span class=\"string\">&#x27;第一天&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">second_day = movie_pd.iloc[<span class=\"number\">1</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"> plt.bar(ind-bin_width,second_day,width=bin_width,label=<span class=\"string\">&#x27;第二天&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">third_day = movie_pd.iloc[<span class=\"number\">2</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">plt.bar(ind,third_day,width=bin_width,label=<span class=\"string\">&#x27;第三天&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">four_day = movie_pd.iloc[<span class=\"number\">3</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">plt.bar(ind+bin_width,four_day,width=bin_width,label=<span class=\"string\">&#x27;第四天&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">five_day = movie_pd.iloc[<span class=\"number\">4</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">plt.bar(ind+bin_width*<span class=\"number\">2</span>,five_day,width=bin_width,label=<span class=\"string\">&#x27;第五天&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<h6 id=\"第二种方案\"><a class=\"anchor\" href=\"#第二种方案\">#</a> # 第二种方案</h6>\n<p>for index in movie_pd.index:<br>\nday_tickets = movie_pd.iloc[index]<br>\nxs = ind-(bin_width*( 2 -index))<br>\n plt.bar (xs,day_tickets,width=bin_width,label=“第 % d 天”%(index+ 1 ))<br>\nfor ticket,x in zip(day_tickets,xs):<br>\nplt.annotate(ticket,xy=(x,ticket),xytext=(x-0.1,ticket+0.1))</p>\n<h6 id=\"设置图例\"><a class=\"anchor\" href=\"#设置图例\">#</a> # 设置图例</h6>\n<p>plt.legend(prop=font)<br>\n plt.ylabel (“单位：亿”,fontproperties=font)<br>\n plt.title (“春节前 5 天电影票房记录”,fontproperties=font)</p>\n<h1 id=\"设置x轴的坐标\"><a class=\"anchor\" href=\"#设置x轴的坐标\">#</a> 设置 x 轴的坐标</h1>\n<p>plt.xticks(ind,movie_pd.columns,fontproperties=font)<br>\nplt.xlim<br>\nplt.grid(True)<br>\nplt.show()</p>\n<h5 id=\"示例图如下-3\"><a class=\"anchor\" href=\"#示例图如下-3\">#</a> 示例图如下：</h5>\n<h2 id=\"堆叠条形图\"><a class=\"anchor\" href=\"#堆叠条形图\">#</a> 堆叠条形图：</h2>\n<h5 id=\"堆叠条形图是将一组相关的条形图堆叠在一起进行比较的条形图-比如以下案例\"><a class=\"anchor\" href=\"#堆叠条形图是将一组相关的条形图堆叠在一起进行比较的条形图-比如以下案例\">#</a> 堆叠条形图，是将一组相关的条形图堆叠在一起进行比较的条形图。比如以下案例：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">menMeans = ( <span class=\"number\">20</span> , <span class=\"number\">35</span> , <span class=\"number\">30</span> , <span class=\"number\">35</span> , <span class=\"number\">27</span> )</span><br><span class=\"line\">womenMeans = ( <span class=\"number\">25</span> , <span class=\"number\">32</span> , <span class=\"number\">34</span> , <span class=\"number\">20</span> , <span class=\"number\">25</span> )</span><br><span class=\"line\">groupNames = (<span class=\"string\">&#x27;G1&#x27;</span>,<span class=\"string\">&#x27;G2&#x27;</span>,<span class=\"string\">&#x27;G3&#x27;</span>,<span class=\"string\">&#x27;G4&#x27;</span>,<span class=\"string\">&#x27;G5&#x27;</span>)</span><br><span class=\"line\">xs = np<span class=\"selector-class\">.arange</span>(<span class=\"built_in\">len</span>(menMeans))</span><br><span class=\"line\">plt<span class=\"selector-class\">.bar</span>(xs,menMeans)</span><br><span class=\"line\">plt<span class=\"selector-class\">.bar</span>(xs,womenMeans,<span class=\"attribute\">bottom</span>=menMeans)</span><br><span class=\"line\">plt<span class=\"selector-class\">.xticks</span>(xs,groupNames)</span><br><span class=\"line\">plt<span class=\"selector-class\">.show</span>()</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-5\"><a class=\"anchor\" href=\"#效果图如下-5\">#</a> 效果图如下：</h5>\n<h5 id=\"在绘制女性得分的条形图的时候因为要堆叠在男性得分的条形图上所以使用到了一\"><a class=\"anchor\" href=\"#在绘制女性得分的条形图的时候因为要堆叠在男性得分的条形图上所以使用到了一\">#</a> 在绘制女性得分的条形图的时候，因为要堆叠在男性得分的条形图上，所以使用到了一</h5>\n<h5 id=\"个-bottom-参数就是距离-x-轴的距离-通过对贴条形图我们就可以清楚的知道哪一个队伍\"><a class=\"anchor\" href=\"#个-bottom-参数就是距离-x-轴的距离-通过对贴条形图我们就可以清楚的知道哪一个队伍\">#</a> 个 bottom 参数，就是距离 x 轴的距离。通过对贴条形图，我们就可以清楚的知道，哪一个队伍</h5>\n<h5 id=\"的综合排名是最高的并且在每个队伍中男女的得分情况\"><a class=\"anchor\" href=\"#的综合排名是最高的并且在每个队伍中男女的得分情况\">#</a> 的综合排名是最高的，并且在每个队伍中男女的得分情况。</h5>\n<h2 id=\"条形图应用场景\"><a class=\"anchor\" href=\"#条形图应用场景\">#</a> 条形图应用场景：</h2>\n<h5 id=\"1-数量统计\"><a class=\"anchor\" href=\"#1-数量统计\">#</a> 1. 数量统计。</h5>\n<h5 id=\"2-频率统计\"><a class=\"anchor\" href=\"#2-频率统计\">#</a> 2. 频率统计。</h5>\n<h1 id=\"直方图-2\"><a class=\"anchor\" href=\"#直方图-2\">#</a> 直方图</h1>\n<h5 id=\"直方图histogram又称质量分布图是一种统计报告图由一系列高度不等的条纹表示数据分-2\"><a class=\"anchor\" href=\"#直方图histogram又称质量分布图是一种统计报告图由一系列高度不等的条纹表示数据分-2\">#</a> 直方图 (Histogram)，又称质量分布图，是一种统计报告图，由一系列高度不等的条纹表示数据分</h5>\n<h5 id=\"布的情况-一般用横轴表示数据类型纵轴表示分布情况-2\"><a class=\"anchor\" href=\"#布的情况-一般用横轴表示数据类型纵轴表示分布情况-2\">#</a> 布的情况。一般用横轴表示数据类型，纵轴表示分布情况。</h5>\n<h5 id=\"直方图是数值数据分布的精确图形表示-为了构建直方图第一步是将值的范围分段即将整个值-2\"><a class=\"anchor\" href=\"#直方图是数值数据分布的精确图形表示-为了构建直方图第一步是将值的范围分段即将整个值-2\">#</a> 直方图是数值数据分布的精确图形表示。为了构建直方图，第一步是将值的范围分段，即将整个值</h5>\n<h5 id=\"的范围分成一系列间隔然后计算每个间隔中有多少值-这些值通常被指定为连续的不重叠的变-2\"><a class=\"anchor\" href=\"#的范围分成一系列间隔然后计算每个间隔中有多少值-这些值通常被指定为连续的不重叠的变-2\">#</a> 的范围分成一系列间隔，然后计算每个间隔中有多少值。这些值通常被指定为连续的，不重叠的变</h5>\n<h5 id=\"量间隔-间隔必须相邻并且通常是但不是必须的相等的大小-2\"><a class=\"anchor\" href=\"#量间隔-间隔必须相邻并且通常是但不是必须的相等的大小-2\">#</a> 量间隔。间隔必须相邻，并且通常是（但不是必须的）相等的大小。</h5>\n<h2 id=\"绘制直方图\"><a class=\"anchor\" href=\"#绘制直方图\">#</a> 绘制直方图：</h2>\n<h5 id=\"直方图的绘制方法使用的是-plthist-方法来实现这个方法的参数以及返回值如下\"><a class=\"anchor\" href=\"#直方图的绘制方法使用的是-plthist-方法来实现这个方法的参数以及返回值如下\">#</a> 直方图的绘制方法，使用的是 plt.hist 方法来实现，这个方法的参数以及返回值如下：</h5>\n<h5 id=\"参数\"><a class=\"anchor\" href=\"#参数\">#</a> 参数：</h5>\n<h5 id=\"1-x-数组或者可以循环的序列-直方图将会从这组数据中进行分组\"><a class=\"anchor\" href=\"#1-x-数组或者可以循环的序列-直方图将会从这组数据中进行分组\">#</a> 1. x ：数组或者可以循环的序列。直方图将会从这组数据中进行分组。</h5>\n<h5 id=\"2-bins-数字或者序列数组列表等-如果是数字代表的是要分成多少组-如果是序\"><a class=\"anchor\" href=\"#2-bins-数字或者序列数组列表等-如果是数字代表的是要分成多少组-如果是序\">#</a> 2. bins ：数字或者序列（数组 / 列表等）。如果是数字，代表的是要分成多少组。如果是序</h5>\n<h5 id=\"列那么就会按照序列中指定的值进行分组-比如-1234-那么分组的时候会按照三个\"><a class=\"anchor\" href=\"#列那么就会按照序列中指定的值进行分组-比如-1234-那么分组的时候会按照三个\">#</a> 列，那么就会按照序列中指定的值进行分组。比如 [1,2,3,4] ，那么分组的时候会按照三个</h5>\n<h5 id=\"区间分成-3-组分别是-122334\"><a class=\"anchor\" href=\"#区间分成-3-组分别是-122334\">#</a> 区间分成 3 组，分别是 [1,2)/[2,3)/[3,4] 。</h5>\n<h5 id=\"3-range-元组或者none如果为元组那么指定-x-划分区间的最大值和最小值-如\"><a class=\"anchor\" href=\"#3-range-元组或者none如果为元组那么指定-x-划分区间的最大值和最小值-如\">#</a> 3. range ：元组或者 None，如果为元组，那么指定 x 划分区间的最大值和最小值。如</h5>\n<h5 id=\"果-bins-是一个序列那么-range-没有有没有设置没有任何影响\"><a class=\"anchor\" href=\"#果-bins-是一个序列那么-range-没有有没有设置没有任何影响\">#</a> 果 bins 是一个序列，那么 range 没有有没有设置没有任何影响。</h5>\n<h5 id=\"4-density-默认是-false-如果等于-true-那么将会使用频率分布直方图-每个条形表示\"><a class=\"anchor\" href=\"#4-density-默认是-false-如果等于-true-那么将会使用频率分布直方图-每个条形表示\">#</a> 4. density ：默认是 False ，如果等于 True ，那么将会使用频率分布直方图。每个条形表示</h5>\n<h5 id=\"的不是个数而是-频率组距-落在各组样本数据的个数称为频数频数除以样本总个数为频\"><a class=\"anchor\" href=\"#的不是个数而是-频率组距-落在各组样本数据的个数称为频数频数除以样本总个数为频\">#</a> 的不是个数，而是 频率 / 组距 （落在各组样本数据的个数称为频数，频数除以样本总个数为频</h5>\n<h5 id=\"率\"><a class=\"anchor\" href=\"#率\">#</a> 率）。</h5>\n<h5 id=\"5-cumulative-如果这个和-density-都等于-true-那么返回值的第一个参数会不断的累加\"><a class=\"anchor\" href=\"#5-cumulative-如果这个和-density-都等于-true-那么返回值的第一个参数会不断的累加\">#</a> 5. cumulative ：如果这个和 density 都等于 True ，那么返回值的第一个参数会不断的累加，</h5>\n<h5 id=\"最终等于-1\"><a class=\"anchor\" href=\"#最终等于-1\">#</a> 最终等于 1 。</h5>\n<h5 id=\"6-其他参数请参考-httpsmatplotliborgapi_as_genmatplotlibpyplothisthtml\"><a class=\"anchor\" href=\"#6-其他参数请参考-httpsmatplotliborgapi_as_genmatplotlibpyplothisthtml\">#</a> 6. 其他参数：请参考： <span class=\"exturl\" data-url=\"aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9hcGkvX2FzX2dlbi9tYXRwbG90bGliLnB5cGxvdC5oaXN0Lmh0bWw=\">https://matplotlib.org/api/_as_gen/matplotlib.pyplot.hist.html</span> 。</h5>\n<h5 id=\"返回值\"><a class=\"anchor\" href=\"#返回值\">#</a> 返回值：</h5>\n<h5 id=\"1-n-数组-每个区间内值出现的个数如果-densitytrue-那么这个将返回的是-频率组\"><a class=\"anchor\" href=\"#1-n-数组-每个区间内值出现的个数如果-densitytrue-那么这个将返回的是-频率组\">#</a> 1. n ：数组。每个区间内值出现的个数，如果 density=True ，那么这个将返回的是 频率 / 组</h5>\n<h5 id=\"距\"><a class=\"anchor\" href=\"#距\">#</a> 距 。</h5>\n<h5 id=\"2-bins-数组-区间的值\"><a class=\"anchor\" href=\"#2-bins-数组-区间的值\">#</a> 2. bins ：数组。区间的值。</h5>\n<h5 id=\"3-patches-数组-每根条的对象类型是-matplotlibpatchesrectangle\"><a class=\"anchor\" href=\"#3-patches-数组-每根条的对象类型是-matplotlibpatchesrectangle\">#</a> 3. patches ：数组。每根条的对象，类型是 matplotlib.patches.Rectangle 。</h5>\n<h2 id=\"案例\"><a class=\"anchor\" href=\"#案例\">#</a> 案例：</h2>\n<h5 id=\"比如有一组电影票房时长想要看下这组票房时长的数据那么可以通过以下代码来实现\"><a class=\"anchor\" href=\"#比如有一组电影票房时长想要看下这组票房时长的数据那么可以通过以下代码来实现\">#</a> 比如有一组电影票房时长，想要看下这组票房时长的数据，那么可以通过以下代码来实现：</h5>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">durations = [<span class=\"number\"> 131 </span>,<span class=\"number\"> 98 </span>,<span class=\"number\"> 125 </span>,<span class=\"number\"> 131 </span>,<span class=\"number\"> 124 </span>,<span class=\"number\"> 139 </span>,<span class=\"number\"> 131 </span>,<span class=\"number\"> 117 </span>,<span class=\"number\"> 128 </span>,<span class=\"number\"> 108 </span>,<span class=\"number\"> 135 </span>,<span class=\"number\"> 138 </span>,<span class=\"number\"> 131 </span>,<span class=\"number\"> 102 </span>,<span class=\"number\"> 107 </span>,</span><br><span class=\"line\">114 ,<span class=\"number\"> 119 </span>,<span class=\"number\"> 128 </span>,<span class=\"number\"> 121 </span>,<span class=\"number\"> 142 </span>,<span class=\"number\"> 127 </span>,<span class=\"number\"> 130 </span>,<span class=\"number\"> 124 </span>,<span class=\"number\"> 101 </span>,<span class=\"number\"> 110 </span>,<span class=\"number\"> 116 </span>,<span class=\"number\"> 117 </span>,<span class=\"number\"> 110 </span>,<span class=\"number\"> 128 </span>,<span class=\"number\"> 128 </span>,<span class=\"number\"> 115 </span>,<span class=\"number\"> 99 </span>, 136</span><br><span class=\"line\">,<span class=\"number\"> 126 </span>,<span class=\"number\"> 134 </span>,<span class=\"number\"> 95 </span>,<span class=\"number\"> 138 </span>,<span class=\"number\"> 117 </span>,<span class=\"number\"> 111 </span>,<span class=\"number\"> 78 </span>,<span class=\"number\"> 132 </span>,<span class=\"number\"> 124 </span>,<span class=\"number\"> 113 </span>,<span class=\"number\"> 150 </span>,<span class=\"number\"> 110 </span>,<span class=\"number\"> 117 </span>,<span class=\"number\"> 86 </span>,<span class=\"number\"> 95 </span>,<span class=\"number\"> 144 </span>,<span class=\"number\"> 105 </span>, 126</span><br><span class=\"line\">,<span class=\"number\"> 130 </span>,<span class=\"number\"> 126 </span>,<span class=\"number\"> 130 </span>,<span class=\"number\"> 126 </span>,<span class=\"number\"> 116 </span>,<span class=\"number\"> 123 </span>,<span class=\"number\"> 106 </span>,<span class=\"number\"> 112 </span>,<span class=\"number\"> 138 </span>,<span class=\"number\"> 123 </span>,<span class=\"number\"> 86 </span>,<span class=\"number\"> 101 </span>,<span class=\"number\"> 99 </span>,<span class=\"number\"> 136 </span>,<span class=\"number\"> 123 </span>,<span class=\"number\"> 117 </span>,<span class=\"number\"> 119 </span>, 105</span><br><span class=\"line\">,<span class=\"number\"> 137 </span>,<span class=\"number\"> 123 </span>,<span class=\"number\"> 128 </span>,<span class=\"number\"> 125 </span>,<span class=\"number\"> 104 </span>,<span class=\"number\"> 109 </span>,<span class=\"number\"> 134 </span>,<span class=\"number\"> 125 </span>,<span class=\"number\"> 127 </span>,<span class=\"number\"> 105 </span>,<span class=\"number\"> 120 </span>,<span class=\"number\"> 107 </span>,<span class=\"number\"> 129 </span>,<span class=\"number\"> 116 </span>,<span class=\"number\"> 108 </span>,<span class=\"number\"> 132 </span>,<span class=\"number\"> 103 </span>, 1</span><br></pre></td></tr></table></figure>\n<h6 id=\"36-118-102-120-114-105-115-132-145-119-121-112-139-125-138-109-132-134\"><a class=\"anchor\" href=\"#36-118-102-120-114-105-115-132-145-119-121-112-139-125-138-109-132-134\">#</a> 36 , 118 , 102 , 120 , 114 , 105 , 115 , 132 , 145 , 119 , 121 , 112 , 139 , 125 , 138 , 109 , 132 , 134 ,</h6>\n<h6 id=\"156-106-117-127-144-139-139-119-140-83-110-102-123-107-143-115-136-118\"><a class=\"anchor\" href=\"#156-106-117-127-144-139-139-119-140-83-110-102-123-107-143-115-136-118\">#</a> 156 , 106 , 117 , 127 , 144 , 139 , 139 , 119 , 140 , 83 , 110 , 102 , 123 , 107 , 143 , 115 , 136 , 118 ,</h6>\n<h6 id=\"139-123-112-118-125-109-119-133-112-114-122-109-106-123-116-131-127-115\"><a class=\"anchor\" href=\"#139-123-112-118-125-109-119-133-112-114-122-109-106-123-116-131-127-115\">#</a> 139 , 123 , 112 , 118 , 125 , 109 , 119 , 133 , 112 , 114 , 122 , 109 , 106 , 123 , 116 , 131 , 127 , 115</h6>\n<h6 id=\"118-112-135-115-146-137-116-103-144-83-123-111-110-111-100-154-136-100\"><a class=\"anchor\" href=\"#118-112-135-115-146-137-116-103-144-83-123-111-110-111-100-154-136-100\">#</a> , 118 , 112 , 135 , 115 , 146 , 137 , 116 , 103 , 144 , 83 , 123 , 111 , 110 , 111 , 100 , 154 , 136 , 100</h6>\n<h6 id=\"118-119-133-134-106-129-126-110-111-109-141-120-117-106-149-122-122-1\"><a class=\"anchor\" href=\"#118-119-133-134-106-129-126-110-111-109-141-120-117-106-149-122-122-1\">#</a> , 118 , 119 , 133 , 134 , 106 , 129 , 126 , 110 , 111 , 109 , 141 , 120 , 117 , 106 , 149 , 122 , 122 , 1</h6>\n<h6 id=\"10-118-127-121-114-125-126-114-140-103-130-141-117-106-114-121-114-133\"><a class=\"anchor\" href=\"#10-118-127-121-114-125-126-114-140-103-130-141-117-106-114-121-114-133\">#</a> 10 , 118 , 127 , 121 , 114 , 125 , 126 , 114 , 140 , 103 , 130 , 141 , 117 , 106 , 114 , 121 , 114 , 133 ,</h6>\n<h6 id=\"137-92-121-112-146-97-137-105-98-117-112-81-97-139-113-134-106-144\"><a class=\"anchor\" href=\"#137-92-121-112-146-97-137-105-98-117-112-81-97-139-113-134-106-144\">#</a> 137 , 92 , 121 , 112 , 146 , 97 , 137 , 105 , 98 , 117 , 112 , 81 , 97 , 139 , 113 , 134 , 106 , 144 ,</h6>\n<h6 id=\"110-137-137-111-104-117-100-111-101-110-105-129-137-112-120-113-133-112\"><a class=\"anchor\" href=\"#110-137-137-111-104-117-100-111-101-110-105-129-137-112-120-113-133-112\">#</a> 110 , 137 , 137 , 111 , 104 , 117 , 100 , 111 , 101 , 110 , 105 , 129 , 137 , 112 , 120 , 113 , 133 , 112</h6>\n<h6 id=\"83-94-146-133-101-131-116-111-84-137-115-122-106-144-109-123-116-1\"><a class=\"anchor\" href=\"#83-94-146-133-101-131-116-111-84-137-115-122-106-144-109-123-116-1\">#</a> , 83 , 94 , 146 , 133 , 101 , 131 , 116 , 111 , 84 , 137 , 115 , 122 , 106 , 144 , 109 , 123 , 116 , 1</h6>\n<h6 id=\"11-111-133-150\"><a class=\"anchor\" href=\"#11-111-133-150\">#</a> 11 , 111 , 133 , 150 ]</h6>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">plt</span>.figure(figsize=( <span class=\"number\">15</span> , <span class=\"number\">5</span> ))</span><br><span class=\"line\"><span class=\"attribute\">nums</span>,bins,patches = plt.hist(durations,bins= <span class=\"number\">20</span> ,edgecolor=&#x27;k&#x27;)</span><br><span class=\"line\"><span class=\"attribute\">plt</span>.xticks(bins,bins)</span><br><span class=\"line\"><span class=\"attribute\">for</span> num,bin in zip(nums,bins):</span><br><span class=\"line\"><span class=\"attribute\">plt</span>.annotate(num,xy=(bin,num),xytext=(bin+<span class=\"number\">1</span>.<span class=\"number\">5</span>,num+<span class=\"number\">0</span>.<span class=\"number\">5</span>))</span><br><span class=\"line\"><span class=\"attribute\">plt</span>.show()</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-6\"><a class=\"anchor\" href=\"#效果图如下-6\">#</a> 效果图如下：</h5>\n<h5 id=\"另外也可以通过-densitytrue-来实现频率分布直方图-示例代码如下\"><a class=\"anchor\" href=\"#另外也可以通过-densitytrue-来实现频率分布直方图-示例代码如下\">#</a> 另外，也可以通过 density=True ，来实现频率分布直方图。示例代码如下：</h5>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nums,bins,patches = plt.hist(durations,bins= <span class=\"number\">20</span> ,edgecolor=<span class=\"string\">&#x27;k&#x27;</span>,density=<span class=\"literal\">True</span>)</span><br><span class=\"line\">plt.xticks(bins,bins)</span><br><span class=\"line\"><span class=\"keyword\">for</span> num,<span class=\"built_in\">bin</span> <span class=\"keyword\">in</span> <span class=\"built_in\">zip</span>(nums,bins):</span><br><span class=\"line\">plt.annotate(<span class=\"string\">&quot;%.4f&quot;</span>%num,xy=(<span class=\"built_in\">bin</span>,num),xytext=(<span class=\"built_in\">bin</span>+<span class=\"number\">0.2</span>,num+<span class=\"number\">0.0005</span>))</span><br></pre></td></tr></table></figure>\n<h5 id=\"而如果想要让-nums-的总和为-1-那么就需要设置-cumulativetrue-参数示例代码如下\"><a class=\"anchor\" href=\"#而如果想要让-nums-的总和为-1-那么就需要设置-cumulativetrue-参数示例代码如下\">#</a> 而如果想要让 nums 的总和为 1 ，那么就需要设置 cumulative=True 参数，示例代码如下：</h5>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nums,bins,patches = plt.hist(durations,bins= <span class=\"number\">20</span> ,edgecolor=<span class=\"string\">&#x27;k&#x27;</span>,density=<span class=\"literal\">True</span>,cumulative=Tr</span><br><span class=\"line\">ue)</span><br><span class=\"line\">plt.xticks(bins,bins)</span><br><span class=\"line\"><span class=\"keyword\">for</span> num,<span class=\"built_in\">bin</span> <span class=\"keyword\">in</span> <span class=\"built_in\">zip</span>(nums,bins):</span><br><span class=\"line\">plt.annotate(<span class=\"string\">&quot;%.4f&quot;</span>%num,xy=(<span class=\"built_in\">bin</span>,num),xytext=(<span class=\"built_in\">bin</span>+<span class=\"number\">0.2</span>,num+<span class=\"number\">0.0005</span>))</span><br></pre></td></tr></table></figure>\n<h2 id=\"直方图的应用场景-2\"><a class=\"anchor\" href=\"#直方图的应用场景-2\">#</a> 直方图的应用场景：</h2>\n<h5 id=\"1-显示各组数据数量分布的情况-2\"><a class=\"anchor\" href=\"#1-显示各组数据数量分布的情况-2\">#</a> 1. 显示各组数据数量分布的情况。</h5>\n<h5 id=\"2-用于观察异常或孤立数据-2\"><a class=\"anchor\" href=\"#2-用于观察异常或孤立数据-2\">#</a> 2. 用于观察异常或孤立数据。</h5>\n<h5 id=\"3-抽取的样本数量过小将会产生较大误差可信度低也就失去了统计的意义-因此样本数-2\"><a class=\"anchor\" href=\"#3-抽取的样本数量过小将会产生较大误差可信度低也就失去了统计的意义-因此样本数-2\">#</a> 3. 抽取的样本数量过小，将会产生较大误差，可信度低，也就失去了统计的意义。因此，样本数</h5>\n<h5 id=\"不应少于-50-个-2\"><a class=\"anchor\" href=\"#不应少于-50-个-2\">#</a> 不应少于 50 个。</h5>\n<h1 id=\"散点图-2\"><a class=\"anchor\" href=\"#散点图-2\">#</a> 散点图</h1>\n<h5 id=\"散点图也叫-x-y-图它将所有的数据以点的形式展现在直角坐标系上以显示变量之间的相互影-2\"><a class=\"anchor\" href=\"#散点图也叫-x-y-图它将所有的数据以点的形式展现在直角坐标系上以显示变量之间的相互影-2\">#</a> 散点图也叫 X-Y 图，它将所有的数据以点的形式展现在直角坐标系上，以显示变量之间的相互影</h5>\n<h5 id=\"响程度点的位置由变量的数值决定-2\"><a class=\"anchor\" href=\"#响程度点的位置由变量的数值决定-2\">#</a> 响程度，点的位置由变量的数值决定。</h5>\n<h5 id=\"通过观察散点图上数据点的分布情况我们可以推断出变量间的相关性-如果变量之间不存在相互-2\"><a class=\"anchor\" href=\"#通过观察散点图上数据点的分布情况我们可以推断出变量间的相关性-如果变量之间不存在相互-2\">#</a> 通过观察散点图上数据点的分布情况，我们可以推断出变量间的相关性。如果变量之间不存在相互</h5>\n<h5 id=\"关系那么在散点图上就会表现为随机分布的离散的点如果存在某种相关性那么大部分的数据-2\"><a class=\"anchor\" href=\"#关系那么在散点图上就会表现为随机分布的离散的点如果存在某种相关性那么大部分的数据-2\">#</a> 关系，那么在散点图上就会表现为随机分布的离散的点，如果存在某种相关性，那么大部分的数据</h5>\n<h5 id=\"点就会相对密集并以某种趋势呈现-数据的相关关系主要分为正相关两个变量值同时增长-2\"><a class=\"anchor\" href=\"#点就会相对密集并以某种趋势呈现-数据的相关关系主要分为正相关两个变量值同时增长-2\">#</a> 点就会相对密集并以某种趋势呈现。数据的相关关系主要分为：正相关（两个变量值同时增长）、</h5>\n<h5 id=\"负相关一个变量值增加另一个变量值下降-不相关-线性相关-指数相关等表现在散点图上-2\"><a class=\"anchor\" href=\"#负相关一个变量值增加另一个变量值下降-不相关-线性相关-指数相关等表现在散点图上-2\">#</a> 负相关（一个变量值增加另一个变量值下降）、不相关、线性相关、指数相关等，表现在散点图上</h5>\n<h5 id=\"的大致分布如下图所示-那些离点集群较远的点我们称为离群点或者异常点-2\"><a class=\"anchor\" href=\"#的大致分布如下图所示-那些离点集群较远的点我们称为离群点或者异常点-2\">#</a> 的大致分布如下图所示。那些离点集群较远的点我们称为离群点或者异常点。</h5>\n<h5 id=\"示例图如下-4\"><a class=\"anchor\" href=\"#示例图如下-4\">#</a> 示例图如下：</h5>\n<h2 id=\"绘制散点图\"><a class=\"anchor\" href=\"#绘制散点图\">#</a> 绘制散点图：</h2>\n<h5 id=\"散点图的绘制使用的是-pltscatter-方法这个方法有以下参数\"><a class=\"anchor\" href=\"#散点图的绘制使用的是-pltscatter-方法这个方法有以下参数\">#</a> 散点图的绘制，使用的是 plt.scatter 方法，这个方法有以下参数：</h5>\n<h5 id=\"1-xy-分别是x轴和y轴的数据集-两者的数据长度必须一致\"><a class=\"anchor\" href=\"#1-xy-分别是x轴和y轴的数据集-两者的数据长度必须一致\">#</a> 1. x,y ：分别是 x 轴和 y 轴的数据集。两者的数据长度必须一致。</h5>\n<h5 id=\"2-s-点的尺寸-如果是一个具体的数字那么散点图的所有点都是一样大小如果是一个序\"><a class=\"anchor\" href=\"#2-s-点的尺寸-如果是一个具体的数字那么散点图的所有点都是一样大小如果是一个序\">#</a> 2. s ：点的尺寸。如果是一个具体的数字，那么散点图的所有点都是一样大小，如果是一个序</h5>\n<h5 id=\"列那么这个序列的长度应该和x轴数据量一致序列中的每个元素代表每个点的尺寸\"><a class=\"anchor\" href=\"#列那么这个序列的长度应该和x轴数据量一致序列中的每个元素代表每个点的尺寸\">#</a> 列，那么这个序列的长度应该和 x 轴数据量一致，序列中的每个元素代表每个点的尺寸。</h5>\n<h5 id=\"3-c-点的颜色-可以为具体的颜色也可以为一个序列或者是一个-cmap-对象\"><a class=\"anchor\" href=\"#3-c-点的颜色-可以为具体的颜色也可以为一个序列或者是一个-cmap-对象\">#</a> 3. c ：点的颜色。可以为具体的颜色，也可以为一个序列或者是一个 cmap 对象。</h5>\n<h5 id=\"4-marker-标记点默认是圆点也可以换成其他的\"><a class=\"anchor\" href=\"#4-marker-标记点默认是圆点也可以换成其他的\">#</a> 4. marker ：标记点，默认是圆点，也可以换成其他的。</h5>\n<h5 id=\"5-其他参\"><a class=\"anchor\" href=\"#5-其他参\">#</a> 5. 其他参</h5>\n<h5 id=\"数-httpsmatplotliborgapi_as_genmatplotlibpyplotscatterhtmlmatplotlibpypl\"><a class=\"anchor\" href=\"#数-httpsmatplotliborgapi_as_genmatplotlibpyplotscatterhtmlmatplotlibpypl\">#</a> 数： <span class=\"exturl\" data-url=\"aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9hcGkvX2FzX2dlbi9tYXRwbG90bGliLnB5cGxvdC5zY2F0dGVyLmh0bWwjbWF0cGxvdGxpYi5weXBs\">https://matplotlib.org/api/_as_gen/matplotlib.pyplot.scatter.html#matplotlib.pypl</span></h5>\n<h5 id=\"otscatter\"><a class=\"anchor\" href=\"#otscatter\">#</a> ot.scatter 。</h5>\n<h5 id=\"比如有一组运动员身高和体重以及年龄的数据那么可以通过以下代码来绘制散点图\"><a class=\"anchor\" href=\"#比如有一组运动员身高和体重以及年龄的数据那么可以通过以下代码来绘制散点图\">#</a> 比如有一组运动员身高和体重以及年龄的数据，那么可以通过以下代码来绘制散点图：</h5>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">male_athletes</span> = athletes[athletes[<span class=\"string\">&#x27;Sex&#x27;</span>] == <span class=\"string\">&#x27;M&#x27;</span>]</span><br><span class=\"line\"><span class=\"attr\">female_athletes</span> = athletes[athletes[<span class=\"string\">&#x27;Sex&#x27;</span>] == <span class=\"string\">&#x27;F&#x27;</span>]</span><br><span class=\"line\"><span class=\"attr\">male_mean_height</span> = male_athletes[<span class=\"string\">&#x27;Height&#x27;</span>].mean()</span><br><span class=\"line\"><span class=\"attr\">female_mean_height</span> = female_athletes[<span class=\"string\">&#x27;Height&#x27;</span>].mean()</span><br><span class=\"line\"><span class=\"attr\">male_mean_weight</span> = male_athletes[<span class=\"string\">&#x27;Weight&#x27;</span>].mean()</span><br><span class=\"line\"><span class=\"attr\">female_mean_weight</span> = female_athletes[<span class=\"string\">&#x27;Weight&#x27;</span>].mean()</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plt<span class=\"selector-class\">.figure</span>(figsize=( <span class=\"number\">10</span> , <span class=\"number\">5</span> ))</span><br><span class=\"line\">plt<span class=\"selector-class\">.scatter</span>(male_athletes<span class=\"selector-attr\">[<span class=\"string\">&#x27;Height&#x27;</span>]</span>,male_athletes<span class=\"selector-attr\">[<span class=\"string\">&#x27;Weight&#x27;</span>]</span>,s=male_athletes<span class=\"selector-attr\">[<span class=\"string\">&#x27;Age&#x27;</span>]</span>,<span class=\"selector-tag\">mark</span></span><br><span class=\"line\">er=<span class=\"string\">&#x27;^&#x27;</span>,<span class=\"attribute\">color</span>=<span class=\"string\">&#x27;g&#x27;</span>,label=<span class=\"string\">&#x27;男性&#x27;</span>,alpha=<span class=\"number\">0.5</span>)</span><br><span class=\"line\">plt<span class=\"selector-class\">.scatter</span>(female_athletes<span class=\"selector-attr\">[<span class=\"string\">&#x27;Height&#x27;</span>]</span>,female_athletes<span class=\"selector-attr\">[<span class=\"string\">&#x27;Weight&#x27;</span>]</span>,<span class=\"attribute\">color</span>=<span class=\"string\">&#x27;r&#x27;</span>,alpha=<span class=\"number\">0.5</span>,s=f</span><br><span class=\"line\">emale_athletes<span class=\"selector-attr\">[<span class=\"string\">&#x27;Age&#x27;</span>]</span>,label=<span class=\"string\">&#x27;女性&#x27;</span>)</span><br><span class=\"line\">plt<span class=\"selector-class\">.axvline</span>(male_mean_height,<span class=\"attribute\">color</span>=<span class=\"string\">&quot;g&quot;</span>,linewidth= <span class=\"number\">1</span> )</span><br><span class=\"line\">plt<span class=\"selector-class\">.axhline</span>(male_mean_weight,<span class=\"attribute\">color</span>=<span class=\"string\">&quot;g&quot;</span>,linewidth= <span class=\"number\">1</span> )</span><br><span class=\"line\">plt<span class=\"selector-class\">.axvline</span>(female_mean_height,<span class=\"attribute\">color</span>=<span class=\"string\">&quot;r&quot;</span>,linewidth= <span class=\"number\">1</span> )</span><br><span class=\"line\">plt<span class=\"selector-class\">.axhline</span>(female_mean_weight,<span class=\"attribute\">color</span>=<span class=\"string\">&quot;r&quot;</span>,linewidth= <span class=\"number\">1</span> )</span><br><span class=\"line\">plt<span class=\"selector-class\">.xticks</span>(np<span class=\"selector-class\">.arange</span>( <span class=\"number\">140</span> , <span class=\"number\">220</span> , <span class=\"number\">5</span> ))</span><br><span class=\"line\">plt<span class=\"selector-class\">.yticks</span>(np<span class=\"selector-class\">.arange</span>( <span class=\"number\">30</span> , <span class=\"number\">150</span> , <span class=\"number\">10</span> ))</span><br><span class=\"line\">plt<span class=\"selector-class\">.legend</span>(prop=<span class=\"attribute\">font</span>)</span><br><span class=\"line\">plt<span class=\"selector-class\">.xlabel</span>(<span class=\"string\">&quot;身高（cm）&quot;</span>,fontproperties=<span class=\"attribute\">font</span>)</span><br><span class=\"line\">plt<span class=\"selector-class\">.ylabel</span>(<span class=\"string\">&quot;体重（kg）&quot;</span>,fontproperties=<span class=\"attribute\">font</span>)</span><br><span class=\"line\">plt<span class=\"selector-class\">.title</span>(<span class=\"string\">&quot;运动员身高和体重散点图&quot;</span>,fontproperties=<span class=\"attribute\">font</span>)</span><br><span class=\"line\">plt<span class=\"selector-class\">.grid</span>()</span><br><span class=\"line\">plt<span class=\"selector-class\">.show</span>()</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-7\"><a class=\"anchor\" href=\"#效果图如下-7\">#</a> 效果图如下：</h5>\n<h2 id=\"绘制回归曲线\"><a class=\"anchor\" href=\"#绘制回归曲线\">#</a> 绘制回归曲线：</h2>\n<h5 id=\"有一组数据后我们可以对这组数据进行回归分析回归分析可以帮助我们了解这组数据的大体走\"><a class=\"anchor\" href=\"#有一组数据后我们可以对这组数据进行回归分析回归分析可以帮助我们了解这组数据的大体走\">#</a> 有一组数据后，我们可以对这组数据进行回归分析，回归分析可以帮助我们了解这组数据的大体走</h5>\n<h5 id=\"向-回归分析按照涉及的变量的多少分为一元回归和多元回归分析按照自变量的多少可分为\"><a class=\"anchor\" href=\"#向-回归分析按照涉及的变量的多少分为一元回归和多元回归分析按照自变量的多少可分为\">#</a> 向。回归分析按照涉及的变量的多少，分为一元回归和多元回归分析；按照自变量的多少，可分为</h5>\n<h5 id=\"简单回归分析和多重回归分析按照自变量和因变量之间的关系类型可分为线性回归分析和非线\"><a class=\"anchor\" href=\"#简单回归分析和多重回归分析按照自变量和因变量之间的关系类型可分为线性回归分析和非线\">#</a> 简单回归分析和多重回归分析；按照自变量和因变量之间的关系类型，可分为线性回归分析和非线</h5>\n<h5 id=\"性回归分析-如果在回归分析中只包括一个自变量和一个因变量且二者的关系可用一条直线近\"><a class=\"anchor\" href=\"#性回归分析-如果在回归分析中只包括一个自变量和一个因变量且二者的关系可用一条直线近\">#</a> 性回归分析。如果在回归分析中，只包括一个自变量和一个因变量，且二者的关系可用一条直线近</h5>\n<h5 id=\"似表示这种回归分析称为一元线性回归分析-如果回归分析中包括两个或两个以上的自变量且\"><a class=\"anchor\" href=\"#似表示这种回归分析称为一元线性回归分析-如果回归分析中包括两个或两个以上的自变量且\">#</a> 似表示，这种回归分析称为一元线性回归分析。如果回归分析中包括两个或两个以上的自变量，且</h5>\n<h5 id=\"自变量之间存在线性相关则称为多重线性回归分析\"><a class=\"anchor\" href=\"#自变量之间存在线性相关则称为多重线性回归分析\">#</a> 自变量之间存在线性相关，则称为多重线性回归分析。</h5>\n<h5 id=\"自变量数量-是否线性-回归类型\"><a class=\"anchor\" href=\"#自变量数量-是否线性-回归类型\">#</a> 自变量数量 是否线性 回归类型</h5>\n<h5 id=\"1-个-是-一元线性回归\"><a class=\"anchor\" href=\"#1-个-是-一元线性回归\">#</a> 1 个 是 一元线性回归</h5>\n<h5 id=\"多个-是-多元线性回归\"><a class=\"anchor\" href=\"#多个-是-多元线性回归\">#</a> 多个 是 多元线性回归</h5>\n<h5 id=\"1-个-否-一元非线性回归\"><a class=\"anchor\" href=\"#1-个-否-一元非线性回归\">#</a> 1 个 否 一元非线性回归</h5>\n<h5 id=\"多个-否-多元非线性回归\"><a class=\"anchor\" href=\"#多个-否-多元非线性回归\">#</a> 多个 否 多元非线性回归</h5>\n<h5 id=\"通过以上运动员散点图的分析我们总体上可以看出来是满足线性回归的因此可以在图上绘制一\"><a class=\"anchor\" href=\"#通过以上运动员散点图的分析我们总体上可以看出来是满足线性回归的因此可以在图上绘制一\">#</a> 通过以上运动员散点图的分析，我们总体上可以看出来是满足线性回归的，因此可以在图上绘制一</h5>\n<h5 id=\"个线性回归的线条-想要绘制线性回归的线条需要先按照之前的数据计算出线性方程假\"><a class=\"anchor\" href=\"#个线性回归的线条-想要绘制线性回归的线条需要先按照之前的数据计算出线性方程假\">#</a> 个线性回归的线条。想要绘制线性回归的线条，需要先按照之前的数据计算出线性方程，假</h5>\n<h5 id=\"如-x-是自变量-y-是因变量那么线性回归的方程可以用以下几个来表示\"><a class=\"anchor\" href=\"#如-x-是自变量-y-是因变量那么线性回归的方程可以用以下几个来表示\">#</a> 如 x 是自变量， y 是因变量，那么线性回归的方程可以用以下几个来表示：</h5>\n<figure class=\"highlight gml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">y</span> = 截距+斜率*<span class=\"variable language_\">x</span>+误差</span><br></pre></td></tr></table></figure>\n<h5 id=\"只要把这个方程计算出来了那么后续我们就可以根据-x-的值大概的估计出-y-的取值范围也\"><a class=\"anchor\" href=\"#只要把这个方程计算出来了那么后续我们就可以根据-x-的值大概的估计出-y-的取值范围也\">#</a> 只要把这个方程计算出来了，那么后续我们就可以根据 x 的值，大概的估计出 y 的取值范围，也</h5>\n<h5 id=\"就是预测-如果我们针对以上运动员的身高和体重的关系只要有身高那么就可以大概的估计出\"><a class=\"anchor\" href=\"#就是预测-如果我们针对以上运动员的身高和体重的关系只要有身高那么就可以大概的估计出\">#</a> 就是预测。如果我们针对以上运动员的身高和体重的关系，只要有身高，那么就可以大概的估计出</h5>\n<h5 id=\"体重的值-回归方程的绘制我们需要借助-scikit-learn-库这个库是专门做机器学习用的我们\"><a class=\"anchor\" href=\"#体重的值-回归方程的绘制我们需要借助-scikit-learn-库这个库是专门做机器学习用的我们\">#</a> 体重的值。回归方程的绘制我们需要借助 scikit-learn 库，这个库是专门做机器学习用的，我们</h5>\n<h5 id=\"需要使用里面的线性回归类-sklearnliear_regressionlinearregression-示例代码如下\"><a class=\"anchor\" href=\"#需要使用里面的线性回归类-sklearnliear_regressionlinearregression-示例代码如下\">#</a> 需要使用里面的线性回归类 sklearn.liear_regression.LinearRegression 。示例代码如下：</h5>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> sklearn.linear_model import LinearRegression</span><br><span class=\"line\">male_athletes = athletes[athletes[<span class=\"string\">&#x27;Sex&#x27;</span>] == <span class=\"string\">&#x27;M&#x27;</span>].dropna()</span><br><span class=\"line\">female_athletes = athletes[athletes[<span class=\"string\">&#x27;Sex&#x27;</span>] == <span class=\"string\">&#x27;F&#x27;</span>].dropna()</span><br><span class=\"line\">xtrain = male_athletes[<span class=\"string\">&#x27;Height&#x27;</span>]</span><br><span class=\"line\">ytrain = male_athletes[<span class=\"string\">&#x27;Weight&#x27;</span>]</span><br><span class=\"line\"><span class=\"comment\"># 生成线性回归对象</span></span><br><span class=\"line\">model = LinearRegression()</span><br><span class=\"line\"><span class=\"comment\"># 喂训练数据进去，但是需要把因变量转换成 1 列多行的数据</span></span><br><span class=\"line\">model.fit(xtrain[:,np.newaxis],ytrain)</span><br><span class=\"line\"><span class=\"comment\"># 打印斜率</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(model.coef_)</span><br><span class=\"line\"><span class=\"comment\"># 打印截距</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(model.intercept_)</span><br><span class=\"line\">line_xticks = xtrain</span><br><span class=\"line\"><span class=\"comment\"># 根据回归方程计算出的y轴坐标</span></span><br><span class=\"line\">line_yticks = model.predict(xtrain[:,np.newaxis])</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-8\"><a class=\"anchor\" href=\"#效果图如下-8\">#</a> 效果图如下：</h5>\n<h1 id=\"饼图\"><a class=\"anchor\" href=\"#饼图\">#</a> 饼图</h1>\n<h5 id=\"饼图是一个划分为几个扇形的圆形统计图表用于描述量-频率或百分比之间的相对关系的\"><a class=\"anchor\" href=\"#饼图是一个划分为几个扇形的圆形统计图表用于描述量-频率或百分比之间的相对关系的\">#</a> 饼图是一个划分为几个扇形的圆形统计图表，用于描述量、频率或百分比之间的相对关系的。</h5>\n<h5 id=\"在-matplotlib-中可以通过-pltpie-来实现其中的参数如下\"><a class=\"anchor\" href=\"#在-matplotlib-中可以通过-pltpie-来实现其中的参数如下\">#</a> 在 matplotlib 中，可以通过 plt.pie 来实现，其中的参数如下：</h5>\n<h5 id=\"1-x-饼图的比例序列\"><a class=\"anchor\" href=\"#1-x-饼图的比例序列\">#</a> 1. x ：饼图的比例序列。</h5>\n<h5 id=\"2-labels-饼图上每个分块的名称文字\"><a class=\"anchor\" href=\"#2-labels-饼图上每个分块的名称文字\">#</a> 2. labels ：饼图上每个分块的名称文字。</h5>\n<h5 id=\"3-explode-设置某几个分块是否要分离饼图\"><a class=\"anchor\" href=\"#3-explode-设置某几个分块是否要分离饼图\">#</a> 3. explode ：设置某几个分块是否要分离饼图。</h5>\n<h5 id=\"4-autopct-设置比例文字的展示方式-比如保留几个小数等\"><a class=\"anchor\" href=\"#4-autopct-设置比例文字的展示方式-比如保留几个小数等\">#</a> 4. autopct ：设置比例文字的展示方式。比如保留几个小数等。</h5>\n<h5 id=\"5-shadow-是否显示阴影\"><a class=\"anchor\" href=\"#5-shadow-是否显示阴影\">#</a> 5. shadow ：是否显示阴影。</h5>\n<h5 id=\"6-textprops-文本的属性颜色大小等\"><a class=\"anchor\" href=\"#6-textprops-文本的属性颜色大小等\">#</a> 6. textprops ：文本的属性（颜色，大小等）。</h5>\n<h5 id=\"7-其他参数httpsmatplotliborgapi_as_genmatplotlibpyplotpiehtmlmatplotlibpyplotpie\"><a class=\"anchor\" href=\"#7-其他参数httpsmatplotliborgapi_as_genmatplotlibpyplotpiehtmlmatplotlibpyplotpie\">#</a> 7. 其他参数：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9hcGkvX2FzX2dlbi9tYXRwbG90bGliLnB5cGxvdC5waWUuaHRtbCNtYXRwbG90bGliLnB5cGxvdC5waWU=\">https://matplotlib.org/api/_as_gen/matplotlib.pyplot.pie.html#matplotlib.pyplot.pie</span></h5>\n<h5 id=\"返回值-2\"><a class=\"anchor\" href=\"#返回值-2\">#</a> 返回值：</h5>\n<h5 id=\"1-patches-饼图上每个分块的对象\"><a class=\"anchor\" href=\"#1-patches-饼图上每个分块的对象\">#</a> 1. patches ：饼图上每个分块的对象。</h5>\n<h5 id=\"2-texts-分块的名字文本对象\"><a class=\"anchor\" href=\"#2-texts-分块的名字文本对象\">#</a> 2. texts ：分块的名字文本对象。</h5>\n<h5 id=\"3-autotexts-分块的比例文字对象\"><a class=\"anchor\" href=\"#3-autotexts-分块的比例文字对象\">#</a> 3. autotexts ：分块的比例文字对象。</h5>\n<h5 id=\"假如现在我们有一组数据用来记录各个操作系统的市场份额的-那么用饼状图表示如下\"><a class=\"anchor\" href=\"#假如现在我们有一组数据用来记录各个操作系统的市场份额的-那么用饼状图表示如下\">#</a> 假如现在我们有一组数据，用来记录各个操作系统的市场份额的。那么用饼状图表示如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">oses = &#123;</span><br><span class=\"line\"><span class=\"string\">&#x27;windows7&#x27;</span>:<span class=\"number\">60.86</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;windows10&#x27;</span>: <span class=\"number\">18.46</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;windows8&#x27;</span>: <span class=\"number\">3.61</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;windows xp&#x27;</span>: <span class=\"number\">10.3</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;mac os&#x27;</span>: <span class=\"number\">6.78</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;其他&#x27;</span>: <span class=\"number\">1.12</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">names = oses<span class=\"selector-class\">.keys</span>()</span><br><span class=\"line\">percents = oses<span class=\"selector-class\">.values</span>()</span><br><span class=\"line\">patches,texts,autotexts = plt<span class=\"selector-class\">.pie</span>(percents,labels=names,autopct=<span class=\"string\">&quot;%.2f%%&quot;</span>,explode=( <span class=\"number\">0</span> ,<span class=\"number\">0.05</span></span><br><span class=\"line\">, <span class=\"number\">0</span> , <span class=\"number\">0</span> , <span class=\"number\">0</span> , <span class=\"number\">0</span> ))</span><br><span class=\"line\"><span class=\"keyword\">for</span> <span class=\"selector-tag\">text</span> <span class=\"keyword\">in</span> texts+autotexts:</span><br><span class=\"line\">plt<span class=\"selector-class\">.setp</span>(<span class=\"selector-tag\">text</span>,fontproperties=<span class=\"attribute\">font</span>)</span><br><span class=\"line\"><span class=\"selector-tag\">text</span><span class=\"selector-class\">.set_fontsize</span>( <span class=\"number\">10</span> )</span><br><span class=\"line\"><span class=\"keyword\">for</span> <span class=\"selector-tag\">text</span> <span class=\"keyword\">in</span> autotexts:</span><br><span class=\"line\"><span class=\"selector-tag\">text</span><span class=\"selector-class\">.set_color</span>(<span class=\"string\">&quot;white&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-9\"><a class=\"anchor\" href=\"#效果图如下-9\">#</a> 效果图如下：</h5>\n<h1 id=\"箱线图-2\"><a class=\"anchor\" href=\"#箱线图-2\">#</a> 箱线图</h1>\n<h5 id=\"箱线图box-plot又称为盒须图-盒式图或箱型图是一种用作显示一组数据分散情况资料的统-2\"><a class=\"anchor\" href=\"#箱线图box-plot又称为盒须图-盒式图或箱型图是一种用作显示一组数据分散情况资料的统-2\">#</a> 箱线图（Box-plot）又称为盒须图、盒式图或箱型图，是一种用作显示一组数据分散情况资料的统</h5>\n<h5 id=\"计图-因形状如箱子而得名-在各种领域也经常被使用它主要用于反映原始数据分布的特征还-2\"><a class=\"anchor\" href=\"#计图-因形状如箱子而得名-在各种领域也经常被使用它主要用于反映原始数据分布的特征还-2\">#</a> 计图。因形状如箱子而得名。在各种领域也经常被使用，它主要用于反映原始数据分布的特征，还</h5>\n<h5 id=\"可以进行多组数据分布特征的比较-箱线图的绘制方法是先找出一组数据的上限值-下限值-2\"><a class=\"anchor\" href=\"#可以进行多组数据分布特征的比较-箱线图的绘制方法是先找出一组数据的上限值-下限值-2\">#</a> 可以进行多组数据分布特征的比较。箱线图的绘制方法是：先找出一组数据的上限值、下限值、</h5>\n<h5 id=\"中位数-q2-和下四分位数-q1-以及上四分位数-q3-然后连接两个四分位数画出箱-2\"><a class=\"anchor\" href=\"#中位数-q2-和下四分位数-q1-以及上四分位数-q3-然后连接两个四分位数画出箱-2\">#</a> 中位数（ Q2 ）和下四分位数（ Q1 ）以及上四分位数（ Q3 ）；然后，连接两个四分位数画出箱</h5>\n<h5 id=\"子再将最大值和最小值与箱子相连接中位数在箱子中间-2\"><a class=\"anchor\" href=\"#子再将最大值和最小值与箱子相连接中位数在箱子中间-2\">#</a> 子；再将最大值和最小值与箱子相连接，中位数在箱子中间。</h5>\n<h5 id=\"中位数把数据按照从小到大的顺序排序然后最中间的那个值为中位数如果数据的个数\"><a class=\"anchor\" href=\"#中位数把数据按照从小到大的顺序排序然后最中间的那个值为中位数如果数据的个数\">#</a> 中位数：把数据按照从小到大的顺序排序，然后最中间的那个值为中位数，如果数据的个数</h5>\n<h5 id=\"为偶数那么就是最中间的两个数的平均数为中位数\"><a class=\"anchor\" href=\"#为偶数那么就是最中间的两个数的平均数为中位数\">#</a> 为偶数，那么就是最中间的两个数的平均数为中位数。</h5>\n<h5 id=\"上下四分位数同样把数据排好序后把数据等分为-4-份-出现在-25-位置的叫做下四分位\"><a class=\"anchor\" href=\"#上下四分位数同样把数据排好序后把数据等分为-4-份-出现在-25-位置的叫做下四分位\">#</a> 上下四分位数：同样把数据排好序后，把数据等分为 4 份。出现在 25% 位置的叫做下四分位</h5>\n<h5 id=\"数出现在-75-位置上的数叫做上四分位数-但是四分位数位置的确定方法不是固定的有\"><a class=\"anchor\" href=\"#数出现在-75-位置上的数叫做上四分位数-但是四分位数位置的确定方法不是固定的有\">#</a> 数，出现在 75% 位置上的数叫做上四分位数。但是四分位数位置的确定方法不是固定的，有</h5>\n<h5 id=\"几种算法每种方法得到的结果会有一定差异但差异不会很大\"><a class=\"anchor\" href=\"#几种算法每种方法得到的结果会有一定差异但差异不会很大\">#</a> 几种算法，每种方法得到的结果会有一定差异，但差异不会很大。</h5>\n<h5 id=\"上下限的计算规则是\"><a class=\"anchor\" href=\"#上下限的计算规则是\">#</a> 上下限的计算规则是：</h5>\n<h5 id=\"iqrq3-q1-2\"><a class=\"anchor\" href=\"#iqrq3-q1-2\">#</a> IQR=Q3-Q1</h5>\n<h5 id=\"上限q315iqr-2\"><a class=\"anchor\" href=\"#上限q315iqr-2\">#</a> 上限 = Q3+1.5IQR</h5>\n<h5 id=\"下限q1-15iqr-2\"><a class=\"anchor\" href=\"#下限q1-15iqr-2\">#</a> 下限 = Q1-1.5IQR</h5>\n<h2 id=\"使用-matplotlib-绘制箱线图\"><a class=\"anchor\" href=\"#使用-matplotlib-绘制箱线图\">#</a> 使用 matplotlib 绘制箱线图：</h2>\n<h5 id=\"在-matplotlib-中有-pltboxplot-来绘制箱线图这个方法的相关参数如下\"><a class=\"anchor\" href=\"#在-matplotlib-中有-pltboxplot-来绘制箱线图这个方法的相关参数如下\">#</a> 在 matplotlib 中有 plt.boxplot 来绘制箱线图，这个方法的相关参数如下：</h5>\n<h5 id=\"1-x-需要绘制的箱线图的数据\"><a class=\"anchor\" href=\"#1-x-需要绘制的箱线图的数据\">#</a> 1. x ：需要绘制的箱线图的数据。</h5>\n<h5 id=\"2-notch-是否展示置信区间默认是-false-如果设置为-true-那么就会在盒子上展示一\"><a class=\"anchor\" href=\"#2-notch-是否展示置信区间默认是-false-如果设置为-true-那么就会在盒子上展示一\">#</a> 2. notch ：是否展示置信区间，默认是 False 。如果设置为 True ，那么就会在盒子上展示一</h5>\n<h5 id=\"个缺口\"><a class=\"anchor\" href=\"#个缺口\">#</a> 个缺口。</h5>\n<h5 id=\"3-sym-代表异常点的符号表示默认是小圆点\"><a class=\"anchor\" href=\"#3-sym-代表异常点的符号表示默认是小圆点\">#</a> 3. sym ：代表异常点的符号表示，默认是小圆点。</h5>\n<h5 id=\"4-vert-是否是垂直的默认是-true-如果设置为-false-那么将水平方向展示\"><a class=\"anchor\" href=\"#4-vert-是否是垂直的默认是-true-如果设置为-false-那么将水平方向展示\">#</a> 4. vert ：是否是垂直的，默认是 True ，如果设置为 False 那么将水平方向展示。</h5>\n<h5 id=\"5-whis-上下限的系数默认是-15-也就是上限是-q315iqr-可以改成其他的-也可以\"><a class=\"anchor\" href=\"#5-whis-上下限的系数默认是-15-也就是上限是-q315iqr-可以改成其他的-也可以\">#</a> 5. whis ：上下限的系数，默认是 1.5 ，也就是上限是 Q3+1.5IQR ，可以改成其他的。也可以</h5>\n<h5 id=\"为一个序列如果是序列那么序列中的两个值分别代表的就是下限和上限的值而不是再需\"><a class=\"anchor\" href=\"#为一个序列如果是序列那么序列中的两个值分别代表的就是下限和上限的值而不是再需\">#</a> 为一个序列，如果是序列，那么序列中的两个值分别代表的就是下限和上限的值，而不是再需</h5>\n<h5 id=\"要通过-iqr-来计算\"><a class=\"anchor\" href=\"#要通过-iqr-来计算\">#</a> 要通过 IQR 来计算。</h5>\n<h5 id=\"6-positions-设置每个盒子的位置\"><a class=\"anchor\" href=\"#6-positions-设置每个盒子的位置\">#</a> 6. positions ：设置每个盒子的位置。</h5>\n<h5 id=\"7-widths-设置每个盒子的宽度\"><a class=\"anchor\" href=\"#7-widths-设置每个盒子的宽度\">#</a> 7. widths ：设置每个盒子的宽度。</h5>\n<h5 id=\"8-labels-每个盒子的-label\"><a class=\"anchor\" href=\"#8-labels-每个盒子的-label\">#</a> 8. labels ：每个盒子的 label 。</h5>\n<h5 id=\"9-meanline-和-showmeans-如果这两个都为-true-那么将会绘制平均值的的线条\"><a class=\"anchor\" href=\"#9-meanline-和-showmeans-如果这两个都为-true-那么将会绘制平均值的的线条\">#</a> 9. meanline 和 showmeans ：如果这两个都为 True ，那么将会绘制平均值的的线条。</h5>\n<h5 id=\"示例代码如下-4\"><a class=\"anchor\" href=\"#示例代码如下-4\">#</a> 示例代码如下：</h5>\n<figure class=\"highlight haskell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">data</span> = np.random.rand( 100 )* 100</span></span><br><span class=\"line\"><span class=\"meta\"># 添加两个异常值</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">data</span> = np.append(<span class=\"title\">data</span>,<span class=\"title\">np</span>.<span class=\"title\">array</span>([-100, 100 ]))</span></span><br><span class=\"line\"><span class=\"title\">plt</span>.boxplot(<span class=\"class\"><span class=\"keyword\">data</span>,meanline=<span class=\"type\">True</span>,showmeans=<span class=\"type\">True</span>)</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-10\"><a class=\"anchor\" href=\"#效果图如下-10\">#</a> 效果图如下：</h5>\n<h5 id=\"如果有多组数据绘制箱型图才能更好的提现出箱型图的优势\"><a class=\"anchor\" href=\"#如果有多组数据绘制箱型图才能更好的提现出箱型图的优势\">#</a> 如果有多组数据绘制箱型图，才能更好的提现出箱型图的优势。</h5>\n<h5 id=\"假如我们想要获取奥林匹克运动会上不同国家运动员的身高情况那么可以把每个国家的运动员身\"><a class=\"anchor\" href=\"#假如我们想要获取奥林匹克运动会上不同国家运动员的身高情况那么可以把每个国家的运动员身\">#</a> 假如我们想要获取奥林匹克运动会上不同国家运动员的身高情况，那么可以把每个国家的运动员身</h5>\n<h5 id=\"高数据绘制成一个箱线图然后进行对比-示例代码如下\"><a class=\"anchor\" href=\"#高数据绘制成一个箱线图然后进行对比-示例代码如下\">#</a> 高数据绘制成一个箱线图，然后进行对比。示例代码如下：</h5>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">athletes = pd.read_csv(<span class=\"string\">&quot;athlete_events.csv&quot;</span>)</span><br><span class=\"line\"><span class=\"comment\"># (中国CHN，日本JPN，韩国KOR)，（埃塞俄比亚ETH，肯尼亚KEN，尼日利亚NIG），(美国USA，加拿大CA</span></span><br><span class=\"line\">N，巴西BRA)，(英国GBR，法国FRA，意大利ITA)</span><br><span class=\"line\">countries = &#123;</span><br><span class=\"line\"><span class=\"string\">&#x27;CHN&#x27;</span>:<span class=\"string\">&#x27;中国&#x27;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;JPN&#x27;</span>:<span class=\"string\">&quot;日本&quot;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;KOR&#x27;</span>:<span class=\"string\">&#x27;韩国&#x27;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;USA&#x27;</span>:<span class=\"string\">&quot;美国&quot;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;CAN&#x27;</span>:<span class=\"string\">&quot;加拿大&quot;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;BRA&#x27;</span>:<span class=\"string\">&quot;巴西&quot;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;GBR&#x27;</span>:<span class=\"string\">&quot;英国&quot;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;FRA&#x27;</span>:<span class=\"string\">&quot;法国&quot;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;ITA&#x27;</span>:<span class=\"string\">&quot;意大利&quot;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;ETH&#x27;</span>:<span class=\"string\">&quot;埃塞俄比亚&quot;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;KEN&#x27;</span>:<span class=\"string\">&quot;肯尼亚&quot;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;NIG&#x27;</span>:<span class=\"string\">&quot;尼日利亚&quot;</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">dfs = []</span><br><span class=\"line\"><span class=\"keyword\">for</span> code <span class=\"keyword\">in</span> countries.keys():</span><br><span class=\"line\">df = athletes[(athletes[<span class=\"string\">&#x27;NOC&#x27;</span>] == code)&amp;(athletes[<span class=\"string\">&#x27;Age&#x27;</span>]&gt; <span class=\"number\">18</span> )][<span class=\"string\">&#x27;Height&#x27;</span>].dropna()</span><br><span class=\"line\">dfs.append(df)</span><br><span class=\"line\">font = font_manager.FontProperties(fname=<span class=\"string\">r&quot;C:\\\\Windows\\\\Fonts\\\\msyh.ttc&quot;</span>,size= <span class=\"number\">14</span> )</span><br><span class=\"line\">plt.figure(figsize=( <span class=\"number\">20</span> , <span class=\"number\">5</span> ))</span><br><span class=\"line\">plt.boxplot(dfs,showmeans=<span class=\"literal\">True</span>,meanline=<span class=\"literal\">True</span>,labels=countries.values())</span><br><span class=\"line\">plt.xticks(<span class=\"built_in\">range</span>( <span class=\"number\">1</span> , <span class=\"number\">13</span> ),countries.values(),fontproperties=font)</span><br><span class=\"line\">plt.ylabel(<span class=\"string\">&quot;身高(cm)&quot;</span>,fontproperties=font)</span><br><span class=\"line\">plt.title(<span class=\"string\">&quot;奥林匹克运动员身高箱线图&quot;</span>,fontproperties=font)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-11\"><a class=\"anchor\" href=\"#效果图如下-11\">#</a> 效果图如下：</h5>\n<h2 id=\"箱线图的应用场景-2\"><a class=\"anchor\" href=\"#箱线图的应用场景-2\">#</a> 箱线图的应用场景：</h2>\n<h5 id=\"1-直观明了地识别数据中的异常值-2\"><a class=\"anchor\" href=\"#1-直观明了地识别数据中的异常值-2\">#</a> 1. 直观明了地识别数据中的异常值。</h5>\n<h5 id=\"2-利用箱线图判断数据的偏态-2\"><a class=\"anchor\" href=\"#2-利用箱线图判断数据的偏态-2\">#</a> 2. 利用箱线图判断数据的偏态。</h5>\n<h5 id=\"3-利用箱线图比较几批数据的形状-2\"><a class=\"anchor\" href=\"#3-利用箱线图比较几批数据的形状-2\">#</a> 3. 利用箱线图比较几批数据的形状。</h5>\n<h5 id=\"4-箱线图适合比较多组数据如果知识要看一组数据的分布情况建议使用直方图-2\"><a class=\"anchor\" href=\"#4-箱线图适合比较多组数据如果知识要看一组数据的分布情况建议使用直方图-2\">#</a> 4. 箱线图适合比较多组数据，如果知识要看一组数据的分布情况，建议使用直方图。</h5>\n<h1 id=\"雷达图\"><a class=\"anchor\" href=\"#雷达图\">#</a> 雷达图</h1>\n<h5 id=\"雷达图radar-chart又被叫做蜘蛛网图适用于显示三个或更多的维度的变量的强弱情况-比\"><a class=\"anchor\" href=\"#雷达图radar-chart又被叫做蜘蛛网图适用于显示三个或更多的维度的变量的强弱情况-比\">#</a> 雷达图（Radar Chart）又被叫做蜘蛛网图，适用于显示三个或更多的维度的变量的强弱情况。比</h5>\n<h5 id=\"如英雄联盟中某个影响的属性法术伤害物理防御等或者是某个企业在哪些业务方面的投入\"><a class=\"anchor\" href=\"#如英雄联盟中某个影响的属性法术伤害物理防御等或者是某个企业在哪些业务方面的投入\">#</a> 如英雄联盟中某个影响的属性（法术伤害，物理防御等），或者是某个企业在哪些业务方面的投入</h5>\n<h5 id=\"等都可以用雷达图方便的表示\"><a class=\"anchor\" href=\"#等都可以用雷达图方便的表示\">#</a> 等，都可以用雷达图方便的表示。</h5>\n<h2 id=\"使用-pltpolar-绘制雷达图\"><a class=\"anchor\" href=\"#使用-pltpolar-绘制雷达图\">#</a> 使用 plt.polar 绘制雷达图：</h2>\n<h5 id=\"在-matplotlibpyplot-中可以通过-pltpolar-来绘制雷达图这个方法的参数跟-pltplot-非常\"><a class=\"anchor\" href=\"#在-matplotlibpyplot-中可以通过-pltpolar-来绘制雷达图这个方法的参数跟-pltplot-非常\">#</a> 在 matplotlib.pyplot 中，可以通过 plt.polar 来绘制雷达图，这个方法的参数跟 plt.plot 非常</h5>\n<h5 id=\"的类似只不过是-x-轴的坐标点应该为弧度2pi360-示例代码如下\"><a class=\"anchor\" href=\"#的类似只不过是-x-轴的坐标点应该为弧度2pi360-示例代码如下\">#</a> 的类似，只不过是 x 轴的坐标点应该为弧度（2*PI=360°）。示例代码如下：</h5>\n<figure class=\"highlight matlab\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">properties</span> = [<span class=\"string\">&#x27;输出&#x27;</span>,<span class=\"string\">&#x27;KDA&#x27;</span>,<span class=\"string\">&#x27;发育&#x27;</span>,<span class=\"string\">&#x27;团战&#x27;</span>,<span class=\"string\">&#x27;生存&#x27;</span>]</span><br><span class=\"line\">values = [ <span class=\"number\">40</span> , <span class=\"number\">91</span> , <span class=\"number\">44</span> , <span class=\"number\">90</span> , <span class=\"number\">95</span> , <span class=\"number\">40</span> ]</span><br><span class=\"line\">theta = np.<span class=\"built_in\">linspace</span>( <span class=\"number\">0</span> ,np.<span class=\"built_in\">pi</span>* <span class=\"number\">2</span> , <span class=\"number\">6</span> )</span><br><span class=\"line\">plt.polar(theta,values)</span><br><span class=\"line\">plt.xticks(theta,<span class=\"keyword\">properties</span>,fontproperties=font)</span><br><span class=\"line\">plt.fill(theta,values)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-12\"><a class=\"anchor\" href=\"#效果图如下-12\">#</a> 效果图如下：</h5>\n<h5 id=\"其中有几点需要注意\"><a class=\"anchor\" href=\"#其中有几点需要注意\">#</a> 其中有几点需要注意：</h5>\n<h5 id=\"1-因为-polar-并不会完成线条的闭合绘制所以我们在绘制的时候需要在-theta-中\"><a class=\"anchor\" href=\"#1-因为-polar-并不会完成线条的闭合绘制所以我们在绘制的时候需要在-theta-中\">#</a> 1. 因为 polar 并不会完成线条的闭合绘制，所以我们在绘制的时候需要在 theta 中</h5>\n<h5 id=\"和-values-中在最后多重复添加第-0-个位置的值然后在绘制的时候就可以和第-1-个点进行闭合\"><a class=\"anchor\" href=\"#和-values-中在最后多重复添加第-0-个位置的值然后在绘制的时候就可以和第-1-个点进行闭合\">#</a> 和 values 中在最后多重复添加第 0 个位置的值，然后在绘制的时候就可以和第 1 个点进行闭合</h5>\n<h5 id=\"了\"><a class=\"anchor\" href=\"#了\">#</a> 了。</h5>\n<h5 id=\"2-polar-只是绘制线条所以如果想要把里面进行颜色填充那么需要调用-fill-函数来实\"><a class=\"anchor\" href=\"#2-polar-只是绘制线条所以如果想要把里面进行颜色填充那么需要调用-fill-函数来实\">#</a> 2. polar 只是绘制线条，所以如果想要把里面进行颜色填充，那么需要调用 fill 函数来实</h5>\n<h5 id=\"现-2\"><a class=\"anchor\" href=\"#现-2\">#</a> 现。</h5>\n<h5 id=\"3-polar-默认的圆圈的坐标是角度如果我们想要改成文字显示那么可以通过-xticks-来设\"><a class=\"anchor\" href=\"#3-polar-默认的圆圈的坐标是角度如果我们想要改成文字显示那么可以通过-xticks-来设\">#</a> 3. polar 默认的圆圈的坐标是角度，如果我们想要改成文字显示，那么可以通过 xticks 来设</h5>\n<h5 id=\"置\"><a class=\"anchor\" href=\"#置\">#</a> 置。</h5>\n<h2 id=\"使用子图绘制雷达图\"><a class=\"anchor\" href=\"#使用子图绘制雷达图\">#</a> 使用子图绘制雷达图：</h2>\n<h5 id=\"在多子图中绘图对象不再是-pyplot-而是-axes-而-axes-及其子类绘制雷达图则是通过将直角\"><a class=\"anchor\" href=\"#在多子图中绘图对象不再是-pyplot-而是-axes-而-axes-及其子类绘制雷达图则是通过将直角\">#</a> 在多子图中，绘图对象不再是 pyplot 而是 Axes ，而 Axes 及其子类绘制雷达图则是通过将直角</h5>\n<h5 id=\"坐标转换成极坐标然后再绘制折线图-示例代码如下\"><a class=\"anchor\" href=\"#坐标转换成极坐标然后再绘制折线图-示例代码如下\">#</a> 坐标转换成极坐标，然后再绘制折线图。示例代码如下：</h5>\n<h5 id=\"1-使用-pltsubplot-绘制的子图\"><a class=\"anchor\" href=\"#1-使用-pltsubplot-绘制的子图\">#</a> 1. 使用 plt.subplot 绘制的子图：</h5>\n<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">properties</span> = [&#x27;输出&#x27;,&#x27;KDA&#x27;,&#x27;发育&#x27;,&#x27;团战&#x27;,&#x27;生存&#x27;]</span><br><span class=\"line\"><span class=\"built_in\">values</span> = [ <span class=\"number\">40</span> , <span class=\"number\">91</span> , <span class=\"number\">44</span> , <span class=\"number\">90</span> , <span class=\"number\">95</span> , <span class=\"number\">40</span> ]</span><br><span class=\"line\">theta = <span class=\"built_in\">np</span>.linspace( <span class=\"number\">0</span> ,<span class=\"built_in\">np</span>.pi* <span class=\"number\">2</span> , <span class=\"number\">6</span> )</span><br><span class=\"line\"># 生成一个子图，并且指定子图的类型为<span class=\"built_in\">polar</span></span><br><span class=\"line\"><span class=\"built_in\">axes</span> = plt.subplot( <span class=\"number\">111</span> ,projection=<span class=\"string\">&quot;polar&quot;</span>)</span><br><span class=\"line\"><span class=\"built_in\">axes</span>.plot(theta,<span class=\"built_in\">values</span>)</span><br><span class=\"line\"><span class=\"built_in\">axes</span>.fill(theta,<span class=\"built_in\">values</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"2-使用-pltsubplots-绘制的子图\"><a class=\"anchor\" href=\"#2-使用-pltsubplots-绘制的子图\">#</a> 2. 使用 plt.subplots 绘制的子图：</h5>\n<figure class=\"highlight matlab\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">properties</span> = [<span class=\"string\">&#x27;输出&#x27;</span>,<span class=\"string\">&#x27;KDA&#x27;</span>,<span class=\"string\">&#x27;发育&#x27;</span>,<span class=\"string\">&#x27;团战&#x27;</span>,<span class=\"string\">&#x27;生存&#x27;</span>]</span><br><span class=\"line\">values = [ <span class=\"number\">40</span> , <span class=\"number\">91</span> , <span class=\"number\">44</span> , <span class=\"number\">90</span> , <span class=\"number\">95</span> , <span class=\"number\">40</span> ]</span><br><span class=\"line\">theta = np.<span class=\"built_in\">linspace</span>( <span class=\"number\">0</span> ,np.<span class=\"built_in\">pi</span>* <span class=\"number\">2</span> , <span class=\"number\">6</span> )</span><br><span class=\"line\"><span class=\"built_in\">figure</span>,axes = plt.subplots( <span class=\"number\">1</span> , <span class=\"number\">1</span> ,subplot_kw=&#123;<span class=\"string\">&quot;projection&quot;</span>:<span class=\"string\">&quot;polar&quot;</span>&#125;)</span><br><span class=\"line\">axes.<span class=\"built_in\">plot</span>(theta,values)</span><br></pre></td></tr></table></figure>\n<h5 id=\"3-使用-figadd_subplot-绘制的子图\"><a class=\"anchor\" href=\"#3-使用-figadd_subplot-绘制的子图\">#</a> 3. 使用 fig.add_subplot 绘制的子图：</h5>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">properties = [&#x27;输出&#x27;,&#x27;KDA&#x27;,&#x27;发育&#x27;,&#x27;团战&#x27;,&#x27;生存&#x27;]</span><br><span class=\"line\">values = [<span class=\"number\"> 40 </span>,<span class=\"number\"> 91 </span>,<span class=\"number\"> 44 </span>,<span class=\"number\"> 90 </span>,<span class=\"number\"> 95 </span>,<span class=\"number\"> 40 </span>]</span><br><span class=\"line\">theta = np.linspace(<span class=\"number\"> 0 </span>,np.pi*<span class=\"number\"> 2 </span>,<span class=\"number\"> 6 </span>)</span><br><span class=\"line\">fig = plt.figure(figsize=(<span class=\"number\"> 10 </span>,<span class=\"number\"> 10 </span>))</span><br><span class=\"line\">axes = fig.add_subplot(<span class=\"number\"> 111 </span>,polar=True)</span><br><span class=\"line\">axes.plot(theta,values)</span><br></pre></td></tr></table></figure>\n<h1 id=\"matplotlib-绘图分析\"><a class=\"anchor\" href=\"#matplotlib-绘图分析\">#</a> matplotlib 绘图分析</h1>\n<h5 id=\"解释\"><a class=\"anchor\" href=\"#解释\">#</a> 解释：</h5>\n<h5 id=\"1-figure-图形绘制的画板他就相当于一个黑板所有的图都是绘制在-figure-上面\"><a class=\"anchor\" href=\"#1-figure-图形绘制的画板他就相当于一个黑板所有的图都是绘制在-figure-上面\">#</a> 1. Figure ：图形绘制的画板，他就相当于一个黑板，所有的图都是绘制在 Figure 上面。</h5>\n<h5 id=\"2-axes-每个图都是-axes-对象-一个-figure-上可以有多个-axes-对象\"><a class=\"anchor\" href=\"#2-axes-每个图都是-axes-对象-一个-figure-上可以有多个-axes-对象\">#</a> 2. Axes ：每个图都是 Axes 对象。一个 Figure 上可以有多个 Axes 对象。</h5>\n<h5 id=\"3-axis-x-轴-y-轴的对象\"><a class=\"anchor\" href=\"#3-axis-x-轴-y-轴的对象\">#</a> 3. Axis ： x 轴、 y 轴的对象。</h5>\n<h5 id=\"4-tick-x-轴和-y-轴上的刻度对象-每一个刻度都是一个-tick-对象\"><a class=\"anchor\" href=\"#4-tick-x-轴和-y-轴上的刻度对象-每一个刻度都是一个-tick-对象\">#</a> 4. Tick ： x 轴和 y 轴上的刻度对象。每一个刻度都是一个 Tick 对象。</h5>\n<h5 id=\"5-ticklabel-每个刻度上都要显示文字这个文字的显示就是在-ticklabel-上\"><a class=\"anchor\" href=\"#5-ticklabel-每个刻度上都要显示文字这个文字的显示就是在-ticklabel-上\">#</a> 5. TickLabel ：每个刻度上都要显示文字，这个文字的显示就是在 TickLabel 上。</h5>\n<h5 id=\"6-axislabel-x-轴和-y-轴的名称的文字显示\"><a class=\"anchor\" href=\"#6-axislabel-x-轴和-y-轴的名称的文字显示\">#</a> 6. AxisLabel ： x 轴和 y 轴的名称的文字显示。</h5>\n<h5 id=\"7-legend-图例对象\"><a class=\"anchor\" href=\"#7-legend-图例对象\">#</a> 7. Legend ：图例对象。</h5>\n<h5 id=\"8-title-axes-图的标题对象\"><a class=\"anchor\" href=\"#8-title-axes-图的标题对象\">#</a> 8. Title ： Axes 图的标题对象。</h5>\n<h5 id=\"9-line2d-绘制在-axes-上的线条对象比如折线图等\"><a class=\"anchor\" href=\"#9-line2d-绘制在-axes-上的线条对象比如折线图等\">#</a> 9. Line2D ：绘制在 Axes 上的线条对象，比如折线图等。</h5>\n<h5 id=\"10-reactangle-绘制在-axes-上的矩形对象比如条形图等\"><a class=\"anchor\" href=\"#10-reactangle-绘制在-axes-上的矩形对象比如条形图等\">#</a> 10. Reactangle ：绘制在 Axes 上的矩形对象，比如条形图等。</h5>\n<h5 id=\"11-marker-标记点比如绘制散点图上的每个点就是这个对象\"><a class=\"anchor\" href=\"#11-marker-标记点比如绘制散点图上的每个点就是这个对象\">#</a> 11. Marker ：标记点，比如绘制散点图上的每个点就是这个对象。</h5>\n<h5 id=\"12-artist-只要是绘制在-figure-上的元素包括figure都是-artist-的子类\"><a class=\"anchor\" href=\"#12-artist-只要是绘制在-figure-上的元素包括figure都是-artist-的子类\">#</a> 12. Artist ：只要是绘制在 Figure 上的元素（包括 Figure），都是 Artist 的子类。</h5>\n<h2 id=\"一-figure-容器\"><a class=\"anchor\" href=\"#一-figure-容器\">#</a> 一、 Figure 容器：</h2>\n<h5 id=\"figure-容器是最顶层的容器他几乎包含了这个图的所有对象-通\"><a class=\"anchor\" href=\"#figure-容器是最顶层的容器他几乎包含了这个图的所有对象-通\">#</a> Figure 容器是最顶层的容器，他几乎包含了这个图的所有对象。通</h5>\n<h5 id=\"过-add_subplot-和-add_axes-方法可以添加-axes-对象这两个方法添加的都是-axes-及其子类的\"><a class=\"anchor\" href=\"#过-add_subplot-和-add_axes-方法可以添加-axes-对象这两个方法添加的都是-axes-及其子类的\">#</a> 过 add_subplot 和 add_axes 方法可以添加 Axes 对象，这两个方法添加的都是 Axes 及其子类的</h5>\n<h5 id=\"对象-添加完成后是存储在-figureaxes-中-示例代码如下\"><a class=\"anchor\" href=\"#对象-添加完成后是存储在-figureaxes-中-示例代码如下\">#</a> 对象。添加完成后是存储在 figure.axes 中。示例代码如下：</h5>\n<figure class=\"highlight smali\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [ 156 ]: fig = plt.figure()</span><br><span class=\"line\">In [ 157 ]: ax1 = fig.add_subplot( 211 )</span><br><span class=\"line\">In [ 158 ]: ax2 = fig.add_axes([0.1, 0.1, 0.7, 0.3])</span><br><span class=\"line\">In [ 159 ]: ax1</span><br><span class=\"line\">Out[ 159 ]: &lt;matplotlib.axes.Subplot<span class=\"built_in\"> instance </span>at 0xd54b26c&gt;</span><br><span class=\"line\">In [ 160 ]: print(fig.axes)</span><br><span class=\"line\">[&lt;matplotlib.axes.Subplot<span class=\"built_in\"> instance </span>at 0xd54b26c&gt;, &lt;matplotlib.axes.Axes<span class=\"built_in\"> instance </span>at 0xd</span><br><span class=\"line\">3f0b2c&gt;]</span><br></pre></td></tr></table></figure>\n<h3 id=\"11-添加-axes-对象\"><a class=\"anchor\" href=\"#11-添加-axes-对象\">#</a> 1.1. 添加 Axes 对象：</h3>\n<h5 id=\"figure-只是一个黑板如果想要绘图需要先添加-axes-添加-axes-可以通\"><a class=\"anchor\" href=\"#figure-只是一个黑板如果想要绘图需要先添加-axes-添加-axes-可以通\">#</a> Figure 只是一个黑板，如果想要绘图，需要先添加 Axes 。添加 Axes 可以通</h5>\n<h5 id=\"过-add_axes-和-add_subplot-来实现-示例代码如下\"><a class=\"anchor\" href=\"#过-add_axes-和-add_subplot-来实现-示例代码如下\">#</a> 过 add_axes 和 add_subplot 来实现。示例代码如下：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 创建一个figure对象</span></span><br><span class=\"line\"><span class=\"attribute\">fig</span> = plt.figure()</span><br><span class=\"line\"><span class=\"comment\"># 添加一个Axes</span></span><br><span class=\"line\"><span class=\"attribute\">ax1</span> = fig.add_subplot( <span class=\"number\">211</span> )</span><br><span class=\"line\"><span class=\"comment\"># 添加一个Axes，其中参数是left,bottom,width,height</span></span><br><span class=\"line\"><span class=\"attribute\">ax2</span> = fig.add_axes([<span class=\"number\">0</span>.<span class=\"number\">1</span>,<span class=\"number\">0</span>.<span class=\"number\">1</span>,<span class=\"number\">0</span>.<span class=\"number\">8</span>,<span class=\"number\">0</span>.<span class=\"number\">3</span>])</span><br></pre></td></tr></table></figure>\n<h3 id=\"12-操作当前-axes-对象\"><a class=\"anchor\" href=\"#12-操作当前-axes-对象\">#</a> 1.2. 操作当前 Axes 对象：</h3>\n<h5 id=\"可以通过-figuregca-以及-figuresca-来设置和获取当前的-axes-对象-示例代码如下\"><a class=\"anchor\" href=\"#可以通过-figuregca-以及-figuresca-来设置和获取当前的-axes-对象-示例代码如下\">#</a> 可以通过 figure.gca 以及 figure.sca 来设置和获取当前的 axes 对象。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fig = plt<span class=\"selector-class\">.figure</span>()</span><br><span class=\"line\">ax1 = fig<span class=\"selector-class\">.add_subplot</span>( <span class=\"number\">211</span> )</span><br><span class=\"line\">ax2 = fig<span class=\"selector-class\">.add_axes</span>(<span class=\"selector-attr\">[ 0 , 0 , 1 ,0.3]</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(fig.gca()</span></span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(fig.sca(ax1)</span></span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\">&gt;&gt;</span> <span class=\"title class_\">Axes</span>( <span class=\"number\">0</span> , <span class=\"number\">0</span> ; <span class=\"number\">1</span> x0.<span class=\"number\">3</span>)</span><br><span class=\"line\"><span class=\"meta prompt_\">&gt;&gt;</span> <span class=\"title class_\">AxesSubplot</span>(<span class=\"number\">0.125</span>,<span class=\"number\">0.536818</span>;<span class=\"number\">0</span>.775x0.<span class=\"number\">343182</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"13-删除-axes-对象\"><a class=\"anchor\" href=\"#13-删除-axes-对象\">#</a> 1.3. 删除 Axes 对象：</h3>\n<h5 id=\"figure-上的所有-axes-对象都是保存在-figaxes-中但是如果想要删除某个-axes-对象那么\"><a class=\"anchor\" href=\"#figure-上的所有-axes-对象都是保存在-figaxes-中但是如果想要删除某个-axes-对象那么\">#</a> Figure 上的所有 Axes 对象都是保存在 fig.axes 中，但是如果想要删除某个 Axes 对象，那么</h5>\n<h5 id=\"必须通过-delaxes-来实现\"><a class=\"anchor\" href=\"#必须通过-delaxes-来实现\">#</a> 必须通过 delaxes 来实现：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fig = plt<span class=\"selector-class\">.figure</span>()</span><br><span class=\"line\">ax1 = fig<span class=\"selector-class\">.add_subplot</span>( <span class=\"number\">211</span> )</span><br><span class=\"line\">ax2 = fig<span class=\"selector-class\">.add_axes</span>(<span class=\"selector-attr\">[ 0 , 0 , 1 ,0.3]</span>)</span><br><span class=\"line\">fig<span class=\"selector-class\">.delaxes</span>(ax1)</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">print</span><span class=\"params\">(fig.axes)</span></span></span><br></pre></td></tr></table></figure>\n<h3 id=\"14-获取所有的-axes\"><a class=\"anchor\" href=\"#14-获取所有的-axes\">#</a> 1.4. 获取所有的 axes ：</h3>\n<figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> ax <span class=\"keyword\">in</span> fig.axes:</span><br><span class=\"line\">ax.grid(<span class=\"literal\">True</span>) <span class=\"meta\"># 设置打开网格</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"15-figure-的属性有如下\"><a class=\"anchor\" href=\"#15-figure-的属性有如下\">#</a> 1.5. Figure 的属性有如下：</h3>\n<h5 id=\"figure-类定义介\"><a class=\"anchor\" href=\"#figure-类定义介\">#</a> Figure 类定义介</h5>\n<h5 id=\"绍httpsmatplotliborgapi_as_genmatplotlibfigurefigurehtmlmatplotlibfigurefigure\"><a class=\"anchor\" href=\"#绍httpsmatplotliborgapi_as_genmatplotlibfigurefigurehtmlmatplotlibfigurefigure\">#</a> 绍：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9hcGkvX2FzX2dlbi9tYXRwbG90bGliLmZpZ3VyZS5GaWd1cmUuaHRtbCNtYXRwbG90bGliLmZpZ3VyZS5GaWd1cmU=\">https://matplotlib.org/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure</span></h5>\n<h2 id=\"二-axes-容器\"><a class=\"anchor\" href=\"#二-axes-容器\">#</a> 二、 Axes 容器：</h2>\n<h5 id=\"axes-容器是用来创建具体的图形的-比如画曲线柱状图都是画在上面-所以之前我们学的使\"><a class=\"anchor\" href=\"#axes-容器是用来创建具体的图形的-比如画曲线柱状图都是画在上面-所以之前我们学的使\">#</a> Axes 容器是用来创建具体的图形的。比如画曲线，柱状图，都是画在上面。所以之前我们学的使</h5>\n<h5 id=\"用-pltxx-绘制各种图形比如条形图直方图散点图等都是对-axes-的封装-比\"><a class=\"anchor\" href=\"#用-pltxx-绘制各种图形比如条形图直方图散点图等都是对-axes-的封装-比\">#</a> 用 plt.xx 绘制各种图形（比如条形图，直方图，散点图等）都是对 Axes 的封装。比</h5>\n<h5 id=\"如-pltplot-对应的是-axesplot-比如-plthist-对应的是-axeshist-针对图的所有操作都\"><a class=\"anchor\" href=\"#如-pltplot-对应的是-axesplot-比如-plthist-对应的是-axeshist-针对图的所有操作都\">#</a> 如 plt.plot 对应的是 axes.plot ，比如 plt.hist 对应的是 axes.hist 。针对图的所有操作，都</h5>\n<h5 id=\"可以在-axes-上找到对应的-api-另外后面要讲到的-axis-容器是轴的对象也是绑定\"><a class=\"anchor\" href=\"#可以在-axes-上找到对应的-api-另外后面要讲到的-axis-容器是轴的对象也是绑定\">#</a> 可以在 Axes 上找到对应的 API 。另外后面要讲到的 Axis 容器，是轴的对象，也是绑定</h5>\n<h5 id=\"在-axes-上面\"><a class=\"anchor\" href=\"#在-axes-上面\">#</a> 在 Axes 上面。</h5>\n<h5 id=\"axes-的类定义介绍httpsmatplotliborgapiaxes_apihtmlmatplotlibaxesaxes\"><a class=\"anchor\" href=\"#axes-的类定义介绍httpsmatplotliborgapiaxes_apihtmlmatplotlibaxesaxes\">#</a> Axes 的类定义介绍：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9hcGkvYXhlc19hcGkuaHRtbCNtYXRwbG90bGliLmF4ZXMuQXhlcw==\">https://matplotlib.org/api/axes_api.html#matplotlib.axes.Axes</span></h5>\n<h3 id=\"21-设置-x-和-y-轴的最大值和最小值\"><a class=\"anchor\" href=\"#21-设置-x-和-y-轴的最大值和最小值\">#</a> 2.1. 设置 x 和 y 轴的最大值和最小值：</h3>\n<h5 id=\"设置完刻度后我们还可以设置x轴和y轴的最大值和最小值-可以通过-set_xlimset_ylim-来实\"><a class=\"anchor\" href=\"#设置完刻度后我们还可以设置x轴和y轴的最大值和最小值-可以通过-set_xlimset_ylim-来实\">#</a> 设置完刻度后，我们还可以设置 x 轴和 y 轴的最大值和最小值。可以通过 set_xlim/set_ylim 来实</h5>\n<h5 id=\"现-3\"><a class=\"anchor\" href=\"#现-3\">#</a> 现：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fig = plt<span class=\"selector-class\">.figure</span>()</span><br><span class=\"line\">axes = fig<span class=\"selector-class\">.add_subplot</span>( <span class=\"number\">111</span> )</span><br><span class=\"line\">axes<span class=\"selector-class\">.plot</span>(np<span class=\"selector-class\">.random</span><span class=\"selector-class\">.randn</span>( <span class=\"number\">10</span> ))</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 设置x轴的最大值和最小值</span></span><br><span class=\"line\"><span class=\"attribute\">axes</span>.set_xlim(-<span class=\"number\">2</span>, <span class=\"number\">12</span> )</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 设置y轴的最大值和最小值</span></span><br><span class=\"line\"><span class=\"attribute\">axes</span>.set_ylim(-<span class=\"number\">3</span>, <span class=\"number\">3</span> )</span><br></pre></td></tr></table></figure>\n<h3 id=\"22-添加文本\"><a class=\"anchor\" href=\"#22-添加文本\">#</a> 2.2. 添加文本：</h3>\n<h5 id=\"之前添加文本我们用的是-annotate-但是如果不是需要做注释其实还有另外一种更加简单的方\"><a class=\"anchor\" href=\"#之前添加文本我们用的是-annotate-但是如果不是需要做注释其实还有另外一种更加简单的方\">#</a> 之前添加文本我们用的是 annotate ，但是如果不是需要做注释，其实还有另外一种更加简单的方</h5>\n<h5 id=\"式那就是使用-text-方法\"><a class=\"anchor\" href=\"#式那就是使用-text-方法\">#</a> 式，那就是使用 text 方法：</h5>\n<figure class=\"highlight haskell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">data</span> = np.random.randn( 10 )</span></span><br><span class=\"line\"><span class=\"title\">fig</span> = plt.figure()</span><br><span class=\"line\"><span class=\"title\">axes</span> = fig.add_subplot( <span class=\"number\">111</span> )</span><br><span class=\"line\"><span class=\"title\">axes</span>.plot(<span class=\"class\"><span class=\"keyword\">data</span>)</span></span><br><span class=\"line\"><span class=\"meta\"># 添加文本，比annotate更加方便</span></span><br><span class=\"line\"><span class=\"title\">axes</span>.text( <span class=\"number\">0</span> , <span class=\"number\">0</span> ,<span class=\"string\">&quot;hello&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"23-绘制双-y-轴\"><a class=\"anchor\" href=\"#23-绘制双-y-轴\">#</a> 2.3. 绘制双 Y 轴：</h3>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fig = plt<span class=\"selector-class\">.figure</span>()</span><br><span class=\"line\">ax1 = fig<span class=\"selector-class\">.add_subplot</span>( <span class=\"number\">211</span> )</span><br><span class=\"line\">ax1<span class=\"selector-class\">.bar</span>(np<span class=\"selector-class\">.arange</span>( <span class=\"number\">0</span> , <span class=\"number\">10</span> , <span class=\"number\">2</span> ),np<span class=\"selector-class\">.random</span><span class=\"selector-class\">.rand</span>( <span class=\"number\">5</span> ))</span><br><span class=\"line\">ax1<span class=\"selector-class\">.set_yticks</span>(np<span class=\"selector-class\">.arange</span>( <span class=\"number\">0</span> , <span class=\"number\">1</span> ,<span class=\"number\">0.25</span>))</span><br><span class=\"line\">ax2 = ax1<span class=\"selector-class\">.twinx</span>() #克隆一个共享<span class=\"attribute\">x</span>轴的axes对象</span><br><span class=\"line\">ax2<span class=\"selector-class\">.plot</span>(np<span class=\"selector-class\">.random</span><span class=\"selector-class\">.randn</span>( <span class=\"number\">10</span> ),c=<span class=\"string\">&quot;b&quot;</span>)</span><br><span class=\"line\">plt<span class=\"selector-class\">.show</span>()</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-13\"><a class=\"anchor\" href=\"#效果图如下-13\">#</a> 效果图如下：</h5>\n<h2 id=\"三-axis-容器\"><a class=\"anchor\" href=\"#三-axis-容器\">#</a> 三、 Axis 容器：</h2>\n<h5 id=\"axis-代表的是-x-轴或者-y-轴的对象-包含-tick-刻度对象-ticklabel-刻度文本对象以\"><a class=\"anchor\" href=\"#axis-代表的是-x-轴或者-y-轴的对象-包含-tick-刻度对象-ticklabel-刻度文本对象以\">#</a> Axis 代表的是 x 轴或者 y 轴的对象。包含 Tick （刻度）对象， TickLabel 刻度文本对象，以</h5>\n<h5 id=\"及-axislabel-坐标轴文本对象-axis-对象有一些方法可以操作刻度和文本等\"><a class=\"anchor\" href=\"#及-axislabel-坐标轴文本对象-axis-对象有一些方法可以操作刻度和文本等\">#</a> 及 AxisLabel 坐标轴文本对象。 axis 对象有一些方法可以操作刻度和文本等。</h5>\n<h3 id=\"31-设置-x-轴和-y-轴-label-的位置\"><a class=\"anchor\" href=\"#31-设置-x-轴和-y-轴-label-的位置\">#</a> 3.1. 设置 x 轴和 y 轴 label 的位置：</h3>\n<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fig = plt.figure()</span><br><span class=\"line\"><span class=\"built_in\">axes</span> = fig.add_subplot( <span class=\"number\">111</span> )</span><br><span class=\"line\"><span class=\"built_in\">axes</span>.plot(<span class=\"built_in\">np</span>.<span class=\"built_in\">random</span>.randn( <span class=\"number\">10</span> ))</span><br><span class=\"line\"><span class=\"built_in\">axes</span>.set_xlabel(<span class=\"string\">&quot;x coordate&quot;</span>)</span><br><span class=\"line\"># 设置x轴<span class=\"built_in\">label</span>的位置为(<span class=\"number\">0</span>.-<span class=\"number\">0.1</span>)</span><br><span class=\"line\"><span class=\"built_in\">axes</span>.<span class=\"built_in\">xaxis</span>.set_label_coords( <span class=\"number\">0</span> ,-<span class=\"number\">0.1</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"32-设置刻度上的刻度格式\"><a class=\"anchor\" href=\"#32-设置刻度上的刻度格式\">#</a> 3.2. 设置刻度上的刻度格式：</h3>\n<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import matplotlib.ticker as ticker</span><br><span class=\"line\">fig = plt.figure()</span><br><span class=\"line\"><span class=\"built_in\">axes</span> = fig.add_subplot( <span class=\"number\">111</span> )</span><br><span class=\"line\"><span class=\"built_in\">axes</span>.plot(<span class=\"built_in\">np</span>.<span class=\"built_in\">random</span>.randn( <span class=\"number\">10</span> ))</span><br><span class=\"line\"><span class=\"built_in\">axes</span>.set_xlabel(<span class=\"string\">&quot;x coordate&quot;</span>)</span><br><span class=\"line\"># 创建格式化对象</span><br><span class=\"line\">formatter = ticker.FormatStrFormatter(&#x27;<span class=\"symbol\">%</span>.2f&#x27;)</span><br><span class=\"line\"># 设置格式化对象</span><br><span class=\"line\"><span class=\"built_in\">axes</span>.<span class=\"built_in\">yaxis</span>.set_major_formatter(formatter)</span><br></pre></td></tr></table></figure>\n<h3 id=\"33-设置轴的属性\"><a class=\"anchor\" href=\"#33-设置轴的属性\">#</a> 3.3. 设置轴的属性：</h3>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">fig</span> <span class=\"operator\">=</span> plt.figure()</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">ax1</span> = fig.add_axes([<span class=\"number\">0</span>.<span class=\"number\">1</span>, <span class=\"number\">0</span>.<span class=\"number\">3</span>, <span class=\"number\">0</span>.<span class=\"number\">4</span>, <span class=\"number\">0</span>.<span class=\"number\">4</span>])</span><br><span class=\"line\"><span class=\"attribute\">ax1</span>.set_facecolor(&#x27;lightslategray&#x27;)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\"># 设置刻度上文本的属性</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight sas\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for <span class=\"keyword\">label</span> <span class=\"keyword\">in</span> ax1.xaxis.get_ticklabels():</span><br><span class=\"line\"># <span class=\"keyword\">label</span>是一个<span class=\"keyword\">Label</span>对象</span><br><span class=\"line\"><span class=\"keyword\">label</span>.set_color(<span class=\"string\">&#x27;red&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">label</span>.set_rotatio<span class=\"meta\">n</span>( 45 )</span><br><span class=\"line\"><span class=\"keyword\">label</span>.set_fontsize( 16 )</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 设置刻度上线条的属性</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> <span class=\"built_in\">line</span> <span class=\"keyword\">in</span> ax1.yaxis.get_ticklines():</span><br><span class=\"line\"><span class=\"comment\"># line是一个Line2D对象</span></span><br><span class=\"line\"><span class=\"built_in\">line</span>.set_color(<span class=\"string\">&#x27;green&#x27;</span>)</span><br><span class=\"line\"><span class=\"built_in\">line</span>.set_markersize( <span class=\"number\">25</span> )</span><br><span class=\"line\"><span class=\"built_in\">line</span>.set_markeredgewidth( <span class=\"number\">3</span> )</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plt.<span class=\"keyword\">show</span>()</span><br></pre></td></tr></table></figure>\n<h2 id=\"四-tick-容器\"><a class=\"anchor\" href=\"#四-tick-容器\">#</a> 四、 Tick 容器：</h2>\n<h5 id=\"tick-是用来做刻度的包括刻度和网格对象-其中可操作的属性如下\"><a class=\"anchor\" href=\"#tick-是用来做刻度的包括刻度和网格对象-其中可操作的属性如下\">#</a> Tick 是用来做刻度的，包括刻度和网格对象。其中可操作的属性如下：</h5>\n<h5 id=\"示例代码如下-5\"><a class=\"anchor\" href=\"#示例代码如下-5\">#</a> 示例代码如下：</h5>\n<figure class=\"highlight elm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> matplotlib.ticker <span class=\"keyword\">as</span> ticker</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Fixing random state for reproducibility</span></span><br><span class=\"line\"><span class=\"attribute\">np</span>.random.seed( <span class=\"number\">19680801</span> )</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fig, ax = plt<span class=\"selector-class\">.subplots</span>()</span><br><span class=\"line\">ax<span class=\"selector-class\">.plot</span>( <span class=\"number\">100</span> *np<span class=\"selector-class\">.random</span><span class=\"selector-class\">.rand</span>( <span class=\"number\">20</span> ))</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">formatter = ticker<span class=\"selector-class\">.FormatStrFormatter</span>(<span class=\"string\">&#x27;$%.2f&#x27;</span>)</span><br><span class=\"line\">ax<span class=\"selector-class\">.yaxis</span><span class=\"selector-class\">.set_major_formatter</span>(formatter)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> tick <span class=\"keyword\">in</span> ax<span class=\"selector-class\">.yaxis</span><span class=\"selector-class\">.get_major_ticks</span>():</span><br><span class=\"line\">tick<span class=\"selector-class\">.label1On</span> = False</span><br><span class=\"line\">tick<span class=\"selector-class\">.label2On</span> = True</span><br><span class=\"line\">tick<span class=\"selector-class\">.label2</span><span class=\"selector-class\">.set_color</span>(<span class=\"string\">&#x27;green&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plt.<span class=\"keyword\">show</span>()</span><br></pre></td></tr></table></figure>\n<h5 id=\"更多请参考\"><a class=\"anchor\" href=\"#更多请参考\">#</a> 更多请参考：</h5>\n<h5 id=\"httpsmatplotliborgapiaxis_apihtmlmatplotlibaxisaxis\"><a class=\"anchor\" href=\"#httpsmatplotliborgapiaxis_apihtmlmatplotlibaxisaxis\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9hcGkvYXhpc19hcGkuaHRtbCNtYXRwbG90bGliLmF4aXMuQXhpcw==\">https://matplotlib.org/api/axis_api.html#matplotlib.axis.Axis</span></h5>\n<h3 id=\"参考\"><a class=\"anchor\" href=\"#参考\">#</a> 参考：</h3>\n<h5 id=\"httpsmatplotliborgtutorialsintermediateartistshtmlsphx-glr-tutorials-intermediate-artists-py\"><a class=\"anchor\" href=\"#httpsmatplotliborgtutorialsintermediateartistshtmlsphx-glr-tutorials-intermediate-artists-py\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9tYXRwbG90bGliLm9yZy90dXRvcmlhbHMvaW50ZXJtZWRpYXRlL2FydGlzdHMuaHRtbCNzcGh4LWdsci10dXRvcmlhbHMtaW50ZXJtZWRpYXRlLWFydGlzdHMtcHk=\">https://matplotlib.org/tutorials/intermediate/artists.html#sphx-glr-tutorials-intermediate-artists-py</span></h5>\n<h1 id=\"多图布局\"><a class=\"anchor\" href=\"#多图布局\">#</a> 多图布局</h1>\n<h2 id=\"解决元素重叠的问题\"><a class=\"anchor\" href=\"#解决元素重叠的问题\">#</a> 解决元素重叠的问题：</h2>\n<h5 id=\"在一个-figure-上面可能存在多个-axes-对象如果-figure-比较小那么有可能会造成一些图\"><a class=\"anchor\" href=\"#在一个-figure-上面可能存在多个-axes-对象如果-figure-比较小那么有可能会造成一些图\">#</a> 在一个 Figure 上面，可能存在多个 Axes 对象，如果 Figure 比较小，那么有可能会造成一些图</h5>\n<h5 id=\"形元素重叠这时候我们就可以通过-figtight_layout-或者是-figsubplots_adjust-方法来帮我\"><a class=\"anchor\" href=\"#形元素重叠这时候我们就可以通过-figtight_layout-或者是-figsubplots_adjust-方法来帮我\">#</a> 形元素重叠，这时候我们就可以通过 fig.tight_layout 或者是 fig.subplots_adjust 方法来帮我</h5>\n<h5 id=\"们调整-假如现在没有经过调整那么以下代码的效果图如下\"><a class=\"anchor\" href=\"#们调整-假如现在没有经过调整那么以下代码的效果图如下\">#</a> 们调整。假如现在没有经过调整，那么以下代码的效果图如下：</h5>\n<figure class=\"highlight elm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> matplotlib.pyplot <span class=\"keyword\">as</span> plt</span><br><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def example_plot(ax, <span class=\"attribute\">fontsize</span>=12):</span><br><span class=\"line\">ax.plot([ 1 , 2 ])</span><br><span class=\"line\">ax.set_xlabel(<span class=\"string\">&#x27;x-label&#x27;</span>, <span class=\"attribute\">fontsize</span>=fontsize)</span><br><span class=\"line\">ax.set_ylabel(<span class=\"string\">&#x27;y-label&#x27;</span>, <span class=\"attribute\">fontsize</span>=fontsize)</span><br><span class=\"line\">ax.set_title(<span class=\"string\">&#x27;Title&#x27;</span>, <span class=\"attribute\">fontsize</span>=fontsize)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fig,axes = plt<span class=\"selector-class\">.subplots</span>( <span class=\"number\">2</span> , <span class=\"number\">2</span> )</span><br><span class=\"line\">fig<span class=\"selector-class\">.set_facecolor</span>(<span class=\"string\">&quot;y&quot;</span>)</span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">example_plot</span><span class=\"params\">(axes[ <span class=\"number\">0</span> , <span class=\"number\">0</span> ])</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">example_plot</span><span class=\"params\">(axes[ <span class=\"number\">0</span> , <span class=\"number\">1</span> ])</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">example_plot</span><span class=\"params\">(axes[ <span class=\"number\">1</span> , <span class=\"number\">0</span> ])</span></span></span><br><span class=\"line\"><span class=\"function\"><span class=\"title\">example_plot</span><span class=\"params\">(axes[ <span class=\"number\">1</span> , <span class=\"number\">1</span> ])</span></span></span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-14\"><a class=\"anchor\" href=\"#效果图如下-14\">#</a> 效果图如下：</h5>\n<h5 id=\"为了避免多个图重叠可以使用-plttight_layout-来实现\"><a class=\"anchor\" href=\"#为了避免多个图重叠可以使用-plttight_layout-来实现\">#</a> 为了避免多个图重叠，可以使用 plt.tight_layout 来实现：</h5>\n<h6 id=\"之前的代码\"><a class=\"anchor\" href=\"#之前的代码\">#</a> # 之前的代码…</h6>\n<figure class=\"highlight gcode\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plt.tight_layout<span class=\"comment\">()</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-15\"><a class=\"anchor\" href=\"#效果图如下-15\">#</a> 效果图如下：</h5>\n<h5 id=\"其中-tight_layout-还有两个参数可以使用分别是-w_pad-和-h_pad-这两个参数分别表示的意\"><a class=\"anchor\" href=\"#其中-tight_layout-还有两个参数可以使用分别是-w_pad-和-h_pad-这两个参数分别表示的意\">#</a> 其中 tight_layout 还有两个参数可以使用，分别是 w_pad 和 h_pad ，这两个参数分别表示的意</h5>\n<h5 id=\"思是在水平方向的图之间的间距以及在垂直方向这些图的间距\"><a class=\"anchor\" href=\"#思是在水平方向的图之间的间距以及在垂直方向这些图的间距\">#</a> 思是在水平方向的图之间的间距，以及在垂直方向这些图的间距。</h5>\n<h5 id=\"另外也可以通\"><a class=\"anchor\" href=\"#另外也可以通\">#</a> 另外也可以通</h5>\n<h5 id=\"过-figsubplots_adjustleftnonebottomnonerightnonetopnonewspacenonehspacenone\"><a class=\"anchor\" href=\"#过-figsubplots_adjustleftnonebottomnonerightnonetopnonewspacenonehspacenone\">#</a> 过 fig.subplots_adjust (left=None,bottom=None,right=None,top=None,wspace=None,hspace=None)</h5>\n<h5 id=\"来实现效果如下\"><a class=\"anchor\" href=\"#来实现效果如下\">#</a> 来实现，效果如下：</h5>\n<h6 id=\"之前的代码-2\"><a class=\"anchor\" href=\"#之前的代码-2\">#</a> # 之前的代码…</h6>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">fig</span>.subplots_adjust( <span class=\"number\">0</span> , <span class=\"number\">0</span> , <span class=\"number\">1</span> , <span class=\"number\">1</span> ,hspace=<span class=\"number\">0</span>.<span class=\"number\">5</span>,wspace=<span class=\"number\">0</span>.<span class=\"number\">5</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-16\"><a class=\"anchor\" href=\"#效果图如下-16\">#</a> 效果图如下：</h5>\n<h2 id=\"自定义布局方式\"><a class=\"anchor\" href=\"#自定义布局方式\">#</a> 自定义布局方式：</h2>\n<h5 id=\"如果布局不是固定的几宫格的方式而是某个图占据了多行或者多列那么就需要采用一些手段来\"><a class=\"anchor\" href=\"#如果布局不是固定的几宫格的方式而是某个图占据了多行或者多列那么就需要采用一些手段来\">#</a> 如果布局不是固定的几宫格的方式，而是某个图占据了多行或者多列，那么就需要采用一些手段来</h5>\n<h5 id=\"实现-如果不是很复杂那么直接可以通过-subplot-等方法来实现-示例代码如下\"><a class=\"anchor\" href=\"#实现-如果不是很复杂那么直接可以通过-subplot-等方法来实现-示例代码如下\">#</a> 实现。如果不是很复杂，那么直接可以通过 subplot 等方法来实现。示例代码如下：</h5>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">ax1</span> <span class=\"operator\">=</span> plt.subplot( <span class=\"number\">221</span> )</span><br><span class=\"line\"><span class=\"attribute\">ax2</span> <span class=\"operator\">=</span> plt.subplot( <span class=\"number\">223</span> )</span><br><span class=\"line\"><span class=\"attribute\">ax3</span> <span class=\"operator\">=</span> plt.subplot( <span class=\"number\">122</span> )</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-17\"><a class=\"anchor\" href=\"#效果图如下-17\">#</a> 效果图如下：</h5>\n<h5 id=\"但是如果实现的布局比较复杂那么就需要采用-gridspec-对象来实现-示例代码如下\"><a class=\"anchor\" href=\"#但是如果实现的布局比较复杂那么就需要采用-gridspec-对象来实现-示例代码如下\">#</a> 但是如果实现的布局比较复杂，那么就需要采用 GridSpec 对象来实现。示例代码如下：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">fig</span> = plt.figure()</span><br><span class=\"line\"><span class=\"comment\"># 创建 3 行 3 列的GridSpec对象</span></span><br><span class=\"line\"><span class=\"attribute\">gs</span> = fig.add_gridspec( <span class=\"number\">3</span> , <span class=\"number\">3</span> )</span><br><span class=\"line\"><span class=\"attribute\">ax1</span> = fig.add_subplot(gs[ <span class=\"number\">0</span> , <span class=\"number\">0</span> : <span class=\"number\">3</span> ])</span><br><span class=\"line\"><span class=\"attribute\">ax1</span>.set_title(<span class=\"string\">&quot;[0,0:3]&quot;</span>)</span><br><span class=\"line\"><span class=\"attribute\">ax2</span> = fig.add_subplot(gs[ <span class=\"number\">1</span> , <span class=\"number\">0</span> : <span class=\"number\">2</span> ])</span><br><span class=\"line\"><span class=\"attribute\">ax2</span>.set_title(<span class=\"string\">&quot;[1,0:2]&quot;</span>)</span><br><span class=\"line\"><span class=\"attribute\">ax3</span> = fig.add_subplot(gs[ <span class=\"number\">1</span> : <span class=\"number\">3</span> , <span class=\"number\">2</span> ])</span><br><span class=\"line\"><span class=\"attribute\">ax3</span>.set_title(<span class=\"string\">&quot;[1:3,2]&quot;</span>)</span><br><span class=\"line\"><span class=\"attribute\">ax4</span> = fig.add_subplot(gs[ <span class=\"number\">2</span> , <span class=\"number\">0</span> ])</span><br><span class=\"line\"><span class=\"attribute\">ax4</span>.set_title(<span class=\"string\">&quot;[2,0]&quot;</span>)</span><br><span class=\"line\"><span class=\"attribute\">ax5</span> = fig.add_subplot(gs[ <span class=\"number\">2</span> , <span class=\"number\">1</span> ])</span><br><span class=\"line\"><span class=\"attribute\">ax5</span>.set_title(<span class=\"string\">&quot;[2,1]&quot;</span>)</span><br><span class=\"line\"><span class=\"attribute\">plt</span>.tight_layout()</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-18\"><a class=\"anchor\" href=\"#效果图如下-18\">#</a> 效果图如下：</h5>\n<h5 id=\"也可以设置宽高比例-示例代码如下\"><a class=\"anchor\" href=\"#也可以设置宽高比例-示例代码如下\">#</a> 也可以设置宽高比例。示例代码如下：</h5>\n<h6 id=\"设置宽度比例为121\"><a class=\"anchor\" href=\"#设置宽度比例为121\">#</a> # 设置宽度比例为 1:2:1</h6>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">widths</span> = ( <span class=\"number\">1</span> , <span class=\"number\">2</span> , <span class=\"number\">1</span> )</span><br><span class=\"line\"><span class=\"comment\"># 设置高度比例为2:2:1</span></span><br><span class=\"line\"><span class=\"attribute\">heights</span> = ( <span class=\"number\">2</span> , <span class=\"number\">2</span> , <span class=\"number\">1</span> )</span><br><span class=\"line\"><span class=\"attribute\">fig</span> = plt.figure()</span><br><span class=\"line\"><span class=\"comment\"># 创建GridSpec对象的时候指定宽高的比</span></span><br><span class=\"line\"><span class=\"attribute\">gs</span> = fig.add_gridspec( <span class=\"number\">3</span> , <span class=\"number\">3</span> ,width_ratios=widths,height_ratios=heights)</span><br><span class=\"line\"><span class=\"attribute\">for</span> row in range( <span class=\"number\">0</span> , <span class=\"number\">3</span> ):</span><br><span class=\"line\"><span class=\"attribute\">for</span> col in range( <span class=\"number\">0</span> , <span class=\"number\">3</span> ):</span><br><span class=\"line\"><span class=\"attribute\">fig</span>.add_subplot(gs[row,col])</span><br><span class=\"line\"><span class=\"attribute\">plt</span>.tight_layout()</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-19\"><a class=\"anchor\" href=\"#效果图如下-19\">#</a> 效果图如下：</h5>\n<h2 id=\"手动设置位置\"><a class=\"anchor\" href=\"#手动设置位置\">#</a> 手动设置位置：</h2>\n<h5 id=\"通过-figadd_axes-的方式添加-axes-对象可以直接指定位置-也可以在添加完成后通\"><a class=\"anchor\" href=\"#通过-figadd_axes-的方式添加-axes-对象可以直接指定位置-也可以在添加完成后通\">#</a> 通过 fig.add_axes 的方式添加 Axes 对象，可以直接指定位置。也可以在添加完成后，通</h5>\n<h5 id=\"过-axesset_position-的方式设置位置-示例代码如下\"><a class=\"anchor\" href=\"#过-axesset_position-的方式设置位置-示例代码如下\">#</a> 过 axes.set_position 的方式设置位置。示例代码如下：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># add_axes的方式</span></span><br><span class=\"line\"><span class=\"attribute\">fig</span> = plt.figure()</span><br><span class=\"line\"><span class=\"attribute\">fig</span>.add_subplot( <span class=\"number\">111</span> )</span><br><span class=\"line\"><span class=\"attribute\">fig</span>.add_axes([<span class=\"number\">0</span>.<span class=\"number\">2</span>,<span class=\"number\">0</span>.<span class=\"number\">2</span>,<span class=\"number\">0</span>.<span class=\"number\">4</span>,<span class=\"number\">0</span>.<span class=\"number\">4</span>])</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 设置position的方式</span></span><br><span class=\"line\"><span class=\"attribute\">fig</span>,axes = plt.subplots( <span class=\"number\">1</span> , <span class=\"number\">2</span> )</span><br><span class=\"line\"><span class=\"attribute\">axes</span>[ <span class=\"number\">1</span> ].set_position([<span class=\"number\">0</span>.<span class=\"number\">2</span>,<span class=\"number\">0</span>.<span class=\"number\">2</span>,<span class=\"number\">0</span>.<span class=\"number\">4</span>,<span class=\"number\">0</span>.<span class=\"number\">4</span>])</span><br></pre></td></tr></table></figure>\n<h2 id=\"散点图和直方图合并实战\"><a class=\"anchor\" href=\"#散点图和直方图合并实战\">#</a> 散点图和直方图合并实战：</h2>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">fig</span> = plt.figure(figsize=( <span class=\"number\">8</span> , <span class=\"number\">8</span> ))</span><br><span class=\"line\"><span class=\"attribute\">widths</span> = ( <span class=\"number\">2</span> ,<span class=\"number\">0</span>.<span class=\"number\">5</span>)</span><br><span class=\"line\"><span class=\"attribute\">heights</span> = (<span class=\"number\">0</span>.<span class=\"number\">5</span>, <span class=\"number\">2</span> )</span><br><span class=\"line\"><span class=\"attribute\">gs</span> = fig.add_gridspec( <span class=\"number\">2</span> , <span class=\"number\">2</span> ,width_ratios=widths,height_ratios=heights)</span><br><span class=\"line\"><span class=\"comment\"># 顶部的直方图</span></span><br><span class=\"line\"><span class=\"attribute\">ax1</span> = fig.add_subplot(gs[ <span class=\"number\">0</span> , <span class=\"number\">0</span> ])</span><br><span class=\"line\"><span class=\"attribute\">ax1</span>.hist(male_athletes[&#x27;Height&#x27;],bins= <span class=\"number\">20</span> )</span><br><span class=\"line\"><span class=\"attribute\">for</span> tick in ax1.xaxis.get_major_ticks():</span><br><span class=\"line\"><span class=\"attribute\">tick</span>.label1On = False</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 中间的散点图</span></span><br><span class=\"line\">ax2 = fig.add_subplot(gs[ 1 , 0 ])</span><br><span class=\"line\">ax2.scatter(<span class=\"string\">&#x27;Height&#x27;</span>,<span class=\"string\">&#x27;Weight&#x27;</span>,<span class=\"attribute\">data</span>=male_athletes)</span><br></pre></td></tr></table></figure>\n<h6 id=\"右边的直方图\"><a class=\"anchor\" href=\"#右边的直方图\">#</a> # 右边的直方图</h6>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ax3 = fig<span class=\"selector-class\">.add_subplot</span>(gs<span class=\"selector-attr\">[ 1 , 1 ]</span>)</span><br><span class=\"line\">ax3<span class=\"selector-class\">.hist</span>(male_athletes<span class=\"selector-attr\">[<span class=\"string\">&#x27;Weight&#x27;</span>]</span>,bins= <span class=\"number\">20</span> ,orientation=<span class=\"string\">&#x27;horizontal&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">for</span> tick <span class=\"keyword\">in</span> ax3<span class=\"selector-class\">.yaxis</span><span class=\"selector-class\">.get_major_ticks</span>():</span><br><span class=\"line\">tick<span class=\"selector-class\">.label1On</span> = False</span><br><span class=\"line\">fig<span class=\"selector-class\">.tight_layout</span>(h_pad= <span class=\"number\">0</span> ,w_pad= <span class=\"number\">0</span> )</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-20\"><a class=\"anchor\" href=\"#效果图如下-20\">#</a> 效果图如下：</h5>\n<h1 id=\"matplotlib-配置\"><a class=\"anchor\" href=\"#matplotlib-配置\">#</a> matplotlib 配置</h1>\n<h2 id=\"修改默认的配置\"><a class=\"anchor\" href=\"#修改默认的配置\">#</a> 修改默认的配置：</h2>\n<h5 id=\"修改默认的配置可以通过-matplotlibrcparams-来设置比如修改字体修改线条大小和宽度等\"><a class=\"anchor\" href=\"#修改默认的配置可以通过-matplotlibrcparams-来设置比如修改字体修改线条大小和宽度等\">#</a> 修改默认的配置可以通过 matplotlib.rcParams 来设置，比如修改字体，修改线条大小和宽度等。</h5>\n<h5 id=\"示例代码如下-6\"><a class=\"anchor\" href=\"#示例代码如下-6\">#</a> 示例代码如下：</h5>\n<figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> matplotlib.pyplot <span class=\"keyword\">as</span> plt</span><br><span class=\"line\"># 设置字体为仿宋</span><br><span class=\"line\">plt.rcParams[<span class=\"string\">&#x27;font.sans-serif&#x27;</span>] = [<span class=\"string\">&#x27;FangSong&#x27;</span>]</span><br><span class=\"line\"># 设置字体大小为 <span class=\"number\">20</span></span><br><span class=\"line\">plt.rcParams[<span class=\"string\">&#x27;font.size&#x27;</span>] = <span class=\"number\">20</span></span><br><span class=\"line\"># 设置线条宽度</span><br><span class=\"line\">plt.rcParams[<span class=\"string\">&#x27;lines.linewidth&#x27;</span>] = <span class=\"number\">2</span></span><br><span class=\"line\"># 设置线条颜色</span><br><span class=\"line\">plt.rcParams[<span class=\"string\">&#x27;axes.prop_cycle&#x27;</span>] = plt.cycler(<span class=\"string\">&#x27;color&#x27;</span>, [<span class=\"string\">&#x27;r&#x27;</span>, <span class=\"string\">&#x27;y&#x27;</span>])</span><br></pre></td></tr></table></figure>\n<h5 id=\"其中-rcparams-中可以设置的属性为如下\"><a class=\"anchor\" href=\"#其中-rcparams-中可以设置的属性为如下\">#</a> 其中 rcParams 中可以设置的属性为如下：</h5>\n<h5 id=\"在-windows-上如果想要显示中文那么可以通过设置-fontsans-serif-来设置示例代码如下\"><a class=\"anchor\" href=\"#在-windows-上如果想要显示中文那么可以通过设置-fontsans-serif-来设置示例代码如下\">#</a> 在 Windows 上如果想要显示中文，那么可以通过设置 font.sans-serif 来设置，示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plt<span class=\"selector-class\">.rcParams</span><span class=\"selector-attr\">[<span class=\"string\">&#x27;font.sans-serif&#x27;</span>]</span> = <span class=\"selector-attr\">[<span class=\"string\">&#x27;FangSong&#x27;</span>]</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"这个属性可以设置以下字体都可以显示中文\"><a class=\"anchor\" href=\"#这个属性可以设置以下字体都可以显示中文\">#</a> 这个属性可以设置以下字体都可以显示中文：</h5>\n<h5 id=\"字体名-英文名称\"><a class=\"anchor\" href=\"#字体名-英文名称\">#</a> 字体名 英文名称</h5>\n<h5 id=\"黑体-simhei\"><a class=\"anchor\" href=\"#黑体-simhei\">#</a> 黑体 SimHei</h5>\n<h5 id=\"仿宋-fangsong\"><a class=\"anchor\" href=\"#仿宋-fangsong\">#</a> 仿宋 FangSong</h5>\n<h5 id=\"楷体-kaiti\"><a class=\"anchor\" href=\"#楷体-kaiti\">#</a> 楷体 KaiTi</h5>\n<h5 id=\"宋体-simsun\"><a class=\"anchor\" href=\"#宋体-simsun\">#</a> 宋体 SimSun</h5>\n<h5 id=\"隶书-lisu\"><a class=\"anchor\" href=\"#隶书-lisu\">#</a> 隶书 LiSu</h5>\n<h5 id=\"幼圆-youyuan\"><a class=\"anchor\" href=\"#幼圆-youyuan\">#</a> 幼圆 YouYuan</h5>\n<h5 id=\"华文细黑-stxihei\"><a class=\"anchor\" href=\"#华文细黑-stxihei\">#</a> 华文细黑 STXihei</h5>\n<h5 id=\"华文楷体-stkaiti\"><a class=\"anchor\" href=\"#华文楷体-stkaiti\">#</a> 华文楷体 STKaiti</h5>\n<h5 id=\"华文宋体-stsong\"><a class=\"anchor\" href=\"#华文宋体-stsong\">#</a> 华文宋体 STSong</h5>\n<h5 id=\"华文中宋-stzhongsong\"><a class=\"anchor\" href=\"#华文中宋-stzhongsong\">#</a> 华文中宋 STZhongsong</h5>\n<h5 id=\"华文仿宋-stfangsong\"><a class=\"anchor\" href=\"#华文仿宋-stfangsong\">#</a> 华文仿宋 STFangsong</h5>\n<h5 id=\"方正舒体-fzshuti\"><a class=\"anchor\" href=\"#方正舒体-fzshuti\">#</a> 方正舒体 FZShuTi</h5>\n<h5 id=\"方正姚体-fzyaoti\"><a class=\"anchor\" href=\"#方正姚体-fzyaoti\">#</a> 方正姚体 FZYaoti</h5>\n<h5 id=\"华文彩云-stcaiyun\"><a class=\"anchor\" href=\"#华文彩云-stcaiyun\">#</a> 华文彩云 STCaiyun</h5>\n<h5 id=\"华文琥珀-sthupo\"><a class=\"anchor\" href=\"#华文琥珀-sthupo\">#</a> 华文琥珀 STHupo</h5>\n<h5 id=\"华文隶书-stliti\"><a class=\"anchor\" href=\"#华文隶书-stliti\">#</a> 华文隶书 STLiti</h5>\n<h5 id=\"华文行楷-stxingkai\"><a class=\"anchor\" href=\"#华文行楷-stxingkai\">#</a> 华文行楷 STXingkai</h5>\n<h5 id=\"华文新魏-stxinwei\"><a class=\"anchor\" href=\"#华文新魏-stxinwei\">#</a> 华文新魏 STXinwei</h5>\n<h5 id=\"mac-和-linux-支持的字体可能会不同如果不行可以使用-matplotlibfont_manager-来指定具\"><a class=\"anchor\" href=\"#mac-和-linux-支持的字体可能会不同如果不行可以使用-matplotlibfont_manager-来指定具\">#</a> Mac 和 Linux 支持的字体可能会不同，如果不行，可以使用 matplotlib.font_manager 来指定具</h5>\n<h5 id=\"体的字体\"><a class=\"anchor\" href=\"#体的字体\">#</a> 体的字体。</h5>\n<h2 id=\"自定义配置文件\"><a class=\"anchor\" href=\"#自定义配置文件\">#</a> 自定义配置文件：</h2>\n<h5 id=\"有时候我们可能需要设置一大堆参数并且这个配置在后面很多项目中可能都会用到那么这时候\"><a class=\"anchor\" href=\"#有时候我们可能需要设置一大堆参数并且这个配置在后面很多项目中可能都会用到那么这时候\">#</a> 有时候我们可能需要设置一大堆参数，并且这个配置在后面很多项目中可能都会用到，那么这时候</h5>\n<h5 id=\"我们就可以把这些配置信息放到文件中可配置项见下文件的命名规则为-名称mplstyle\"><a class=\"anchor\" href=\"#我们就可以把这些配置信息放到文件中可配置项见下文件的命名规则为-名称mplstyle\">#</a> 我们就可以把这些配置信息放到文件中（可配置项见下），文件的命名规则为 [名称].mplstyle ，</h5>\n<h5 id=\"然后把这个文件放到-matplotlibget_configdirstylelib-的目录中在写代码的时候根据名称\"><a class=\"anchor\" href=\"#然后把这个文件放到-matplotlibget_configdirstylelib-的目录中在写代码的时候根据名称\">#</a> 然后把这个文件放到 matplotlib.get_configdir ()/stylelib 的目录中，在写代码的时候根据名称</h5>\n<h5 id=\"加载这个配置文件示例代码如下\"><a class=\"anchor\" href=\"#加载这个配置文件示例代码如下\">#</a> 加载这个配置文件，示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plt<span class=\"selector-class\">.style</span><span class=\"selector-class\">.use</span>(<span class=\"string\">&quot;名称&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h2 id=\"可配置项\"><a class=\"anchor\" href=\"#可配置项\">#</a> 可配置项：</h2>\n<h5 id=\"更多可配置项请参\"><a class=\"anchor\" href=\"#更多可配置项请参\">#</a> 更多可配置项请参</h5>\n<h5 id=\"考httpsrawgithubusercontentcommatplotlibmatplotlibmastermatplotlibrctemplate\"><a class=\"anchor\" href=\"#考httpsrawgithubusercontentcommatplotlibmatplotlibmastermatplotlibrctemplate\">#</a> 考：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL21hdHBsb3RsaWIvbWF0cGxvdGxpYi9tYXN0ZXIvbWF0cGxvdGxpYnJjLnRlbXBsYXRl\">https://raw.githubusercontent.com/matplotlib/matplotlib/master/matplotlibrc.template</span></h5>\n<h1 id=\"matplotlib-作业\"><a class=\"anchor\" href=\"#matplotlib-作业\">#</a> matplotlib 作业</h1>\n<h2 id=\"一-折线图作业要求\"><a class=\"anchor\" href=\"#一-折线图作业要求\">#</a> 一、折线图作业要求：</h2>\n<h5 id=\"1-以下是长沙某一个月的天气数据按照时间的顺序绘制成折线图其中数据-highest-是最高\"><a class=\"anchor\" href=\"#1-以下是长沙某一个月的天气数据按照时间的顺序绘制成折线图其中数据-highest-是最高\">#</a> 1. 以下是长沙某一个月的天气数据，按照时间的顺序绘制成折线图，其中数据 highest 是最高</h5>\n<h5 id=\"温度-lowest-是最低温度-最高温度线条用红色最低温度线条用蓝色\"><a class=\"anchor\" href=\"#温度-lowest-是最低温度-最高温度线条用红色最低温度线条用蓝色\">#</a> 温度， lowest 是最低温度。最高温度线条用红色，最低温度线条用蓝色。</h5>\n<h5 id=\"2-具体的坐标点用圆点marker表示\"><a class=\"anchor\" href=\"#2-具体的坐标点用圆点marker表示\">#</a> 2. 具体的坐标点，用圆点 marker 表示。</h5>\n<h5 id=\"3-把x轴的时间刻度按照-1-31-标记出来并且标记x轴和y轴的标题\"><a class=\"anchor\" href=\"#3-把x轴的时间刻度按照-1-31-标记出来并且标记x轴和y轴的标题\">#</a> 3. 把 x 轴的时间刻度按照 1-31 标记出来，并且标记 x 轴和 y 轴的标题。</h5>\n<h5 id=\"4-图的标题是长沙-5-月份气温走势\"><a class=\"anchor\" href=\"#4-图的标题是长沙-5-月份气温走势\">#</a> 4. 图的标题是 “长沙 5 月份气温走势”。</h5>\n<h5 id=\"数据\"><a class=\"anchor\" href=\"#数据\">#</a> 数据：</h5>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">highest = [<span class=\"number\"> 26 </span>,<span class=\"number\"> 21 </span>,<span class=\"number\"> 26 </span>,<span class=\"number\"> 26 </span>,<span class=\"number\"> 22 </span>,<span class=\"number\"> 20 </span>,<span class=\"number\"> 17 </span>,<span class=\"number\"> 19 </span>,<span class=\"number\"> 22 </span>,<span class=\"number\"> 28 </span>,<span class=\"number\"> 30 </span>,<span class=\"number\"> 28 </span>,<span class=\"number\"> 24 </span>,<span class=\"number\"> 28 </span>,<span class=\"number\"> 25 </span>,<span class=\"number\"> 26 </span>,<span class=\"number\"> 25 </span>,<span class=\"number\"> 26 </span>,<span class=\"number\"> 25 </span>,<span class=\"number\"> 23 </span>,<span class=\"number\"> 24 </span>,<span class=\"number\"> 30 </span>,<span class=\"number\"> 32 </span>,<span class=\"number\"> 31 </span>,<span class=\"number\"> 30 </span>, 27</span><br><span class=\"line\">,<span class=\"number\"> 26 </span>,<span class=\"number\"> 27 </span>,<span class=\"number\"> 29 </span>,<span class=\"number\"> 25 </span>,<span class=\"number\"> 25 </span>]</span><br><span class=\"line\">lowest = [<span class=\"number\"> 17 </span>,<span class=\"number\"> 13 </span>,<span class=\"number\"> 17 </span>,<span class=\"number\"> 18 </span>,<span class=\"number\"> 18 </span>,<span class=\"number\"> 17 </span>,<span class=\"number\"> 14 </span>,<span class=\"number\"> 15 </span>,<span class=\"number\"> 16 </span>,<span class=\"number\"> 18 </span>,<span class=\"number\"> 19 </span>,<span class=\"number\"> 20 </span>,<span class=\"number\"> 18 </span>,<span class=\"number\"> 18 </span>,<span class=\"number\"> 20 </span>,<span class=\"number\"> 20 </span>,<span class=\"number\"> 20 </span>,<span class=\"number\"> 20 </span>,<span class=\"number\"> 20 </span>,<span class=\"number\"> 16 </span>,<span class=\"number\"> 17 </span>,<span class=\"number\"> 19 </span>,<span class=\"number\"> 21 </span>,<span class=\"number\"> 24 </span>,<span class=\"number\"> 24 </span>, 23</span><br><span class=\"line\">,<span class=\"number\"> 20 </span>,<span class=\"number\"> 18 </span>,<span class=\"number\"> 19 </span>,<span class=\"number\"> 18 </span>,<span class=\"number\"> 19 </span>]</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图参考\"><a class=\"anchor\" href=\"#效果图参考\">#</a> 效果图参考：</h5>\n<h2 id=\"二-条形图作业要求\"><a class=\"anchor\" href=\"#二-条形图作业要求\">#</a> 二、条形图作业要求：</h2>\n<h5 id=\"1-以下数据是三类学校普通本科-中等职业教育-普通高中在2014-2018包含-2018-的报\"><a class=\"anchor\" href=\"#1-以下数据是三类学校普通本科-中等职业教育-普通高中在2014-2018包含-2018-的报\">#</a> 1. 以下数据是三类学校（普通本科、中等职业教育、普通高中）在 2014-2018（包含 2018 ）的报</h5>\n<h5 id=\"名人数用dataframe构建\"><a class=\"anchor\" href=\"#名人数用dataframe构建\">#</a> 名人数，用 DataFrame 构建。</h5>\n<h5 id=\"2-把年份当做x轴报名人数当做y轴的值\"><a class=\"anchor\" href=\"#2-把年份当做x轴报名人数当做y轴的值\">#</a> 2. 把年份当做 x 轴，报名人数当做 y 轴的值。</h5>\n<h5 id=\"3-绘制分组条形图同一个年份的放在一个组\"><a class=\"anchor\" href=\"#3-绘制分组条形图同一个年份的放在一个组\">#</a> 3. 绘制分组条形图，同一个年份的放在一个组。</h5>\n<h5 id=\"4-图例横向排列提示用legend的ncol参数ncol表示的是把图例分成多少列显示\"><a class=\"anchor\" href=\"#4-图例横向排列提示用legend的ncol参数ncol表示的是把图例分成多少列显示\">#</a> 4. 图例横向排列（提示：用 legend 的 ncol 参数，ncol 表示的是把图例分成多少列显示）。</h5>\n<h5 id=\"5-把报名人数在图上绘制出来\"><a class=\"anchor\" href=\"#5-把报名人数在图上绘制出来\">#</a> 5. 把报名人数在图上绘制出来。</h5>\n<h5 id=\"数据-2\"><a class=\"anchor\" href=\"#数据-2\">#</a> 数据：</h5>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">data = &#123;</span><br><span class=\"line\">&quot;普通本科&quot;:[<span class=\"number\"> 721 </span>,<span class=\"number\"> 738 </span>,<span class=\"number\"> 749 </span>,<span class=\"number\"> 761 </span>,<span class=\"number\"> 791 </span>],</span><br><span class=\"line\">&quot;中等职业教育&quot;: [<span class=\"number\"> 620 </span>,<span class=\"number\"> 601 </span>,<span class=\"number\"> 593 </span>,<span class=\"number\"> 582 </span>,<span class=\"number\"> 557 </span>],</span><br><span class=\"line\">&quot;普通高中&quot;: [<span class=\"number\"> 797 </span>,<span class=\"number\"> 797 </span>,<span class=\"number\"> 803 </span>,<span class=\"number\"> 800 </span>,<span class=\"number\"> 793 </span>]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图参考-2\"><a class=\"anchor\" href=\"#效果图参考-2\">#</a> 效果图参考：</h5>\n<h2 id=\"三-直方图作业要求\"><a class=\"anchor\" href=\"#三-直方图作业要求\">#</a> 三、直方图作业要求：</h2>\n<h5 id=\"1-用pandas从scorescsv读取出来形成一个dataframe对象\"><a class=\"anchor\" href=\"#1-用pandas从scorescsv读取出来形成一个dataframe对象\">#</a> 1. 用 pandas 从 scores.csv 读取出来，形成一个 DataFrame 对象。</h5>\n<h5 id=\"2-绘制化学成绩的直方图chem列\"><a class=\"anchor\" href=\"#2-绘制化学成绩的直方图chem列\">#</a> 2. 绘制化学成绩的直方图（chem 列）。</h5>\n<h5 id=\"3-标记x轴的坐标\"><a class=\"anchor\" href=\"#3-标记x轴的坐标\">#</a> 3. 标记 x 轴的坐标。</h5>\n<h5 id=\"4-标记每个条形上的具体数值\"><a class=\"anchor\" href=\"#4-标记每个条形上的具体数值\">#</a> 4. 标记每个条形上的具体数值。</h5>\n<h5 id=\"数据-3\"><a class=\"anchor\" href=\"#数据-3\">#</a> 数据：</h5>\n<h5 id=\"在-matplotlib代码-作业参考-文件夹的-scorescsv-文件中\"><a class=\"anchor\" href=\"#在-matplotlib代码-作业参考-文件夹的-scorescsv-文件中\">#</a> 在 matplotlib 代码 -&gt; 作业参考 文件夹的 scores.csv 文件中。</h5>\n<h5 id=\"效果图参考-3\"><a class=\"anchor\" href=\"#效果图参考-3\">#</a> 效果图参考：</h5>\n<h2 id=\"四-散点图作业要求\"><a class=\"anchor\" href=\"#四-散点图作业要求\">#</a> 四、散点图作业要求：</h2>\n<h5 id=\"1-把guazi_bj北京-guazi_gz广州-guazi_sh上海-guazi_sz深圳二手车的数\"><a class=\"anchor\" href=\"#1-把guazi_bj北京-guazi_gz广州-guazi_sh上海-guazi_sz深圳二手车的数\">#</a> 1. 把 guazi_bj（北京）、guazi_gz（广州）、guazi_sh（上海）、guazi_sz（深圳）二手车的数</h5>\n<h5 id=\"据归类在一个dataframe中\"><a class=\"anchor\" href=\"#据归类在一个dataframe中\">#</a> 据归类在一个 DataFrame 中。</h5>\n<h5 id=\"2-新增车辆使用年份use_year与保值率hedge_rate两个字段-其中使用年份的计算是\"><a class=\"anchor\" href=\"#2-新增车辆使用年份use_year与保值率hedge_rate两个字段-其中使用年份的计算是\">#</a> 2. 新增车辆使用年份（use_year）与保值率（hedge_rate）两个字段。其中使用年份的计算是</h5>\n<h5 id=\"把当前的时间减去购买的时间然后再转换成年保值率的计算是将二手车的价格新车的价\"><a class=\"anchor\" href=\"#把当前的时间减去购买的时间然后再转换成年保值率的计算是将二手车的价格新车的价\">#</a> 把当前的时间减去购买的时间，然后再转换成年；保值率的计算是将二手车的价格 / 新车的价</h5>\n<h5 id=\"格-2\"><a class=\"anchor\" href=\"#格-2\">#</a> 格。</h5>\n<h5 id=\"3-把二手车使用年份与保值率二手车价新车价格绘制成散点图观察他们的分布情况\"><a class=\"anchor\" href=\"#3-把二手车使用年份与保值率二手车价新车价格绘制成散点图观察他们的分布情况\">#</a> 3. 把二手车使用年份与保值率（二手车价 / 新车价格）绘制成散点图，观察他们的分布情况。</h5>\n<h5 id=\"4-把二手车的行驶距离与保值率二手车价新车价格绘制成散点图观察他们的分布情况\"><a class=\"anchor\" href=\"#4-把二手车的行驶距离与保值率二手车价新车价格绘制成散点图观察他们的分布情况\">#</a> 4. 把二手车的行驶距离与保值率（二手车价 / 新车价格）绘制成散点图，观察他们的分布情况。</h5>\n<h2 id=\"五-饼图作业要求\"><a class=\"anchor\" href=\"#五-饼图作业要求\">#</a> 五、饼图作业要求：</h2>\n<h5 id=\"1-把以下数据绘制成饼图\"><a class=\"anchor\" href=\"#1-把以下数据绘制成饼图\">#</a> 1. 把以下数据绘制成饼图。</h5>\n<h5 id=\"2-把chrome浏览器的模块分割开005\"><a class=\"anchor\" href=\"#2-把chrome浏览器的模块分割开005\">#</a> 2. 把 Chrome 浏览器的模块分割开 0.05。</h5>\n<h5 id=\"3-设置阴影\"><a class=\"anchor\" href=\"#3-设置阴影\">#</a> 3. 设置阴影。</h5>\n<h5 id=\"4-把百分数的颜色设置成白色把浏览器的名字颜色设置成黑色\"><a class=\"anchor\" href=\"#4-把百分数的颜色设置成白色把浏览器的名字颜色设置成黑色\">#</a> 4. 把百分数的颜色设置成白色，把浏览器的名字颜色设置成黑色。</h5>\n<h5 id=\"5-把edge和safari浏览器的比例文字字体大小调成-10-其他的-12\"><a class=\"anchor\" href=\"#5-把edge和safari浏览器的比例文字字体大小调成-10-其他的-12\">#</a> 5. 把 Edge 和 Safari 浏览器的比例文字字体大小调成 10 ，其他的 12 。</h5>\n<h5 id=\"效果如下\"><a class=\"anchor\" href=\"#效果如下\">#</a> 效果如下：</h5>\n<h2 id=\"六-箱线图作业\"><a class=\"anchor\" href=\"#六-箱线图作业\">#</a> 六、箱线图作业：</h2>\n<h5 id=\"1-读取scorescsv文件\"><a class=\"anchor\" href=\"#1-读取scorescsv文件\">#</a> 1. 读取 scores.csv 文件。</h5>\n<h5 id=\"2-把所有科目的成绩都在一张图上绘制箱线图\"><a class=\"anchor\" href=\"#2-把所有科目的成绩都在一张图上绘制箱线图\">#</a> 2. 把所有科目的成绩都在一张图上绘制箱线图。</h5>\n<h5 id=\"3-观察这个图你能发现什么信息\"><a class=\"anchor\" href=\"#3-观察这个图你能发现什么信息\">#</a> 3. 观察这个图，你能发现什么信息。</h5>\n<h5 id=\"效果图\"><a class=\"anchor\" href=\"#效果图\">#</a> 效果图：</h5>\n<h2 id=\"七-雷达图作业\"><a class=\"anchor\" href=\"#七-雷达图作业\">#</a> 七、雷达图作业：</h2>\n<h5 id=\"1-读取scorescsv文件成dataframe对象\"><a class=\"anchor\" href=\"#1-读取scorescsv文件成dataframe对象\">#</a> 1. 读取 scores.csv 文件成 DataFrame 对象。</h5>\n<h5 id=\"2-计算每个科目的平均成绩\"><a class=\"anchor\" href=\"#2-计算每个科目的平均成绩\">#</a> 2. 计算每个科目的平均成绩。</h5>\n<h5 id=\"3-将每个科目的平均成绩绘制成雷达图\"><a class=\"anchor\" href=\"#3-将每个科目的平均成绩绘制成雷达图\">#</a> 3. 将每个科目的平均成绩绘制成雷达图。</h5>\n<h5 id=\"效果图如下-21\"><a class=\"anchor\" href=\"#效果图如下-21\">#</a> 效果图如下：</h5>\n<h1 id=\"seaborn-库\"><a class=\"anchor\" href=\"#seaborn-库\">#</a> seaborn 库：</h1>\n<h5 id=\"seaborn-是一种基于-matplotlib-的图形可视化库-他提前已经定义好了一套自己的风格-然后也\"><a class=\"anchor\" href=\"#seaborn-是一种基于-matplotlib-的图形可视化库-他提前已经定义好了一套自己的风格-然后也\">#</a> Seaborn 是一种基于 matplotlib 的图形可视化库。他提前已经定义好了一套自己的风格。然后也</h5>\n<h5 id=\"封装了一系列的方便的绘图函数之前通过-matplotlib-需要很多代码才能完成的绘图使\"><a class=\"anchor\" href=\"#封装了一系列的方便的绘图函数之前通过-matplotlib-需要很多代码才能完成的绘图使\">#</a> 封装了一系列的方便的绘图函数，之前通过 matplotlib 需要很多代码才能完成的绘图，使</h5>\n<h5 id=\"用-seaborn-可能就是一行代码的事情-总结一句话使用-seaborn-绘图比-matplotlib-更好看\"><a class=\"anchor\" href=\"#用-seaborn-可能就是一行代码的事情-总结一句话使用-seaborn-绘图比-matplotlib-更好看\">#</a> 用 seaborn 可能就是一行代码的事情。总结一句话：使用 seaborn 绘图比 matplotlib 更好看，</h5>\n<h5 id=\"更简单\"><a class=\"anchor\" href=\"#更简单\">#</a> 更简单！</h5>\n<h2 id=\"安装-4\"><a class=\"anchor\" href=\"#安装-4\">#</a> 安装：</h2>\n<h5 id=\"1-通过-pip-pip-install-seaborn\"><a class=\"anchor\" href=\"#1-通过-pip-pip-install-seaborn\">#</a> 1. 通过 pip ： pip install seaborn 。</h5>\n<h5 id=\"2-通过-anaconda-conda-install-seaborn\"><a class=\"anchor\" href=\"#2-通过-anaconda-conda-install-seaborn\">#</a> 2. 通过 anaconda ： conda install seaborn 。</h5>\n<h2 id=\"官方文档\"><a class=\"anchor\" href=\"#官方文档\">#</a> 官方文档：</h2>\n<figure class=\"highlight avrasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">https:</span>//seaborn.pydata<span class=\"meta\">.org</span>/tutorial.html</span><br></pre></td></tr></table></figure>\n<h1 id=\"seaborn-关系绘图\"><a class=\"anchor\" href=\"#seaborn-关系绘图\">#</a> seaborn 关系绘图</h1>\n<h2 id=\"relplot\"><a class=\"anchor\" href=\"#relplot\">#</a> relplot ：</h2>\n<h5 id=\"这个函数功能非常强大可以用来表示多个变量之间的关联关系-默认情况下是绘制散点图也可\"><a class=\"anchor\" href=\"#这个函数功能非常强大可以用来表示多个变量之间的关联关系-默认情况下是绘制散点图也可\">#</a> 这个函数功能非常强大，可以用来表示多个变量之间的关联关系。默认情况下是绘制散点图，也可</h5>\n<h5 id=\"以绘制线性图具体绘制什么图形是通过-kind-参数来决定的-实际上以下两个函数就\"><a class=\"anchor\" href=\"#以绘制线性图具体绘制什么图形是通过-kind-参数来决定的-实际上以下两个函数就\">#</a> 以绘制线性图，具体绘制什么图形是通过 kind 参数来决定的。实际上以下两个函数就</h5>\n<h5 id=\"是-relplot-的特例\"><a class=\"anchor\" href=\"#是-relplot-的特例\">#</a> 是 relplot 的特例：</h5>\n<h5 id=\"1-scatterplot-relplotkindscatter\"><a class=\"anchor\" href=\"#1-scatterplot-relplotkindscatter\">#</a> 1. scatterplot ： relplot(kind=‘scatter’) 。</h5>\n<h5 id=\"2-lineplot-relplotkindline\"><a class=\"anchor\" href=\"#2-lineplot-relplotkindline\">#</a> 2. lineplot ： relplot(kind=‘line’) 。</h5>\n<h2 id=\"1-基本使用\"><a class=\"anchor\" href=\"#1-基本使用\">#</a> 1. 基本使用：</h2>\n<figure class=\"highlight haskell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> seaborn <span class=\"keyword\">as</span> sns</span><br><span class=\"line\"><span class=\"title\">tips</span> = sns.load_dataset(<span class=\"string\">&quot;tips&quot;</span>,cache=<span class=\"type\">True</span>)</span><br><span class=\"line\"><span class=\"title\">sns</span>.relplot(x=<span class=\"string\">&quot;total_bill&quot;</span>,y=<span class=\"string\">&quot;tip&quot;</span>,<span class=\"class\"><span class=\"keyword\">data</span>=tips)</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-22\"><a class=\"anchor\" href=\"#效果图如下-22\">#</a> 效果图如下：</h5>\n<h2 id=\"2-添加-hue-参数\"><a class=\"anchor\" href=\"#2-添加-hue-参数\">#</a> 2. 添加 hue 参数：</h2>\n<h5 id=\"hue-参数是用来控制第三个变量的颜色显示的-比如我们在以上图的基础之上体现出星期几的参\"><a class=\"anchor\" href=\"#hue-参数是用来控制第三个变量的颜色显示的-比如我们在以上图的基础之上体现出星期几的参\">#</a> hue 参数是用来控制第三个变量的颜色显示的。比如我们在以上图的基础之上体现出星期几的参</h5>\n<h5 id=\"数那么可以通过以下代码来实现\"><a class=\"anchor\" href=\"#数那么可以通过以下代码来实现\">#</a> 数，那么可以通过以下代码来实现：</h5>\n<figure class=\"highlight gml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns.relplot(<span class=\"variable language_\">x</span>=<span class=\"string\">&quot;total_bill&quot;</span>,<span class=\"variable language_\">y</span>=<span class=\"string\">&quot;tip&quot;</span>,hue=<span class=\"string\">&quot;day&quot;</span>,data=tips)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-23\"><a class=\"anchor\" href=\"#效果图如下-23\">#</a> 效果图如下：</h5>\n<h3 id=\"3-添加-col-和-row-参数\"><a class=\"anchor\" href=\"#3-添加-col-和-row-参数\">#</a> 3. 添加 col 和 row 参数：</h3>\n<h5 id=\"col-和-row-可以将图根据某个属性的值的个数分割成多列或者多行-比如在以上图的基础之上\"><a class=\"anchor\" href=\"#col-和-row-可以将图根据某个属性的值的个数分割成多列或者多行-比如在以上图的基础之上\">#</a> col 和 row ，可以将图根据某个属性的值的个数分割成多列或者多行。比如在以上图的基础之上</h5>\n<h5 id=\"我们想要把-lunch午餐-和-dinner晚餐-分割成两个图来显示那么可以通过以下代码来实现\"><a class=\"anchor\" href=\"#我们想要把-lunch午餐-和-dinner晚餐-分割成两个图来显示那么可以通过以下代码来实现\">#</a> 我们想要把 Lunch (午餐) 和 Dinner (晚餐) 分割成两个图来显示，那么可以通过以下代码来实现：</h5>\n<figure class=\"highlight gml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns.relplot(<span class=\"variable language_\">x</span>=<span class=\"string\">&quot;total_bill&quot;</span>,<span class=\"variable language_\">y</span>=<span class=\"string\">&quot;tip&quot;</span>,hue=<span class=\"string\">&quot;day&quot;</span>,col=<span class=\"string\">&quot;time&quot;</span>,data=tips)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-24\"><a class=\"anchor\" href=\"#效果图如下-24\">#</a> 效果图如下：</h5>\n<h5 id=\"也可以再在-row-上添加一个新的变量比如把性别按照行显示出来代码如下\"><a class=\"anchor\" href=\"#也可以再在-row-上添加一个新的变量比如把性别按照行显示出来代码如下\">#</a> 也可以再在 row 上添加一个新的变量，比如把性别按照行显示出来，代码如下：</h5>\n<figure class=\"highlight stan\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns.relplot(x=<span class=\"string\">&quot;total_bill&quot;</span>,y=<span class=\"string\">&quot;tip&quot;</span>,hue=<span class=\"string\">&quot;day&quot;</span>,<span class=\"built_in\">col</span>=<span class=\"string\">&quot;time&quot;</span>,<span class=\"built_in\">row</span>=<span class=\"string\">&quot;sex&quot;</span>,<span class=\"title\">data</span>=tips)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-25\"><a class=\"anchor\" href=\"#效果图如下-25\">#</a> 效果图如下：</h5>\n<h3 id=\"4-指定具体的列\"><a class=\"anchor\" href=\"#4-指定具体的列\">#</a> 4. 指定具体的列：</h3>\n<h5 id=\"有时候我们的图有很多默认情况下会在一行中全部展示出来那么我们可以通过-col_wrap-来指\"><a class=\"anchor\" href=\"#有时候我们的图有很多默认情况下会在一行中全部展示出来那么我们可以通过-col_wrap-来指\">#</a> 有时候我们的图有很多，默认情况下会在一行中全部展示出来，那么我们可以通过 col_wrap 来指</h5>\n<h5 id=\"定具体多少列-示例代码如下\"><a class=\"anchor\" href=\"#定具体多少列-示例代码如下\">#</a> 定具体多少列。示例代码如下：</h5>\n<figure class=\"highlight gml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns.relplot(<span class=\"variable language_\">x</span>=<span class=\"string\">&quot;total_bill&quot;</span>,<span class=\"variable language_\">y</span>=<span class=\"string\">&quot;tip&quot;</span>,col=<span class=\"string\">&quot;day&quot;</span>,col_wrap= <span class=\"number\">2</span> ,data=tips)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-26\"><a class=\"anchor\" href=\"#效果图如下-26\">#</a> 效果图如下：</h5>\n<h3 id=\"5-绘制折线图\"><a class=\"anchor\" href=\"#5-绘制折线图\">#</a> 5. 绘制折线图：</h3>\n<h5 id=\"relplot-通过设置-kindline-可以绘制折线图-并且他的功能比-pltplot-更加强大-plot-只\"><a class=\"anchor\" href=\"#relplot-通过设置-kindline-可以绘制折线图-并且他的功能比-pltplot-更加强大-plot-只\">#</a> relplot 通过设置 kind=“line” 可以绘制折线图。并且他的功能比 plt.plot 更加强大。 plot 只</h5>\n<h5 id=\"能指定具体的-x-和-y-轴的数据比如x轴是n个数y轴也必须为n个数-而-relplot-则可以在\"><a class=\"anchor\" href=\"#能指定具体的-x-和-y-轴的数据比如x轴是n个数y轴也必须为n个数-而-relplot-则可以在\">#</a> 能指定具体的 x 和 y 轴的数据（比如 x 轴是 N 个数，y 轴也必须为 N 个数）。而 relplot 则可以在</h5>\n<h5 id=\"自动在两组数据中进行计算绘图-示例代码如下\"><a class=\"anchor\" href=\"#自动在两组数据中进行计算绘图-示例代码如下\">#</a> 自动在两组数据中进行计算绘图。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fmri = sns<span class=\"selector-class\">.load_dataset</span>(<span class=\"string\">&quot;fmri&quot;</span>)</span><br><span class=\"line\">sns<span class=\"selector-class\">.relplot</span>(<span class=\"attribute\">x</span>=<span class=\"string\">&quot;timepoint&quot;</span>,y=<span class=\"string\">&quot;signal&quot;</span>,kind=<span class=\"string\">&quot;line&quot;</span>,data=fmri)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-27\"><a class=\"anchor\" href=\"#效果图如下-27\">#</a> 效果图如下：</h5>\n<h5 id=\"当然也可以添加其他的参数用来控制整个图的样式和结构-示例代码如下\"><a class=\"anchor\" href=\"#当然也可以添加其他的参数用来控制整个图的样式和结构-示例代码如下\">#</a> 当然也可以添加其他的参数，用来控制整个图的样式和结构。示例代码如下：</h5>\n<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 设置hue为event，就会根据event来绘制不同的颜色</span><br><span class=\"line\"># 设置<span class=\"built_in\">col</span>为<span class=\"built_in\">region</span>，就会根据<span class=\"built_in\">region</span>值的个数来绘制指定个数的图</span><br><span class=\"line\"># 设置<span class=\"built_in\">style</span>为event，就会根据event来设置线条的样式</span><br><span class=\"line\">sns.relplot(x=<span class=\"string\">&quot;timepoint&quot;</span>,y=<span class=\"string\">&quot;signal&quot;</span>,kind=<span class=\"string\">&quot;line&quot;</span>,hue=<span class=\"string\">&quot;event&quot;</span>,<span class=\"built_in\">col</span>=<span class=\"string\">&quot;region&quot;</span>,<span class=\"built_in\">style</span>=<span class=\"string\">&quot;event&quot;</span></span><br><span class=\"line\">,data=fmri)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-28\"><a class=\"anchor\" href=\"#效果图如下-28\">#</a> 效果图如下：</h5>\n<h1 id=\"分类绘图\"><a class=\"anchor\" href=\"#分类绘图\">#</a> 分类绘图</h1>\n<h5 id=\"分类图的绘制采用的是-snscatplot-来实现的-cat-是-category-的简写-这个方法默认绘制\"><a class=\"anchor\" href=\"#分类图的绘制采用的是-snscatplot-来实现的-cat-是-category-的简写-这个方法默认绘制\">#</a> 分类图的绘制，采用的是 sns.catplot 来实现的。 cat 是 category 的简写。这个方法默认绘制</h5>\n<h5 id=\"的是-分类散点图-如果想要绘制其他类型的图同样也是通过-kind-参数来指定-并且分类绘图\"><a class=\"anchor\" href=\"#的是-分类散点图-如果想要绘制其他类型的图同样也是通过-kind-参数来指定-并且分类绘图\">#</a> 的是 分类散点图 ，如果想要绘制其他类型的图，同样也是通过 kind 参数来指定。并且分类绘图</h5>\n<h5 id=\"中分成分类散点图分类分布图分类统计图\"><a class=\"anchor\" href=\"#中分成分类散点图分类分布图分类统计图\">#</a> 中，分成分类散点图，分类分布图，分类统计图。</h5>\n<h2 id=\"一-分类散点图\"><a class=\"anchor\" href=\"#一-分类散点图\">#</a> 一、分类散点图：</h2>\n<h5 id=\"分类散点图比较适合数据量不是很多的情况他是用-catplot-来实现但是也有以下两个特别的\"><a class=\"anchor\" href=\"#分类散点图比较适合数据量不是很多的情况他是用-catplot-来实现但是也有以下两个特别的\">#</a> 分类散点图比较适合数据量不是很多的情况，他是用 catplot 来实现，但是也有以下两个特别的</h5>\n<h5 id=\"方法\"><a class=\"anchor\" href=\"#方法\">#</a> 方法。</h5>\n<h5 id=\"1-stripplot-catplotkindstrip-默认的\"><a class=\"anchor\" href=\"#1-stripplot-catplotkindstrip-默认的\">#</a> 1. stripplot () ： catplot (kind=“strip”) ，默认的。</h5>\n<h5 id=\"2-swarmplot-catplotkindswarm\"><a class=\"anchor\" href=\"#2-swarmplot-catplotkindswarm\">#</a> 2. swarmplot() ： catplot(kind=“swarm”) 。</h5>\n<h2 id=\"11-stripplot\"><a class=\"anchor\" href=\"#11-stripplot\">#</a> 1.1. stripplot ：</h2>\n<h5 id=\"示例代码如下-7\"><a class=\"anchor\" href=\"#示例代码如下-7\">#</a> 示例代码如下：</h5>\n<figure class=\"highlight gml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns.catplot(<span class=\"variable language_\">x</span>=<span class=\"string\">&quot;day&quot;</span>,<span class=\"variable language_\">y</span>=<span class=\"string\">&quot;total_bill&quot;</span>,data=tips,hue=<span class=\"string\">&quot;sex&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"示例图如下-5\"><a class=\"anchor\" href=\"#示例图如下-5\">#</a> 示例图如下：</h5>\n<h2 id=\"12-swarmplot\"><a class=\"anchor\" href=\"#12-swarmplot\">#</a> 1.2. swarmplot ：</h2>\n<h5 id=\"以上图展示的是按照星期几的分类散点图看起来这些点有点重合如果想要散开来那么可以使\"><a class=\"anchor\" href=\"#以上图展示的是按照星期几的分类散点图看起来这些点有点重合如果想要散开来那么可以使\">#</a> 以上图展示的是按照星期几的分类散点图，看起来这些点有点重合，如果想要散开来，那么可以使</h5>\n<h5 id=\"用-catplotkindswarm-示例代码如下\"><a class=\"anchor\" href=\"#用-catplotkindswarm-示例代码如下\">#</a> 用 catplot (kind=“swarm”) 。示例代码如下：</h5>\n<figure class=\"highlight gml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns.catplot(<span class=\"variable language_\">x</span>=<span class=\"string\">&quot;day&quot;</span>,<span class=\"variable language_\">y</span>=<span class=\"string\">&quot;total_bill&quot;</span>,kind=<span class=\"string\">&quot;swarm&quot;</span>,data=tips,hue=<span class=\"string\">&quot;sex&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"catplot-方法不能使用-size-和-style-参数\"><a class=\"anchor\" href=\"#catplot-方法不能使用-size-和-style-参数\">#</a> catplot 方法不能使用 size 和 style 参数。</h5>\n<h3 id=\"13-横向分类散点图\"><a class=\"anchor\" href=\"#13-横向分类散点图\">#</a> 1.3. 横向分类散点图：</h3>\n<h5 id=\"想要将垂直的分类散点图变成横向的只需要把-x-和-y-对应的值进行互换即可\"><a class=\"anchor\" href=\"#想要将垂直的分类散点图变成横向的只需要把-x-和-y-对应的值进行互换即可\">#</a> 想要将垂直的分类散点图变成横向的，只需要把 x 和 y 对应的值进行互换即可。</h5>\n<figure class=\"highlight gml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns.catplot(<span class=\"variable language_\">y</span>=<span class=\"string\">&quot;day&quot;</span>,<span class=\"variable language_\">x</span>=<span class=\"string\">&quot;total_bill&quot;</span>,kind=<span class=\"string\">&quot;swarm&quot;</span>,data=tips,hue=<span class=\"string\">&quot;sex&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-29\"><a class=\"anchor\" href=\"#效果图如下-29\">#</a> 效果图如下：</h5>\n<h2 id=\"二-分类分布图\"><a class=\"anchor\" href=\"#二-分类分布图\">#</a> 二、分类分布图：</h2>\n<h5 id=\"分类分布图主要是根据分类来看然后在每个分类下数据的分布情况-也是通过-catplot-来实\"><a class=\"anchor\" href=\"#分类分布图主要是根据分类来看然后在每个分类下数据的分布情况-也是通过-catplot-来实\">#</a> 分类分布图，主要是根据分类来看，然后在每个分类下数据的分布情况。也是通过 catplot 来实</h5>\n<h5 id=\"现以下三个方法分别是不同的-kind-参数\"><a class=\"anchor\" href=\"#现以下三个方法分别是不同的-kind-参数\">#</a> 现，以下三个方法分别是不同的 kind 参数：</h5>\n<h5 id=\"1-boxplot-catplotkindbox\"><a class=\"anchor\" href=\"#1-boxplot-catplotkindbox\">#</a> 1. boxplot() ： catplot(kind=“box”) 。</h5>\n<h5 id=\"2-violinplot-catplotkindviolin\"><a class=\"anchor\" href=\"#2-violinplot-catplotkindviolin\">#</a> 2. violinplot() ： catplot(kind=“violin”) 。</h5>\n<h3 id=\"21-箱线图\"><a class=\"anchor\" href=\"#21-箱线图\">#</a> 2.1. 箱线图：</h3>\n<h5 id=\"示例代码如下-8\"><a class=\"anchor\" href=\"#示例代码如下-8\">#</a> 示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">athletes = pd<span class=\"selector-class\">.read_csv</span>(<span class=\"string\">&quot;athlete_events.csv&quot;</span>)</span><br><span class=\"line\">countries = &#123;</span><br><span class=\"line\"><span class=\"string\">&#x27;CHN&#x27;</span>:<span class=\"string\">&#x27;中国&#x27;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;JPN&#x27;</span>:<span class=\"string\">&quot;日本&quot;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;KOR&#x27;</span>:<span class=\"string\">&#x27;韩国&#x27;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;USA&#x27;</span>:<span class=\"string\">&quot;美国&quot;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;CAN&#x27;</span>:<span class=\"string\">&quot;加拿大&quot;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;BRA&#x27;</span>:<span class=\"string\">&quot;巴西&quot;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;GBR&#x27;</span>:<span class=\"string\">&quot;英国&quot;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;FRA&#x27;</span>:<span class=\"string\">&quot;法国&quot;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;ITA&#x27;</span>:<span class=\"string\">&quot;意大利&quot;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;ETH&#x27;</span>:<span class=\"string\">&quot;埃塞俄比亚&quot;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;KEN&#x27;</span>:<span class=\"string\">&quot;肯尼亚&quot;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;NIG&#x27;</span>:<span class=\"string\">&quot;尼日利亚&quot;</span>,</span><br></pre></td></tr></table></figure>\n<h6 id=\"-5\"><a class=\"anchor\" href=\"#-5\">#</a> }</h6>\n<figure class=\"highlight prolog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plt.rcParams[<span class=\"string\">&#x27;font.sans-serif&#x27;</span>] = [<span class=\"string\">&#x27;FangSong&#x27;</span>]</span><br><span class=\"line\"># print(plt.rcParams.keys())</span><br><span class=\"line\">need_athletes = athletes[athletes[<span class=\"string\">&#x27;NOC&#x27;</span>].isin(list(countries.keys()))]</span><br><span class=\"line\">g = sns.catplot(x=<span class=\"string\">&quot;NOC&quot;</span>,y=<span class=\"string\">&quot;Height&quot;</span>,data=need_athletes,kind=<span class=\"string\">&quot;box&quot;</span>,hue=<span class=\"string\">&quot;Sex&quot;</span>)</span><br><span class=\"line\">g.fig.set_size_inches( <span class=\"number\">20</span> , <span class=\"number\">5</span> )</span><br><span class=\"line\">g.set_xticklabels(list(countries.values()))</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-30\"><a class=\"anchor\" href=\"#效果图如下-30\">#</a> 效果图如下：</h5>\n<h3 id=\"22-小提琴图\"><a class=\"anchor\" href=\"#22-小提琴图\">#</a> 2.2. 小提琴图：</h3>\n<h5 id=\"小提琴实际上就是两个对称的核密度曲线合并起来然后中间是一个箱线图也可以为其他图组\"><a class=\"anchor\" href=\"#小提琴实际上就是两个对称的核密度曲线合并起来然后中间是一个箱线图也可以为其他图组\">#</a> 小提琴实际上就是两个对称的核密度曲线合并起来，然后中间是一个箱线图（也可以为其他图）组</h5>\n<h5 id=\"成的-通过小提琴图可以看出数据的分布情况-示例代码如下\"><a class=\"anchor\" href=\"#成的-通过小提琴图可以看出数据的分布情况-示例代码如下\">#</a> 成的。通过小提琴图可以看出数据的分布情况。示例代码如下：</h5>\n<figure class=\"highlight arcade\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns.catplot(x=<span class=\"string\">&quot;day&quot;</span>,y=<span class=\"string\">&quot;total_bill&quot;</span>,data=tips,kind=<span class=\"string\">&quot;violin&quot;</span>,hue=<span class=\"string\">&quot;sex&quot;</span>,<span class=\"built_in\">split</span>=<span class=\"literal\">True</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-31\"><a class=\"anchor\" href=\"#效果图如下-31\">#</a> 效果图如下：</h5>\n<h5 id=\"小提琴的中间默认绘制的是箱线图也可以修改为其他类型的-可以通过-inner-参数修改这个\"><a class=\"anchor\" href=\"#小提琴的中间默认绘制的是箱线图也可以修改为其他类型的-可以通过-inner-参数修改这个\">#</a> 小提琴的中间默认绘制的是箱线图，也可以修改为其他类型的。可以通过 inner 参数修改，这个</h5>\n<h5 id=\"参数有以下几个选项\"><a class=\"anchor\" href=\"#参数有以下几个选项\">#</a> 参数有以下几个选项：</h5>\n<h5 id=\"1-box-默认的箱线图\"><a class=\"anchor\" href=\"#1-box-默认的箱线图\">#</a> 1. box ：默认的，箱线图。</h5>\n<h5 id=\"2-quartile-四分位数-上下四分位数加中位数\"><a class=\"anchor\" href=\"#2-quartile-四分位数-上下四分位数加中位数\">#</a> 2. quartile ：四分位数。上下四分位数加中位数。</h5>\n<h5 id=\"3-point-散点\"><a class=\"anchor\" href=\"#3-point-散点\">#</a> 3. point ：散点。</h5>\n<h5 id=\"4-stick-线条\"><a class=\"anchor\" href=\"#4-stick-线条\">#</a> 4. stick ：线条。</h5>\n<h2 id=\"三-分类统计图\"><a class=\"anchor\" href=\"#三-分类统计图\">#</a> 三、分类统计图：</h2>\n<h5 id=\"分类统计图则是根据分类统计每个分类下的数据的个数或者比例-有以下几种方式\"><a class=\"anchor\" href=\"#分类统计图则是根据分类统计每个分类下的数据的个数或者比例-有以下几种方式\">#</a> 分类统计图，则是根据分类，统计每个分类下的数据的个数或者比例。有以下几种方式：</h5>\n<h5 id=\"1-barplot-catplotkindbar\"><a class=\"anchor\" href=\"#1-barplot-catplotkindbar\">#</a> 1. barplot() ： catplot(kind=“bar”) 。</h5>\n<h5 id=\"2-pointplot-catplotkindpoint\"><a class=\"anchor\" href=\"#2-pointplot-catplotkindpoint\">#</a> 2. pointplot() ： catplot(kind=“point”) 。</h5>\n<h5 id=\"3-countplot-catplotkindcount\"><a class=\"anchor\" href=\"#3-countplot-catplotkindcount\">#</a> 3. countplot() ： catplot(kind=“count”) 。</h5>\n<h3 id=\"31-条形图\"><a class=\"anchor\" href=\"#31-条形图\">#</a> 3.1. 条形图：</h3>\n<h5 id=\"seaborn-中的条形图具有统计功能可以统计出比例平均数也可以按照你想要的统计函数来\"><a class=\"anchor\" href=\"#seaborn-中的条形图具有统计功能可以统计出比例平均数也可以按照你想要的统计函数来\">#</a> seaborn 中的条形图具有统计功能，可以统计出比例，平均数，也可以按照你想要的统计函数来</h5>\n<h5 id=\"统计-示例代码如下\"><a class=\"anchor\" href=\"#统计-示例代码如下\">#</a> 统计。示例代码如下：</h5>\n<h5 id=\"1-统计平均数\"><a class=\"anchor\" href=\"#1-统计平均数\">#</a> 1. 统计平均数：</h5>\n<h6 id=\"统计星期三到星期天的消费总额的平均数\"><a class=\"anchor\" href=\"#统计星期三到星期天的消费总额的平均数\">#</a> # 统计星期三到星期天的消费总额的平均数</h6>\n<figure class=\"highlight gml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns.catplot(<span class=\"variable language_\">x</span>=<span class=\"string\">&quot;day&quot;</span>,<span class=\"variable language_\">y</span>=<span class=\"string\">&quot;total_bill&quot;</span>,data=tips,kind=<span class=\"string\">&quot;bar&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"2-统计比例\"><a class=\"anchor\" href=\"#2-统计比例\">#</a> 2. 统计比例：</h5>\n<h6 id=\"统计男女中获救的比例\"><a class=\"anchor\" href=\"#统计男女中获救的比例\">#</a> # 统计男女中获救的比例</h6>\n<figure class=\"highlight gml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns.catplot(data=titanic,kind=<span class=\"string\">&quot;bar&quot;</span>,<span class=\"variable language_\">x</span>=<span class=\"string\">&quot;sex&quot;</span>,<span class=\"variable language_\">y</span>=<span class=\"string\">&quot;survived&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"3-自定义统计函数\"><a class=\"anchor\" href=\"#3-自定义统计函数\">#</a> 3. 自定义统计函数：</h5>\n<h6 id=\"自定义统计函数统计出每个性别下获救的人数\"><a class=\"anchor\" href=\"#自定义统计函数统计出每个性别下获救的人数\">#</a> # 自定义统计函数，统计出每个性别下获救的人数</h6>\n<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns.barplot(x=<span class=\"string\">&quot;sex&quot;</span>,y=<span class=\"string\">&quot;survived&quot;</span>,data=titanic,estimator=<span class=\"built_in\">lambda</span> <span class=\"built_in\">values</span>:<span class=\"built_in\">sum</span>(<span class=\"built_in\">values</span>))</span><br></pre></td></tr></table></figure>\n<h3 id=\"32-柱状图\"><a class=\"anchor\" href=\"#32-柱状图\">#</a> 3.2. 柱状图：</h3>\n<h5 id=\"柱状图是专门用来统计某个单一变量出现数量的图形-示例代码如下\"><a class=\"anchor\" href=\"#柱状图是专门用来统计某个单一变量出现数量的图形-示例代码如下\">#</a> 柱状图是专门用来统计某个单一变量出现数量的图形。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns<span class=\"selector-class\">.catplot</span>(<span class=\"attribute\">x</span>=<span class=\"string\">&quot;sex&quot;</span>,data=titanic,kind=<span class=\"string\">&quot;count&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"也可以通过使用-hue-参数来指定分组\"><a class=\"anchor\" href=\"#也可以通过使用-hue-参数来指定分组\">#</a> 也可以通过使用 hue 参数来指定分组：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns<span class=\"selector-class\">.catplot</span>(<span class=\"attribute\">x</span>=<span class=\"string\">&quot;day&quot;</span>,kind=<span class=\"string\">&quot;count&quot;</span>,data=tips,hue=<span class=\"string\">&quot;sex&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"33-点线图\"><a class=\"anchor\" href=\"#33-点线图\">#</a> 3.3. 点线图：</h3>\n<h5 id=\"点线图可以非常方便的看到变量之间的趋势变化-示例代码如下\"><a class=\"anchor\" href=\"#点线图可以非常方便的看到变量之间的趋势变化-示例代码如下\">#</a> 点线图可以非常方便的看到变量之间的趋势变化。示例代码如下：</h5>\n<figure class=\"highlight gml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns.catplot(<span class=\"variable language_\">x</span>=<span class=\"string\">&quot;sex&quot;</span>,<span class=\"variable language_\">y</span>=<span class=\"string\">&quot;survived&quot;</span>,data=titanic,kind=<span class=\"string\">&quot;point&quot;</span>,hue=<span class=\"string\">&quot;class&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-32\"><a class=\"anchor\" href=\"#效果图如下-32\">#</a> 效果图如下：</h5>\n<h1 id=\"分布绘图\"><a class=\"anchor\" href=\"#分布绘图\">#</a> 分布绘图</h1>\n<h5 id=\"分布绘图分为单一变量分布多变量分布成对绘图-以下进行讲解\"><a class=\"anchor\" href=\"#分布绘图分为单一变量分布多变量分布成对绘图-以下进行讲解\">#</a> 分布绘图分为单一变量分布，多变量分布，成对绘图。以下进行讲解。</h5>\n<h2 id=\"单变量分布\"><a class=\"anchor\" href=\"#单变量分布\">#</a> 单变量分布：</h2>\n<h5 id=\"单一变量主要就是通过直方图来绘制-在-seaborn-中直方图的绘制采用的是-distplot-其\"><a class=\"anchor\" href=\"#单一变量主要就是通过直方图来绘制-在-seaborn-中直方图的绘制采用的是-distplot-其\">#</a> 单一变量主要就是通过直方图来绘制。在 seaborn 中直方图的绘制采用的是 distplot ，其</h5>\n<h5 id=\"中-dist-是-distribution-的简写不是-histogram-的简写-示例代码如下\"><a class=\"anchor\" href=\"#中-dist-是-distribution-的简写不是-histogram-的简写-示例代码如下\">#</a> 中 dist 是 distribution 的简写，不是 histogram 的简写。示例代码如下：</h5>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns.<span class=\"built_in\">set</span>(<span class=\"attribute\">color_codes</span>=<span class=\"literal\">True</span>)</span><br><span class=\"line\">titanic = sns.load_dataset(<span class=\"string\">&quot;titanic&quot;</span>)</span><br><span class=\"line\">titanic = titanic[~np.isnan(titanic[<span class=\"string\">&#x27;age&#x27;</span>])]</span><br><span class=\"line\">sns.distplot(titanic[<span class=\"string\">&#x27;age&#x27;</span>])</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-33\"><a class=\"anchor\" href=\"#效果图如下-33\">#</a> 效果图如下：</h5>\n<h5 id=\"有以下常用参数\"><a class=\"anchor\" href=\"#有以下常用参数\">#</a> 有以下常用参数：</h5>\n<h5 id=\"1-kde核密度曲线-这个代表是否要显示-kde-曲线默认是显示的如果显示-kde-曲线那\"><a class=\"anchor\" href=\"#1-kde核密度曲线-这个代表是否要显示-kde-曲线默认是显示的如果显示-kde-曲线那\">#</a> 1. kde（核密度曲线） ：这个代表是否要显示 kde 曲线，默认是显示的，如果显示 kde 曲线，那</h5>\n<h5 id=\"么-y-轴表示的就是概率而不是数量-也可以设置为-false-关掉-示例代码如下\"><a class=\"anchor\" href=\"#么-y-轴表示的就是概率而不是数量-也可以设置为-false-关掉-示例代码如下\">#</a> 么 y 轴表示的就是概率，而不是数量。也可以设置为 False 关掉。示例代码如下：</h5>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns.distplot(titanic[<span class=\"string\">&#x27;age&#x27;</span>],<span class=\"attribute\">kde</span>=<span class=\"literal\">False</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"2-bins-代表这个直方图显示的数量-也可以通过自己设置-示例代码如下\"><a class=\"anchor\" href=\"#2-bins-代表这个直方图显示的数量-也可以通过自己设置-示例代码如下\">#</a> 2. bins ：代表这个直方图显示的数量。也可以通过自己设置。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns<span class=\"selector-class\">.distplot</span>(titanic<span class=\"selector-attr\">[<span class=\"string\">&#x27;age&#x27;</span>]</span>,bins= <span class=\"number\">30</span> )</span><br></pre></td></tr></table></figure>\n<h5 id=\"3-rug-代表是否需要显示底部的胡须下线下面的胡须线越密集的地方说明数据量越多\"><a class=\"anchor\" href=\"#3-rug-代表是否需要显示底部的胡须下线下面的胡须线越密集的地方说明数据量越多\">#</a> 3. rug ：代表是否需要显示底部的胡须下线，下面的胡须线越密集的地方，说明数据量越多。</h5>\n<h5 id=\"示例代码如下-9\"><a class=\"anchor\" href=\"#示例代码如下-9\">#</a> 示例代码如下：</h5>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns.distplot(titanic[<span class=\"string\">&#x27;age&#x27;</span>],<span class=\"attribute\">rug</span>=<span class=\"literal\">True</span>)</span><br></pre></td></tr></table></figure>\n<h2 id=\"二变量分布\"><a class=\"anchor\" href=\"#二变量分布\">#</a> 二变量分布：</h2>\n<h5 id=\"多变量分布图可以看出两个变量之间的分布关系-一般都是采用多个图进行表示-多变量分布图采\"><a class=\"anchor\" href=\"#多变量分布图可以看出两个变量之间的分布关系-一般都是采用多个图进行表示-多变量分布图采\">#</a> 多变量分布图可以看出两个变量之间的分布关系。一般都是采用多个图进行表示。多变量分布图采</h5>\n<h5 id=\"用的函数是-jointplot\"><a class=\"anchor\" href=\"#用的函数是-jointplot\">#</a> 用的函数是 jointplot 。</h5>\n<h3 id=\"散点图-3\"><a class=\"anchor\" href=\"#散点图-3\">#</a> 散点图：</h3>\n<h5 id=\"示例代码如下-10\"><a class=\"anchor\" href=\"#示例代码如下-10\">#</a> 示例代码如下：</h5>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tips = sns.load_dataset(<span class=\"string\">&quot;tips&quot;</span>)</span><br><span class=\"line\">g = sns.jointplot(<span class=\"attribute\">x</span>=<span class=\"string\">&quot;total_bill&quot;</span>, <span class=\"attribute\">y</span>=<span class=\"string\">&quot;tip&quot;</span>, <span class=\"attribute\">data</span>=tips)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-34\"><a class=\"anchor\" href=\"#效果图如下-34\">#</a> 效果图如下：</h5>\n<h5 id=\"通过设置-kindreg-可以设置回归绘图和核密度曲线-示例代码如下\"><a class=\"anchor\" href=\"#通过设置-kindreg-可以设置回归绘图和核密度曲线-示例代码如下\">#</a> 通过设置 kind=‘reg’ 可以设置回归绘图和核密度曲线。示例代码如下：</h5>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">g = sns.jointplot(<span class=\"attribute\">x</span>=<span class=\"string\">&quot;total_bill&quot;</span>, <span class=\"attribute\">y</span>=<span class=\"string\">&quot;tip&quot;</span>, <span class=\"attribute\">data</span>=tips,kind=&quot;reg&quot;)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-35\"><a class=\"anchor\" href=\"#效果图如下-35\">#</a> 效果图如下：</h5>\n<h3 id=\"六边形图\"><a class=\"anchor\" href=\"#六边形图\">#</a> 六边形图：</h3>\n<h5 id=\"对于一些数据量特别大的数据用散点图不太利于观察比如查看奥运会中国运动员的身高和体重\"><a class=\"anchor\" href=\"#对于一些数据量特别大的数据用散点图不太利于观察比如查看奥运会中国运动员的身高和体重\">#</a> 对于一些数据量特别大的数据，用散点图不太利于观察，比如查看奥运会中国运动员的身高和体重</h5>\n<h5 id=\"分布情况如果用散点图将会是以下的效果\"><a class=\"anchor\" href=\"#分布情况如果用散点图将会是以下的效果\">#</a> 分布情况，如果用散点图将会是以下的效果：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">athletes = pd<span class=\"selector-class\">.read_csv</span>(<span class=\"string\">&quot;athlete_events.csv&quot;</span>)</span><br><span class=\"line\">china_athletes = athletes<span class=\"selector-attr\">[athletes[<span class=\"string\">&#x27;NOC&#x27;</span>]</span>==<span class=\"string\">&#x27;CHN&#x27;</span>]</span><br><span class=\"line\">sns<span class=\"selector-class\">.jointplot</span>(<span class=\"attribute\">x</span>=<span class=\"string\">&quot;Height&quot;</span>,y=<span class=\"string\">&quot;Weight&quot;</span>,data=china_athletes)</span><br></pre></td></tr></table></figure>\n<h5 id=\"针对这种数据量比较大的情况可以采用六边形图来绘制也就是将之前的散点变成六边形六边\"><a class=\"anchor\" href=\"#针对这种数据量比较大的情况可以采用六边形图来绘制也就是将之前的散点变成六边形六边\">#</a> 针对这种数据量比较大的情况，可以采用六边形图来绘制，也就是将之前的散点变成六边形，六边</h5>\n<h5 id=\"形有一个区间大小之前这些点落在这个六边形中越多颜色越深-示例代码如下\"><a class=\"anchor\" href=\"#形有一个区间大小之前这些点落在这个六边形中越多颜色越深-示例代码如下\">#</a> 形有一个区间大小，之前这些点落在这个六边形中越多颜色越深。示例代码如下：</h5>\n<figure class=\"highlight gml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns.jointplot(<span class=\"variable language_\">x</span>=<span class=\"string\">&quot;Height&quot;</span>,<span class=\"variable language_\">y</span>=<span class=\"string\">&quot;Weight&quot;</span>,data=china_athletes,kind=<span class=\"string\">&quot;hex&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"默认情况在-x-轴的区间内可以展示-100-个六边形所以默认情况下六边形的尺寸会比较小\"><a class=\"anchor\" href=\"#默认情况在-x-轴的区间内可以展示-100-个六边形所以默认情况下六边形的尺寸会比较小\">#</a> 默认情况，在 x 轴的区间内，可以展示 100 个六边形，所以默认情况下六边形的尺寸会比较小，</h5>\n<h5 id=\"如果想要展示得更大一点那么可以设置减少六边形的个数通过-gridsize-设置-示例代码如\"><a class=\"anchor\" href=\"#如果想要展示得更大一点那么可以设置减少六边形的个数通过-gridsize-设置-示例代码如\">#</a> 如果想要展示得更大一点，那么可以设置减少六边形的个数，通过 gridsize 设置。示例代码如</h5>\n<h5 id=\"下\"><a class=\"anchor\" href=\"#下\">#</a> 下：</h5>\n<figure class=\"highlight gml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns.jointplot(<span class=\"variable language_\">x</span>=<span class=\"string\">&quot;Height&quot;</span>,<span class=\"variable language_\">y</span>=<span class=\"string\">&quot;Weight&quot;</span>,data=china_athletes,kind=<span class=\"string\">&quot;hex&quot;</span>,gridsize= <span class=\"number\">20</span> )</span><br></pre></td></tr></table></figure>\n<h5 id=\"更多请参考-2\"><a class=\"anchor\" href=\"#更多请参考-2\">#</a> 更多请参考：</h5>\n<h3 id=\"jointplot-其他常用参数\"><a class=\"anchor\" href=\"#jointplot-其他常用参数\">#</a> jointplot 其他常用参数：</h3>\n<h5 id=\"1-xydata-绘制图的数据\"><a class=\"anchor\" href=\"#1-xydata-绘制图的数据\">#</a> 1. x,y,data ：绘制图的数据。</h5>\n<h5 id=\"2-kind-scatter-reg-resid-kde-hex\"><a class=\"anchor\" href=\"#2-kind-scatter-reg-resid-kde-hex\">#</a> 2. kind ： scatter 、 reg 、 resid 、 kde 、 hex 。</h5>\n<h5 id=\"3-color-绘制元素的颜色\"><a class=\"anchor\" href=\"#3-color-绘制元素的颜色\">#</a> 3. color ：绘制元素的颜色。</h5>\n<h5 id=\"4-height-图的大小图会是一个正方形\"><a class=\"anchor\" href=\"#4-height-图的大小图会是一个正方形\">#</a> 4. height ：图的大小，图会是一个正方形。</h5>\n<h5 id=\"5-ratio-主图和副图的比例只能为一个整形\"><a class=\"anchor\" href=\"#5-ratio-主图和副图的比例只能为一个整形\">#</a> 5. ratio ：主图和副图的比例，只能为一个整形。</h5>\n<h5 id=\"6-space-主图和副图的间距\"><a class=\"anchor\" href=\"#6-space-主图和副图的间距\">#</a> 6. space ：主图和副图的间距。</h5>\n<h5 id=\"7-dropna-是否需要删除-x-或者-y-值中出现了-nan-的值\"><a class=\"anchor\" href=\"#7-dropna-是否需要删除-x-或者-y-值中出现了-nan-的值\">#</a> 7. dropna ：是否需要删除 x 或者 y 值中出现了 NAN 的值。</h5>\n<h5 id=\"8-marginal_kws-副图的一些属性比如设置-bins-rug-等\"><a class=\"anchor\" href=\"#8-marginal_kws-副图的一些属性比如设置-bins-rug-等\">#</a> 8. marginal_kws ：副图的一些属性，比如设置 bins 、 rug 等。</h5>\n<h2 id=\"成对绘图-pairplot\"><a class=\"anchor\" href=\"#成对绘图-pairplot\">#</a> 成对绘图（ pairplot ）：</h2>\n<h5 id=\"pairplot-可以把某个数据集中某几个字段之间的关系图一次性绘制出来-比如-iris-鸢尾花数\"><a class=\"anchor\" href=\"#pairplot-可以把某个数据集中某几个字段之间的关系图一次性绘制出来-比如-iris-鸢尾花数\">#</a> pairplot 可以把某个数据集中某几个字段之间的关系图一次性绘制出来。比如 iris 鸢尾花数</h5>\n<h5 id=\"据我们想要看到-petal_width-petal_height-sepal_width-以及-sepal_height-之间的关\"><a class=\"anchor\" href=\"#据我们想要看到-petal_width-petal_height-sepal_width-以及-sepal_height-之间的关\">#</a> 据，我们想要看到 petal_width 、 petal_height 、 sepal_width 以及 sepal_height 之间的关</h5>\n<h5 id=\"系那么我们就可以通过-pairplot-来绘制-示例代码如下\"><a class=\"anchor\" href=\"#系那么我们就可以通过-pairplot-来绘制-示例代码如下\">#</a> 系，那么我们就可以通过 pairplot 来绘制。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns<span class=\"selector-class\">.pairplot</span>(iris,vars=<span class=\"selector-attr\">[<span class=\"string\">&#x27;sepal_length&#x27;</span>,<span class=\"string\">&quot;sepal_width&quot;</span>,<span class=\"string\">&#x27;petal_length&#x27;</span>,<span class=\"string\">&#x27;petal_width&#x27;</span>]</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-36\"><a class=\"anchor\" href=\"#效果图如下-36\">#</a> 效果图如下：</h5>\n<h5 id=\"默认情况下对角线的图x和y轴的列相同是直方图其他地方的图是散点图如果想要修改这\"><a class=\"anchor\" href=\"#默认情况下对角线的图x和y轴的列相同是直方图其他地方的图是散点图如果想要修改这\">#</a> 默认情况下，对角线的图（x 和 y 轴的列相同）是直方图，其他地方的图是散点图，如果想要修改这</h5>\n<h5 id=\"两种图可以通过-diag_kind-和-kind-来实现-其中这两个参数可取的值为\"><a class=\"anchor\" href=\"#两种图可以通过-diag_kind-和-kind-来实现-其中这两个参数可取的值为\">#</a> 两种图，可以通过 diag_kind 和 kind 来实现。其中这两个参数可取的值为：</h5>\n<h5 id=\"1-diag_kind-auto-hist-kde\"><a class=\"anchor\" href=\"#1-diag_kind-auto-hist-kde\">#</a> 1. diag_kind ： auto , hist , kde 。</h5>\n<h5 id=\"2-kind-scatter-reg\"><a class=\"anchor\" href=\"#2-kind-scatter-reg\">#</a> 2. kind ： scatter , reg 。</h5>\n<h5 id=\"示例代码如下-11\"><a class=\"anchor\" href=\"#示例代码如下-11\">#</a> 示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns<span class=\"selector-class\">.pairplot</span>(iris,vars=<span class=\"selector-attr\">[<span class=\"string\">&#x27;sepal_length&#x27;</span>,<span class=\"string\">&quot;sepal_width&quot;</span>,<span class=\"string\">&#x27;petal_length&#x27;</span>,<span class=\"string\">&#x27;petal_width&#x27;</span>]</span>,diag</span><br><span class=\"line\">_kind=<span class=\"string\">&quot;kde&quot;</span>,kind=<span class=\"string\">&quot;reg&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h1 id=\"线性回归绘图\"><a class=\"anchor\" href=\"#线性回归绘图\">#</a> 线性回归绘图</h1>\n<h5 id=\"线性回归图可以帮助我们看到数据的关系趋势-在-seaborn-中可以通过-regplot-和-lmplot-两个\"><a class=\"anchor\" href=\"#线性回归图可以帮助我们看到数据的关系趋势-在-seaborn-中可以通过-regplot-和-lmplot-两个\">#</a> 线性回归图可以帮助我们看到数据的关系趋势。在 seaborn 中可以通过 regplot 和 lmplot 两个</h5>\n<h5 id=\"函数来实现-regplot-的-x-和-y-可以为-numpy数组-series-等变量-而-lmplot-的-x-和-y-则\"><a class=\"anchor\" href=\"#函数来实现-regplot-的-x-和-y-可以为-numpy数组-series-等变量-而-lmplot-的-x-和-y-则\">#</a> 函数来实现。 regplot 的 x 和 y 可以为 Numpy 数组 、 Series 等变量。而 lmplot 的 x 和 y 则</h5>\n<h5 id=\"必须为字符串并且-data-的值不能为空\"><a class=\"anchor\" href=\"#必须为字符串并且-data-的值不能为空\">#</a> 必须为字符串，并且 data 的值不能为空：</h5>\n<h5 id=\"1-regplotxydatanone\"><a class=\"anchor\" href=\"#1-regplotxydatanone\">#</a> 1. regplot(x,y,data=None) 。</h5>\n<h5 id=\"2-lmplotxydata\"><a class=\"anchor\" href=\"#2-lmplotxydata\">#</a> 2. lmplot(x,y,data) 。</h5>\n<h5 id=\"示例代码如下-12\"><a class=\"anchor\" href=\"#示例代码如下-12\">#</a> 示例代码如下：</h5>\n<figure class=\"highlight gml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns.lmplot(<span class=\"variable language_\">x</span>=<span class=\"string\">&quot;total_bill&quot;</span>,<span class=\"variable language_\">y</span>=<span class=\"string\">&quot;tip&quot;</span>,data=tips)</span><br></pre></td></tr></table></figure>\n<h5 id=\"也可以通过-regplot-来实现-示例代码如下\"><a class=\"anchor\" href=\"#也可以通过-regplot-来实现-示例代码如下\">#</a> 也可以通过 regplot 来实现。示例代码如下：</h5>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns.regplot(<span class=\"attribute\">x</span>=tips[<span class=\"string\">&quot;total_bill&quot;</span>],<span class=\"attribute\">y</span>=tips[<span class=\"string\">&quot;tip&quot;</span>])</span><br></pre></td></tr></table></figure>\n<h5 id=\"更多请参考文档\"><a class=\"anchor\" href=\"#更多请参考文档\">#</a> 更多请参考文档：</h5>\n<figure class=\"highlight avrasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">https:</span>//seaborn.pydata<span class=\"meta\">.org</span>/tutorial/regression.html</span><br></pre></td></tr></table></figure>\n<h1 id=\"facetgrid-结构图\"><a class=\"anchor\" href=\"#facetgrid-结构图\">#</a> FacetGrid 结构图</h1>\n<h5 id=\"之前我们在绘图的时候学了-relplot-catplot-lmplot-等这些函数可以通\"><a class=\"anchor\" href=\"#之前我们在绘图的时候学了-relplot-catplot-lmplot-等这些函数可以通\">#</a> 之前我们在绘图的时候，学了 relplot 、 catplot 、 lmplot 等，这些函数可以通</h5>\n<h5 id=\"过-col-row-等在一个-figure-中绘制多个图-这些函数之所以有这些功能是因为他们的底层\"><a class=\"anchor\" href=\"#过-col-row-等在一个-figure-中绘制多个图-这些函数之所以有这些功能是因为他们的底层\">#</a> 过 col 、 row 等在一个 Figure 中绘制多个图。这些函数之所以有这些功能，是因为他们的底层</h5>\n<h5 id=\"使用了-facetgrid-来组装这些图形-今天我们就来学习-facetgrid-的使用\"><a class=\"anchor\" href=\"#使用了-facetgrid-来组装这些图形-今天我们就来学习-facetgrid-的使用\">#</a> 使用了 FacetGrid 来组装这些图形。今天我们就来学习 FacetGrid 的使用。</h5>\n<h2 id=\"普通的-axes-绘图\"><a class=\"anchor\" href=\"#普通的-axes-绘图\">#</a> 普通的 Axes 绘图：</h2>\n<h5 id=\"在学习-facetgrid-绘图之前先来了解一下实际上-seaborn-的绘图函数中也有大量的直接使\"><a class=\"anchor\" href=\"#在学习-facetgrid-绘图之前先来了解一下实际上-seaborn-的绘图函数中也有大量的直接使\">#</a> 在学习 FacetGrid 绘图之前，先来了解一下，实际上 seaborn 的绘图函数中也有大量的直接使</h5>\n<h5 id=\"用-axes-进行绘图的凡是函数名中已经明确显示了这个图的类型这种图都是使用-axes-绘图\"><a class=\"anchor\" href=\"#用-axes-进行绘图的凡是函数名中已经明确显示了这个图的类型这种图都是使用-axes-绘图\">#</a> 用 Axes 进行绘图的，凡是函数名中已经明确显示了这个图的类型，这种图都是使用 Axes 绘图</h5>\n<h5 id=\"的-比如-snsscatterplot-snslineplot-snsbarplot-等-axes-绘图可以直接使用之\"><a class=\"anchor\" href=\"#的-比如-snsscatterplot-snslineplot-snsbarplot-等-axes-绘图可以直接使用之\">#</a> 的。比如 sns.scatterplot 、 sns.lineplot 、 sns.barplot 等。 Axes 绘图可以直接使用之</h5>\n<h5 id=\"前-matplotlib-的一些方式设置图的元素-示例代码如下\"><a class=\"anchor\" href=\"#前-matplotlib-的一些方式设置图的元素-示例代码如下\">#</a> 前 matplotlib 的一些方式设置图的元素。示例代码如下：</h5>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fig,[ax1,ax2] = plt.subplots( <span class=\"number\">2</span> , <span class=\"number\">1</span> ,figsize=( <span class=\"number\">10</span> , <span class=\"number\">10</span> ))</span><br><span class=\"line\">sns.scatterplot(x=<span class=\"string\">&quot;total_bill&quot;</span>,y=<span class=\"string\">&quot;tip&quot;</span>,data=tips,ax=ax1)</span><br><span class=\"line\">sns.barplot(x=<span class=\"string\">&quot;day&quot;</span>,y=<span class=\"string\">&quot;total_bill&quot;</span>,data=tips,ax=ax2)</span><br></pre></td></tr></table></figure>\n<h2 id=\"facetgrid-基本使用\"><a class=\"anchor\" href=\"#facetgrid-基本使用\">#</a> FacetGrid 基本使用：</h2>\n<h5 id=\"先创建一个-facetgrid-对象然后再调用这个对象的-map-方法-其中-map-方法的第一个参数是一\"><a class=\"anchor\" href=\"#先创建一个-facetgrid-对象然后再调用这个对象的-map-方法-其中-map-方法的第一个参数是一\">#</a> 先创建一个 FacetGrid 对象，然后再调用这个对象的 map 方法。其中 map 方法的第一个参数是一</h5>\n<h5 id=\"个函数后续-map-将调用这个函数来绘制图形-后面的参数就是传给这个函数的参数-示例代码\"><a class=\"anchor\" href=\"#个函数后续-map-将调用这个函数来绘制图形-后面的参数就是传给这个函数的参数-示例代码\">#</a> 个函数，后续 map 将调用这个函数来绘制图形。后面的参数就是传给这个函数的参数。示例代码</h5>\n<h5 id=\"如下-3\"><a class=\"anchor\" href=\"#如下-3\">#</a> 如下：</h5>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tips = sns.load_dataset(<span class=\"string\">&quot;tips&quot;</span>)</span><br><span class=\"line\">g = sns.FacetGrid(tips)</span><br><span class=\"line\">g.<span class=\"built_in\">map</span>(plt.scatter,<span class=\"string\">&quot;total_bill&quot;</span>,<span class=\"string\">&quot;tip&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-37\"><a class=\"anchor\" href=\"#效果图如下-37\">#</a> 效果图如下：</h5>\n<h5 id=\"其中第一个参数是可以绘制-axes-图并且可以接收-color-参数的函数-可以取的值如下\"><a class=\"anchor\" href=\"#其中第一个参数是可以绘制-axes-图并且可以接收-color-参数的函数-可以取的值如下\">#</a> 其中第一个参数是可以绘制 Axes 图，并且可以接收 color 参数的函数。可以取的值如下：</h5>\n<h5 id=\"参数-描述-对应使用了-facetgrid-函数\"><a class=\"anchor\" href=\"#参数-描述-对应使用了-facetgrid-函数\">#</a> 参数 描述 对应使用了 FacetGrid 函数</h5>\n<h5 id=\"pltplot-snslineplot-绘制折线图-snsrelplotkindline\"><a class=\"anchor\" href=\"#pltplot-snslineplot-绘制折线图-snsrelplotkindline\">#</a> plt.plot/sns.lineplot 绘制折线图 sns.relplot (kind=“line”)</h5>\n<h5 id=\"plthexbin-绘制六边形图形-snsjointplotkindhex\"><a class=\"anchor\" href=\"#plthexbin-绘制六边形图形-snsjointplotkindhex\">#</a> plt.hexbin 绘制六边形图形 sns.jointplot (kind=“hex”)</h5>\n<h5 id=\"plthist-绘制直方图-snsdistplot\"><a class=\"anchor\" href=\"#plthist-绘制直方图-snsdistplot\">#</a> plt.hist 绘制直方图 sns.distplot</h5>\n<h5 id=\"pltscatter-snsscatterplot-绘制散点图-snsrelplotkindscatter\"><a class=\"anchor\" href=\"#pltscatter-snsscatterplot-绘制散点图-snsrelplotkindscatter\">#</a> plt.scatter/sns.scatterplot 绘制散点图 sns.relplot (kind=“scatter”)</h5>\n<h5 id=\"snsstripplot-绘制分类散点图-snscatplotkindstrip\"><a class=\"anchor\" href=\"#snsstripplot-绘制分类散点图-snscatplotkindstrip\">#</a> sns.stripplot 绘制分类散点图 sns.catplot (kind=“strip”)</h5>\n<h5 id=\"snsswarmplot-绘制散开来的分类散\"><a class=\"anchor\" href=\"#snsswarmplot-绘制散开来的分类散\">#</a> sns.swarmplot 绘制散开来的分类散</h5>\n<h5 id=\"点图\"><a class=\"anchor\" href=\"#点图\">#</a> 点图</h5>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns.catplot(<span class=\"attribute\">kind</span>=<span class=\"string\">&quot;swarm&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"snsboxplot-绘制箱线图-snscatplotkindbox\"><a class=\"anchor\" href=\"#snsboxplot-绘制箱线图-snscatplotkindbox\">#</a> sns.boxplot 绘制箱线图 sns.catplot (kind=“box”)</h5>\n<h5 id=\"snsviolinplot-绘制小提琴图-snscatplotkindviolin\"><a class=\"anchor\" href=\"#snsviolinplot-绘制小提琴图-snscatplotkindviolin\">#</a> sns.violinplot 绘制小提琴图 sns.catplot (kind=“violin”)</h5>\n<h5 id=\"snspointplot-绘制点线图-snscatplotkindpoint\"><a class=\"anchor\" href=\"#snspointplot-绘制点线图-snscatplotkindpoint\">#</a> sns.pointplot 绘制点线图 sns.catplot (kind=“point”)</h5>\n<h5 id=\"snsbarplot-绘制条形图-snscatplotkindbar\"><a class=\"anchor\" href=\"#snsbarplot-绘制条形图-snscatplotkindbar\">#</a> sns.barplot 绘制条形图 sns.catplot (kind=“bar”)</h5>\n<h5 id=\"snscountplot-绘制数量柱状图-snscatplotkindcount\"><a class=\"anchor\" href=\"#snscountplot-绘制数量柱状图-snscatplotkindcount\">#</a> sns.countplot 绘制数量柱状图 sns.catplot (kind=“count”)</h5>\n<h5 id=\"snsregplot-绘制带有回归线的散点图-snslmplot\"><a class=\"anchor\" href=\"#snsregplot-绘制带有回归线的散点图-snslmplot\">#</a> sns.regplot 绘制带有回归线的散点图 sns.lmplot</h5>\n<h2 id=\"绘制多个图形\"><a class=\"anchor\" href=\"#绘制多个图形\">#</a> 绘制多个图形：</h2>\n<h5 id=\"facetgrid-可以通过-col-和-row-参数来在一个-figure-上绘制多个图形其中-col-和-row-都\"><a class=\"anchor\" href=\"#facetgrid-可以通过-col-和-row-参数来在一个-figure-上绘制多个图形其中-col-和-row-都\">#</a> FacetGrid 可以通过 col 和 row 参数，来在一个 Figure 上绘制多个图形，其中 col 和 row 都</h5>\n<h5 id=\"是数据集中的某个列的名字-只要指定这个名字那么就会自动的按照指定列的值的个数绘制指定\"><a class=\"anchor\" href=\"#是数据集中的某个列的名字-只要指定这个名字那么就会自动的按照指定列的值的个数绘制指定\">#</a> 是数据集中的某个列的名字。只要指定这个名字，那么就会自动的按照指定列的值的个数绘制指定</h5>\n<h5 id=\"个数的图形-示例代码如下\"><a class=\"anchor\" href=\"#个数的图形-示例代码如下\">#</a> 个数的图形。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">g</span> = sns<span class=\"selector-class\">.FacetGrid</span>(tips,col=<span class=\"string\">&quot;day&quot;</span>,col_wrap= <span class=\"number\">2</span> )</span><br><span class=\"line\"><span class=\"selector-tag\">g</span><span class=\"selector-class\">.map</span>(sns<span class=\"selector-class\">.regplot</span>,<span class=\"string\">&quot;total_bill&quot;</span>,<span class=\"string\">&quot;tip&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-38\"><a class=\"anchor\" href=\"#效果图如下-38\">#</a> 效果图如下：</h5>\n<h2 id=\"添加颜色观察字段\"><a class=\"anchor\" href=\"#添加颜色观察字段\">#</a> 添加颜色观察字段：</h2>\n<h5 id=\"可以通过添加-hue-参数来控制每个图中元素的颜色来观察其他的字段-示例代码如下\"><a class=\"anchor\" href=\"#可以通过添加-hue-参数来控制每个图中元素的颜色来观察其他的字段-示例代码如下\">#</a> 可以通过添加 hue 参数来控制每个图中元素的颜色来观察其他的字段。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">g</span> = sns<span class=\"selector-class\">.FacetGrid</span>(tips,col=<span class=\"string\">&quot;day&quot;</span>,hue=<span class=\"string\">&quot;time&quot;</span>)</span><br><span class=\"line\"><span class=\"selector-tag\">g</span><span class=\"selector-class\">.map</span>(sns<span class=\"selector-class\">.regplot</span>,<span class=\"string\">&quot;total_bill&quot;</span>,<span class=\"string\">&quot;tip&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"也可以通过-hue_kws-参数来添加-hue-散点的属性比如设置散点的样式等\"><a class=\"anchor\" href=\"#也可以通过-hue_kws-参数来添加-hue-散点的属性比如设置散点的样式等\">#</a> 也可以通过 hue_kws 参数来添加 hue 散点的属性，比如设置散点的样式等。</h5>\n<h2 id=\"设置每个图形的尺寸\"><a class=\"anchor\" href=\"#设置每个图形的尺寸\">#</a> 设置每个图形的尺寸：</h2>\n<h5 id=\"使用-facetgrid-绘制出图形后有时候我们想设置每个图形的尺寸或者是宽高比那么我们可以\"><a class=\"anchor\" href=\"#使用-facetgrid-绘制出图形后有时候我们想设置每个图形的尺寸或者是宽高比那么我们可以\">#</a> 使用 FacetGrid 绘制出图形后，有时候我们想设置每个图形的尺寸或者是宽高比，那么我们可以</h5>\n<h5 id=\"通过在-facetgrid-中设置-height-和-aspect-来实现其中-height-表示的是每个图形的尺寸默\"><a class=\"anchor\" href=\"#通过在-facetgrid-中设置-height-和-aspect-来实现其中-height-表示的是每个图形的尺寸默\">#</a> 通过在 FacetGrid 中设置 height 和 aspect 来实现，其中 height 表示的是每个图形的尺寸（默</h5>\n<h5 id=\"认是宽高一致-aspect-表示的是-宽度高度-的比例-示例代码如下\"><a class=\"anchor\" href=\"#认是宽高一致-aspect-表示的是-宽度高度-的比例-示例代码如下\">#</a> 认是宽高一致）， aspect 表示的是 宽度 / 高度 的比例。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">g</span> = sns<span class=\"selector-class\">.FacetGrid</span>(tips,col=<span class=\"string\">&quot;day&quot;</span>,row=<span class=\"string\">&quot;time&quot;</span>,<span class=\"attribute\">height</span>= <span class=\"number\">10</span> ,aspect= <span class=\"number\">2</span> )</span><br><span class=\"line\"><span class=\"selector-tag\">g</span><span class=\"selector-class\">.map</span>(sns<span class=\"selector-class\">.regplot</span>,<span class=\"string\">&quot;total_bill&quot;</span>,<span class=\"string\">&quot;tip&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-39\"><a class=\"anchor\" href=\"#效果图如下-39\">#</a> 效果图如下：</h5>\n<h2 id=\"设置图例-2\"><a class=\"anchor\" href=\"#设置图例-2\">#</a> 设置图例：</h2>\n<h5 id=\"默认情况下不会添加图例我们可以通过-gadd_legend-来添加图例-示例代码如下\"><a class=\"anchor\" href=\"#默认情况下不会添加图例我们可以通过-gadd_legend-来添加图例-示例代码如下\">#</a> 默认情况下，不会添加图例，我们可以通过 g.add_legend () 来添加图例。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">g</span> = sns<span class=\"selector-class\">.FacetGrid</span>(tips,col=<span class=\"string\">&quot;day&quot;</span>,hue=<span class=\"string\">&quot;time&quot;</span>)</span><br><span class=\"line\"><span class=\"selector-tag\">g</span><span class=\"selector-class\">.map</span>(sns<span class=\"selector-class\">.regplot</span>,<span class=\"string\">&quot;total_bill&quot;</span>,<span class=\"string\">&quot;tip&quot;</span>)</span><br><span class=\"line\"><span class=\"selector-tag\">g</span><span class=\"selector-class\">.add_legend</span>()</span><br></pre></td></tr></table></figure>\n<h5 id=\"另外还可以\"><a class=\"anchor\" href=\"#另外还可以\">#</a> 另外还可以：</h5>\n<h5 id=\"1-通过-title-来控制图例的标题\"><a class=\"anchor\" href=\"#1-通过-title-来控制图例的标题\">#</a> 1. 通过 title 来控制图例的标题。</h5>\n<h5 id=\"2-通过-label_order-来控制图例元素的顺序\"><a class=\"anchor\" href=\"#2-通过-label_order-来控制图例元素的顺序\">#</a> 2. 通过 label_order 来控制图例元素的顺序。</h5>\n<h5 id=\"示例代码如下-13\"><a class=\"anchor\" href=\"#示例代码如下-13\">#</a> 示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns<span class=\"selector-class\">.set</span>(rc=&#123;<span class=\"string\">&quot;font.sans-serif&quot;</span>:<span class=\"string\">&quot;simhei&quot;</span>&#125;)</span><br><span class=\"line\">g3 = sns<span class=\"selector-class\">.FacetGrid</span>(tips,col=<span class=\"string\">&quot;day&quot;</span>,hue=<span class=\"string\">&quot;time&quot;</span>)</span><br><span class=\"line\">g3<span class=\"selector-class\">.map</span>(plt<span class=\"selector-class\">.scatter</span>,<span class=\"string\">&quot;total_bill&quot;</span>,<span class=\"string\">&quot;tip&quot;</span>)</span><br><span class=\"line\">new_labels = <span class=\"selector-attr\">[<span class=\"string\">&#x27;午餐&#x27;</span>,<span class=\"string\">&#x27;晚餐&#x27;</span>]</span></span><br><span class=\"line\">g3<span class=\"selector-class\">.add_legend</span>(title=<span class=\"string\">&quot;时间&quot;</span>)</span><br><span class=\"line\"><span class=\"keyword\">for</span> t,l <span class=\"keyword\">in</span> <span class=\"built_in\">zip</span>(g3._legend<span class=\"selector-class\">.texts</span>,new_labels):</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight gcode\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">t.set_text<span class=\"comment\">(l)</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"设置标题\"><a class=\"anchor\" href=\"#设置标题\">#</a> 设置标题：</h2>\n<h5 id=\"设置标题可以通过-gset_titlestemplatenonerow_templatenonecol_templatenone-来实现\"><a class=\"anchor\" href=\"#设置标题可以通过-gset_titlestemplatenonerow_templatenonecol_templatenone-来实现\">#</a> 设置标题可以通过 g.set_titles (template=None,row_template=None,col_template=None) 来实现，</h5>\n<h5 id=\"这三个参数分别代表的意义如下\"><a class=\"anchor\" href=\"#这三个参数分别代表的意义如下\">#</a> 这三个参数分别代表的意义如下：</h5>\n<h5 id=\"1-template-给图设置标题其中有-row_var绘制每行图像的名称-row_name绘制每行图\"><a class=\"anchor\" href=\"#1-template-给图设置标题其中有-row_var绘制每行图像的名称-row_name绘制每行图\">#</a> 1. template ：给图设置标题，其中有 {row_var}：绘制每行图像的名称 ， {row_name}：绘制每行图</h5>\n<h5 id=\"像的值-col_var绘制每列图像的名称-col_name绘制每列图像的值-这几个参数可以使\"><a class=\"anchor\" href=\"#像的值-col_var绘制每列图像的名称-col_name绘制每列图像的值-这几个参数可以使\">#</a> 像的值 ， {col_var}：绘制每列图像的名称 ， {col_name}：绘制每列图像的值 这几个参数可以使</h5>\n<h5 id=\"用-2\"><a class=\"anchor\" href=\"#用-2\">#</a> 用。</h5>\n<h5 id=\"2-col_template-给图像设置列的标题-其中有-col_var-以及-col_name-可以使用\"><a class=\"anchor\" href=\"#2-col_template-给图像设置列的标题-其中有-col_var-以及-col_name-可以使用\">#</a> 2. col_template ：给图像设置列的标题。其中有 {col_var} 以及 {col_name} 可以使用。</h5>\n<h5 id=\"3-row_template-给图像设置行的标题-其中有-row_var-以及-row_name-可以使用\"><a class=\"anchor\" href=\"#3-row_template-给图像设置行的标题-其中有-row_var-以及-row_name-可以使用\">#</a> 3. row_template ：给图像设置行的标题。其中有 {row_var} 以及 {row_name} 可以使用。</h5>\n<h5 id=\"示例代码如下-14\"><a class=\"anchor\" href=\"#示例代码如下-14\">#</a> 示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">g</span> = sns<span class=\"selector-class\">.FacetGrid</span>(tips,col=<span class=\"string\">&quot;day&quot;</span>,row=<span class=\"string\">&quot;time&quot;</span>)</span><br><span class=\"line\"><span class=\"selector-tag\">g</span><span class=\"selector-class\">.map</span>(sns<span class=\"selector-class\">.regplot</span>,<span class=\"string\">&quot;total_bill&quot;</span>,<span class=\"string\">&quot;tip&quot;</span>)</span><br><span class=\"line\"><span class=\"selector-tag\">g</span><span class=\"selector-class\">.set_titles</span>(template=<span class=\"string\">&quot;时间&#123;row_name&#125;/星期&#123;col_name&#125;&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h2 id=\"设置坐标轴\"><a class=\"anchor\" href=\"#设置坐标轴\">#</a> 设置坐标轴：</h2>\n<h5 id=\"1-gset_axis_labelsx_vary_var-一次性设置-x-和-y-的坐标的标题\"><a class=\"anchor\" href=\"#1-gset_axis_labelsx_vary_var-一次性设置-x-和-y-的坐标的标题\">#</a> 1. g.set_axis_labels (x_var,y_var) ：一次性设置 x 和 y 的坐标的标题。</h5>\n<h5 id=\"2-gset_xlabelslabel-设置-x-轴的标题\"><a class=\"anchor\" href=\"#2-gset_xlabelslabel-设置-x-轴的标题\">#</a> 2. g.set_xlabels (label) ：设置 x 轴的标题。</h5>\n<h5 id=\"3-gset_ylabelslabel-设置-y-轴的标题\"><a class=\"anchor\" href=\"#3-gset_ylabelslabel-设置-y-轴的标题\">#</a> 3. g.set_ylabels (label) ：设置 y 轴的标题。</h5>\n<h5 id=\"4-gsetxticksyticks-设置-x-和-y-轴的刻度\"><a class=\"anchor\" href=\"#4-gsetxticksyticks-设置-x-和-y-轴的刻度\">#</a> 4. g.set (xticks,yticks) ：设置 x 和 y 轴的刻度。</h5>\n<h5 id=\"5-gset_xticklabelslabels-设置-x-轴的刻度文字\"><a class=\"anchor\" href=\"#5-gset_xticklabelslabels-设置-x-轴的刻度文字\">#</a> 5. g.set_xticklabels (labels) ：设置 x 轴的刻度文字。</h5>\n<h5 id=\"6-gset_yticklabelslabels-设置-y-轴的刻度文字\"><a class=\"anchor\" href=\"#6-gset_yticklabelslabels-设置-y-轴的刻度文字\">#</a> 6. g.set_yticklabels (labels) ：设置 y 轴的刻度文字。</h5>\n<h5 id=\"示例代码如下-15\"><a class=\"anchor\" href=\"#示例代码如下-15\">#</a> 示例代码如下：</h5>\n<figure class=\"highlight dart\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">g.<span class=\"keyword\">set</span>(xticks=range( <span class=\"number\">0</span> , <span class=\"number\">60</span> , <span class=\"number\">10</span> ),xticklabels=[<span class=\"string\">&#x27;<span class=\"subst\">$0</span>&#x27;</span>,<span class=\"string\">&#x27;<span class=\"subst\">$10</span>&#x27;</span>,<span class=\"string\">&#x27;<span class=\"subst\">$20</span>&#x27;</span>,<span class=\"string\">&#x27;<span class=\"subst\">$30</span>&#x27;</span>,<span class=\"string\">&#x27;<span class=\"subst\">$40</span>&#x27;</span>,<span class=\"string\">&#x27;<span class=\"subst\">$50</span>&#x27;</span>])</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-40\"><a class=\"anchor\" href=\"#效果图如下-40\">#</a> 效果图如下：</h5>\n<h2 id=\"gset-方法\"><a class=\"anchor\" href=\"#gset-方法\">#</a> g.set 方法：</h2>\n<h5 id=\"gset-方法可以对-facetgrid-下的每个子图-axes-设置属性-其中可以设置的参数完全是根\"><a class=\"anchor\" href=\"#gset-方法可以对-facetgrid-下的每个子图-axes-设置属性-其中可以设置的参数完全是根\">#</a> g.set 方法可以对 FacetGrid 下的每个子图 Axes 设置属性。其中可以设置的参数完全是根</h5>\n<h5 id=\"据-axes-的属性来的-比如可以设置每个-axes-的-facecolor-等-关于-axes-有哪些属性请参\"><a class=\"anchor\" href=\"#据-axes-的属性来的-比如可以设置每个-axes-的-facecolor-等-关于-axes-有哪些属性请参\">#</a> 据 Axes 的属性来的。比如可以设置每个 Axes 的 facecolor 等。关于 Axes 有哪些属性，请参</h5>\n<h5 id=\"考-matplotlibaxes-的官方文档-httpsmatplotliborgapiaxes_apihtml\"><a class=\"anchor\" href=\"#考-matplotlibaxes-的官方文档-httpsmatplotliborgapiaxes_apihtml\">#</a> 考 matplotlib.Axes 的官方文档： <span class=\"exturl\" data-url=\"aHR0cHM6Ly9tYXRwbG90bGliLm9yZy9hcGkvYXhlc19hcGkuaHRtbA==\">https://matplotlib.org/api/axes_api.html</span>?</h5>\n<h5 id=\"highlightaxesmatplotlibaxesaxes\"><a class=\"anchor\" href=\"#highlightaxesmatplotlibaxesaxes\">#</a> highlight=axes#matplotlib.axes.Axes 。</h5>\n<h2 id=\"gfig\"><a class=\"anchor\" href=\"#gfig\">#</a> g.fig ：</h2>\n<h5 id=\"通过-gfig-可以获取到当前的-figure-对象-然后通过-figure-对象再可以设置其他的属性比\"><a class=\"anchor\" href=\"#通过-gfig-可以获取到当前的-figure-对象-然后通过-figure-对象再可以设置其他的属性比\">#</a> 通过 g.fig ，可以获取到当前的 Figure 对象。然后通过 Figure 对象再可以设置其他的属性，比</h5>\n<h5 id=\"如-dip-等\"><a class=\"anchor\" href=\"#如-dip-等\">#</a> 如 dip 等。</h5>\n<h1 id=\"seaborn-样式风格设置\"><a class=\"anchor\" href=\"#seaborn-样式风格设置\">#</a> seaborn 样式风格设置</h1>\n<h5 id=\"用-seaborn-绘图比直接使用-matplotlib-绘图更加的美观-原因就是因为-seaborn-中已经将一\"><a class=\"anchor\" href=\"#用-seaborn-绘图比直接使用-matplotlib-绘图更加的美观-原因就是因为-seaborn-中已经将一\">#</a> 用 seaborn 绘图，比直接使用 matplotlib 绘图更加的美观。原因就是因为 seaborn 中已经将一</h5>\n<h5 id=\"些属性的样式进行了调整-我们可以直接使用也可以修改他的样式\"><a class=\"anchor\" href=\"#些属性的样式进行了调整-我们可以直接使用也可以修改他的样式\">#</a> 些属性的样式进行了调整。我们可以直接使用，也可以修改他的样式。</h5>\n<h2 id=\"自带的样式\"><a class=\"anchor\" href=\"#自带的样式\">#</a> 自带的样式：</h2>\n<h5 id=\"seaborn-中自带了-5-种样式-分别是\"><a class=\"anchor\" href=\"#seaborn-中自带了-5-种样式-分别是\">#</a> seaborn 中自带了 5 种样式。分别是：</h5>\n<h5 id=\"1-white-纯白色的\"><a class=\"anchor\" href=\"#1-white-纯白色的\">#</a> 1. white ：纯白色的。</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns<span class=\"selector-class\">.set_style</span>(<span class=\"string\">&quot;white&quot;</span>)</span><br><span class=\"line\">axes = sns<span class=\"selector-class\">.scatterplot</span>(<span class=\"attribute\">x</span>=<span class=\"string\">&quot;total_bill&quot;</span>,y=<span class=\"string\">&quot;tip&quot;</span>,data=tips)</span><br></pre></td></tr></table></figure>\n<h5 id=\"2-whitegrid-带有网格的白色的\"><a class=\"anchor\" href=\"#2-whitegrid-带有网格的白色的\">#</a> 2. whitegrid ：带有网格的白色的。</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns<span class=\"selector-class\">.set_style</span>(<span class=\"string\">&quot;whitegrid&quot;</span>)</span><br><span class=\"line\">axes = sns<span class=\"selector-class\">.scatterplot</span>(<span class=\"attribute\">x</span>=<span class=\"string\">&quot;total_bill&quot;</span>,y=<span class=\"string\">&quot;tip&quot;</span>,data=tips)</span><br></pre></td></tr></table></figure>\n<h5 id=\"3-dark-灰色的\"><a class=\"anchor\" href=\"#3-dark-灰色的\">#</a> 3. dark ：灰色的。</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns<span class=\"selector-class\">.set_style</span>(<span class=\"string\">&quot;dark&quot;</span>)</span><br><span class=\"line\">axes = sns<span class=\"selector-class\">.scatterplot</span>(<span class=\"attribute\">x</span>=<span class=\"string\">&quot;total_bill&quot;</span>,y=<span class=\"string\">&quot;tip&quot;</span>,data=tips)</span><br></pre></td></tr></table></figure>\n<h5 id=\"4-darkgrid-带有网格的灰色的网格线是白色的\"><a class=\"anchor\" href=\"#4-darkgrid-带有网格的灰色的网格线是白色的\">#</a> 4. darkgrid ：带有网格的灰色的（网格线是白色的）。</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns<span class=\"selector-class\">.set_style</span>(<span class=\"string\">&quot;darkgrid&quot;</span>)</span><br><span class=\"line\">axes = sns<span class=\"selector-class\">.scatterplot</span>(<span class=\"attribute\">x</span>=<span class=\"string\">&quot;total_bill&quot;</span>,y=<span class=\"string\">&quot;tip&quot;</span>,data=tips)</span><br></pre></td></tr></table></figure>\n<h5 id=\"5-ticks-白色的并且在轴上带有刻度条的\"><a class=\"anchor\" href=\"#5-ticks-白色的并且在轴上带有刻度条的\">#</a> 5. ticks ：白色的，并且在轴上带有刻度条的。</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns<span class=\"selector-class\">.set_style</span>(<span class=\"string\">&quot;ticks&quot;</span>)</span><br><span class=\"line\">axes = sns<span class=\"selector-class\">.scatterplot</span>(<span class=\"attribute\">x</span>=<span class=\"string\">&quot;total_bill&quot;</span>,y=<span class=\"string\">&quot;tip&quot;</span>,data=tips)</span><br></pre></td></tr></table></figure>\n<h2 id=\"风格设置函数\"><a class=\"anchor\" href=\"#风格设置函数\">#</a> 风格设置函数：</h2>\n<h5 id=\"在-seaborn-中可以通过三个函数来设置样式-分别是-snsset_style-snsaxes_style-以\"><a class=\"anchor\" href=\"#在-seaborn-中可以通过三个函数来设置样式-分别是-snsset_style-snsaxes_style-以\">#</a> 在 seaborn 中，可以通过三个函数来设置样式。分别是 sns.set_style 、 sns.axes_style 以</h5>\n<h5 id=\"及-snsset-方法-以下对着三种方法进行讲解\"><a class=\"anchor\" href=\"#及-snsset-方法-以下对着三种方法进行讲解\">#</a> 及 sns.set 方法。以下对着三种方法进行讲解。</h5>\n<h3 id=\"1-snsaxes_style\"><a class=\"anchor\" href=\"#1-snsaxes_style\">#</a> 1. sns.axes_style ：</h3>\n<h5 id=\"snsaxes_stylestylenonercnone\"><a class=\"anchor\" href=\"#snsaxes_stylestylenonercnone\">#</a> sns.axes_style(style=None,rc=None) 。</h5>\n<h5 id=\"这个函数调用的时候如果不传递任何参数那么将会返回可以设置的所有属性-有时候我们不知道\"><a class=\"anchor\" href=\"#这个函数调用的时候如果不传递任何参数那么将会返回可以设置的所有属性-有时候我们不知道\">#</a> 这个函数调用的时候如果不传递任何参数，那么将会返回可以设置的所有属性。有时候我们不知道</h5>\n<h5 id=\"什么属性可以设置那么可以打印下这个函数的返回值\"><a class=\"anchor\" href=\"#什么属性可以设置那么可以打印下这个函数的返回值\">#</a> 什么属性可以设置，那么可以打印下这个函数的返回值：</h5>\n<figure class=\"highlight scss\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns<span class=\"selector-class\">.axes_style</span>()</span><br></pre></td></tr></table></figure>\n<h5 id=\"输入如下\"><a class=\"anchor\" href=\"#输入如下\">#</a> 输入如下：</h5>\n<figure class=\"highlight sml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;<span class=\"symbol\">&#x27;axes</span>.facecolor&#x27;: <span class=\"symbol\">&#x27;white&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;axes</span>.edgecolor&#x27;: <span class=\"symbol\">&#x27;black&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;axes</span>.grid&#x27;: <span class=\"type\">False</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;axes</span>.axisbelow&#x27;: <span class=\"symbol\">&#x27;line&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;axes</span>.labelcolor&#x27;: <span class=\"symbol\">&#x27;black&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;figure</span>.facecolor&#x27;: (<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">0</span>),</span><br><span class=\"line\"><span class=\"symbol\">&#x27;grid</span>.color&#x27;: <span class=\"string\">&#x27;#b0b0b0&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;grid</span>.linestyle&#x27;: <span class=\"string\">&#x27;-&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;text</span>.color&#x27;: <span class=\"symbol\">&#x27;black&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;xtick</span>.color&#x27;: <span class=\"symbol\">&#x27;black&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;ytick</span>.color&#x27;: <span class=\"symbol\">&#x27;black&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;xtick</span>.direction&#x27;: <span class=\"symbol\">&#x27;out&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;ytick</span>.direction&#x27;: <span class=\"symbol\">&#x27;out&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;lines</span>.solid_capstyle&#x27;: <span class=\"symbol\">&#x27;projecting&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;patch</span>.edgecolor&#x27;: <span class=\"symbol\">&#x27;black&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;image</span>.cmap&#x27;: <span class=\"symbol\">&#x27;viridis&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;font</span>.family&#x27;: [<span class=\"symbol\">&#x27;sans</span>-serif&#x27;],</span><br><span class=\"line\"><span class=\"symbol\">&#x27;font</span>.sans-serif&#x27;: [<span class=\"symbol\">&#x27;DejaVu</span> <span class=\"type\">Sans&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;Bitstream</span> <span class=\"type\">Vera</span> <span class=\"type\">Sans&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;Computer</span> <span class=\"type\">Modern</span> <span class=\"type\">Sans</span> <span class=\"type\">Serif&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;Lucida</span> <span class=\"type\">Grande&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;Verdana&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;Geneva&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;Lucid&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;Arial&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;Helvetica&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;Avant</span> <span class=\"type\">Garde&#x27;</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;sans</span>-serif&#x27;],</span><br><span class=\"line\"><span class=\"symbol\">&#x27;patch</span>.force_edgecolor&#x27;: <span class=\"type\">False</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;xtick</span>.bottom&#x27;: <span class=\"type\">True</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;xtick</span>.top&#x27;: <span class=\"type\">False</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;ytick</span>.left&#x27;: <span class=\"type\">True</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;ytick</span>.right&#x27;: <span class=\"type\">False</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;axes</span>.spines.left&#x27;: <span class=\"type\">True</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;axes</span>.spines.bottom&#x27;: <span class=\"type\">True</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;axes</span>.spines.right&#x27;: <span class=\"type\">True</span>,</span><br><span class=\"line\"><span class=\"symbol\">&#x27;axes</span>.spines.top&#x27;: <span class=\"type\">True</span>&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"这个函数也可以用来设置样式但是只能通过-with-语句调用-示例代码如下\"><a class=\"anchor\" href=\"#这个函数也可以用来设置样式但是只能通过-with-语句调用-示例代码如下\">#</a> 这个函数也可以用来设置样式，但是只能通过 with 语句调用。示例代码如下：</h5>\n<figure class=\"highlight gml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">with</span> sns.axes_style(<span class=\"string\">&quot;dark&quot;</span>,&#123;<span class=\"string\">&quot;ytick.left&quot;</span>:True&#125;):</span><br><span class=\"line\">sns.scatterplot(<span class=\"variable language_\">x</span>=<span class=\"string\">&quot;total_bill&quot;</span>,<span class=\"variable language_\">y</span>=<span class=\"string\">&quot;tip&quot;</span>,data=tips)</span><br></pre></td></tr></table></figure>\n<h2 id=\"2-snsset_style\"><a class=\"anchor\" href=\"#2-snsset_style\">#</a> 2. sns.set_style() ：</h2>\n<h5 id=\"snsset_stylestylenonercnone\"><a class=\"anchor\" href=\"#snsset_stylestylenonercnone\">#</a> sns.set_style(style=None,rc=None) 。</h5>\n<h5 id=\"这个函数跟-snsaxes_style-一样也是用来设置绘图风格-但是这个函数的风格设置不是临时\"><a class=\"anchor\" href=\"#这个函数跟-snsaxes_style-一样也是用来设置绘图风格-但是这个函数的风格设置不是临时\">#</a> 这个函数跟 sns.axes_style 一样，也是用来设置绘图风格。但是这个函数的风格设置，不是临时</h5>\n<h5 id=\"的而是一旦设置了那么下面的所有绘图都是用这个风格-示例代码如下\"><a class=\"anchor\" href=\"#的而是一旦设置了那么下面的所有绘图都是用这个风格-示例代码如下\">#</a> 的，而是一旦设置了，那么下面的所有绘图都是用这个风格。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns<span class=\"selector-class\">.set_style</span>(<span class=\"string\">&quot;darkgrid&quot;</span>)</span><br><span class=\"line\">sns<span class=\"selector-class\">.scatterplot</span>(<span class=\"attribute\">x</span>=<span class=\"string\">&quot;total_bill&quot;</span>,y=<span class=\"string\">&quot;tip&quot;</span>,data=tips)</span><br></pre></td></tr></table></figure>\n<h2 id=\"3-snsset\"><a class=\"anchor\" href=\"#3-snsset\">#</a> 3. sns.set ：</h2>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns.<span class=\"built_in\">set</span>(<span class=\"attribute\">context</span>=<span class=\"string\">&#x27;notebook&#x27;</span>, <span class=\"attribute\">style</span>=<span class=\"string\">&#x27;darkgrid&#x27;</span>, <span class=\"attribute\">palette</span>=<span class=\"string\">&#x27;deep&#x27;</span>, <span class=\"attribute\">font</span>=<span class=\"string\">&#x27;sans-serif&#x27;</span>,</span><br></pre></td></tr></table></figure>\n<h5 id=\"font_scale1-color_codestrue-rcnone\"><a class=\"anchor\" href=\"#font_scale1-color_codestrue-rcnone\">#</a> font_scale=1, color_codes=True, rc=None) 。</h5>\n<h5 id=\"set-方法也是用来设置样式的他的功能更加强大-除了-style-以外还可以设置调色板字\"><a class=\"anchor\" href=\"#set-方法也是用来设置样式的他的功能更加强大-除了-style-以外还可以设置调色板字\">#</a> set 方法也是用来设置样式的，他的功能更加强大。除了 style 以外，还可以设置调色板，字</h5>\n<h5 id=\"体字体大小颜色等也可以设置其他的-matplotlibrcparams-可以接收的参数-示例代码如\"><a class=\"anchor\" href=\"#体字体大小颜色等也可以设置其他的-matplotlibrcparams-可以接收的参数-示例代码如\">#</a> 体，字体大小，颜色等，也可以设置其他的 matplotlib.rcParams 可以接收的参数。示例代码如</h5>\n<h5 id=\"下-2\"><a class=\"anchor\" href=\"#下-2\">#</a> 下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns<span class=\"selector-class\">.set</span>(rc=&#123;<span class=\"string\">&quot;lines.linewidth&quot;</span>: <span class=\"number\">4</span> &#125;)</span><br><span class=\"line\">fmri = sns<span class=\"selector-class\">.load_dataset</span>(<span class=\"string\">&quot;fmri&quot;</span>)</span><br><span class=\"line\">sns<span class=\"selector-class\">.lineplot</span>(<span class=\"attribute\">x</span>=<span class=\"string\">&quot;timepoint&quot;</span>,y=<span class=\"string\">&quot;signal&quot;</span>,data=fmri)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-41\"><a class=\"anchor\" href=\"#效果图如下-41\">#</a> 效果图如下：</h5>\n<h1 id=\"调色盘设置\"><a class=\"anchor\" href=\"#调色盘设置\">#</a> 调色盘设置</h1>\n<h5 id=\"seaborn-可以非常迅速的做出优美的图形其中就应该得力于他的调色盘机制-seaborn-根据应\"><a class=\"anchor\" href=\"#seaborn-可以非常迅速的做出优美的图形其中就应该得力于他的调色盘机制-seaborn-根据应\">#</a> seaborn 可以非常迅速的做出优美的图形，其中就应该得力于他的调色盘机制。 seaborn 根据应</h5>\n<h5 id=\"用场景提供了三种不同类型的调色盘-定性的-连续的-发散的\"><a class=\"anchor\" href=\"#用场景提供了三种不同类型的调色盘-定性的-连续的-发散的\">#</a> 用场景提供了三种不同类型的调色盘： 定性的 、 连续的 、 发散的 。</h5>\n<h2 id=\"定性调色盘\"><a class=\"anchor\" href=\"#定性调色盘\">#</a> 定性调色盘：</h2>\n<h5 id=\"定性调色盘-一般在数据不连续比较离散想体现分类的情况下使用-在-seaborn-中使\"><a class=\"anchor\" href=\"#定性调色盘-一般在数据不连续比较离散想体现分类的情况下使用-在-seaborn-中使\">#</a> 定性调色盘。一般在数据不连续，比较离散，想体现分类的情况下使用。在 seaborn 中，使</h5>\n<h5 id=\"用-snscolor_palette-来创建调色盘\"><a class=\"anchor\" href=\"#用-snscolor_palette-来创建调色盘\">#</a> 用 sns.color_palette 来创建调色盘。</h5>\n<h2 id=\"1-默认调色盘\"><a class=\"anchor\" href=\"#1-默认调色盘\">#</a> 1. 默认调色盘：</h2>\n<h5 id=\"在-seaborn-中默认情况下就设置了一些颜色供绘图使用-使用-snscolor_palette-即可获取\"><a class=\"anchor\" href=\"#在-seaborn-中默认情况下就设置了一些颜色供绘图使用-使用-snscolor_palette-即可获取\">#</a> 在 seaborn 中，默认情况下就设置了一些颜色供绘图使用。使用 sns.color_palette 即可获取。</h5>\n<h5 id=\"并且我们可以通过-snspalplot-来绘制调色盘-示例代码如下\"><a class=\"anchor\" href=\"#并且我们可以通过-snspalplot-来绘制调色盘-示例代码如下\">#</a> 并且我们可以通过 sns.palplot 来绘制调色盘。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">current_palette = sns<span class=\"selector-class\">.color_palette</span>()</span><br><span class=\"line\">sns<span class=\"selector-class\">.palplot</span>(current_palette)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-42\"><a class=\"anchor\" href=\"#效果图如下-42\">#</a> 效果图如下：</h5>\n<h5 id=\"默认的调色盘有-10-中颜色-这些颜色都有-6-中风格-分别是-deep-muted-pastel\"><a class=\"anchor\" href=\"#默认的调色盘有-10-中颜色-这些颜色都有-6-中风格-分别是-deep-muted-pastel\">#</a> 默认的调色盘有 10 中颜色。这些颜色都有 6 中风格。分别是： deep ， muted ， pastel ，</h5>\n<h5 id=\"bright-dark-colorblind-这几种风格的颜色不变主要调整的是亮度和饱和度\"><a class=\"anchor\" href=\"#bright-dark-colorblind-这几种风格的颜色不变主要调整的是亮度和饱和度\">#</a> bright ， dark ， colorblind 。这几种风格的颜色不变，主要调整的是亮度和饱和度。</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">current_palette = sns<span class=\"selector-class\">.color_palette</span>(<span class=\"string\">&quot;dark&quot;</span>)</span><br><span class=\"line\">sns<span class=\"selector-class\">.palplot</span>(current_palette)</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-hls-圆形颜色系统\"><a class=\"anchor\" href=\"#2-hls-圆形颜色系统\">#</a> 2. hls 圆形颜色系统：</h3>\n<h5 id=\"hls-圆形颜色系统是颜色按照顺序经过偏移无缝形成一个圆形-我们在使用这个调色盘的时\"><a class=\"anchor\" href=\"#hls-圆形颜色系统是颜色按照顺序经过偏移无缝形成一个圆形-我们在使用这个调色盘的时\">#</a> hls 圆形颜色系统是颜色按照顺序，经过偏移，无缝形成一个圆形。我们在使用这个调色盘的时</h5>\n<h5 id=\"候可以指定需要使用多少种颜色-示例代码如下\"><a class=\"anchor\" href=\"#候可以指定需要使用多少种颜色-示例代码如下\">#</a> 候，可以指定需要使用多少种颜色。示例代码如下：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 使用hls圆形颜色系统，取 20 个颜色</span></span><br><span class=\"line\"><span class=\"attribute\">sns</span>.palplot(sns.color_palette(<span class=\"string\">&quot;hls&quot;</span>, <span class=\"number\">20</span> ))</span><br></pre></td></tr></table></figure>\n<h5 id=\"也可以使用另外一个函数-snshls_paletten_colors6-h001-l06-s065-来实现-这个函\"><a class=\"anchor\" href=\"#也可以使用另外一个函数-snshls_paletten_colors6-h001-l06-s065-来实现-这个函\">#</a> 也可以使用另外一个函数 sns.hls_palette (n_colors=6, h=0.01, l=0.6, s=0.65) 来实现。这个函</h5>\n<h5 id=\"数可以传递更多的参数-比如我们可以通过更改-hue-来更改开始的颜色通过更改-l-来调整亮\"><a class=\"anchor\" href=\"#数可以传递更多的参数-比如我们可以通过更改-hue-来更改开始的颜色通过更改-l-来调整亮\">#</a> 数可以传递更多的参数。比如我们可以通过更改 hue 来更改开始的颜色，通过更改 l 来调整亮</h5>\n<h5 id=\"度通过更改-s-来调整饱和度-示例代码如下\"><a class=\"anchor\" href=\"#度通过更改-s-来调整饱和度-示例代码如下\">#</a> 度，通过更改 s 来调整饱和度。示例代码如下：</h5>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">sns</span>.palplot(sns.hls_palette( <span class=\"number\">10</span> ,h=<span class=\"number\">0</span>.<span class=\"number\">4</span>,l=<span class=\"number\">0</span>.<span class=\"number\">4</span>,s=<span class=\"number\">0</span>.<span class=\"number\">5</span>))</span><br></pre></td></tr></table></figure>\n<h5 id=\"另外也可以通过-snshusl_palette-来实现色系的调整这个方法比-snshls_palette-亮度和饱和\"><a class=\"anchor\" href=\"#另外也可以通过-snshusl_palette-来实现色系的调整这个方法比-snshls_palette-亮度和饱和\">#</a> 另外也可以通过 sns.husl_palette 来实现色系的调整，这个方法比 sns.hls_palette 亮度和饱和</h5>\n<h5 id=\"度更加的均匀\"><a class=\"anchor\" href=\"#度更加的均匀\">#</a> 度更加的均匀。</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns<span class=\"selector-class\">.palplot</span>(sns<span class=\"selector-class\">.husl_palette</span>( <span class=\"number\">10</span> ))</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-分类颜色\"><a class=\"anchor\" href=\"#3-分类颜色\">#</a> 3. 分类颜色：</h3>\n<h5 id=\"分类颜色是-seaborn-已经提前给你定义了一些颜色使用这些颜色在做分类分组的时候可以按照\"><a class=\"anchor\" href=\"#分类颜色是-seaborn-已经提前给你定义了一些颜色使用这些颜色在做分类分组的时候可以按照\">#</a> 分类颜色是 seaborn 已经提前给你定义了一些颜色，使用这些颜色在做分类分组的时候可以按照</h5>\n<h5 id=\"自己的需求选择-示例代码如下\"><a class=\"anchor\" href=\"#自己的需求选择-示例代码如下\">#</a> 自己的需求选择。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns<span class=\"selector-class\">.palplot</span>(sns<span class=\"selector-class\">.color_palette</span>(<span class=\"string\">&quot;Paired&quot;</span>))</span><br></pre></td></tr></table></figure>\n<h5 id=\"关于分类的颜色选择可以通过-snschoose_colorbrewer_palettequalitative-来查看-这个\"><a class=\"anchor\" href=\"#关于分类的颜色选择可以通过-snschoose_colorbrewer_palettequalitative-来查看-这个\">#</a> 关于分类的颜色选择，可以通过 sns.choose_colorbrewer_palette (“qualitative”) 来查看。这个</h5>\n<h5 id=\"方法只能用在-jupyter-notebook-中-可以选择不同的样式然后还可以调节饱和度等-效果图如\"><a class=\"anchor\" href=\"#方法只能用在-jupyter-notebook-中-可以选择不同的样式然后还可以调节饱和度等-效果图如\">#</a> 方法只能用在 jupyter notebook 中。可以选择不同的样式，然后还可以调节饱和度等。效果图如</h5>\n<h5 id=\"下-3\"><a class=\"anchor\" href=\"#下-3\">#</a> 下：</h5>\n<h3 id=\"4-用-xkcd-颜色\"><a class=\"anchor\" href=\"#4-用-xkcd-颜色\">#</a> 4. 用 xkcd 颜色：</h3>\n<h5 id=\"xkcd-是一个漫画名称或者是工作室-xkcd-开展了一项众包活动为随机的-rgb-颜色命名-这\"><a class=\"anchor\" href=\"#xkcd-是一个漫画名称或者是工作室-xkcd-开展了一项众包活动为随机的-rgb-颜色命名-这\">#</a> xkcd 是一个漫画名称或者是工作室。 xkcd 开展了一项众包活动，为随机的 RGB 颜色命名。这</h5>\n<h5 id=\"产生了一组-954-种命名颜色-我们可以从-snsxkcd_palette-里面提取颜色-提取到后如果想要\"><a class=\"anchor\" href=\"#产生了一组-954-种命名颜色-我们可以从-snsxkcd_palette-里面提取颜色-提取到后如果想要\">#</a> 产生了一组 954 种命名颜色。我们可以从 sns.xkcd_palette 里面提取颜色。提取到后，如果想要</h5>\n<h5 id=\"用在-palette-参数中那么还需要放到-snsxkcd_palette-中-所有的-xkcd-颜色的名称可以参考\"><a class=\"anchor\" href=\"#用在-palette-参数中那么还需要放到-snsxkcd_palette-中-所有的-xkcd-颜色的名称可以参考\">#</a> 用在 palette 参数中，那么还需要放到 sns.xkcd_palette 中。所有的 xkcd 颜色的名称可以参考</h5>\n<h5 id=\"官网-httpsxkcdcomcolorrgb-示例代码如下\"><a class=\"anchor\" href=\"#官网-httpsxkcdcomcolorrgb-示例代码如下\">#</a> 官网： <span class=\"exturl\" data-url=\"aHR0cHM6Ly94a2NkLmNvbS9jb2xvci9yZ2Iv\">https://xkcd.com/color/rgb/</span> 。示例代码如下：</h5>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 获取名字为blue green的颜色</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(sns.xkcd_rgb[<span class=\"string\">&quot;blue green&quot;</span>])</span><br><span class=\"line\"><span class=\"comment\"># 用xkcd的颜色名称构建一个palette对象</span></span><br><span class=\"line\">colors = [<span class=\"string\">&quot;windows blue&quot;</span>, <span class=\"string\">&quot;amber&quot;</span>, <span class=\"string\">&quot;greyish&quot;</span>, <span class=\"string\">&quot;faded green&quot;</span>, <span class=\"string\">&quot;dusty purple&quot;</span>]</span><br><span class=\"line\">sns.palplot(sns.xkcd_palette(colors))</span><br></pre></td></tr></table></figure>\n<h2 id=\"连续的颜色盘\"><a class=\"anchor\" href=\"#连续的颜色盘\">#</a> 连续的颜色盘：</h2>\n<h5 id=\"有时候我们绘图的时候想要使用一个同种色系但是不同深浅这时候就可以使用连续的颜色\"><a class=\"anchor\" href=\"#有时候我们绘图的时候想要使用一个同种色系但是不同深浅这时候就可以使用连续的颜色\">#</a> 有时候我们绘图的时候，想要使用一个同种色系，但是不同深浅，这时候就可以使用连续的颜色</h5>\n<h5 id=\"盘-示例代码如下\"><a class=\"anchor\" href=\"#盘-示例代码如下\">#</a> 盘。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns<span class=\"selector-class\">.palplot</span>(sns<span class=\"selector-class\">.color_palette</span>(<span class=\"string\">&quot;Blues&quot;</span>))</span><br></pre></td></tr></table></figure>\n<h5 id=\"默认颜色是从浅入深如果想要从深变浅那么可以在色系后加一个-_r-示例代码如下\"><a class=\"anchor\" href=\"#默认颜色是从浅入深如果想要从深变浅那么可以在色系后加一个-_r-示例代码如下\">#</a> 默认颜色是从浅入深，如果想要从深变浅，那么可以在色系后加一个 _r 。示例代码如下：</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sns<span class=\"selector-class\">.palplot</span>(sns<span class=\"selector-class\">.color_palette</span>(<span class=\"string\">&quot;Blues_r&quot;</span>))</span><br></pre></td></tr></table></figure>\n<h5 id=\"我们也可以通过-snschoose_colorbrewer_palettesequential-查看有哪些色系可供选择-效果\"><a class=\"anchor\" href=\"#我们也可以通过-snschoose_colorbrewer_palettesequential-查看有哪些色系可供选择-效果\">#</a> 我们也可以通过 sns.choose_colorbrewer_palette (“sequential”) 查看有哪些色系可供选择。效果</h5>\n<h5 id=\"图如下\"><a class=\"anchor\" href=\"#图如下\">#</a> 图如下：</h5>\n<h2 id=\"离散的色盘\"><a class=\"anchor\" href=\"#离散的色盘\">#</a> 离散的色盘：</h2>\n<h5 id=\"离散的色盘是两边的颜色逐渐加深中间的颜色最淡-或者是中间的颜色最深两边的颜色最\"><a class=\"anchor\" href=\"#离散的色盘是两边的颜色逐渐加深中间的颜色最淡-或者是中间的颜色最深两边的颜色最\">#</a> 离散的色盘，是两边的颜色逐渐加深，中间的颜色最淡。或者是中间的颜色最深，两边的颜色最</h5>\n<h5 id=\"淡-一般离散的色盘可以用于比如温度零度以上可以用红色表示零度以下用蓝色表示-越红的\"><a class=\"anchor\" href=\"#淡-一般离散的色盘可以用于比如温度零度以上可以用红色表示零度以下用蓝色表示-越红的\">#</a> 淡。一般离散的色盘可以用于比如温度，零度以上可以用红色表示，零度以下用蓝色表示。越红的</h5>\n<h5 id=\"地方表示温度越高越蓝的地方表示温度越低-示例代码如下\"><a class=\"anchor\" href=\"#地方表示温度越高越蓝的地方表示温度越低-示例代码如下\">#</a> 地方，表示温度越高，越蓝的地方，表示温度越低。示例代码如下：</h5>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">values = [<span class=\"number\"> 12 </span>,<span class=\"number\"> 15 </span>,<span class=\"number\"> 17 </span>,<span class=\"number\"> 18 </span>,-5,-10]</span><br><span class=\"line\">with sns.color_palette(&quot;RdBu_r&quot;):</span><br><span class=\"line\">sns.barplot([<span class=\"number\"> 1 </span>,<span class=\"number\"> 2 </span>,<span class=\"number\"> 3 </span>,<span class=\"number\"> 4 </span>,<span class=\"number\"> 5 </span>,<span class=\"number\"> 6 </span>],sorted(values))</span><br></pre></td></tr></table></figure>\n<h5 id=\"也可以通过-snschoose_colorbrewer_palettediverging-查看离散的色盘有哪些可以选择\"><a class=\"anchor\" href=\"#也可以通过-snschoose_colorbrewer_palettediverging-查看离散的色盘有哪些可以选择\">#</a> 也可以通过 sns.choose_colorbrewer_palette (“diverging”) 查看离散的色盘有哪些可以选择。</h5>\n<h5 id=\"还可以通过-snsdiverging_paletteh_neg-h_pos-s75-l50-sep10-n6-centerlight\"><a class=\"anchor\" href=\"#还可以通过-snsdiverging_paletteh_neg-h_pos-s75-l50-sep10-n6-centerlight\">#</a> 还可以通过 sns.diverging_palette (h_neg, h_pos, s=75, l=50, sep=10, n=6, center=‘light’,</h5>\n<h5 id=\"as_cmapfalse-来自定义离散色盘-在这里不再做过多讲解\"><a class=\"anchor\" href=\"#as_cmapfalse-来自定义离散色盘-在这里不再做过多讲解\">#</a> as_cmap=False) 来自定义离散色盘。在这里不再做过多讲解。</h5>\n<h2 id=\"官方文档-2\"><a class=\"anchor\" href=\"#官方文档-2\">#</a> 官方文档：</h2>\n<h5 id=\"httpsseabornpydataorgtutorialcolor_paletteshtml\"><a class=\"anchor\" href=\"#httpsseabornpydataorgtutorialcolor_paletteshtml\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9zZWFib3JuLnB5ZGF0YS5vcmcvdHV0b3JpYWwvY29sb3JfcGFsZXR0ZXMuaHRtbA==\">https://seaborn.pydata.org/tutorial/color_palettes.html</span> 。</h5>\n<h1 id=\"seaborn-作业\"><a class=\"anchor\" href=\"#seaborn-作业\">#</a> Seaborn 作业</h1>\n<h2 id=\"一-有一组温度数据按照时间和温度绘制折线图\"><a class=\"anchor\" href=\"#一-有一组温度数据按照时间和温度绘制折线图\">#</a> 一、 有一组温度数据，按照时间和温度绘制折线图。</h2>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bj_temps = <span class=\"selector-attr\">[ 29 , 27 , 23 , 22 ]</span></span><br><span class=\"line\">bj_hours = <span class=\"selector-attr\">[<span class=\"string\">&quot;20时&quot;</span>,<span class=\"string\">&quot;23时&quot;</span>,<span class=\"string\">&quot;2时&quot;</span>,<span class=\"string\">&quot;5时&quot;</span>]</span></span><br><span class=\"line\">plt<span class=\"selector-class\">.figure</span>(figsize=( <span class=\"number\">5</span> , <span class=\"number\">2</span> ))</span><br><span class=\"line\">axes = sns<span class=\"selector-class\">.lineplot</span>(<span class=\"built_in\">range</span>( <span class=\"number\">0</span> , <span class=\"number\">4</span> ),bj_temps,<span class=\"attribute\">marker</span>=<span class=\"string\">&quot;o&quot;</span>)</span><br><span class=\"line\">axes<span class=\"selector-class\">.set_xticks</span>(<span class=\"built_in\">range</span>( <span class=\"number\">0</span> , <span class=\"number\">4</span> ))</span><br><span class=\"line\">axes<span class=\"selector-class\">.set_xticklabels</span>(bj_hours)</span><br></pre></td></tr></table></figure>\n<h5 id=\"效果图如下-43\"><a class=\"anchor\" href=\"#效果图如下-43\">#</a> 效果图如下：</h5>\n<h2 id=\"二-有以下国家数据根据时间绘制条形图\"><a class=\"anchor\" href=\"#二-有以下国家数据根据时间绘制条形图\">#</a> 二、有以下国家数据，根据时间绘制条形图。</h2>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">legals</span> = pd.read_csv(<span class=\"string\">&quot;../法人人数年度数据.csv&quot;</span>,encoding=<span class=\"string\">&#x27;GB18030&#x27;</span>)</span><br><span class=\"line\"><span class=\"attr\">temp_legals</span> = legals[ <span class=\"number\">1</span> : <span class=\"number\">11</span> ]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight sas\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 清理数据</span><br><span class=\"line\">new_legals = pd.DataFrame()</span><br><span class=\"line\">for <span class=\"keyword\">index</span> <span class=\"keyword\">in</span> temp_legals.<span class=\"keyword\">index</span>:</span><br><span class=\"line\">row_values =temp_legals.loc[<span class=\"keyword\">index</span>]</span><br><span class=\"line\">for <span class=\"keyword\">x</span> <span class=\"keyword\">in</span> <span class=\"meta\">range</span>( 2009 , 2018 ):</span><br><span class=\"line\">year = <span class=\"string\">&quot;%d年&quot;</span><span class=\"title function_\">%x</span></span><br><span class=\"line\">series = pd.Series(&#123;<span class=\"string\">&quot;指标&quot;</span>:row_values[<span class=\"string\">&#x27;指标&#x27;</span>],<span class=\"string\">&#x27;年份&#x27;</span>:year,<span class=\"string\">&quot;数量&quot;</span>:row_values[year</span><br><span class=\"line\">]&#125;)</span><br><span class=\"line\">new_legals = pd.concat([new_legals,series.to_frame().T])</span><br><span class=\"line\">new_legals.reset_<span class=\"meta\">index</span>(<span class=\"keyword\">drop</span>=True,inplace=True)</span><br></pre></td></tr></table></figure>\n<h6 id=\"开始绘图\"><a class=\"anchor\" href=\"#开始绘图\">#</a> # 开始绘图</h6>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">plt<span class=\"selector-class\">.figure</span>(figsize=( <span class=\"number\">20</span> , <span class=\"number\">5</span> ))</span><br><span class=\"line\">sns<span class=\"selector-class\">.barplot</span>(<span class=\"attribute\">x</span>=<span class=\"string\">&quot;年份&quot;</span>,y=<span class=\"string\">&quot;数量&quot;</span>,hue=<span class=\"string\">&quot;指标&quot;</span>,data=new_legals)</span><br><span class=\"line\">plt<span class=\"selector-class\">.legend</span>(ncol= <span class=\"number\">4</span> )</span><br></pre></td></tr></table></figure>\n<h2 id=\"三-有链家网的数据请按照以下要求实现绘图\"><a class=\"anchor\" href=\"#三-有链家网的数据请按照以下要求实现绘图\">#</a> 三、有链家网的数据，请按照以下要求实现绘图：</h2>\n<h5 id=\"1-x-轴是-region行政区-y-轴是每个区的平均每平米的单价绘制条形图-x-轴\"><a class=\"anchor\" href=\"#1-x-轴是-region行政区-y-轴是每个区的平均每平米的单价绘制条形图-x-轴\">#</a> 1. x 轴是 Region（行政区） ， y 轴是每个区的平均每平米的单价，绘制条形图。 x 轴</h5>\n<h5 id=\"是-region行政区-y-轴是每平米的单价绘制箱线图-x-轴是-region-y-轴是每平米\"><a class=\"anchor\" href=\"#是-region行政区-y-轴是每平米的单价绘制箱线图-x-轴是-region-y-轴是每平米\">#</a> 是 Region（行政区） ， y 轴是每平米的单价，绘制箱线图。 x 轴是 Region ， y 轴是每平米</h5>\n<h5 id=\"的单价绘制-swarm-图-以上三个图需要绘制在一个-figure-上\"><a class=\"anchor\" href=\"#的单价绘制-swarm-图-以上三个图需要绘制在一个-figure-上\">#</a> 的单价，绘制 swarm 图。以上三个图需要绘制在一个 figure 上。</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lianjia = pd<span class=\"selector-class\">.read_csv</span>(<span class=\"string\">&quot;../lianjia.csv&quot;</span>,encoding=<span class=\"string\">&#x27;utf-8&#x27;</span>)</span><br><span class=\"line\">lianjia<span class=\"selector-attr\">[<span class=\"string\">&#x27;UnitPrice&#x27;</span>]</span> = lianjia<span class=\"selector-attr\">[<span class=\"string\">&#x27;Price&#x27;</span>]</span>/lianjia<span class=\"selector-attr\">[<span class=\"string\">&#x27;Size&#x27;</span>]</span></span><br><span class=\"line\">house_mean = lianjia<span class=\"selector-class\">.groupby</span>(<span class=\"string\">&#x27;Region&#x27;</span>)<span class=\"selector-attr\">[<span class=\"string\">&#x27;UnitPrice&#x27;</span>]</span><span class=\"selector-class\">.mean</span>()<span class=\"selector-class\">.sort_values</span>(ascending=F</span><br><span class=\"line\">alse)<span class=\"selector-class\">.to_frame</span>()<span class=\"selector-class\">.reset_index</span>()</span><br><span class=\"line\">fig,axes_arr = plt<span class=\"selector-class\">.subplots</span>( <span class=\"number\">3</span> , <span class=\"number\">1</span> ,figsize=( <span class=\"number\">20</span> , <span class=\"number\">15</span> ))</span><br><span class=\"line\">sns<span class=\"selector-class\">.barplot</span>(<span class=\"attribute\">x</span>=<span class=\"string\">&quot;Region&quot;</span>,y=<span class=\"string\">&quot;UnitPrice&quot;</span>,data=house_mean,ax=axes_arr[ <span class=\"number\">0</span> ])</span><br><span class=\"line\">sns<span class=\"selector-class\">.boxplot</span>(<span class=\"attribute\">x</span>=<span class=\"string\">&quot;Region&quot;</span>,y=<span class=\"string\">&quot;UnitPrice&quot;</span>,data=lianjia,ax=axes_arr[ <span class=\"number\">1</span> ])</span><br><span class=\"line\">sns<span class=\"selector-class\">.swarmplot</span>(<span class=\"attribute\">x</span>=<span class=\"string\">&quot;Region&quot;</span>,y=<span class=\"string\">&quot;UnitPrice&quot;</span>,data=lianjia,ax=axes_arr[ <span class=\"number\">2</span> ])</span><br></pre></td></tr></table></figure>\n<h5 id=\"2-使用-facetgrid-绘制尺寸与单价的关系并且区分有无电梯\"><a class=\"anchor\" href=\"#2-使用-facetgrid-绘制尺寸与单价的关系并且区分有无电梯\">#</a> 2. 使用 FacetGrid 绘制尺寸与单价的关系，并且区分有无电梯。</h5>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fg = sns<span class=\"selector-class\">.FacetGrid</span>(lianjia,col=<span class=\"string\">&quot;Elevator&quot;</span>,<span class=\"attribute\">height</span>= <span class=\"number\">6</span> ,aspect= <span class=\"number\">2</span> )</span><br><span class=\"line\">fg<span class=\"selector-class\">.map</span>(sns<span class=\"selector-class\">.regplot</span>,<span class=\"string\">&quot;Size&quot;</span>,<span class=\"string\">&quot;UnitPrice&quot;</span>)</span><br><span class=\"line\">fg<span class=\"selector-class\">.add_legend</span>()</span><br></pre></td></tr></table></figure>\n<h1 id=\"googleplay-app-数据分析\"><a class=\"anchor\" href=\"#googleplay-app-数据分析\">#</a> GooglePlay App 数据分析</h1>\n",
            "tags": [
                "数据分析"
            ]
        },
        {
            "id": "https://zhihao-a.github.io/2023/12/17/%E7%AE%97%E6%B3%95%E8%AE%AD%E7%BB%83%E5%8F%8A%E9%A2%98%E8%A7%A3%E6%B1%87%E6%80%BB/",
            "url": "https://zhihao-a.github.io/2023/12/17/%E7%AE%97%E6%B3%95%E8%AE%AD%E7%BB%83%E5%8F%8A%E9%A2%98%E8%A7%A3%E6%B1%87%E6%80%BB/",
            "title": "算法训练及题解汇总",
            "date_published": "2023-12-17T05:12:33.000Z",
            "content_html": "<h2 id=\"cowcode题解\"><a class=\"anchor\" href=\"#cowcode题解\">#</a> cowcode 题解</h2>\n<h3 id=\"简单\"><a class=\"anchor\" href=\"#简单\">#</a> 简单</h3>\n<h4 id=\"二叉树前中后续遍历\"><a class=\"anchor\" href=\"#二叉树前中后续遍历\">#</a> 二叉树前中后续遍历</h4>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;stack&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 二叉树节点的定义</span></span><br><span class=\"line\"><span class=\"keyword\">struct</span> <span class=\"title class_\">TreeNode</span> &#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> val;</span><br><span class=\"line\">    TreeNode* left;</span><br><span class=\"line\">    TreeNode* right;</span><br><span class=\"line\">    <span class=\"built_in\">TreeNode</span>(<span class=\"type\">int</span> x) : <span class=\"built_in\">val</span>(x), <span class=\"built_in\">left</span>(<span class=\"literal\">NULL</span>), <span class=\"built_in\">right</span>(<span class=\"literal\">NULL</span>) &#123;&#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 前序遍历</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">preorderTraversal</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; result;</span><br><span class=\"line\">    stack&lt;TreeNode*&gt; nodes;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (root != <span class=\"literal\">NULL</span> || !nodes.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root != <span class=\"literal\">NULL</span>) &#123;</span><br><span class=\"line\">            result.<span class=\"built_in\">push_back</span>(root-&gt;val);</span><br><span class=\"line\">            nodes.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">            root = root-&gt;left;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            root = nodes.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            nodes.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            root = root-&gt;right;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 中序遍历</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">inorderTraversal</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; result;</span><br><span class=\"line\">    stack&lt;TreeNode*&gt; nodes;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (root != <span class=\"literal\">NULL</span> || !nodes.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root != <span class=\"literal\">NULL</span>) &#123;</span><br><span class=\"line\">            nodes.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">            root = root-&gt;left;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            root = nodes.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            nodes.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            result.<span class=\"built_in\">push_back</span>(root-&gt;val);</span><br><span class=\"line\">            root = root-&gt;right;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 后序遍历</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">postorderTraversal</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; result;</span><br><span class=\"line\">    stack&lt;TreeNode*&gt; nodes;</span><br><span class=\"line\">    TreeNode* lastVisited = <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (root != <span class=\"literal\">NULL</span> || !nodes.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (root != <span class=\"literal\">NULL</span>) &#123;</span><br><span class=\"line\">            nodes.<span class=\"built_in\">push</span>(root);</span><br><span class=\"line\">            root = root-&gt;left;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            TreeNode* topNode = nodes.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (topNode-&gt;right != <span class=\"literal\">NULL</span> &amp;&amp; topNode-&gt;right != lastVisited) &#123;</span><br><span class=\"line\">                root = topNode-&gt;right;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                result.<span class=\"built_in\">push_back</span>(topNode-&gt;val);</span><br><span class=\"line\">                lastVisited = topNode;</span><br><span class=\"line\">                nodes.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 创建一棵二叉树</span></span><br><span class=\"line\">    TreeNode* root = <span class=\"keyword\">new</span> <span class=\"built_in\">TreeNode</span>(<span class=\"number\">1</span>);</span><br><span class=\"line\">    root-&gt;left = <span class=\"keyword\">new</span> <span class=\"built_in\">TreeNode</span>(<span class=\"number\">2</span>);</span><br><span class=\"line\">    root-&gt;right = <span class=\"keyword\">new</span> <span class=\"built_in\">TreeNode</span>(<span class=\"number\">3</span>);</span><br><span class=\"line\">    root-&gt;left-&gt;left = <span class=\"keyword\">new</span> <span class=\"built_in\">TreeNode</span>(<span class=\"number\">4</span>);</span><br><span class=\"line\">    root-&gt;left-&gt;right = <span class=\"keyword\">new</span> <span class=\"built_in\">TreeNode</span>(<span class=\"number\">5</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 前序遍历</span></span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; preorder = <span class=\"built_in\">preorderTraversal</span>(root);</span><br><span class=\"line\">    cout &lt;&lt; <span class=\"string\">&quot;Preorder traversal: &quot;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> val : preorder) &#123;</span><br><span class=\"line\">        cout &lt;&lt; val &lt;&lt; <span class=\"string\">&quot; &quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    cout &lt;&lt; endl;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 中序遍历</span></span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; inorder = <span class=\"built_in\">inorderTraversal</span>(root);</span><br><span class=\"line\">    cout &lt;&lt; <span class=\"string\">&quot;Inorder traversal: &quot;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> val : inorder) &#123;</span><br><span class=\"line\">        cout &lt;&lt; val &lt;&lt; <span class=\"string\">&quot; &quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    cout &lt;&lt; endl;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 后序遍历</span></span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; postorder = <span class=\"built_in\">postorderTraversal</span>(root);</span><br><span class=\"line\">    cout &lt;&lt; <span class=\"string\">&quot;Postorder traversal: &quot;</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> val : postorder) &#123;</span><br><span class=\"line\">        cout &lt;&lt; val &lt;&lt; <span class=\"string\">&quot; &quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    cout &lt;&lt; endl;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"nc78-反转链表\"><a class=\"anchor\" href=\"#nc78-反转链表\">#</a> NC78 反转链表</h4>\n<p>知识点<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubm93Y29kZXIuY29tL2V4YW0vb2o/cGFnZT0xJmFtcDt0YWI9JUU3JUFFJTk3JUU2JUIzJTk1JUU3JUFGJTg3JmFtcDt0b3BpY0lkPTE5Nj90YWc9NTgw\">链表</span></p>\n<p>给定一个单链表的头结点 pHead (该头节点是有值的，比如在下图，它的 val 是 1)，长度为 n，反转该链表后，返回新链表的表头。</p>\n<p>数据范围： 0≤𝑛≤10000≤<em>n</em>≤1000</p>\n<p>要求：空间复杂度 𝑂(1)<em>O</em> (1) ，时间复杂度 𝑂(𝑛)<em>O</em>(<em>n</em>) 。</p>\n<p>如当输入链表 {1,2,3} 时，</p>\n<p>经反转后，原链表变为 {3,2,1}，所以对应的输出为 {3,2,1}。</p>\n<p>以上转换过程如下图所示：</p>\n<p><img data-src=\"https://uploadfiles.nowcoder.com/images/20211014/423483716_1634206291971/4A47A0DB6E60853DEDFCFDF08A5CA249\" alt=\"img\"></p>\n<figure class=\"highlight dust\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"template-variable\">&#123;1,2,3&#125;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight dust\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"template-variable\">&#123;3,2,1&#125;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight dust\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"template-variable\">&#123;&#125;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight dust\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"template-variable\">&#123;&#125;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">空链表则输出空                 </span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * struct ListNode &#123;</span></span><br><span class=\"line\"><span class=\"comment\"> *\tint val;</span></span><br><span class=\"line\"><span class=\"comment\"> *\tstruct ListNode *next;</span></span><br><span class=\"line\"><span class=\"comment\"> *\tListNode(int x) : val(x), next(nullptr) &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> * &#125;;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 代码中的类名、方法名、参数名已经指定，请勿修改，直接返回方法规定的值即可</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     * @param head ListNode类 </span></span><br><span class=\"line\"><span class=\"comment\">     * @return ListNode类</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\">ListNode* <span class=\"title\">ReverseList</span><span class=\"params\">(ListNode* head)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// write code here</span></span><br><span class=\"line\">        ListNode * p = head ;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!p) <span class=\"keyword\">return</span> p;</span><br><span class=\"line\">        ListNode * q = head-&gt;next;</span><br><span class=\"line\">        p-&gt;next = <span class=\"literal\">nullptr</span>;</span><br><span class=\"line\">        ListNode * k; </span><br><span class=\"line\">        <span class=\"comment\">// p -&gt; q -&gt; k </span></span><br><span class=\"line\">        <span class=\"comment\">// 每次都是q的next指向p</span></span><br><span class=\"line\">        <span class=\"comment\">// 然后p和q都向后移一位，k也随着q的后移，也后移一位</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(q)&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 保存下一次的后继，因为q的后继要断开，以防后续节点丢失</span></span><br><span class=\"line\">            k = q-&gt;next;</span><br><span class=\"line\">            q-&gt;next = p;</span><br><span class=\"line\">            p = q;</span><br><span class=\"line\">            q = k;</span><br><span class=\"line\">         &#125; </span><br><span class=\"line\">         <span class=\"keyword\">return</span> p;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"中等\"><a class=\"anchor\" href=\"#中等\">#</a> 中等</h3>\n<h4 id=\"bm7-链表中环的入口结点\"><a class=\"anchor\" href=\"#bm7-链表中环的入口结点\">#</a> BM7 链表中环的入口结点</h4>\n<p>知识点<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubm93Y29kZXIuY29tL2V4YW0vb2o/cGFnZT0xJmFtcDt0YWI9JUU3JUFFJTk3JUU2JUIzJTk1JUU3JUFGJTg3JmFtcDt0b3BpY0lkPTE5Nj90YWc9NTgw\">链表</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubm93Y29kZXIuY29tL2V4YW0vb2o/cGFnZT0xJmFtcDt0YWI9JUU3JUFFJTk3JUU2JUIzJTk1JUU3JUFGJTg3JmFtcDt0b3BpY0lkPTE5Nj90YWc9NTg1\">哈希</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubm93Y29kZXIuY29tL2V4YW0vb2o/cGFnZT0xJmFtcDt0YWI9JUU3JUFFJTk3JUU2JUIzJTk1JUU3JUFGJTg3JmFtcDt0b3BpY0lkPTE5Nj90YWc9NTA1NA==\">双指针</span></p>\n<p>给一个长度为 n 链表，若其中包含环，请找出该链表的环的入口结点，否则，返回 null。</p>\n<p>数据范围： �≤10000<em>n</em>≤10000，1&lt;= 结点值 &lt;=100001&lt;= 结点值 &lt;=10000</p>\n<p>要求：空间复杂度 �(1)<em>O</em> (1)，时间复杂度 �(�)<em>O</em>(<em>n</em>)</p>\n<p>例如，输入 {1,2},{3,4,5} 时，对应的环形链表如下图所示：</p>\n<p><img data-src=\"https://uploadfiles.nowcoder.com/images/20211025/423483716_1635154005498/DA92C945EF643F1143567935F20D6B46\" alt=\"img\"></p>\n<p>可以看到环的入口结点的结点值为 3，所以返回结点值为 3 的结点。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">struct ListNode &#123;</span></span><br><span class=\"line\"><span class=\"comment\">    int val;</span></span><br><span class=\"line\"><span class=\"comment\">    struct ListNode *next;</span></span><br><span class=\"line\"><span class=\"comment\">    ListNode(int x) :</span></span><br><span class=\"line\"><span class=\"comment\">        val(x), next(NULL) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">    &#125;</span></span><br><span class=\"line\"><span class=\"comment\">&#125;;</span></span><br><span class=\"line\"><span class=\"comment\">*/</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">ListNode* <span class=\"title\">EntryNodeOfLoop</span><span class=\"params\">(ListNode* pHead)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!pHead || !pHead-&gt;next) <span class=\"keyword\">return</span> <span class=\"literal\">nullptr</span>;</span><br><span class=\"line\">         ListNode *small = pHead-&gt;next;</span><br><span class=\"line\">         ListNode *fast = pHead-&gt;next-&gt;next;</span><br><span class=\"line\">         </span><br><span class=\"line\">         <span class=\"keyword\">while</span>(fast &amp;&amp; fast-&gt;next)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(fast == small)&#123;</span><br><span class=\"line\">                fast = pHead;</span><br><span class=\"line\">                <span class=\"keyword\">while</span>(fast!=small)&#123;</span><br><span class=\"line\">                    fast = fast-&gt;next;</span><br><span class=\"line\">                    small = small-&gt;next;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> fast;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            fast = fast-&gt;next-&gt;next;</span><br><span class=\"line\">            small = small-&gt;next;</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">         <span class=\"keyword\">return</span> <span class=\"literal\">nullptr</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"nc10-大数乘法\"><a class=\"anchor\" href=\"#nc10-大数乘法\">#</a> NC10 <strong>大数乘法</strong></h4>\n<p><strong>描述</strong></p>\n<p>以字符串的形式读入两个数字，编写一个函数计算它们的乘积，以字符串形式返回。</p>\n<p>数据范围： 读入的数字大小满足 0≤n≤1010000≤<em>n</em>≤101000</p>\n<p><strong>示例 1</strong></p>\n<p>输入：</p>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;11&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;99&quot;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;1089&quot;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">11</span>*<span class=\"number\">99</span>=<span class=\"number\">1089</span> </span><br></pre></td></tr></table></figure>\n<p><strong>示例 2</strong></p>\n<p>输入：</p>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;1&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;0&quot;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;0&quot;</span></span><br></pre></td></tr></table></figure>\n<p><strong>多项式乘法</strong><br>\n题解思路： 将每个数转换为多项式表示，这样就利用多项式乘法对其求积。<br>\n分析：<br>\n1. 一个任意 n 位梳子可以用 n-1 次多项式表示:<br>\n<img data-src=\"https://uploadfiles.nowcoder.com/images/20210706/809820957_1625553233564/7CFD10161B50FD7E62FFA2CA2E65B4F9\" alt=\"图片说明\"></p>\n<p>2. 两个多项式乘法，用 A (x) 和 B (x) 表示两个数：<br>\n<img data-src=\"https://uploadfiles.nowcoder.com/images/20210706/809820957_1625553270115/8631D8DCBEA4BA2BB48221FFB6ECE299\" alt=\"图片说明\"><br>\n可以看出得到的多项式：a 与 b 的下标之和要等于幂次； 即 c (x):<br>\n<img data-src=\"https://uploadfiles.nowcoder.com/images/20210706/809820957_1625553289461/1F6DD2D718B859E3CD7E34E72BCE9D35\" alt=\"图片说明\"></p>\n<p>其中 m 与 n 分别是两个数的长度。</p>\n<p><strong>复杂度分析：</strong><br>\n时间复杂度：O (MN); 多项式每一项都要与另一个数的多项式每一项相乘，如上图所示<br>\n空间复杂度：O (M+N); 最差两个多项式的 x 次方都不相同，需要 M+N 的空间存储对应次方的系数</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 代码中的类名、方法名、参数名已经指定，请勿修改，直接返回方法规定的值即可</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     * @param s string字符串 第一个整数</span></span><br><span class=\"line\"><span class=\"comment\">     * @param t string字符串 第二个整数</span></span><br><span class=\"line\"><span class=\"comment\">     * @return string字符串</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\">string <span class=\"title\">solve</span><span class=\"params\">(string s, string t)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(s==<span class=\"string\">&quot;0&quot;</span> || t ==<span class=\"string\">&quot;0&quot;</span>)  <span class=\"keyword\">return</span> <span class=\"string\">&quot;0&quot;</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> m = s.<span class=\"built_in\">length</span>(),n = t.<span class=\"built_in\">length</span>();</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">res</span><span class=\"params\">(m+n)</span></span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>;i&lt;m;i++)&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> x = s[i] - <span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j= <span class=\"number\">0</span>;j&lt;n;j++)&#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> y = t[j] -<span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">                res[(m-i<span class=\"number\">-1</span>) + (n-j<span class=\"number\">-1</span>)]+=x*y;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 进位</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;=m+n<span class=\"number\">-2</span>;i++)&#123;</span><br><span class=\"line\">            res[i<span class=\"number\">+1</span>] += res[i]/<span class=\"number\">10</span>; <span class=\"comment\">// 向高位进位</span></span><br><span class=\"line\">            res[i] %=<span class=\"number\">10</span>;  <span class=\"comment\">// 自己剩下的</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 判断是否有最高位,由此来判断最后一位</span></span><br><span class=\"line\">        <span class=\"comment\">// 最多就是（m + n）位 </span></span><br><span class=\"line\">        <span class=\"type\">int</span> index = (res[m+n<span class=\"number\">-1</span>]==<span class=\"number\">0</span>?m+n<span class=\"number\">-2</span>:m+n<span class=\"number\">-1</span>);</span><br><span class=\"line\">        string result;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(index&gt;=<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> tmp = res[index--];</span><br><span class=\"line\">            result += <span class=\"built_in\">to_string</span>(tmp);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"nc108-最大正方形\"><a class=\"anchor\" href=\"#nc108-最大正方形\">#</a> NC108 最大正方形</h4>\n<p>知识点<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubm93Y29kZXIuY29tL2V4YW0vb2o/cGFnZT0xJmFtcDt0YWI9JUU3JUFFJTk3JUU2JUIzJTk1JUU3JUFGJTg3JmFtcDt0b3BpY0lkPTE5Nj90YWc9NTkz\">动态规划</span></p>\n<p>描述</p>\n<p>给定一个由 ‘0’ 和 ‘1’ 组成的 2 维矩阵，返回该矩阵中最大的由 ‘1’ 组成的正方形的面积。输入的矩阵是字符形式而非数字形式。</p>\n<p 1,0=\"\">数据范围：矩阵的长宽满足 0≤�≤200≤<em>n</em>≤20, 矩阵中的元素属于</p>\n<p>进阶：空间复杂度 �(�2)<em>O</em>(<em>n</em>2) ， 时间复杂度 �(�2)<em>O</em>(<em>n</em>2)</p>\n<p>示例 1</p>\n<p>输入：</p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">[<span class=\"comment\">[1,0,1,0,0]</span>,<span class=\"comment\">[1,0,1,1,1]</span>,<span class=\"comment\">[1,1,1,1,1]</span>,<span class=\"comment\">[1,0,0,1,0]</span>]</span></span><br></pre></td></tr></table></figure>\n<p>复制</p>\n<p>返回值：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">4</span><br></pre></td></tr></table></figure>\n<p>复制</p>\n<p>示例 2</p>\n<p>输入：</p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">[[1,0,0],[0,0,0],[0,0,0]]</span></span><br></pre></td></tr></table></figure>\n<p>复制</p>\n<p>返回值：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 代码中的类名、方法名、参数名已经指定，请勿修改，直接返回方法规定的值即可</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * 最大正方形</span></span><br><span class=\"line\"><span class=\"comment\">     * @param matrix char字符型vector&lt;vector&lt;&gt;&gt; </span></span><br><span class=\"line\"><span class=\"comment\">     * @return int整型</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">solve</span><span class=\"params\">(vector&lt;vector&lt;<span class=\"type\">char</span>&gt;&gt;&amp; matrix)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// write code here</span></span><br><span class=\"line\">        <span class=\"comment\">// dp[i][j] 表示以matrix[i-1][j-1]为右下角的最大正方形的边长</span></span><br><span class=\"line\">        <span class=\"type\">int</span> m = matrix.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(m==<span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = matrix[<span class=\"number\">0</span>].<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">dp</span>(m<span class=\"number\">+1</span>,<span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n<span class=\"number\">+1</span>));</span><br><span class=\"line\">        <span class=\"type\">int</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">1</span>;i&lt;=m;i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j = <span class=\"number\">1</span>;j&lt;=n;j++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(matrix[i<span class=\"number\">-1</span>][j<span class=\"number\">-1</span>]==<span class=\"string\">&#x27;1&#x27;</span>)&#123;</span><br><span class=\"line\">                    dp[i][j] = <span class=\"number\">0</span>;</span><br><span class=\"line\">                    <span class=\"comment\">// 因为当前边长会受到其他三个正方形的限制，因此取最小的</span></span><br><span class=\"line\">                    dp[i][j] = <span class=\"built_in\">min</span>(dp[i<span class=\"number\">-1</span>][j<span class=\"number\">-1</span>], <span class=\"built_in\">min</span>(dp[i<span class=\"number\">-1</span>][j],dp[i][j<span class=\"number\">-1</span>])) + <span class=\"number\">1</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                result = <span class=\"built_in\">max</span>(result,dp[i][j]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result*result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"nc77-调整数组顺序使奇数位于偶数前面一\"><a class=\"anchor\" href=\"#nc77-调整数组顺序使奇数位于偶数前面一\">#</a> NC77 调整数组顺序使奇数位于偶数前面 (一)</h4>\n<p>知识点<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubm93Y29kZXIuY29tL2V4YW0vb2o/cGFnZT0xJmFtcDt0YWI9JUU3JUFFJTk3JUU2JUIzJTk1JUU3JUFGJTg3JmFtcDt0b3BpY0lkPTE5Nj90YWc9NTc4\">数组</span></p>\n<p>输入一个长度为 n 整数数组，实现一个函数来调整该数组中数字的顺序，使得所有的奇数位于数组的前面部分，所有的偶数位于数组的后面部分，并保证奇数和奇数，偶数和偶数之间的相对位置不变。</p>\n<p>数据范围：0≤𝑛≤50000≤<em>n</em>≤5000，数组中每个数的值 0≤𝑣𝑎𝑙≤100000≤<em>v<strong>a</strong>l</em>≤10000</p>\n<p>要求：时间复杂度 𝑂(𝑛)<em>O</em>(<em>n</em>)，空间复杂度 𝑂(𝑛)<em>O</em>(<em>n</em>)</p>\n<p>进阶：时间复杂度 𝑂(𝑛2)<em>O</em>(<em>n</em>2)，空间复杂度 𝑂(1)<em>O</em>(1)</p>\n<figure class=\"highlight angelscript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">[1,2,3,4]</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight angelscript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">[1,3,2,4]</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight accesslog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">[2,4,6,5,7]</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight accesslog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">[5,7,2,4,6]</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight accesslog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">[1,3,5,6,7]</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight accesslog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">[1,3,5,7,6]</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 代码中的类名、方法名、参数名已经指定，请勿修改，直接返回方法规定的值即可</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     * @param array int整型vector </span></span><br><span class=\"line\"><span class=\"comment\">     * @return int整型vector</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">reOrderArray</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; array)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// write code here</span></span><br><span class=\"line\">        <span class=\"comment\">// 遍历寻找第一个偶数，当找到第一个偶数之后，说明前面都是满足要求的奇数</span></span><br><span class=\"line\">        <span class=\"comment\">// 为了能够保证奇数和偶数的各自的相对位置不发生变化，所以从当前找到的第一个偶数开始</span></span><br><span class=\"line\">        <span class=\"comment\">// 寻找第一个奇数，然后从这个偶数开始到找到的奇数的各个偶数后移一位，然后把找到的奇数</span></span><br><span class=\"line\">       </span><br><span class=\"line\">        <span class=\"type\">int</span> num;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = array.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>;i&lt;n;i++)&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 遍历寻找第一个偶数，当找到第一个偶数之后，说明前面都是满足要求的奇数</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(array[i]%<span class=\"number\">2</span>==<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                <span class=\"type\">int</span> j = i;</span><br><span class=\"line\">                <span class=\"comment\">// 为了能够保证奇数和偶数的各自的相对位置不发生变化，所以从当前找到的第一个偶数开始</span></span><br><span class=\"line\">               <span class=\"comment\">// 寻找第一个奇数，</span></span><br><span class=\"line\">                <span class=\"keyword\">while</span>(j&lt;n &amp;&amp; array[j]%<span class=\"number\">2</span>==<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                    j++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(j==n) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                num = array[j];</span><br><span class=\"line\">                <span class=\"comment\">// 然后从这个偶数开始到找到的奇数的各个偶数后移一位，然后把找到的奇数</span></span><br><span class=\"line\">                <span class=\"keyword\">while</span>(j<span class=\"number\">-1</span>&gt;=i)&#123;</span><br><span class=\"line\">                    array[j] = array[j<span class=\"number\">-1</span>];</span><br><span class=\"line\">                    j--;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                 <span class=\"comment\">// 填充在空出的位置上</span></span><br><span class=\"line\">                array[i] = num;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"nc79-丑数\"><a class=\"anchor\" href=\"#nc79-丑数\">#</a> NC79 丑数</h4>\n<p>知识点<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubm93Y29kZXIuY29tL2V4YW0vb2o/cGFnZT0xJmFtcDt0YWI9JUU3JUFFJTk3JUU2JUIzJTk1JUU3JUFGJTg3JmFtcDt0b3BpY0lkPTE5Nj90YWc9NTA1MA==\">基础数学</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubm93Y29kZXIuY29tL2V4YW0vb2o/cGFnZT0xJmFtcDt0YWI9JUU3JUFFJTk3JUU2JUIzJTk1JUU3JUFGJTg3JmFtcDt0b3BpY0lkPTE5Nj90YWc9NTA1OA==\">二分</span></p>\n<p>把只包含质因子 2、3 和 5 的数称作丑数（Ugly Number）。例如 6、8 都是丑数，但 14 不是，因为它包含质因子 7。 习惯上我们把 1 当做是第一个丑数。求按从小到大的顺序的第 n 个丑数。</p>\n<p>数据范围：0≤𝑛≤20000≤<em>n</em>≤2000</p>\n<p>要求：空间复杂度 𝑂(𝑛)<em>O</em>(<em>n</em>) ， 时间复杂度 𝑂(𝑛)<em>O</em>(<em>n</em>)</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">7</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">8</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"https://uploadfiles.nowcoder.com/files/20210620/908787715_1624191012473/33.gif\" alt=\"33\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 代码中的类名、方法名、参数名已经指定，请勿修改，直接返回方法规定的值即可</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * </span></span><br><span class=\"line\"><span class=\"comment\">     * @param index int整型 </span></span><br><span class=\"line\"><span class=\"comment\">     * @return int整型</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">GetUglyNumber_Solution</span><span class=\"params\">(<span class=\"type\">int</span> index)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// write code here</span></span><br><span class=\"line\">        <span class=\"comment\">// 大致思路就是根据已经出现的“丑数” 2^x3^y5^z</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(index &lt;=<span class=\"number\">6</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> index;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">res</span><span class=\"params\">(index)</span></span>;</span><br><span class=\"line\">        res[<span class=\"number\">0</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> i2 = <span class=\"number\">0</span>,i3 = <span class=\"number\">0</span>,i5 = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i =<span class=\"number\">1</span>;i&lt;index;i++)&#123;</span><br><span class=\"line\">            res[i] = <span class=\"built_in\">min</span>(res[i2]*<span class=\"number\">2</span>,<span class=\"built_in\">min</span>(res[i3]*<span class=\"number\">3</span>,res[i5]*<span class=\"number\">5</span>));</span><br><span class=\"line\">            <span class=\"comment\">// 记录每一个质因子都乘到那个地方了</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(res[i] == res[i2]*<span class=\"number\">2</span>)&#123;</span><br><span class=\"line\">                i2++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(res[i] == res[i3]*<span class=\"number\">3</span>)&#123;</span><br><span class=\"line\">                i3++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(res[i] == res[i5]*<span class=\"number\">5</span>)&#123;</span><br><span class=\"line\">                i5++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res[index<span class=\"number\">-1</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p>NC42 有重复项数字的全排列</p>\n<p>知识点<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubm93Y29kZXIuY29tL2V4YW0vb2o/cGFnZT0xJmFtcDt0YWI9JUU3JUFFJTk3JUU2JUIzJTk1JUU3JUFGJTg3JmFtcDt0b3BpY0lkPTE5Nj90YWc9NTkx\">递归</span></p>\n<p>给出一组可能包含重复项的数字，返回该组数字的所有排列。结果以字典序升序排列。</p>\n<p>数据范围： 0&lt;𝑛≤80&lt;<em>n</em>≤8 ，数组中的值满足 −1≤𝑣𝑎𝑙≤5−1≤<em>v<strong>a</strong>l</em>≤5</p>\n<p>要求：空间复杂度 𝑂(𝑛!)<em>O</em>(<em>n</em>!)，时间复杂度 𝑂(𝑛!)<em>O</em>(<em>n</em>!)</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[1,1,2</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-attr\">[[1,1,2]</span>,<span class=\"selector-attr\">[1,2,1]</span>,<span class=\"selector-attr\">[2,1,1]</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight angelscript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">[0,1]</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">[[0,1],[1,0]]</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong>具体做法：</strong></p>\n<ul>\n<li>step 1：先对数组按照字典序排序，获取第一个排列情况。</li>\n<li>step 2：准备一个数组暂存递归过程中组装的排列情况。使用额外的 vis 数组用于记录哪些位置的数字被加入了。</li>\n<li>step 3：每次递归从头遍历数组，获取数字加入：首先根据 vis 数组，已经加入的元素不能再次加入了；同时，如果当前的元素 num [i] 与同一层的前一个元素 num [i-1] 相同且 num [i-1] 已经用，也不需要将其纳入。</li>\n<li>step 4：进入下一层递归前将 vis 数组当前位置标记为使用过。</li>\n<li>step 5：回溯的时候需要修改 vis 数组当前位置标记，同时去掉刚刚加入数组的元素，</li>\n<li>step 6：临时数组长度到达原数组长度就是一种排列情况。</li>\n</ul>\n<p><strong>图示：</strong></p>\n<p><img data-src=\"https://uploadfiles.nowcoder.com/images/20220216/397721558_1645013679697/A5CBD09507C7283E8AC96D5B211D5320\" alt=\"alt\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 代码中的类名、方法名、参数名已经指定，请勿修改，直接返回方法规定的值即可</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * @param num int整型vector</span></span><br><span class=\"line\"><span class=\"comment\">     * @return int整型vector&lt;vector&lt;&gt;&gt;</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">permuteUnique</span>(vector&lt;<span class=\"type\">int</span>&gt;&amp; num) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// write code here</span></span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; result;</span><br><span class=\"line\">        <span class=\"built_in\">sort</span>(num.<span class=\"built_in\">begin</span>(), num.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">bool</span>&gt; <span class=\"title\">used</span><span class=\"params\">(num.size(),<span class=\"literal\">false</span>)</span></span>;</span><br><span class=\"line\">        function&lt;<span class=\"type\">void</span>(vector&lt;<span class=\"type\">int</span>&gt;)&gt; permute = [&amp;](vector&lt;<span class=\"type\">int</span>&gt;temp)-&gt;<span class=\"type\">void</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (temp.<span class=\"built_in\">size</span>() == num.<span class=\"built_in\">size</span>()) &#123;</span><br><span class=\"line\">                result.<span class=\"built_in\">emplace_back</span>(temp);</span><br><span class=\"line\">                <span class=\"keyword\">return</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; num.<span class=\"built_in\">size</span>(); i++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (used[i]) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(i&gt;<span class=\"number\">0</span> &amp;&amp; num[i<span class=\"number\">-1</span>]==num[i] &amp;&amp; !used[i<span class=\"number\">-1</span>]) <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">                used[i] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">                temp.<span class=\"built_in\">emplace_back</span>(num[i]);</span><br><span class=\"line\">                <span class=\"built_in\">permute</span>(temp);</span><br><span class=\"line\"></span><br><span class=\"line\">                used[i] = <span class=\"literal\">false</span>;</span><br><span class=\"line\">                temp.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; temp;</span><br><span class=\"line\">        <span class=\"built_in\">permute</span>(temp);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"困难\"><a class=\"anchor\" href=\"#困难\">#</a> 困难</h3>\n<h4 id=\"nc6-二叉树中的最大路径和\"><a class=\"anchor\" href=\"#nc6-二叉树中的最大路径和\">#</a> NC6 二叉树中的最大路径和</h4>\n<p>知识点<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubm93Y29kZXIuY29tL2V4YW0vb2o/cGFnZT0xJmFtcDt0YWI9JUU3JUFFJTk3JUU2JUIzJTk1JUU3JUFGJTg3JmFtcDt0b3BpY0lkPTE5Nj90YWc9NTgz\">树</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubm93Y29kZXIuY29tL2V4YW0vb2o/cGFnZT0xJmFtcDt0YWI9JUU3JUFFJTk3JUU2JUIzJTk1JUU3JUFGJTg3JmFtcDt0b3BpY0lkPTE5Nj90YWc9NTA1MQ==\"> dfs</span></p>\n<p>二叉树里面的路径被定义为：从该树的任意节点出发，经过父 =&gt; 子或者子 =&gt; 父的连接，达到任意节点的序列。</p>\n<p>注意:</p>\n<p>1. 同一个节点在一条二叉树路径里中最多出现一次</p>\n<p>2. 一条路径至少包含一个节点，且不一定经过根节点</p>\n<p>给定一个二叉树的根节点 root，请你计算它的最大路径和</p>\n<p>例如：<br>\n给出以下的二叉树，<br>\n<img data-src=\"https://uploadfiles.nowcoder.com/images/20200807/999991351_1596786349381_11531EA9352057ACF47D25928F132E96\" alt=\"img\"><br>\n 最优路径是：2=&gt;1=&gt;3，或者 3=&gt;1=&gt;2，最大路径和 = 2+1+3=6</p>\n<p>数据范围：节点数满足 1≤i≤1051≤<em>n</em>≤105 ，节点上的值满足 ∣∣≤1000∣<em>v<strong>a</strong>l</em>∣≤1000</p>\n<p>要求：空间复杂度 �(1)<em>O</em> (1)，时间复杂度 �(�)<em>O</em>(<em>n</em>)</p>\n<p>示例 1</p>\n<p>输入：</p>\n<figure class=\"highlight dust\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"template-variable\">&#123;1,2,3&#125;</span></span><br></pre></td></tr></table></figure>\n<p>返回值：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">6</span><br></pre></td></tr></table></figure>\n<p>示例</p>\n<p>输入：</p>\n<figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;<span class=\"number\">-20</span>,<span class=\"number\">8</span>,<span class=\"number\">20</span>,#,#,<span class=\"number\">15</span>,<span class=\"number\">6</span>&#125;</span><br></pre></td></tr></table></figure>\n<p>返回值：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">41</span><br></pre></td></tr></table></figure>\n<p>说明：</p>\n<figure class=\"highlight coq\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">其中一条最大路径为:<span class=\"number\">15</span>=&gt;<span class=\"number\">20</span>=&gt;<span class=\"number\">6</span>，路径和为<span class=\"number\">15</span>+<span class=\"number\">20</span>+<span class=\"number\">6</span>=<span class=\"number\">41</span>   </span><br></pre></td></tr></table></figure>\n<p>示例 3</p>\n<p>输入：</p>\n<figure class=\"highlight subunit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;<span class=\"string\">-2</span>,#,<span class=\"string\">-3</span>&#125;    </span><br><span class=\"line\">返回值</span><br><span class=\"line\"><span class=\"string\">-2</span></span><br></pre></td></tr></table></figure>\n<p>算法思想一：递归</p>\n<p>解题思路：</p>\n<p>首先，考虑实现一个简化的函数 <strong>maxGain</strong> (node)，该函数计算二叉树中的一个节点的最大贡献值，具体而言，就是在以该节点为根节点的子树中寻找以该节点为起点的一条路径，使得该路径上的节点值之和最大。<br>\n具体而言，该函数的计算如下。<br>\n空节点的最大贡献值等于 0。<br>\n非空节点的最大贡献值等于节点值与其子节点中的最大贡献值之和（对于叶节点而言，最大贡献值等于节点值）</p>\n<p>例如二叉树：root = [-10,9,20,null,null,15,7]</p>\n<p>叶节点 9、15、7 的最大贡献值分别为 9、15、7。<br>\n得到叶节点的最大贡献值之后，再计算非叶节点的最大贡献值。节点 20 的最大贡献值等于 20+max (15,7)=35，节点 -10 的最大贡献值等于 −10+max (9,35)=25。<br>\n上述计算过程是递归的过程，因此，对根节点调用函数 maxGain，即可得到每个节点的最大贡献值。</p>\n<p>根据函数 maxGain 得到每个节点的最大贡献值之后，如何得到二叉树的最大路径和？对于二叉树中的一个节点，该节点的最大路径和取决于该节点的值与该节点的左右子节点的最大贡献值，如果子节点的最大贡献值为正，则计入该节点的最大路径和，否则不计入该节点的最大路径和。维护一个全局变量 maxSum 存储最大路径和，在递归过程中更新 maxSum 的值，最后得到的 maxSum 的值即为二叉树中的最大路径和。</p>\n<p><strong>图解</strong>：</p>\n<p><img data-src=\"https://uploadfiles.nowcoder.com/images/20210706/889362376_1625558552657/B673751B8180262E6396E8E78FFA1EAD\" alt=\"img\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maxPathSum</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\">   <span class=\"comment\">//    </span></span><br><span class=\"line\">   <span class=\"type\">int</span> result = <span class=\"number\">0</span>,result_n=INT_MIN;</span><br><span class=\"line\">   function&lt;<span class=\"type\">int</span>(TreeNode*)&gt;  maxGain = [&amp;](TreeNode* root)-&gt;<span class=\"type\">int</span>&#123;</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(!root) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">          result_n = <span class=\"built_in\">max</span>(result_n,root-&gt;val);</span><br><span class=\"line\">          <span class=\"type\">int</span> left = <span class=\"built_in\">max</span>(<span class=\"built_in\">maxGain</span>(root-&gt;left),<span class=\"number\">0</span>);</span><br><span class=\"line\">          <span class=\"type\">int</span> right = <span class=\"built_in\">max</span>(<span class=\"built_in\">maxGain</span>(root-&gt;right),<span class=\"number\">0</span>);</span><br><span class=\"line\">          </span><br><span class=\"line\">          <span class=\"type\">int</span> price = root-&gt;val + left + right;</span><br><span class=\"line\">          result = <span class=\"built_in\">max</span>(result,price);</span><br><span class=\"line\">          <span class=\"comment\">// 返回当前节点的最大贡献值，也就是左子树和右子树中的较大值加上本身的节点值</span></span><br><span class=\"line\">          <span class=\"keyword\">return</span> root-&gt;val + <span class=\"built_in\">max</span>(left,right);</span><br><span class=\"line\"></span><br><span class=\"line\">   &#125;;</span><br><span class=\"line\">   <span class=\"built_in\">maxGain</span>(root);</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">// 如果全都是负数，这个result会是0，此时就输出所有节点中，最大的那个</span></span><br><span class=\"line\">    <span class=\"comment\">// result_n 在遍历的时候就记录并维护了每一个节点中最大的那个</span></span><br><span class=\"line\">   <span class=\"keyword\">return</span> result ? result :result_n;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"nc35-编辑距离二\"><a class=\"anchor\" href=\"#nc35-编辑距离二\">#</a> NC35 编辑距离 (二)</h4>\n<p>知识点<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubm93Y29kZXIuY29tL2V4YW0vb2o/cGFnZT0xJmFtcDt0YWI9JUU3JUFFJTk3JUU2JUIzJTk1JUU3JUFGJTg3JmFtcDt0b3BpY0lkPTE5Nj90YWc9NTc5\">字符串</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubm93Y29kZXIuY29tL2V4YW0vb2o/cGFnZT0xJmFtcDt0YWI9JUU3JUFFJTk3JUU2JUIzJTk1JUU3JUFGJTg3JmFtcDt0b3BpY0lkPTE5Nj90YWc9NTkz\">动态规划</span></p>\n<p>描述</p>\n<p>给定两个字符串 str1 和 str2，再给定三个整数 ic，dc 和 rc，分别代表插入、删除和替换一个字符的代价，请输出将 str1 编辑成 str2 的最小代价。</p>\n<p>要求：空间复杂度 O*(<em>n</em>)，时间复杂度 O*(<em>n<strong>l</strong>o<strong>g</strong>n</em>)</p>\n<p>示例 1</p>\n<p>输入：</p>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;abc&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;adc&quot;</span><span class=\"punctuation\">,</span><span class=\"number\">5</span><span class=\"punctuation\">,</span><span class=\"number\">3</span><span class=\"punctuation\">,</span><span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<p>复制</p>\n<p>返回值：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">2</span><br></pre></td></tr></table></figure>\n<p>复制</p>\n<p>示例 2</p>\n<p>输入：</p>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;abc&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;adc&quot;</span><span class=\"punctuation\">,</span><span class=\"number\">5</span><span class=\"punctuation\">,</span><span class=\"number\">3</span><span class=\"punctuation\">,</span><span class=\"number\">100</span></span><br></pre></td></tr></table></figure>\n<p>复制</p>\n<p>返回值：</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">8</span><br></pre></td></tr></table></figure>\n<p>备注：</p>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">1</span>≤∣���<span class=\"number\">1</span>∣,∣���<span class=\"number\">2</span>∣≤<span class=\"number\">50001</span>≤∣str1∣,∣str2∣≤<span class=\"number\">5000</span></span><br><span class=\"line\"><span class=\"attribute\">1</span>≤��,��,��≤<span class=\"number\">100001</span>≤ic,dc,rc≤<span class=\"number\">10000</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 代码中的类名、方法名、参数名已经指定，请勿修改，直接返回方法规定的值即可</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * min edit cost</span></span><br><span class=\"line\"><span class=\"comment\">     * @param str1 string字符串 the string</span></span><br><span class=\"line\"><span class=\"comment\">     * @param str2 string字符串 the string</span></span><br><span class=\"line\"><span class=\"comment\">     * @param ic int整型 insert cost</span></span><br><span class=\"line\"><span class=\"comment\">     * @param dc int整型 delete cost</span></span><br><span class=\"line\"><span class=\"comment\">     * @param rc int整型 replace cost</span></span><br><span class=\"line\"><span class=\"comment\">     * @return int整型</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">minEditCost</span><span class=\"params\">(string str1, string str2, <span class=\"type\">int</span> ic, <span class=\"type\">int</span> dc, <span class=\"type\">int</span> rc)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 动态规划</span></span><br><span class=\"line\">        <span class=\"comment\">// 大致思路： dp[i][j] 表示 str1[0..i] 与 str2[0..j]匹配的话，最少的代价，这样的话可以通过这样来判断当前的代价和之前的代价之间的关系</span></span><br><span class=\"line\">        <span class=\"comment\">// 如果当前最后一位能够匹配 即 str1[i] == str2[j] ,那么当前最小代价就等于dp[i-1][j-1]  </span></span><br><span class=\"line\">        <span class=\"comment\">// 如果当前最后一位不能够匹配的话，那么就有以下几种可能</span></span><br><span class=\"line\">           <span class=\"comment\">// str1[0..i-1] 与 str2[0..j]匹配的最小代价 加上去除最后一位的代价，即 dp[i-1][j] + dc </span></span><br><span class=\"line\">           <span class=\"comment\">// str1[0..i] 与 str2[0..j-1]匹配的最小代价 加上插入最后一位的代价，即 dp[i][j-1] + ic </span></span><br><span class=\"line\">           <span class=\"comment\">// str1[0..i-1] 与 str2[0..j-1]匹配的最小代价 加上替换最后一位的代价，即 dp[i-1][j-1] + rc </span></span><br><span class=\"line\">        <span class=\"comment\">// 然后就是将以上四种可能进行比较，选择最小代价的那个，就是当前dp[i][j] 的最小值</span></span><br><span class=\"line\">        <span class=\"type\">int</span> m = str<span class=\"number\">1.</span><span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"type\">int</span> n = str<span class=\"number\">2.</span><span class=\"built_in\">size</span>();</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">dp</span>(m + <span class=\"number\">1</span> ,<span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n<span class=\"number\">+1</span>));</span><br><span class=\"line\">        <span class=\"comment\">// 初始化dp数组 </span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>;i&lt;m<span class=\"number\">+1</span>;i++)&#123;</span><br><span class=\"line\">            dp[i][<span class=\"number\">0</span>] = dc*i;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j = <span class=\"number\">0</span>;j&lt;n<span class=\"number\">+1</span>;j++)&#123;</span><br><span class=\"line\">            dp[<span class=\"number\">0</span>][j] = ic*j;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 遍历，然后根据事先制定的策略进行打表</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">1</span>;i&lt;m<span class=\"number\">+1</span>;i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j = <span class=\"number\">1</span>;j&lt;n<span class=\"number\">+1</span>;j++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(str1[i<span class=\"number\">-1</span>] == str2[j<span class=\"number\">-1</span>])&#123;</span><br><span class=\"line\">                     dp[i][j] = dp[i<span class=\"number\">-1</span>][j<span class=\"number\">-1</span>];</span><br><span class=\"line\">                &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                     dp[i][j] = dp[i<span class=\"number\">-1</span>][j<span class=\"number\">-1</span>] + rc;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                dp[i][j] = <span class=\"built_in\">min</span>(dp[i<span class=\"number\">-1</span>][j] + dc,<span class=\"built_in\">min</span>(dp[i][j<span class=\"number\">-1</span>] + ic,dp[i][j]));</span><br><span class=\"line\">                </span><br><span class=\"line\">                </span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[m][n];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"nc36-在两个长度相等的排序数组中找到上中位数\"><a class=\"anchor\" href=\"#nc36-在两个长度相等的排序数组中找到上中位数\">#</a> NC36 在两个长度相等的排序数组中找到上中位数</h4>\n<p>知识点<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubm93Y29kZXIuY29tL2V4YW0vb2o/cGFnZT0xJmFtcDt0YWI9JUU3JUFFJTk3JUU2JUIzJTk1JUU3JUFGJTg3JmFtcDt0b3BpY0lkPTE5Nj90YWc9NTc4\">数组</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubm93Y29kZXIuY29tL2V4YW0vb2o/cGFnZT0xJmFtcDt0YWI9JUU3JUFFJTk3JUU2JUIzJTk1JUU3JUFGJTg3JmFtcDt0b3BpY0lkPTE5Nj90YWc9NTA1OA==\">二分</span><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubm93Y29kZXIuY29tL2V4YW0vb2o/cGFnZT0xJmFtcDt0YWI9JUU3JUFFJTk3JUU2JUIzJTk1JUU3JUFGJTg3JmFtcDt0b3BpY0lkPTE5Nj90YWc9NTk0\">分治</span></p>\n<p>描述</p>\n<p>给定两个递增数组 arr1 和 arr2，已知两个数组的长度都为 N，求两个数组中所有数的上中位数。</p>\n<p>上中位数：假设递增序列长度为 n，为第 n/2 个数</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 代码中的类名、方法名、参数名已经指定，请勿修改，直接返回方法规定的值即可</span></span><br><span class=\"line\"><span class=\"comment\">     *</span></span><br><span class=\"line\"><span class=\"comment\">     * find median in two sorted array</span></span><br><span class=\"line\"><span class=\"comment\">     * @param arr1 int整型vector the array1</span></span><br><span class=\"line\"><span class=\"comment\">     * @param arr2 int整型vector the array2</span></span><br><span class=\"line\"><span class=\"comment\">     * @return int整型</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">findMedianinTwoSortedAray</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr1, vector&lt;<span class=\"type\">int</span>&gt;&amp; arr2)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// write code here</span></span><br><span class=\"line\">        <span class=\"type\">int</span> length_arr1 = arr<span class=\"number\">1.</span><span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"type\">int</span> length_arr2 = arr<span class=\"number\">2.</span><span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"type\">int</span> sum_length = length_arr1 + length_arr2;</span><br><span class=\"line\">        function&lt;<span class=\"type\">int</span>(<span class=\"type\">int</span>, <span class=\"type\">int</span>, <span class=\"type\">int</span>, <span class=\"type\">int</span>, <span class=\"type\">int</span>)&gt; findK = [&amp;](<span class=\"type\">int</span> left1, <span class=\"type\">int</span> right1,</span><br><span class=\"line\">        <span class=\"type\">int</span> left2, <span class=\"type\">int</span> right2, <span class=\"type\">int</span> k)-&gt;<span class=\"type\">int</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (left1 &gt; right1) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> arr2[left2 + k - <span class=\"number\">1</span>];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (left2 &gt; right2) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> arr1[left1 + k - <span class=\"number\">1</span>];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 计算两个数组区间的中间位置</span></span><br><span class=\"line\">            <span class=\"type\">int</span> mid1 = left1 + (right1 - left1) / <span class=\"number\">2</span>;</span><br><span class=\"line\">            <span class=\"type\">int</span> mid2 = left2 + (right2 - left2) / <span class=\"number\">2</span>;</span><br><span class=\"line\">            <span class=\"comment\">// 计算中间之前的数字的个数</span></span><br><span class=\"line\">            <span class=\"type\">int</span> Hlength = mid1 - left1 + mid2 - left2 + <span class=\"number\">2</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (arr1[mid1] &lt; arr2[mid2]) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (Hlength &lt;= k) &#123;</span><br><span class=\"line\">                    <span class=\"comment\">// 此时说明寻找的第k个数，不在前面</span></span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"built_in\">findK</span>(mid1 + <span class=\"number\">1</span>, right1, left2, right2, k - (mid1 - left1 + <span class=\"number\">1</span>));</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"built_in\">findK</span>(left1, right1, left2, mid2 - <span class=\"number\">1</span>, k);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (Hlength &lt;= k) &#123;</span><br><span class=\"line\">                    <span class=\"comment\">// 此时说明寻找的第k个数，不在前面</span></span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"built_in\">findK</span>(left1, right1, mid2<span class=\"number\">+1</span>, right2, k - (mid2 - left2 + <span class=\"number\">1</span>));</span><br><span class=\"line\">                &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"built_in\">findK</span>(left1, mid1<span class=\"number\">-1</span>, left2, right2, k);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">         </span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> sum_length%<span class=\"number\">2</span>==<span class=\"number\">0</span>?<span class=\"built_in\">findK</span>(<span class=\"number\">0</span>,length_arr1<span class=\"number\">-1</span>,<span class=\"number\">0</span>,length_arr2<span class=\"number\">-1</span>,sum_length/<span class=\"number\">2</span>):<span class=\"built_in\">findK</span>(<span class=\"number\">0</span>,length_arr1<span class=\"number\">-1</span>,<span class=\"number\">0</span>,length_arr2<span class=\"number\">-1</span>,sum_length/<span class=\"number\">2</span><span class=\"number\">+1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p><strong>python</strong>:</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">findMedianSortedArrays</span>(<span class=\"params\">self, nums1: <span class=\"type\">List</span>[<span class=\"built_in\">int</span>], nums2: <span class=\"type\">List</span>[<span class=\"built_in\">int</span>]</span>) -&gt; <span class=\"built_in\">float</span>:</span><br><span class=\"line\">        <span class=\"comment\">#寻找两个有序数组中第K个数</span></span><br><span class=\"line\">        <span class=\"keyword\">def</span> <span class=\"title function_\">FindKthElm</span>(<span class=\"params\">A:<span class=\"built_in\">list</span>,A_begin:<span class=\"built_in\">int</span>,A_end:<span class=\"built_in\">int</span>,B:<span class=\"built_in\">list</span>,B_begin:<span class=\"built_in\">int</span>,B_end:<span class=\"built_in\">int</span>,k:<span class=\"built_in\">int</span></span>):</span><br><span class=\"line\">            <span class=\"comment\">#如果一个数组中的开始和结束的索引中间没有元素，就返回另一个数组中的第K个数</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> A_begin &gt; A_end:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> B[B_begin+k-<span class=\"number\">1</span>]</span><br><span class=\"line\">            <span class=\"keyword\">if</span> B_begin &gt; B_end:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> A[A_begin+k-<span class=\"number\">1</span>]</span><br><span class=\"line\">            <span class=\"comment\">#先找到两个数组中的中间位置A_mid 和 B_mid</span></span><br><span class=\"line\">            A_mid = A_begin + (A_end - A_begin)//<span class=\"number\">2</span></span><br><span class=\"line\">            B_mid = B_begin + (B_end - B_begin)//<span class=\"number\">2</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">#计算两个有序数组中间位置之前的元素个数，即A_mid 和 B_mid 之前的元素个数之和</span></span><br><span class=\"line\">            halfLen = A_mid - A_begin + B_mid - B_begin + <span class=\"number\">2</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span> A[A_mid] &lt; B[B_mid]:</span><br><span class=\"line\">                <span class=\"comment\">#如果 A[A_mid] &lt; B[B_begin] 的话</span></span><br><span class=\"line\">                <span class=\"comment\"># 此时 halfLen &gt; k B[B_mid：B_end]不可能存在第K个数</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> halfLen &gt; k:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> FindKthElm(A,A_begin,A_end,B,B_begin,B_mid-<span class=\"number\">1</span>,k)</span><br><span class=\"line\">                <span class=\"comment\"># 此时 halfLend &lt;= k 那么 A[A_begin:A_mid]肯定包含在前K个数之中，</span></span><br><span class=\"line\">                <span class=\"comment\"># 所以只用在后面寻找第 k - (A_mid - A_begin + 1) 个就行了</span></span><br><span class=\"line\">                <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> FindKthElm(A,A_mid + <span class=\"number\">1</span>,A_end,B,B_begin,B_end,k - (A_mid - A_begin + <span class=\"number\">1</span>))</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"comment\"># 如果 A[A_mid] &gt; B[B_begin] 的话</span></span><br><span class=\"line\">                <span class=\"comment\"># 此时 halfLen &gt; k A[A_mid：A_end]不可能存在第K个数</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> halfLen &gt; k:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> FindKthElm(A, A_begin, A_mid - <span class=\"number\">1</span>, B, B_begin, B_end, k)</span><br><span class=\"line\">                <span class=\"comment\">#此时 halfLend &lt;= k 那么 B[B_begin:B_mid]肯定包含在前K个数之中，</span></span><br><span class=\"line\">                <span class=\"comment\"># 所以只用在后面寻找第 k - (B_mid - B_begin + 1) 个就行了</span></span><br><span class=\"line\">                <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> FindKthElm(A, A_begin, A_end, B, B_mid + <span class=\"number\">1</span>, B_end, k - (B_mid - B_begin + <span class=\"number\">1</span>))</span><br><span class=\"line\">        m = <span class=\"built_in\">len</span>(nums1)</span><br><span class=\"line\">        n = <span class=\"built_in\">len</span>(nums2)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> FindKthElm(nums1,<span class=\"number\">0</span>,m-<span class=\"number\">1</span>,nums2,<span class=\"number\">0</span>,n-<span class=\"number\">1</span>,(m+n)//<span class=\"number\">2</span> + <span class=\"number\">1</span>) <span class=\"keyword\">if</span> (m + n)%<span class=\"number\">2</span>!=<span class=\"number\">0</span> <span class=\"keyword\">else</span> ( FindKthElm(nums1,<span class=\"number\">0</span>,m-<span class=\"number\">1</span>,nums2,<span class=\"number\">0</span>,n-<span class=\"number\">1</span>,(m+n)//<span class=\"number\">2</span>) +  FindKthElm(nums1,<span class=\"number\">0</span>,m-<span class=\"number\">1</span>,nums2,<span class=\"number\">0</span>,n-<span class=\"number\">1</span>,(m+n)//<span class=\"number\">2</span> + <span class=\"number\">1</span>) ) /<span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"nc82-滑动窗口的最大值\"><a class=\"anchor\" href=\"#nc82-滑动窗口的最大值\">#</a> <strong>NC82</strong> <strong>滑动窗口的最大值</strong></h4>\n<p>给定一个长度为 n 的数组 num 和滑动窗口的大小 size ，找出所有滑动窗口里数值的最大值。</p>\n<p>例如，如果输入数组 {2,3,4,2,6,2,5,1} 及滑动窗口的大小 3，那么一共存在 6 个滑动窗口，他们的最大值分别为 {4,4,6,6,6,5}； 针对数组 {2,3,4,2,6,2,5,1} 的滑动窗口有以下 6 个： {[2,3,4],2,6,2,5,1}， {2,[3,4,2],6,2,5,1}， {2,3,[4,2,6],2,5,1}， {2,3,4,[2,6,2],5,1}， {2,3,4,2,[6,2,5],1}， {2,3,4,2,6,[2,5,1]}。</p>\n<p>窗口大于数组长度或窗口长度为 0 的时候，返回空。</p>\n<p>数据范围： 1≤𝑛≤100001≤<em>n</em>≤10000，0≤𝑠𝑖𝑧𝑒≤100000≤<em>s<strong>i</strong>z**e</em>≤10000，数组中每个元素的值满足 ∣𝑣𝑎𝑙∣≤10000∣<em>v<strong>a</strong>l</em>∣≤10000</p>\n<p>要求：空间复杂度 𝑂(𝑛)<em>O</em>(<em>n</em>)，时间复杂度 𝑂(𝑛)<em>O</em>(<em>n</em>)</p>\n<p>方法一种存在很多大量重复计算，比如说，对于数组，假设我们当前遍历到下标 i，对于下标 i+1 的元素（假设 i 和 i+1 都在同一个窗口），如果比 arr [i] 大，说明了什么？<br>\n如果 arr [i+1] 已经大于了 arr [i], 那么还要 arr [i] 有什么用。就有点 “既生瑜何生亮” 的感觉。<br>\n如果 arr [i+1] &lt; arr [i] 呢？显然 arr [i] 还是需要保留的。为什么呢？<br>\n因为又可以 arr [i] 对于下一个 arr [i+1] 所在的窗口来说，arr [i] 已经失效了。</p>\n<p>假设这里有那么一个容器可以保留上述操作。</p>\n<ol>\n<li>遍历数组的每一个元素，</li>\n<li>如果容器为空，则直接将当前元素加入到容器中。</li>\n<li>如果容器不为空，则让当前元素和容器的最后一个元素比较，如果大于，则将容器的最后一个元素删除，然后继续讲当前元素和容器的最后一个元素比较</li>\n<li>如果当前元素小于容器的最后一个元素，则直接将当前元素加入到容器的末尾</li>\n<li>如果容器头部的元素已经不属于当前窗口的边界，则应该将头部元素删除</li>\n</ol>\n<p>总结一下，首先容器中放的元素应该是单调递减的。然后还有删除容器头部元素和最后一个元素的操作。因此，这样的数据结构就是双端队列。c++ 中就是 <code>deque</code></p>\n<p>如何判断队列中头部的元素是否过期呢？<br>\n这里我们可以存数组的下标，根据下标的比较来判断。比如，当前遍历到下标为 5 的元素，窗口的大小为 3， 显然显然下标为 2 的已经过期了。</p>\n<p>代码如下：</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">maxInWindows</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; num, <span class=\"type\">int</span> size)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// write code here</span></span><br><span class=\"line\">       <span class=\"comment\">// 利用双端队列，并且保证队头元素始终为当前窗口内的最大值</span></span><br><span class=\"line\">       vector&lt;<span class=\"type\">int</span>&gt; res;</span><br><span class=\"line\">       <span class=\"type\">int</span> n = num.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">       <span class=\"keyword\">if</span>(n==<span class=\"number\">0</span> || size == <span class=\"number\">0</span> || size &gt; n)&#123;</span><br><span class=\"line\">         <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       deque&lt;<span class=\"type\">int</span>&gt; que;</span><br><span class=\"line\">       <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i =<span class=\"number\">0</span>;i&lt;n;i++)&#123;</span><br><span class=\"line\">          <span class=\"comment\">// 弹出当前对于最大值没有任何帮助的值</span></span><br><span class=\"line\">          <span class=\"keyword\">while</span>(!que.<span class=\"built_in\">empty</span>() &amp;&amp; num[que.<span class=\"built_in\">back</span>()]&lt;num[i])&#123;</span><br><span class=\"line\">            que.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          que.<span class=\"built_in\">push_back</span>(i);</span><br><span class=\"line\">          <span class=\"comment\">// 判断队列头部的元素的下标是否过期，是否已经不属于当前窗口</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span>(que.<span class=\"built_in\">front</span>() + size&lt;=i)&#123;</span><br><span class=\"line\">            que.<span class=\"built_in\">pop_front</span>();</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(i + <span class=\"number\">1</span> &gt;= size )&#123;</span><br><span class=\"line\">            res.<span class=\"built_in\">push_back</span>(num[que.<span class=\"built_in\">front</span>()]);</span><br><span class=\"line\">          &#125; </span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p>时间复杂度：O (n), 其中 n 为数组大小<br>\n空间复杂度：O (k)，k 为窗口的大小</p>\n<h2 id=\"leetcode题解\"><a class=\"anchor\" href=\"#leetcode题解\">#</a> Leetcode 题解</h2>\n<h3 id=\"简单-2\"><a class=\"anchor\" href=\"#简单-2\">#</a> 简单</h3>\n<h4 id=\"27-移除元素\"><a class=\"anchor\" href=\"#27-移除元素\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9yZW1vdmUtZWxlbWVudC8=\">27. 移除元素</span></h4>\n<p>给你一个数组  <code>nums</code>  和一个值  <code>val</code> ，你需要 <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS8lRTUlOEUlOUYlRTUlOUMlQjAlRTclQUUlOTclRTYlQjMlOTU=\">原地</span></strong> 移除所有数值等于  <code>val</code>  的元素，并返回移除后数组的新长度。</p>\n<p>不要使用额外的数组空间，你必须仅使用  <code>O(1)</code>  额外空间并 <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS8lRTUlOEUlOUYlRTUlOUMlQjAlRTclQUUlOTclRTYlQjMlOTU=\">原地 </span>修改输入数组</strong>。</p>\n<p>元素的顺序可以改变。你不需要考虑数组中超出新长度后面的元素。</p>\n<p><strong>说明:</strong></p>\n<p>为什么返回数值是整数，但输出的答案是数组呢？</p>\n<p>请注意，输入数组是以 **「引用」** 方式传递的，这意味着在函数里修改输入数组对于调用者是可见的。</p>\n<p>你可以想象内部操作如下:</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// nums 是以“引用”方式传递的。也就是说，不对实参作任何拷贝</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"built_in\">len</span> = removeElement(nums, val);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 在函数里修改输入数组对于调用者是可见的。</span></span><br><span class=\"line\"><span class=\"comment\">// 根据你的函数返回的长度, 它会打印出数组中 该长度范围内 的所有元素。</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"built_in\">len</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(nums[i]);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = <span class=\"comment\">[3,2,2,3]</span>, val = 3</span><br><span class=\"line\">输出：2, nums = <span class=\"comment\">[2,2]</span></span><br><span class=\"line\">解释：函数应该返回新的长度 2, 并且 nums 中的前两个元素均为 2。你不需要考虑数组中超出新长度后面的元素。例如，函数返回的新长度为 2 ，而 nums = <span class=\"comment\">[2,2,3,3]</span> 或 nums = <span class=\"comment\">[2,2,0,0]</span>，也会被视作正确答案。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight dns\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = [<span class=\"number\">0,1,2,2</span>,<span class=\"number\">3,0,4,2</span>], val = <span class=\"number\">2</span></span><br><span class=\"line\">输出：<span class=\"number\">5</span>, nums = [<span class=\"number\">0,1,3,0</span>,<span class=\"number\">4</span>]</span><br><span class=\"line\">解释：函数应该返回新的长度 <span class=\"number\">5</span>, 并且 nums 中的前五个元素为 <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">0</span>, <span class=\"number\">4</span>。注意这五个元素可为任意顺序。你不需要考虑数组中超出新长度后面的元素。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>0 &lt;= nums.length &lt;= 100</code></li>\n<li><code>0 &lt;= nums[i] &lt;= 50</code></li>\n<li><code>0 &lt;= val &lt;= 100</code></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">removeElement</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">         <span class=\"type\">int</span> right = nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">         <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;right;)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[i] == val)&#123;</span><br><span class=\"line\">               <span class=\"comment\">//将这个值交换到后面</span></span><br><span class=\"line\">               <span class=\"built_in\">swap</span>(nums[i] , nums[right<span class=\"number\">-1</span>]);</span><br><span class=\"line\">               right--;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(nums[i]!=val) i++;</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> right;    </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"303-区域和检索-数组不可变\"><a class=\"anchor\" href=\"#303-区域和检索-数组不可变\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9yYW5nZS1zdW0tcXVlcnktaW1tdXRhYmxlLw==\">303. 区域和检索 - 数组不可变</span></h4>\n<p>给定一个整数数组   <code>nums</code> ，处理以下类型的多个查询:</p>\n<ol>\n<li>计算索引  <code>left</code>  和  <code>right</code>  （包含  <code>left</code>  和  <code>right</code> ）之间的  <code>nums</code>  元素的 <strong>和</strong> ，其中  <code>left &lt;= right</code></li>\n</ol>\n<p>实现  <code>NumArray</code>  类：</p>\n<ul>\n<li><code>NumArray(int[] nums)</code>  使用数组  <code>nums</code>  初始化对象</li>\n<li><code>int sumRange(int i, int j)</code>  返回数组  <code>nums</code>  中索引  <code>left</code>  和  <code>right</code>  之间的元素的 <strong>总和</strong> ，包含  <code>left</code>  和  <code>right</code>  两点（也就是  <code>nums[left] + nums[left + 1] + ... + nums[right]</code>  )</li>\n</ul>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight subunit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：</span><br><span class=\"line\">[&quot;NumArray&quot;, &quot;sumRange&quot;, &quot;sumRange&quot;, &quot;sumRange&quot;]</span><br><span class=\"line\">[[[<span class=\"string\">-2</span>, 0, 3, <span class=\"string\">-5</span>, 2, <span class=\"string\">-1</span>]], [0, 2], [2, 5], [0, 5]]</span><br><span class=\"line\">输出：</span><br><span class=\"line\">[null, 1, <span class=\"string\">-1</span>, <span class=\"string\">-3</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">解释：</span><br><span class=\"line\">NumArray numArray = new NumArray([<span class=\"string\">-2</span>, 0, 3, <span class=\"string\">-5</span>, 2, <span class=\"string\">-1</span>]);</span><br><span class=\"line\">numArray.sumRange(0, 2); // return 1 ((<span class=\"string\">-2</span>) + 0 + 3)</span><br><span class=\"line\">numArray.sumRange(2, 5); // return <span class=\"string\">-1</span> (3 + (<span class=\"string\">-5</span>) + 2 + (<span class=\"string\">-1</span>)) </span><br><span class=\"line\">numArray.sumRange(0, 5); // return <span class=\"string\">-3</span> ((<span class=\"string\">-2</span>) + 0 + 3 + (<span class=\"string\">-5</span>) + 2 + (<span class=\"string\">-1</span>))</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= nums.length &lt;= 104</code></li>\n<li><code>-105 &lt;= nums[i] &lt;= 105</code></li>\n<li><code>0 &lt;= i &lt;= j &lt; nums.length</code></li>\n<li>最多调用  <code>104</code>  次  <code>sumRange</code>  方法</li>\n</ul>\n<p>一般思路：最朴素的想法是存储数组 nums 的值，每次调用 sumRange 时，通过循环的方法计算数组 nums 从下标 i 到下标 j 范围内的元素和， 由于每次检索的时间和检索的下标范围有关，因此检索的时间复杂度较高，如果检索次数较多，则会超出时间限制。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">NumArray</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; data;</span><br><span class=\"line\">    <span class=\"built_in\">NumArray</span>(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums) &#123;</span><br><span class=\"line\">          </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">sumRange</span><span class=\"params\">(<span class=\"type\">int</span> left, <span class=\"type\">int</span> right)</span> </span>&#123;</span><br><span class=\"line\">       <span class=\"type\">int</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">       <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i= left;i&lt;=right;i++)&#123;</span><br><span class=\"line\">        result += data[i];</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Your NumArray object will be instantiated and called as such:</span></span><br><span class=\"line\"><span class=\"comment\"> * NumArray* obj = new NumArray(nums);</span></span><br><span class=\"line\"><span class=\"comment\"> * int param_1 = obj-&gt;sumRange(left,right);</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br></pre></td></tr></table></figure>\n<p>优化方法：因为是查询密集型，所以尽量优化查询，使得查询复杂度为 O (1) , 考虑到使用前缀和，即在初始化的时候，就按照前缀和的方式进行存储，这样在查询的时候就只用将两个前缀和相减就可以了</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">NumArray</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; sums;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"built_in\">NumArray</span>(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums) &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        sums.<span class=\"built_in\">resize</span>(n + <span class=\"number\">1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">            sums[i + <span class=\"number\">1</span>] = sums[i] + nums[i];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">sumRange</span><span class=\"params\">(<span class=\"type\">int</span> i, <span class=\"type\">int</span> j)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> sums[j + <span class=\"number\">1</span>] - sums[i];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"26-删除有序数组中的重复项\"><a class=\"anchor\" href=\"#26-删除有序数组中的重复项\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9yZW1vdmUtZHVwbGljYXRlcy1mcm9tLXNvcnRlZC1hcnJheS8=\">26. 删除有序数组中的重复项</span></h4>\n<p>给你一个 <strong>非严格递增排列</strong> 的数组  <code>nums</code>  ，请你 **<span class=\"exturl\" data-url=\"aHR0cDovL2JhaWtlLmJhaWR1LmNvbS9pdGVtLyVFNSU4RSU5RiVFNSU5QyVCMCVFNyVBRSU5NyVFNiVCMyU5NQ==\"> 原地</span> ** 删除重复出现的元素，使每个元素 <strong>只出现一次</strong> ，返回删除后数组的新长度。元素的 <strong>相对顺序</strong> 应该保持 <strong>一致</strong> 。然后返回  <code>nums</code>  中唯一元素的个数。</p>\n<p>考虑  <code>nums</code>  的唯一元素的数量为  <code>k</code>  ，你需要做以下事情确保你的题解可以被通过：</p>\n<ul>\n<li>更改数组  <code>nums</code>  ，使  <code>nums</code>  的前  <code>k</code>  个元素包含唯一元素，并按照它们最初在  <code>nums</code>  中出现的顺序排列。 <code>nums</code>  的其余元素与  <code>nums</code>  的大小不重要。</li>\n<li>返回  <code>k</code>  。</li>\n</ul>\n<p><strong>判题标准:</strong></p>\n<p>系统会用下面的代码来测试你的题解:</p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int[] nums <span class=\"operator\">=</span> [...]<span class=\"comment\">; // 输入数组</span></span><br><span class=\"line\">int[] expectedNums <span class=\"operator\">=</span> [...]<span class=\"comment\">; // 长度正确的期望答案</span></span><br><span class=\"line\"></span><br><span class=\"line\">int k <span class=\"operator\">=</span> removeDuplicates(nums)<span class=\"comment\">; // 调用</span></span><br><span class=\"line\"></span><br><span class=\"line\">assert k <span class=\"operator\">=</span><span class=\"operator\">=</span> expectedNums.length<span class=\"comment\">;</span></span><br><span class=\"line\">for (int i <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"comment\">; i &lt; k; i++) &#123;</span></span><br><span class=\"line\">    assert nums[i] <span class=\"operator\">=</span><span class=\"operator\">=</span> expectedNums[i]<span class=\"comment\">;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>如果所有断言都通过，那么您的题解将被 <strong>通过</strong>。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = <span class=\"comment\">[1,1,2]</span></span><br><span class=\"line\">输出：2, nums = <span class=\"comment\">[1,2,_]</span></span><br><span class=\"line\">解释：函数应该返回新的长度 2 ，并且原数组 nums 的前两个元素被修改为 1, 2 。不需要考虑数组中超出新长度后面的元素。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight dns\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = [<span class=\"number\">0,0,1,1</span>,<span class=\"number\">1,2,2,3</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>]</span><br><span class=\"line\">输出：<span class=\"number\">5</span>, nums = [<span class=\"number\">0,1,2,3</span>,<span class=\"number\">4</span>]</span><br><span class=\"line\">解释：函数应该返回新的长度 <span class=\"number\">5</span> ， 并且原数组 nums 的前五个元素被修改为 <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span> 。不需要考虑数组中超出新长度后面的元素。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= nums.length &lt;= 3 * 104</code></li>\n<li><code>-104 &lt;= nums[i] &lt;= 104</code></li>\n<li><code>nums</code>  已按 <strong>非严格递增</strong> 排列</li>\n</ul>\n<p>双指针</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"> <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">removeDuplicates</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> left = <span class=\"number\">0</span> , right = <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(right &lt; nums.<span class=\"built_in\">size</span>())&#123;</span><br><span class=\"line\">           <span class=\"keyword\">if</span>(nums[left]!=nums[right])&#123;</span><br><span class=\"line\">            nums[left + <span class=\"number\">1</span>] = nums[right];</span><br><span class=\"line\">            left ++;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           right ++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> left + <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; nums = &#123;<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>&#125;;</span><br><span class=\"line\">    <span class=\"type\">int</span> length = <span class=\"built_in\">removeDuplicates</span>(nums);</span><br><span class=\"line\">    cout &lt;&lt; length &lt;&lt;endl;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> &amp;n:nums)&#123;</span><br><span class=\"line\">        cout &lt;&lt; n &lt;&lt; <span class=\"string\">&quot; &quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    cout &lt;&lt; endl;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"455-分发饼干\"><a class=\"anchor\" href=\"#455-分发饼干\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9hc3NpZ24tY29va2llcy8=\">455. 分发饼干</span></h4>\n<p>假设你是一位很棒的家长，想要给你的孩子们一些小饼干。但是，每个孩子最多只能给一块饼干。</p>\n<p>对每个孩子  <code>i</code> ，都有一个胃口值  <code>g[i]</code> ，这是能让孩子们满足胃口的饼干的最小尺寸；并且每块饼干  <code>j</code> ，都有一个尺寸  <code>s[j]</code>  。如果  <code>s[j] &gt;= g[i]</code> ，我们可以将这个饼干  <code>j</code>  分配给孩子  <code>i</code>  ，这个孩子会得到满足。你的目标是尽可能满足越多数量的孩子，并输出这个最大数值。</p>\n<p><strong>示例 1:</strong></p>\n<figure class=\"highlight makefile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">输入: g = [1,2,3], s = [1,1]</span></span><br><span class=\"line\"><span class=\"section\">输出: 1</span></span><br><span class=\"line\"><span class=\"section\">解释: </span></span><br><span class=\"line\">你有三个孩子和两块小饼干，3个孩子的胃口值分别是：1,2,3。</span><br><span class=\"line\">虽然你有两块小饼干，由于他们的尺寸都是1，你只能让胃口值是1的孩子满足。</span><br><span class=\"line\">所以你应该输出1。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2:</strong></p>\n<figure class=\"highlight makefile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">输入: g = [1,2], s = [1,2,3]</span></span><br><span class=\"line\"><span class=\"section\">输出: 2</span></span><br><span class=\"line\"><span class=\"section\">解释: </span></span><br><span class=\"line\">你有两个孩子和三块小饼干，2个孩子的胃口值分别是1,2。</span><br><span class=\"line\">你拥有的饼干数量和尺寸都足以让所有孩子满足。</span><br><span class=\"line\">所以你应该输出2.</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= g.length &lt;= 3 * 104</code></li>\n<li><code>0 &lt;= s.length &lt;= 3 * 104</code></li>\n<li><code>1 &lt;= g[i], s[j] &lt;= 231 - 1</code></li>\n</ul>\n<p>思路：先排序（孩子胃口递增排序，饼干也是从小到大排序），然后按照孩子的胃口从小到大，分饼干，如果此时的这块饼干不能满足当下的这个孩子，因为孩子的胃口是从小到大递增排序的，所以之后的孩子肯定也不能满足，所以就可以跳过不访问了，找到满足这个孩子胃口的饼干之后，移除这个饼干，相当于也是跳过，从下一块饼干开始为下一个孩子选择满足他胃口的饼干，如果某个孩子尝试了剩下的所有饼干都没有满足，那么就不用再继续了，因为按照我们的访问顺序和操作原理，已经没有饼干可以选择了</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">findContentChildren</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; g, vector&lt;<span class=\"type\">int</span>&gt;&amp; s)</span> </span>&#123;</span><br><span class=\"line\">     <span class=\"comment\">// 优先用小饼干先去试探，如果小饼干不够了再尝试用更大的饼干</span></span><br><span class=\"line\">     <span class=\"comment\">// 先将两个数组进行排序</span></span><br><span class=\"line\">     <span class=\"built_in\">sort</span>(g.<span class=\"built_in\">begin</span>(),g.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">     <span class=\"built_in\">sort</span>(s.<span class=\"built_in\">begin</span>(),s.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">     <span class=\"comment\">// 按照孩子的胃口从小到大进行满足，如果一个孩子没被满足，那么</span></span><br><span class=\"line\">     <span class=\"comment\">// 后面的所有孩子就都得不到满足</span></span><br><span class=\"line\">     <span class=\"type\">int</span> n = <span class=\"number\">0</span>; <span class=\"comment\">// 记录被满足的孩子数</span></span><br><span class=\"line\">     <span class=\"type\">int</span> g_length = g.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">     <span class=\"type\">int</span> s_length = s.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">     <span class=\"comment\">// 将排好序的饼干放入栈，从大到小放入（即栈顶的饼干是最小的）</span></span><br><span class=\"line\">     stack&lt;<span class=\"type\">int</span>&gt;  myStack;</span><br><span class=\"line\">     <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=s_length<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--)&#123;</span><br><span class=\"line\">          myStack.<span class=\"built_in\">push</span>(s[i]);</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     <span class=\"type\">int</span> top;</span><br><span class=\"line\">     <span class=\"keyword\">while</span>(n &lt; g_length &amp;&amp; !myStack.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">      </span><br><span class=\"line\">          <span class=\"keyword\">while</span>(!myStack.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            top = myStack.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            myStack.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(top &gt;= g[n])&#123;</span><br><span class=\"line\">                <span class=\"comment\">// 如果这个小孩找到满足自己胃口的饼干了，</span></span><br><span class=\"line\">                <span class=\"comment\">// 那么就继续给下一个小孩找</span></span><br><span class=\"line\">                n++;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          </span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> n;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"121-买卖股票的最佳时机\"><a class=\"anchor\" href=\"#121-买卖股票的最佳时机\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9iZXN0LXRpbWUtdG8tYnV5LWFuZC1zZWxsLXN0b2NrLw==\">121. 买卖股票的最佳时机</span></h4>\n<p>给定一个数组  <code>prices</code>  ，它的第  <code>i</code>  个元素  <code>prices[i]</code>  表示一支给定股票第  <code>i</code>  天的价格。</p>\n<p>你只能选择 <strong>某一天</strong> 买入这只股票，并选择在 <strong>未来的某一个不同的日子</strong> 卖出该股票。设计一个算法来计算你所能获取的最大利润。</p>\n<p>返回你可以从这笔交易中获取的最大利润。如果你不能获取任何利润，返回  <code>0</code>  。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：[7,1,5,3,6,4]</span><br><span class=\"line\">输出：5</span><br><span class=\"line\">解释：在第<span class=\"number\"> 2 </span>天（股票价格 = 1）的时候买入，在第<span class=\"number\"> 5 </span>天（股票价格 = 6）的时候卖出，最大利润 = 6-1 =<span class=\"number\"> 5 </span>。</span><br><span class=\"line\">     注意利润不能是 7-1 = 6, 因为卖出价格需要大于买入价格；同时，你不能在买入前卖出股票。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight accesslog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：prices = <span class=\"string\">[7,6,4,3,1]</span></span><br><span class=\"line\">输出：<span class=\"number\">0</span></span><br><span class=\"line\">解释：在这种情况下, 没有交易完成, 所以最大利润为 <span class=\"number\">0</span>。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= prices.length &lt;= 105</code></li>\n<li><code>0 &lt;= prices[i] &lt;= 104</code></li>\n</ul>\n<p><strong>遍历</strong>：在遍历的同时维护最大值</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maxProfit</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; prices)</span> </span>&#123;</span><br><span class=\"line\">       </span><br><span class=\"line\">       <span class=\"type\">int</span> length = prices.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">       <span class=\"keyword\">if</span>(length==<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"type\">int</span> left = <span class=\"number\">0</span>;</span><br><span class=\"line\">       <span class=\"type\">int</span> right = <span class=\"number\">1</span>;</span><br><span class=\"line\">       <span class=\"type\">int</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">       <span class=\"keyword\">while</span>(right&lt;length)&#123;</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(right &lt; length &amp;&amp; prices[right] &gt;= prices[left])&#123;</span><br><span class=\"line\">             result = <span class=\"built_in\">max</span>(result,prices[right]-prices[left]);</span><br><span class=\"line\">             right++;</span><br><span class=\"line\">          &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            left = right;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p><strong>动态规划</strong>：其中 dp [i] 相当于在此时卖出最多能赚多少，如果找到一个在此时卖出能赔的点，那就在此时重新买进，等待下一个卖点，这个过程中不断维护最大值</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maxProfit</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; prices)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> len = prices.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"type\">int</span> result=<span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> * dp = <span class=\"keyword\">new</span> <span class=\"type\">int</span>[len];</span><br><span class=\"line\">        dp[<span class=\"number\">0</span>] =<span class=\"number\">0</span>;</span><br><span class=\"line\">         <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;len;i++)&#123;</span><br><span class=\"line\">                dp[i]  = prices[i]-prices[i<span class=\"number\">-1</span>]+dp[i<span class=\"number\">-1</span>]&lt;<span class=\"number\">0</span> ? <span class=\"number\">0</span>:prices[i]-prices[i<span class=\"number\">-1</span>]+dp[i<span class=\"number\">-1</span>] ;</span><br><span class=\"line\">                result = result&lt;dp[i] ? dp[i] :result;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"705-设计哈希集合\"><a class=\"anchor\" href=\"#705-设计哈希集合\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9kZXNpZ24taGFzaHNldC8=\">705. 设计哈希集合</span></h4>\n<p>不使用任何内建的哈希表库设计一个哈希集合（HashSet）。</p>\n<p>实现  <code>MyHashSet</code>  类：</p>\n<ul>\n<li><code>void add(key)</code>  向哈希集合中插入值  <code>key</code>  。</li>\n<li><code>bool contains(key)</code>  返回哈希集合中是否存在这个值  <code>key</code>  。</li>\n<li><code>void remove(key)</code>  将给定值  <code>key</code>  从哈希集合中删除。如果哈希集合中没有这个值，什么也不做。</li>\n</ul>\n<p><strong>示例：</strong></p>\n<figure class=\"highlight arcade\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：</span><br><span class=\"line\">[<span class=\"string\">&quot;MyHashSet&quot;</span>, <span class=\"string\">&quot;add&quot;</span>, <span class=\"string\">&quot;add&quot;</span>, <span class=\"string\">&quot;contains&quot;</span>, <span class=\"string\">&quot;contains&quot;</span>, <span class=\"string\">&quot;add&quot;</span>, <span class=\"string\">&quot;contains&quot;</span>, <span class=\"string\">&quot;remove&quot;</span>, <span class=\"string\">&quot;contains&quot;</span>]</span><br><span class=\"line\">[[], [<span class=\"number\">1</span>], [<span class=\"number\">2</span>], [<span class=\"number\">1</span>], [<span class=\"number\">3</span>], [<span class=\"number\">2</span>], [<span class=\"number\">2</span>], [<span class=\"number\">2</span>], [<span class=\"number\">2</span>]]</span><br><span class=\"line\">输出：</span><br><span class=\"line\">[<span class=\"literal\">null</span>, <span class=\"literal\">null</span>, <span class=\"literal\">null</span>, <span class=\"literal\">true</span>, <span class=\"literal\">false</span>, <span class=\"literal\">null</span>, <span class=\"literal\">true</span>, <span class=\"literal\">null</span>, <span class=\"literal\">false</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">解释：</span><br><span class=\"line\">MyHashSet myHashSet = <span class=\"keyword\">new</span> MyHashSet();</span><br><span class=\"line\">myHashSet.add(<span class=\"number\">1</span>);      <span class=\"comment\">// set = [1]</span></span><br><span class=\"line\">myHashSet.add(<span class=\"number\">2</span>);      <span class=\"comment\">// set = [1, 2]</span></span><br><span class=\"line\">myHashSet.<span class=\"built_in\">contains</span>(<span class=\"number\">1</span>); <span class=\"comment\">// 返回 True</span></span><br><span class=\"line\">myHashSet.<span class=\"built_in\">contains</span>(<span class=\"number\">3</span>); <span class=\"comment\">// 返回 False ，（未找到）</span></span><br><span class=\"line\">myHashSet.add(<span class=\"number\">2</span>);      <span class=\"comment\">// set = [1, 2]</span></span><br><span class=\"line\">myHashSet.<span class=\"built_in\">contains</span>(<span class=\"number\">2</span>); <span class=\"comment\">// 返回 True</span></span><br><span class=\"line\">myHashSet.remove(<span class=\"number\">2</span>);   <span class=\"comment\">// set = [1]</span></span><br><span class=\"line\">myHashSet.<span class=\"built_in\">contains</span>(<span class=\"number\">2</span>); <span class=\"comment\">// 返回 False ，（已移除）</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>0 &lt;= key &lt;= 106</code></li>\n<li>最多调用  <code>104</code>  次  <code>add</code> 、 <code>remove</code>  和  <code>contains</code></li>\n</ul>\n<p>为了实现哈希集合这一数据结构，有以下几个关键问题需要解决：</p>\n<p>哈希函数：能够将集合中任意可能的元素映射到一个固定范围的整数值，并将该元素存储到整数值对应的地址上。</p>\n<ul>\n<li>\n<p>冲突处理：由于不同元素可能映射到相同的整数值，因此需要在整数值出现「冲突」时，需要进行冲突处理。总的来说，有以下几种策略解决冲突：</p>\n</li>\n<li>\n<p>链地址法：为每个哈希值维护一个链表，并将具有相同哈希值的元素都放入这一链表当中。</p>\n</li>\n<li>\n<p>开放地址法：当发现哈希值 h 处产生冲突时，根据某种策略，从 h 出发找到下一个不冲突的位置。例如，一种最简单的策略是，不断地检查 h+1,h+2,h+3,… 这些整数对应的位置。</p>\n</li>\n<li>\n<p>再哈希法：当发现哈希冲突后，使用另一个哈希函数产生一个新的地址。</p>\n<p>扩容：当哈希表元素过多时，冲突的概率将越来越大，而在哈希表中查询一个元素的效率也会越来越低。因此，需要开辟一块更大的空间，来缓解哈希表中发生的冲突。</p>\n</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyHashSet</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    vector&lt;list&lt;<span class=\"type\">int</span>&gt;&gt; data;</span><br><span class=\"line\">    <span class=\"type\">static</span> <span class=\"type\">const</span> <span class=\"type\">int</span> base = <span class=\"number\">769</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">static</span> <span class=\"type\">int</span> <span class=\"title\">hash</span><span class=\"params\">(<span class=\"type\">int</span> key)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> key % base;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"comment\">/** Initialize your data structure here. */</span></span><br><span class=\"line\">    <span class=\"built_in\">MyHashSet</span>(): <span class=\"built_in\">data</span>(base) &#123;&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">add</span><span class=\"params\">(<span class=\"type\">int</span> key)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> h = <span class=\"built_in\">hash</span>(key);</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span> it = data[h].<span class=\"built_in\">begin</span>(); it != data[h].<span class=\"built_in\">end</span>(); it++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> ((*it) == key) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        data[h].<span class=\"built_in\">push_back</span>(key);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">remove</span><span class=\"params\">(<span class=\"type\">int</span> key)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> h = <span class=\"built_in\">hash</span>(key);</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span> it = data[h].<span class=\"built_in\">begin</span>(); it != data[h].<span class=\"built_in\">end</span>(); it++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> ((*it) == key) &#123;</span><br><span class=\"line\">                data[h].<span class=\"built_in\">erase</span>(it);</span><br><span class=\"line\">                <span class=\"keyword\">return</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">/** Returns true if this set contains the specified element */</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">contains</span><span class=\"params\">(<span class=\"type\">int</span> key)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> h = <span class=\"built_in\">hash</span>(key);</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span> it = data[h].<span class=\"built_in\">begin</span>(); it != data[h].<span class=\"built_in\">end</span>(); it++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> ((*it) == key) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"2739-总行驶距离\"><a class=\"anchor\" href=\"#2739-总行驶距离\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy90b3RhbC1kaXN0YW5jZS10cmF2ZWxlZC8=\">2739. 总行驶距离</span></h4>\n<p>卡车有两个油箱。给你两个整数， <code>mainTank</code>  表示主油箱中的燃料（以升为单位）， <code>additionalTank</code>  表示副油箱中的燃料（以升为单位）。</p>\n<p>该卡车每耗费  <code>1</code>  升燃料都可以行驶  <code>10</code>  km。每当主油箱使用了  <code>5</code>  升燃料时，如果副油箱至少有  <code>1</code>  升燃料，则会将  <code>1</code>  升燃料从副油箱转移到主油箱。</p>\n<p>返回卡车可以行驶的最大距离。</p>\n<p>注意：从副油箱向主油箱注入燃料不是连续行为。这一事件会在每消耗  <code>5</code>  升燃料时突然且立即发生。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：mainTank = 5, additionalTank = 10</span><br><span class=\"line\">输出：60</span><br><span class=\"line\">解释：</span><br><span class=\"line\">在用掉<span class=\"number\"> 5 </span>升燃料后，主油箱中燃料还剩下 (5 -<span class=\"number\"> 5 </span>+ 1) =<span class=\"number\"> 1 </span>升，行驶距离为 50km 。</span><br><span class=\"line\">在用掉剩下的<span class=\"number\"> 1 </span>升燃料后，没有新的燃料注入到主油箱中，主油箱变为空。</span><br><span class=\"line\">总行驶距离为 60km 。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight fix\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">输入：mainTank </span>=<span class=\"string\"> 1, additionalTank = 2</span></span><br><span class=\"line\"><span class=\"string\">输出：10</span></span><br><span class=\"line\"><span class=\"string\">解释：</span></span><br><span class=\"line\"><span class=\"string\">在用掉 1 升燃料后，主油箱变为空。</span></span><br><span class=\"line\"><span class=\"string\">总行驶距离为 10km 。</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= mainTank, additionalTank &lt;= 100</code></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">distanceTraveled</span><span class=\"params\">(<span class=\"type\">int</span> mainTank, <span class=\"type\">int</span> additionalTank)</span> </span>&#123;</span><br><span class=\"line\">       <span class=\"type\">int</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">       <span class=\"type\">int</span> del ;</span><br><span class=\"line\">       <span class=\"keyword\">while</span>(mainTank&gt;<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">          del = <span class=\"built_in\">min</span>(<span class=\"number\">5</span>,mainTank);</span><br><span class=\"line\">          result += <span class=\"number\">10</span>*del;</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(del==<span class=\"number\">5</span> &amp;&amp; additionalTank&gt;=<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">             mainTank -= del - <span class=\"number\">1</span>;</span><br><span class=\"line\">             additionalTank--;</span><br><span class=\"line\">          &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            mainTank -= del;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          </span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"2928-给小朋友们分糖果-i\"><a class=\"anchor\" href=\"#2928-给小朋友们分糖果-i\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9kaXN0cmlidXRlLWNhbmRpZXMtYW1vbmctY2hpbGRyZW4taS8=\">2928. 给小朋友们分糖果 I</span></h4>\n<p>给你两个正整数  <code>n</code>  和  <code>limit</code>  。</p>\n<p>请你将  <code>n</code>  颗糖果分给  <code>3</code>  位小朋友，确保没有任何小朋友得到超过  <code>limit</code>  颗糖果，请你返回满足此条件下的 <strong>总方案数</strong> 。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：n = 5, limit = 2</span><br><span class=\"line\">输出：3</span><br><span class=\"line\">解释：总共有<span class=\"number\"> 3 </span>种方法分配<span class=\"number\"> 5 </span>颗糖果，且每位小朋友的糖果数不超过<span class=\"number\"> 2 </span>：(1, 2, 2) ，(2, 1, 2) 和 (2, 2, 1) 。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：n = 3, limit = 3</span><br><span class=\"line\">输出：10</span><br><span class=\"line\">解释：总共有<span class=\"number\"> 10 </span>种方法分配<span class=\"number\"> 3 </span>颗糖果，且每位小朋友的糖果数不超过<span class=\"number\"> 3 </span>：(0, 0, 3) ，(0, 1, 2) ，(0, 2, 1) ，(0, 3, 0) ，(1, 0, 2) ，(1, 1, 1) ，(1, 2, 0) ，(2, 0, 1) ，(2, 1, 0) 和 (3, 0, 0) 。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= n &lt;= 50</code></li>\n<li><code>1 &lt;= limit &lt;= 50</code></li>\n</ul>\n<p>思路</p>\n<p>枚举第一个小朋友分得 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span> 颗糖果，那么还剩下 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi><mtext>−</mtext><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">n−x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.66666em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mord\">−</span><span class=\"mord mathnormal\">x</span></span></span></span> 颗糖果，此时有两种情况：</p>\n<ul>\n<li>\n<p><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi><mtext>−</mtext><mi>x</mi><mo>&gt;</mo><mi>l</mi><mi>i</mi><mi>m</mi><mi>i</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">n−x&gt;limit</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.66666em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mord\">−</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">t</span></span></span></span>  ，至少有一个小朋友会分得大于 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>i</mi><mi>m</mi><mi>i</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">limit</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">t</span></span></span></span> 颗糖果，此时不存在合法方案。</p>\n</li>\n<li>\n<p><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi><mtext>−</mtext><mi>x</mi><mo>≤</mo><mi>l</mi><mi>i</mi><mi>m</mi><mi>i</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">n−x≤limit</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7719400000000001em;vertical-align:-0.13597em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mord\">−</span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">≤</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">t</span></span></span></span>，对于第二个小朋友来说，至少得分得 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mtext>⁡</mtext><mo stretchy=\"false\">(</mo><mn>0</mn><mo separator=\"true\">,</mo><mi>n</mi><mtext>−</mtext><mi>x</mi><mtext>−</mtext><mi>l</mi><mi>i</mi><mi>m</mi><mi>i</mi><mi>t</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">max⁡(0,n−x−limit)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">x</span><span class=\"mord\">⁡</span><span class=\"mopen\">(</span><span class=\"mord\">0</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mord\">−</span><span class=\"mord mathnormal\">x</span><span class=\"mord\">−</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">t</span><span class=\"mclose\">)</span></span></span></span> 颗糖果，才能保证第三个小朋友分得的糖果不超过 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>l</mi><mi>i</mi><mi>m</mi><mi>i</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">limit</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">t</span></span></span></span> 颗。同时至多能拿到 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi><mi>i</mi><mi>n</mi><mtext>⁡</mtext><mo stretchy=\"false\">(</mo><mi>l</mi><mi>i</mi><mi>m</mi><mi>i</mi><mi>t</mi><mo separator=\"true\">,</mo><mi>n</mi><mtext>−</mtext><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">min⁡(limit,n−x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">n</span><span class=\"mord\">⁡</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">t</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mord\">−</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span></span></span></span> 颗糖果。</p>\n</li>\n</ul>\n<p>对于第二种情况计算出所有的合法方案即可。</p>\n<p>复杂度分析</p>\n<ul>\n<li>\n<p>时间复杂度：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>m</mi><mi>i</mi><mi>n</mi><mtext>⁡</mtext><mo stretchy=\"false\">(</mo><mi>l</mi><mi>i</mi><mi>m</mi><mi>i</mi><mi>t</mi><mo separator=\"true\">,</mo><mi>n</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(min⁡(limit,n))</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">n</span><span class=\"mord\">⁡</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">i</span><span class=\"mord mathnormal\">t</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span><span class=\"mclose\">)</span></span></span></span></p>\n</li>\n<li>\n<p>空间复杂度：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span></p>\n</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">distributeCandies</span><span class=\"params\">(<span class=\"type\">int</span> n, <span class=\"type\">int</span> limit)</span> </span>&#123;</span><br><span class=\"line\">      <span class=\"type\">int</span> ans = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt;= <span class=\"built_in\">min</span>(limit, n); i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (n - i &gt; <span class=\"number\">2</span> * limit) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 因为后两个小朋友分到的糖果具有相互制约和对称的特点，所以第二个小朋友能够分到的糖果的范围即是剩下的 n - i 个糖果产生的可能组合数</span></span><br><span class=\"line\">            ans += <span class=\"built_in\">min</span>(n - i, limit) - <span class=\"built_in\">max</span>(<span class=\"number\">0</span>, n - i - limit) + <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"E:%5Ctypora%E5%9B%BE%E7%89%87%5Cimage-20240601101309353.png\" alt=\"image-20240601101309353\"></p>\n<p><strong>复杂度分析</strong></p>\n<ul>\n<li>时间复杂度：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span>。</li>\n<li>空间复杂度：<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span>。</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">cal</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (x &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> x * (x - <span class=\"number\">1</span>) / <span class=\"number\">2</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">distributeCandies</span><span class=\"params\">(<span class=\"type\">int</span> n, <span class=\"type\">int</span> limit)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">cal</span>(n + <span class=\"number\">2</span>) - <span class=\"number\">3</span> * <span class=\"built_in\">cal</span>(n - limit + <span class=\"number\">1</span>) + <span class=\"number\">3</span> * <span class=\"built_in\">cal</span>(n - (limit + <span class=\"number\">1</span>) * <span class=\"number\">2</span> + <span class=\"number\">2</span>) - <span class=\"built_in\">cal</span>(n - <span class=\"number\">3</span> * (limit + <span class=\"number\">1</span>) + <span class=\"number\">2</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"中等-2\"><a class=\"anchor\" href=\"#中等-2\">#</a> 中等</h3>\n<h4 id=\"2789-合并后数组中的最大元素\"><a class=\"anchor\" href=\"#2789-合并后数组中的最大元素\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9sYXJnZXN0LWVsZW1lbnQtaW4tYW4tYXJyYXktYWZ0ZXItbWVyZ2Utb3BlcmF0aW9ucy8=\">2789. 合并后数组中的最大元素</span></h4>\n<p>给你一个下标从 <strong>0</strong> 开始、由正整数组成的数组  <code>nums</code>  。</p>\n<p>你可以在数组上执行下述操作 <strong>任意</strong> 次：</p>\n<ul>\n<li>选中一个同时满足  <code>0 &lt;= i &lt; nums.length - 1</code>  和  <code>nums[i] &lt;= nums[i + 1]</code>  的整数  <code>i</code>  。将元素  <code>nums[i + 1]</code>  替换为  <code>nums[i] + nums[i + 1]</code>  ，并从数组中删除元素  <code>nums[i]</code>  。</li>\n</ul>\n<p>返回你可以从最终数组中获得的 <strong>最大</strong> 元素的值。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = <span class=\"selector-attr\">[2,3,7,9,3]</span></span><br><span class=\"line\">输出：<span class=\"number\">21</span></span><br><span class=\"line\">解释：我们可以在数组上执行下述操作：</span><br><span class=\"line\">- 选中 <span class=\"selector-tag\">i</span> = <span class=\"number\">0</span> ，得到数组 nums = <span class=\"selector-attr\">[5,7,9,3]</span> 。</span><br><span class=\"line\">- 选中 <span class=\"selector-tag\">i</span> = <span class=\"number\">1</span> ，得到数组 nums = <span class=\"selector-attr\">[5,16,3]</span> 。</span><br><span class=\"line\">- 选中 <span class=\"selector-tag\">i</span> = <span class=\"number\">0</span> ，得到数组 nums = <span class=\"selector-attr\">[21,3]</span> 。</span><br><span class=\"line\">最终数组中的最大元素是 <span class=\"number\">21</span> 。可以证明我们无法获得更大的元素。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = <span class=\"selector-attr\">[5,3,3]</span></span><br><span class=\"line\">输出：<span class=\"number\">11</span></span><br><span class=\"line\">解释：我们可以在数组上执行下述操作：</span><br><span class=\"line\">- 选中 <span class=\"selector-tag\">i</span> = <span class=\"number\">1</span> ，得到数组 nums = <span class=\"selector-attr\">[5,6]</span> 。</span><br><span class=\"line\">- 选中 <span class=\"selector-tag\">i</span> = <span class=\"number\">0</span> ，得到数组 nums = <span class=\"selector-attr\">[11]</span> 。</span><br><span class=\"line\">最终数组中只有一个元素，即 <span class=\"number\">11</span> 。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= nums.length &lt;= 105</code></li>\n<li><code>1 &lt;= nums[i] &lt;= 106</code></li>\n</ul>\n<p><strong>解法：贪心 + 后序遍历</strong></p>\n<p>思路：首先理解题意，题目中的一次替换删除操作，其实是相当于将两个相邻并且非递减的数字进行求和合并。两个数字的和来替换掉原来的两个数字。而经过若干次这样的合并，整个数组的和是不变的。合并后数组中的每个元素，都是原数组的某个子数组的和，并且这些子数组拼接起来能构成整个原数组。为了使数组的最大值最大，我们可以贪心地做尽可能多的合并，直到整个数组都不能进行合并。合并的要求是后面的数字不小于前面的数字，我们就尽可能先合并靠后的数字，使其尽快能大，才能够合并前面的数字。</p>\n<p>我们从后往前倒序遍历一次数组，依次比较两个相邻的元素，如果两个相邻的元素能够合并，就将其合并。如果不能合并，就继续往前判断。因为这样的操作流程，在比较过程中，靠后的数是所有操作流程可能性中能产生的最大值，而靠前的数，是所有操作流程可能性中能产生的最小值。如果在遍历过程中，比较的结果是不能合并，那么其他任何操作流程都无法合并这两个数。如果可以合并，那我们就贪心地合并，因为这样能使接下来的比较中，靠后的数字尽可能大。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">long</span> <span class=\"type\">long</span> <span class=\"title\">maxArrayValue</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 贪心思想，如果让后面的数尽可能大，就能够达到想要的最大数组的值</span></span><br><span class=\"line\">    <span class=\"type\">int</span> length = nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">    <span class=\"type\">long</span> <span class=\"type\">long</span>   result = nums[length - <span class=\"number\">1</span>];</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = length - <span class=\"number\">2</span>;i&gt;=<span class=\"number\">0</span>;i--)&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 如果这个数比前面的大，就合并他，如果没有前面的大，那么他就是没有办法合并的</span></span><br><span class=\"line\">        <span class=\"comment\">// 只能丢掉此时的值，然后从他开始，因为他本身就比后面的大，肯定有更强的实力能</span></span><br><span class=\"line\">        <span class=\"comment\">// 合并更多的，得到更大的值</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(result &gt;= nums[i])&#123;</span><br><span class=\"line\">            result += nums[i];</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            result = nums[i];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; nums =&#123;<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">7</span>,<span class=\"number\">9</span>,<span class=\"number\">3</span>&#125;;</span><br><span class=\"line\">    cout &lt;&lt; <span class=\"built_in\">maxArrayValue</span>(nums) &lt;&lt; endl;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"2684-矩阵中移动的最大次数\"><a class=\"anchor\" href=\"#2684-矩阵中移动的最大次数\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9tYXhpbXVtLW51bWJlci1vZi1tb3Zlcy1pbi1hLWdyaWQv\">2684. 矩阵中移动的最大次数</span></h4>\n<p>给你一个下标从 <strong>0</strong> 开始、大小为  <code>m x n</code>  的矩阵  <code>grid</code>  ，矩阵由若干 <strong>正</strong> 整数组成。</p>\n<p>你可以从矩阵第一列中的 <strong>任一</strong> 单元格出发，按以下方式遍历  <code>grid</code>  ：</p>\n<ul>\n<li>从单元格  <code>(row, col)</code>  可以移动到  <code>(row - 1, col + 1)</code> 、 <code>(row, col + 1)</code>  和  <code>(row + 1, col + 1)</code>  三个单元格中任一满足值 <strong>严格</strong> 大于当前单元格的单元格。</li>\n</ul>\n<p>返回你在矩阵中能够 <strong>移动</strong> 的 <strong>最大</strong> 次数。</p>\n<p><strong>示例 1：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2023/04/11/yetgriddrawio-10.png\" alt=\"img\"></p>\n<figure class=\"highlight livescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：grid = [[<span class=\"number\">2</span>,<span class=\"number\">4</span>,<span class=\"number\">3</span>,<span class=\"number\">5</span>],[<span class=\"number\">5</span>,<span class=\"number\">4</span>,<span class=\"number\">9</span>,<span class=\"number\">3</span>],[<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">2</span>,<span class=\"number\">11</span>],[<span class=\"number\">10</span>,<span class=\"number\">9</span>,<span class=\"number\">13</span>,<span class=\"number\">15</span>]]</span><br><span class=\"line\">输出：<span class=\"number\">3</span></span><br><span class=\"line\">解释：可以从单元格 (<span class=\"number\">0</span>, <span class=\"number\">0</span>) 开始并且按下面的路径移动：</span><br><span class=\"line\">- <span class=\"function\"><span class=\"params\">(<span class=\"number\">0</span>, <span class=\"number\">0</span>)</span> -&gt;</span> (<span class=\"number\">0</span>, <span class=\"number\">1</span>).</span><br><span class=\"line\">- <span class=\"function\"><span class=\"params\">(<span class=\"number\">0</span>, <span class=\"number\">1</span>)</span> -&gt;</span> (<span class=\"number\">1</span>, <span class=\"number\">2</span>).</span><br><span class=\"line\">- <span class=\"function\"><span class=\"params\">(<span class=\"number\">1</span>, <span class=\"number\">2</span>)</span> -&gt;</span> (<span class=\"number\">2</span>, <span class=\"number\">3</span>).</span><br><span class=\"line\">可以证明这是能够移动的最大次数。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：grid = <span class=\"string\">[[3,2,4],[2,1,9],[1,1,7]]</span></span><br><span class=\"line\">输出：<span class=\"number\">0</span></span><br><span class=\"line\">解释：从第一列的任一单元格开始都无法移动。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>m == grid.length</code></li>\n<li><code>n == grid[i].length</code></li>\n<li><code>2 &lt;= m, n &lt;= 1000</code></li>\n<li><code>4 &lt;= m * n &lt;= 105</code></li>\n<li><code>1 &lt;= grid[i][j] &lt;= 106</code></li>\n</ul>\n<p>得加上记忆化搜索</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;functional&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maxMoves_memorySearch</span><span class=\"params\">(vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> m = grid.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"type\">int</span> n = grid[<span class=\"number\">0</span>].<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"comment\">//  这种得加上记忆化搜索的方式，要不会超时，该版本还没有加上记忆化搜索</span></span><br><span class=\"line\">        function&lt;<span class=\"type\">int</span>(<span class=\"type\">int</span>,<span class=\"type\">int</span>)&gt; dfs = [=](<span class=\"type\">int</span> x,<span class=\"type\">int</span> y)-&gt;<span class=\"type\">int</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(y==n<span class=\"number\">-1</span>)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 遍历他从任意一个可以到达的方向的次数的最大值</span></span><br><span class=\"line\">            <span class=\"type\">int</span> res = <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(x&gt;<span class=\"number\">0</span> &amp;&amp; grid[x<span class=\"number\">-1</span>][y<span class=\"number\">+1</span>] &gt; grid[x][y])&#123;</span><br><span class=\"line\">                res = <span class=\"built_in\">max</span>(res,<span class=\"built_in\">dfs</span>(x<span class=\"number\">-1</span>,y<span class=\"number\">+1</span>) + <span class=\"number\">1</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(grid[x][y<span class=\"number\">+1</span>] &gt; grid[x][y])&#123;</span><br><span class=\"line\">                res = <span class=\"built_in\">max</span>(res,<span class=\"built_in\">dfs</span>(x,y<span class=\"number\">+1</span>) + <span class=\"number\">1</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(x&lt;m<span class=\"number\">-1</span> &amp;&amp; grid[x<span class=\"number\">+1</span>][y<span class=\"number\">+1</span>] &gt; grid[x][y])&#123;</span><br><span class=\"line\">                res = <span class=\"built_in\">max</span>(res,<span class=\"built_in\">dfs</span>(x<span class=\"number\">+1</span>,y<span class=\"number\">+1</span>) + <span class=\"number\">1</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">int</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;m;i++)&#123;</span><br><span class=\"line\">             result = <span class=\"built_in\">max</span>(result,<span class=\"built_in\">dfs</span>(i,<span class=\"number\">0</span>));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">         </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>动态规划方式</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;functional&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maxMoves_dp</span><span class=\"params\">(vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> m = grid.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"type\">int</span> n = grid[<span class=\"number\">0</span>].<span class=\"built_in\">size</span>();</span><br><span class=\"line\">         <span class=\"comment\">// 动态规划</span></span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">dp</span>(m,<span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n));</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=n<span class=\"number\">-2</span>;j&gt;=<span class=\"number\">0</span>;j--)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;m;i++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(i&gt;<span class=\"number\">0</span> &amp;&amp; grid[i<span class=\"number\">-1</span>][j<span class=\"number\">+1</span>] &gt; grid[i][j])&#123;</span><br><span class=\"line\">                    dp[i][j]  = <span class=\"built_in\">max</span>(dp[i][j],dp[i<span class=\"number\">-1</span>][j<span class=\"number\">+1</span>] + <span class=\"number\">1</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(grid[i][j<span class=\"number\">+1</span>] &gt; grid[i][j])&#123;</span><br><span class=\"line\">                    dp[i][j] = <span class=\"built_in\">max</span>(dp[i][j],dp[i][j<span class=\"number\">+1</span>] + <span class=\"number\">1</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(i&lt;m<span class=\"number\">-1</span> &amp;&amp; grid[i<span class=\"number\">+1</span>][j<span class=\"number\">+1</span>] &gt; grid[i][j])&#123;</span><br><span class=\"line\">                    dp[i][j] = <span class=\"built_in\">max</span>(dp[i][j],dp[i<span class=\"number\">+1</span>][j<span class=\"number\">+1</span>] + <span class=\"number\">1</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;m;i++)&#123;</span><br><span class=\"line\">            result = <span class=\"built_in\">max</span>(dp[i][<span class=\"number\">0</span>],result);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">         </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"310-最小高度树\"><a class=\"anchor\" href=\"#310-最小高度树\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9taW5pbXVtLWhlaWdodC10cmVlcy8=\">310. 最小高度树</span></h4>\n<p>树是一个无向图，其中任何两个顶点只通过一条路径连接。 换句话说，一个任何没有简单环路的连通图都是一棵树。</p>\n<p>给你一棵包含  <code>n</code>  个节点的树，标记为  <code>0</code>  到  <code>n - 1</code>  。给定数字  <code>n</code>  和一个有  <code>n - 1</code>  条无向边的  <code>edges</code>  列表（每一个边都是一对标签），其中  <code>edges[i] = [ai, bi]</code>  表示树中节点  <code>ai</code>  和  <code>bi</code>  之间存在一条无向边。</p>\n<p>可选择树中任何一个节点作为根。当选择节点  <code>x</code>  作为根节点时，设结果树的高度为  <code>h</code>  。在所有可能的树中，具有最小高度的树（即， <code>min(h)</code> ）被称为 <strong>最小高度树</strong> 。</p>\n<p>请你找到所有的 <strong>最小高度树</strong> 并按 <strong>任意顺序</strong> 返回它们的根节点标签列表。</p>\n<p>树的 <strong>高度</strong> 是指根节点和叶子节点之间最长向下路径上边的数量。</p>\n<p><strong>示例 1：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2020/09/01/e1.jpg\" alt=\"img\"></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：n = 4, edges = <span class=\"comment\">[<span class=\"comment\">[1,0]</span>,<span class=\"comment\">[1,2]</span>,<span class=\"comment\">[1,3]</span>]</span></span><br><span class=\"line\">输出：<span class=\"comment\">[1]</span></span><br><span class=\"line\">解释：如图所示，当根是标签为 1 的节点时，树的高度是 1 ，这是唯一的最小高度树。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2020/09/01/e2.jpg\" alt=\"img\"></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：n = 6, edges = <span class=\"comment\">[<span class=\"comment\">[3,0]</span>,<span class=\"comment\">[3,1]</span>,<span class=\"comment\">[3,2]</span>,<span class=\"comment\">[3,4]</span>,<span class=\"comment\">[5,4]</span>]</span></span><br><span class=\"line\">输出：<span class=\"comment\">[3,4]</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= n &lt;= 2 * 104</code></li>\n<li><code>edges.length == n - 1</code></li>\n<li><code>0 &lt;= ai, bi &lt; n</code></li>\n<li><code>ai != bi</code></li>\n<li>所有  <code>(ai, bi)</code>  互不相同</li>\n<li>给定的输入 <strong>保证</strong> 是一棵树，并且 <strong>不会有重复的边</strong></li>\n</ul>\n<p>思路一：深度优先搜索，每一个节点作为根节点，比较并记录最小高度的根节点，时间复杂度 O (n2) ，不能通过内存</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;queue&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;functional&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 深度优先搜索，基本思路：每一个节点作为根节点，比较并记录最小高度的根节点</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">findMinHeightTrees_dfs</span><span class=\"params\">(<span class=\"type\">int</span> n, vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; edges)</span> </span>&#123;</span><br><span class=\"line\">       vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">edg</span>(n);</span><br><span class=\"line\">       <span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> &amp;e:edges)&#123;</span><br><span class=\"line\">        edg[e[<span class=\"number\">0</span>]].<span class=\"built_in\">push_back</span>(e[<span class=\"number\">1</span>]);</span><br><span class=\"line\">        edg[e[<span class=\"number\">1</span>]].<span class=\"built_in\">push_back</span>(e[<span class=\"number\">0</span>]);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"type\">const</span> <span class=\"type\">int</span> MAX = INT16_MAX;</span><br><span class=\"line\">       vector&lt;<span class=\"type\">int</span>&gt; result;</span><br><span class=\"line\">       <span class=\"type\">int</span> minHight = MAX;</span><br><span class=\"line\">       <span class=\"type\">int</span> height ;</span><br><span class=\"line\">       function&lt;<span class=\"type\">int</span>(<span class=\"type\">int</span>,vector&lt;<span class=\"type\">int</span>&gt;)&gt; dfs = [&amp;](<span class=\"type\">int</span> x,vector&lt;<span class=\"type\">int</span>&gt; tag)-&gt;<span class=\"type\">int</span>&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 循环入栈还还没有遍历计算过的节点</span></span><br><span class=\"line\">            <span class=\"type\">int</span> res = <span class=\"number\">0</span> ;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> &amp;child:edg[x])&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(!tag[child])&#123;</span><br><span class=\"line\">                    tag[child] = <span class=\"number\">1</span>;</span><br><span class=\"line\">                    res = <span class=\"built_in\">max</span>(res,<span class=\"built_in\">dfs</span>(child,tag) + <span class=\"number\">1</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; </span><br><span class=\"line\">            <span class=\"comment\">// 如果没有更新的话，就属于不存在没有遍历过的子节点</span></span><br><span class=\"line\">            <span class=\"comment\">// 这样的话，高度就是0</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">       &#125;;</span><br><span class=\"line\">       <span class=\"comment\">// 遍历寻找任意一个作为根节点的最大高度并记录此时根节点</span></span><br><span class=\"line\">       <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++) &#123;</span><br><span class=\"line\">           <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">tag</span><span class=\"params\">(n)</span></span>;</span><br><span class=\"line\">           tag[i] = <span class=\"number\">1</span>;</span><br><span class=\"line\">           height = <span class=\"built_in\">dfs</span>(i,tag);</span><br><span class=\"line\">           <span class=\"keyword\">if</span>(minHight &lt; height)&#123;</span><br><span class=\"line\">             <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">           &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(minHight &gt; height)&#123;</span><br><span class=\"line\">            minHight = height;</span><br><span class=\"line\">            result.<span class=\"built_in\">clear</span>();</span><br><span class=\"line\">            result.<span class=\"built_in\">push_back</span>(i);</span><br><span class=\"line\">           &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            result.<span class=\"built_in\">push_back</span>(i);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">   <span class=\"type\">int</span> n = <span class=\"number\">6</span>;</span><br><span class=\"line\">   vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; edges = &#123;&#123;<span class=\"number\">3</span>,<span class=\"number\">0</span>&#125;,&#123;<span class=\"number\">3</span>,<span class=\"number\">1</span>&#125;,&#123;<span class=\"number\">3</span>,<span class=\"number\">2</span>&#125;,&#123;<span class=\"number\">3</span>,<span class=\"number\">4</span>&#125;,&#123;<span class=\"number\">5</span>,<span class=\"number\">4</span>&#125;&#125;;</span><br><span class=\"line\">   vector&lt;<span class=\"type\">int</span>&gt; result = <span class=\"built_in\">findMinHeightTrees_dfs</span>(n,edges);</span><br><span class=\"line\">   <span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> &amp;c:result)&#123;</span><br><span class=\"line\">    cout &lt;&lt; c &lt;&lt; <span class=\"string\">&quot; &quot;</span>;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   cout &lt;&lt; endl;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>思路二：广度优先搜索，原理：就是找到最远的路径，路径中间作为根节点，因为能够平分的原因，所以此时树的高度最小，此时最长路径中间节点就是最小高度树的根节点</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;queue&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;functional&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 从指定节点出发寻找距离最远的节点</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">findLongestNode</span><span class=\"params\">(<span class=\"type\">int</span> u, vector&lt;<span class=\"type\">int</span>&gt; &amp; parent, vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; adj)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 得到节点的个数</span></span><br><span class=\"line\">        <span class=\"type\">int</span> n = adj.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"comment\">// 用于广度优先搜索的队列</span></span><br><span class=\"line\">        queue&lt;<span class=\"type\">int</span>&gt; qu;</span><br><span class=\"line\">        <span class=\"comment\">// 访问记录标签</span></span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">bool</span>&gt; <span class=\"title\">visit</span><span class=\"params\">(n)</span></span>;</span><br><span class=\"line\">        <span class=\"comment\">// 将此时的节点入队</span></span><br><span class=\"line\">        qu.<span class=\"built_in\">emplace</span>(u);</span><br><span class=\"line\">        <span class=\"comment\">// 并将此时的访问标签置为True (即表示已经访问过该标签，可避免重复访问)</span></span><br><span class=\"line\">        visit[u] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        <span class=\"comment\">// 初始化最远节点</span></span><br><span class=\"line\">        <span class=\"type\">int</span> node = <span class=\"number\">-1</span>;</span><br><span class=\"line\">  </span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!qu.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 如果队列非空，就取出此时队头元素</span></span><br><span class=\"line\">            <span class=\"type\">int</span> curr = qu.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">            qu.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">            node = curr;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span> &amp; v : adj[curr]) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 遍历寻找该节点的后继节点（没有访问过）</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (!visit[v]) &#123;</span><br><span class=\"line\">                    visit[v] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">                    parent[v] = curr;</span><br><span class=\"line\">                    qu.<span class=\"built_in\">emplace</span>(v);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 广度优先搜索找到距离</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> node;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">findMinHeightTrees</span><span class=\"params\">(<span class=\"type\">int</span> n, vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; edges)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (n == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> &#123;<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 构造图结构</span></span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">adj</span>(n);</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span> &amp; edge : edges) &#123;</span><br><span class=\"line\">            adj[edge[<span class=\"number\">0</span>]].<span class=\"built_in\">emplace_back</span>(edge[<span class=\"number\">1</span>]);</span><br><span class=\"line\">            adj[edge[<span class=\"number\">1</span>]].<span class=\"built_in\">emplace_back</span>(edge[<span class=\"number\">0</span>]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 定义父节点，用来记录路径</span></span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">parent</span><span class=\"params\">(n, <span class=\"number\">-1</span>)</span></span>;</span><br><span class=\"line\">        <span class=\"comment\">/* 找到与节点 0 最远的节点 x */</span></span><br><span class=\"line\">        <span class=\"type\">int</span> x = <span class=\"built_in\">findLongestNode</span>(<span class=\"number\">0</span>, parent, adj);</span><br><span class=\"line\">        <span class=\"comment\">/* 找到与节点 x 最远的节点 y */</span></span><br><span class=\"line\">        <span class=\"type\">int</span> y = <span class=\"built_in\">findLongestNode</span>(x, parent, adj);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/* 求出节点 x 到节点 y 的路径 */</span></span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; path;</span><br><span class=\"line\">        parent[x] = <span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (y != <span class=\"number\">-1</span>) &#123;</span><br><span class=\"line\">            path.<span class=\"built_in\">emplace_back</span>(y);</span><br><span class=\"line\">            y = parent[y];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 找到的x和y是这棵树上最远的两个节点</span></span><br><span class=\"line\">        <span class=\"comment\">// 相距最远两个节点的一半就是最小高度</span></span><br><span class=\"line\">        <span class=\"type\">int</span> m = path.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"comment\">// 根据最长路径上的节点数</span></span><br><span class=\"line\">        <span class=\"comment\">// 如果节点数是偶数的话，最小高度树的根节点就是路径中间那两个</span></span><br><span class=\"line\">        <span class=\"comment\">// 如果节点数是奇数的话，最小高度树的根节点就是路径中间那一个</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (m % <span class=\"number\">2</span> == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> &#123;path[m / <span class=\"number\">2</span> - <span class=\"number\">1</span>], path[m / <span class=\"number\">2</span>]&#125;;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> &#123;path[m / <span class=\"number\">2</span>]&#125;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">   <span class=\"type\">int</span> n = <span class=\"number\">6</span>;</span><br><span class=\"line\">   vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; edges = &#123;&#123;<span class=\"number\">3</span>,<span class=\"number\">0</span>&#125;,&#123;<span class=\"number\">3</span>,<span class=\"number\">1</span>&#125;,&#123;<span class=\"number\">3</span>,<span class=\"number\">2</span>&#125;,&#123;<span class=\"number\">3</span>,<span class=\"number\">4</span>&#125;,&#123;<span class=\"number\">5</span>,<span class=\"number\">4</span>&#125;&#125;;</span><br><span class=\"line\">   vector&lt;<span class=\"type\">int</span>&gt; result = <span class=\"built_in\">findMinHeightTrees_dfs</span>(n,edges);</span><br><span class=\"line\">   <span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> &amp;c:result)&#123;</span><br><span class=\"line\">    cout &lt;&lt; c &lt;&lt; <span class=\"string\">&quot; &quot;</span>;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   cout &lt;&lt; endl;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"80-删除有序数组中的重复项-ii\"><a class=\"anchor\" href=\"#80-删除有序数组中的重复项-ii\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9yZW1vdmUtZHVwbGljYXRlcy1mcm9tLXNvcnRlZC1hcnJheS1paS8=\">80. 删除有序数组中的重复项 II</span></h4>\n<p>给你一个有序数组  <code>nums</code>  ，请你 **<span class=\"exturl\" data-url=\"aHR0cDovL2JhaWtlLmJhaWR1LmNvbS9pdGVtLyVFNSU4RSU5RiVFNSU5QyVCMCVFNyVBRSU5NyVFNiVCMyU5NQ==\"> 原地</span> ** 删除重复出现的元素，使得出现次数超过两次的元素<strong>只出现两次</strong> ，返回删除后数组的新长度。</p>\n<p>不要使用额外的数组空间，你必须在 <strong><span class=\"exturl\" data-url=\"aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS8lRTUlOEUlOUYlRTUlOUMlQjAlRTclQUUlOTclRTYlQjMlOTU=\">原地 </span>修改输入数组</strong> 并在使用 O (1) 额外空间的条件下完成。</p>\n<p><strong>说明：</strong></p>\n<p>为什么返回数值是整数，但输出的答案是数组呢？</p>\n<p>请注意，输入数组是以 **「引用」** 方式传递的，这意味着在函数里修改输入数组对于调用者是可见的。</p>\n<p>你可以想象内部操作如下:</p>\n<figure class=\"highlight go\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// nums 是以“引用”方式传递的。也就是说，不对实参做任何拷贝</span></span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"built_in\">len</span> = removeDuplicates(nums);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 在函数里修改输入数组对于调用者是可见的。</span></span><br><span class=\"line\"><span class=\"comment\">// 根据你的函数返回的长度, 它会打印出数组中 该长度范围内 的所有元素。</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"built_in\">len</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(nums[i]);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight accesslog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = <span class=\"string\">[1,1,1,2,2,3]</span></span><br><span class=\"line\">输出：<span class=\"number\">5</span>, nums = <span class=\"string\">[1,1,2,2,3]</span></span><br><span class=\"line\">解释：函数应返回新长度 length = <span class=\"number\">5</span>, 并且原数组的前五个元素被修改为 <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>。 不需要考虑数组中超出新长度后面的元素。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight dns\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = [<span class=\"number\">0,0,1,1</span>,<span class=\"number\">1,1,2,3</span>,<span class=\"number\">3</span>]</span><br><span class=\"line\">输出：<span class=\"number\">7</span>, nums = [<span class=\"number\">0,0,1,1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">3</span>]</span><br><span class=\"line\">解释：函数应返回新长度 length = <span class=\"number\">7</span>, 并且原数组的前七个元素被修改为 <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">3</span>。不需要考虑数组中超出新长度后面的元素。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= nums.length &lt;= 3 * 104</code></li>\n<li><code>-104 &lt;= nums[i] &lt;= 104</code></li>\n<li><code>nums</code>  已按升序排列</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">removeDuplicates</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> left = <span class=\"number\">0</span> , right = <span class=\"number\">0</span>,step = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(right &lt; nums.<span class=\"built_in\">size</span>())&#123;</span><br><span class=\"line\">            step = <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"comment\">// 循环找到此时的不同的地方</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span>(right &lt; nums.<span class=\"built_in\">size</span>() &amp;&amp; nums[left] == nums[right])&#123;</span><br><span class=\"line\">                right ++;</span><br><span class=\"line\">                step ++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">           <span class=\"keyword\">if</span>(right &lt; nums.<span class=\"built_in\">size</span>())&#123;</span><br><span class=\"line\">             <span class=\"comment\">// 记录此时的right所指的值</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(step&gt;=<span class=\"number\">2</span>)&#123;</span><br><span class=\"line\">                nums[left + <span class=\"number\">2</span>] = nums[right];</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(nums[left + <span class=\"number\">1</span>]!=nums[left])&#123;</span><br><span class=\"line\">                    nums[left + <span class=\"number\">1</span>] = nums[right<span class=\"number\">-1</span>];</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                left +=<span class=\"number\">2</span>;</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                nums[left + <span class=\"number\">1</span>] = nums[right];</span><br><span class=\"line\">                left +=<span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           <span class=\"comment\">// 处理最后一个是两个的情况，因为此时right已经大于nums.size()了，所以得特别处理</span></span><br><span class=\"line\">           <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">           <span class=\"keyword\">if</span>(step&gt;=<span class=\"number\">2</span>)&#123;</span><br><span class=\"line\">                nums[left + <span class=\"number\">1</span>] = nums[right<span class=\"number\">-1</span>];</span><br><span class=\"line\">                left ++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> left + <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"1969-数组元素的最小非零乘积\"><a class=\"anchor\" href=\"#1969-数组元素的最小非零乘积\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9taW5pbXVtLW5vbi16ZXJvLXByb2R1Y3Qtb2YtdGhlLWFycmF5LWVsZW1lbnRzLw==\">1969. 数组元素的最小非零乘积</span></h4>\n<p>给你一个正整数  <code>p</code>  。你有一个下标从 <strong>1</strong> 开始的数组  <code>nums</code>  ，这个数组包含范围  <code>[1, 2p - 1]</code>  内所有整数的二进制形式（两端都 <strong>包含</strong>）。你可以进行以下操作 <strong>任意</strong> 次：</p>\n<ul>\n<li>从  <code>nums</code>  中选择两个元素  <code>x</code>  和  <code>y</code>  。</li>\n<li>选择  <code>x</code>  中的一位与  <code>y</code>  对应位置的位交换。对应位置指的是两个整数 <strong>相同位置</strong> 的二进制位。</li>\n</ul>\n<p>比方说，如果  <code>x = 11***0***1</code>  且  <code>y = 00***1***1</code>  ，交换右边数起第  <code>2</code>  位后，我们得到  <code>x = 11***1***1</code>  和  <code>y = 00***0***1</code>  。</p>\n<p>请你算出进行以上操作 <strong>任意次</strong> 以后， <code>nums</code>  能得到的 <strong>最小非零</strong> 乘积。将乘积对  <code>109 + 7</code>  <strong>取余</strong> 后返回。</p>\n<p>** 注意：** 答案应为取余 <strong>之前</strong> 的最小值。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：p <span class=\"operator\">=</span> <span class=\"number\">1</span></span><br><span class=\"line\">输出：<span class=\"number\">1</span></span><br><span class=\"line\">解释：nums <span class=\"operator\">=</span> [<span class=\"number\">1</span>] 。</span><br><span class=\"line\">只有一个元素，所以乘积为该元素。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：p = 2</span><br><span class=\"line\">输出：6</span><br><span class=\"line\">解释：nums = [01, 10, 11] 。</span><br><span class=\"line\">所有交换要么使乘积变为<span class=\"number\"> 0 </span>，要么乘积与初始乘积相同。</span><br><span class=\"line\">所以，数组乘积<span class=\"number\"> 1 </span>*<span class=\"number\"> 2 </span>*<span class=\"number\"> 3 </span>=<span class=\"number\"> 6 </span>已经是最小值。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：p = 3</span><br><span class=\"line\">输出：1512</span><br><span class=\"line\">解释：nums = [001, 010, 011, 100, 101, 110, 111]</span><br><span class=\"line\">- 第一次操作中，我们交换第二个和第五个元素最左边的数位。</span><br><span class=\"line\">    - 结果数组为 [001, 110, 011, 100, 001, 110, 111] 。</span><br><span class=\"line\">- 第二次操作中，我们交换第三个和第四个元素中间的数位。</span><br><span class=\"line\">    - 结果数组为 [001, 110, 001, 110, 001, 110, 111] 。</span><br><span class=\"line\">数组乘积<span class=\"number\"> 1 </span>*<span class=\"number\"> 6 </span>*<span class=\"number\"> 1 </span>*<span class=\"number\"> 6 </span>*<span class=\"number\"> 1 </span>*<span class=\"number\"> 6 </span>*<span class=\"number\"> 7 </span>=<span class=\"number\"> 1512 </span>是最小乘积。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= p &lt;= 60</code></li>\n</ul>\n<p>计算快速幂的方式 （递归版本）</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">long</span> <span class=\"type\">long</span> <span class=\"title\">binpow</span><span class=\"params\">(<span class=\"type\">long</span> <span class=\"type\">long</span> a, <span class=\"type\">long</span> <span class=\"type\">long</span> b)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (b == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"type\">long</span> <span class=\"type\">long</span> res = <span class=\"built_in\">binpow</span>(a, b / <span class=\"number\">2</span>);</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (b % <span class=\"number\">2</span>)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res * res * a;</span><br><span class=\"line\">  <span class=\"keyword\">else</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> res * res;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>非递归版本</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">long</span> <span class=\"type\">long</span> <span class=\"title\">binpow</span><span class=\"params\">(<span class=\"type\">long</span> <span class=\"type\">long</span> a, <span class=\"type\">long</span> <span class=\"type\">long</span> b)</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"type\">long</span> <span class=\"type\">long</span> res = <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (b &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (b &amp; <span class=\"number\">1</span>) res = res * a;</span><br><span class=\"line\">    a = a * a;</span><br><span class=\"line\">    b &gt;&gt;= <span class=\"number\">1</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>本道题就是，一个简单问题的扩展，就是 abc，按照从小到大排列，可以知道要使减小的更多，应该选择较小的减少</p>\n<p>即 (a-k) bc = abc-kbc   而 ab (c-k) = abc - abk  其中 abk&lt;bck  所以要想减少的多，尽量从较小的数上去减值</p>\n<p>再者，如果增大的话，保证增大的少，应该尽量增大较大的值，即 (a+k) bc = abc + bck   ab (c+k) = abc + abk</p>\n<p>因为 abk &lt; bck 所以要保证乘积增加的尽量少，应尽可能在较大的值进行增加</p>\n<p>综合起来如果一个值减少 k，另一个值增加 k，减少的值尽量从较小的值上去做减法，增加的值尽量在较大的值上做</p>\n<p>因为经过自由组合，可以发现 (a-k) b (c+k) = abc  + b (a-c) k - k2   相比于 (a-k)(b+k) c = abc +c (a-b) k - k2   因为 b (a-c) k &lt; c (a-b) k &lt; 0，所以为了保证更小所以选择 (a-k) b (c+k) 这个组合  ，所以根据贪心可以直接知道本题的答案   (2 ^ p - 1 )・( 2 ^ p - 2) ^ (2 ^ ( p - 1) -1)</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 快速幂算法</span></span><br><span class=\"line\"><span class=\"comment\">// log(n)的时间复杂度计算a的n次方</span></span><br><span class=\"line\"><span class=\"comment\">// 递归公式就是 a</span></span><br><span class=\"line\"><span class=\"type\">long</span> <span class=\"type\">long</span> mod = <span class=\"number\">1e9</span> + <span class=\"number\">7</span>;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">long</span> <span class=\"type\">long</span> <span class=\"title\">binpow</span><span class=\"params\">(<span class=\"type\">long</span> <span class=\"type\">long</span> a,<span class=\"type\">long</span> <span class=\"type\">long</span> b)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//如果当前的幂为0的话就直接输出1</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(b==<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 递归调用，计算右移一位的</span></span><br><span class=\"line\">    <span class=\"type\">long</span> <span class=\"type\">long</span> res = <span class=\"built_in\">binpow</span>(a,b/<span class=\"number\">2</span>);</span><br><span class=\"line\">    <span class=\"comment\">// 如果b是个奇数，说明最后一位是一个1，所以</span></span><br><span class=\"line\">    <span class=\"comment\">// 右移导致丢了一个a,最后再乘上去</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(b%<span class=\"number\">2</span>)</span><br><span class=\"line\">       <span class=\"keyword\">return</span> (res%mod)*(res%mod)%mod*a%mod;</span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">       <span class=\"built_in\">return</span> (res%mod)*(res%mod)%mod;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">minNonZeroProduct</span><span class=\"params\">(<span class=\"type\">int</span> p)</span> </span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">if</span>(p==<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">     <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">   <span class=\"type\">long</span> <span class=\"type\">long</span> x = <span class=\"built_in\">binpow</span>(<span class=\"number\">2</span>,p) - <span class=\"number\">1</span>;</span><br><span class=\"line\">   <span class=\"type\">long</span> <span class=\"type\">long</span> y = (<span class=\"type\">long</span> <span class=\"type\">long</span>)<span class=\"number\">1</span>&lt;&lt;(p<span class=\"number\">-1</span>);</span><br><span class=\"line\">   <span class=\"keyword\">return</span>  <span class=\"built_in\">binpow</span>(x<span class=\"number\">-1</span>,y<span class=\"number\">-1</span>)*x%mod;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    cout &lt;&lt; <span class=\"built_in\">minNonZeroProduct</span>(<span class=\"number\">32</span>) &lt;&lt;endl;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"189-轮转数组\"><a class=\"anchor\" href=\"#189-轮转数组\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9yb3RhdGUtYXJyYXkv\">189. 轮转数组</span></h4>\n<p>给定一个整数数组  <code>nums</code> ，将数组中的元素向右轮转  <code>k</code>  个位置，其中  <code>k</code>  是非负数。</p>\n<p><strong>示例 1:</strong></p>\n<figure class=\"highlight nestedtext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">输入</span><span class=\"punctuation\">:</span> <span class=\"string\">nums = [1,2,3,4,5,6,7], k = 3</span></span><br><span class=\"line\"><span class=\"attribute\">输出</span><span class=\"punctuation\">:</span> <span class=\"string\">[5,6,7,1,2,3,4]</span></span><br><span class=\"line\"><span class=\"attribute\">解释</span><span class=\"punctuation\">:</span></span><br><span class=\"line\"><span class=\"attribute\">向右轮转 1 步</span><span class=\"punctuation\">:</span> <span class=\"string\">[7,1,2,3,4,5,6]</span></span><br><span class=\"line\"><span class=\"attribute\">向右轮转 2 步</span><span class=\"punctuation\">:</span> <span class=\"string\">[6,7,1,2,3,4,5]</span></span><br><span class=\"line\"><span class=\"attribute\">向右轮转 3 步</span><span class=\"punctuation\">:</span> <span class=\"string\">[5,6,7,1,2,3,4]</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 2:</strong></p>\n<figure class=\"highlight subunit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = [<span class=\"string\">-1</span>,<span class=\"string\">-100</span>,3,99], k = 2</span><br><span class=\"line\">输出：[3,99,<span class=\"string\">-1</span>,<span class=\"string\">-100</span>]</span><br><span class=\"line\">解释: </span><br><span class=\"line\">向右轮转 1 步: [99,<span class=\"string\">-1</span>,<span class=\"string\">-100</span>,3]</span><br><span class=\"line\">向右轮转 2 步: [3,99,<span class=\"string\">-1</span>,<span class=\"string\">-100</span>]</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= nums.length &lt;= 105</code></li>\n<li><code>-231 &lt;= nums[i] &lt;= 231 - 1</code></li>\n<li><code>0 &lt;= k &lt;= 105</code></li>\n</ul>\n<p><strong>进阶：</strong></p>\n<ul>\n<li>尽可能想出更多的解决方案，至少有 <strong>三种</strong> 不同的方法可以解决这个问题。</li>\n<li>你可以使用空间复杂度为  <code>O(1)</code>  的 <strong>原地</strong> 算法解决这个问题吗？</li>\n</ul>\n<p><strong>环装替换</strong></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//求解最大公约数</span></span><br><span class=\"line\">   <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">gcd</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span></span>&#123;</span><br><span class=\"line\">       <span class=\"type\">int</span> temp;</span><br><span class=\"line\">       <span class=\"keyword\">while</span>(b)&#123;</span><br><span class=\"line\">           temp = b;</span><br><span class=\"line\">           b = a%b;</span><br><span class=\"line\">           a = temp;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> a;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"comment\">// 求解最小公倍数 </span></span><br><span class=\"line\">   <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">lcm</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b)</span></span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> (a*b)/<span class=\"built_in\">gcd</span>(a,b);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">rotate</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">       <span class=\"type\">int</span> n = nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">       k = k % n;</span><br><span class=\"line\">       <span class=\"type\">int</span> count = <span class=\"built_in\">gcd</span>(k, n);</span><br><span class=\"line\">       <span class=\"keyword\">for</span> (<span class=\"type\">int</span> start = <span class=\"number\">0</span>; start &lt; count; ++start) &#123;</span><br><span class=\"line\">           <span class=\"type\">int</span> current = start;</span><br><span class=\"line\">           <span class=\"type\">int</span> prev = nums[start];</span><br><span class=\"line\">           <span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">               <span class=\"type\">int</span> next = (current + k) % n;</span><br><span class=\"line\">               <span class=\"built_in\">swap</span>(nums[next], prev);</span><br><span class=\"line\">               current = next;</span><br><span class=\"line\">           &#125; <span class=\"keyword\">while</span> (start != current);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"122-买卖股票的最佳时机-ii\"><a class=\"anchor\" href=\"#122-买卖股票的最佳时机-ii\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9iZXN0LXRpbWUtdG8tYnV5LWFuZC1zZWxsLXN0b2NrLWlpLw==\">122. 买卖股票的最佳时机 II</span></h4>\n<p>给你一个整数数组  <code>prices</code>  ，其中  <code>prices[i]</code>  表示某支股票第  <code>i</code>  天的价格。</p>\n<p>在每一天，你可以决定是否购买和 / 或出售股票。你在任何时候 <strong>最多</strong> 只能持有 <strong>一股</strong> 股票。你也可以先购买，然后在 <strong>同一天</strong> 出售。</p>\n<p>返回 <em>你能获得的 <strong>最大</strong> 利润</em> 。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：prices = [7,1,5,3,6,4]</span><br><span class=\"line\">输出：7</span><br><span class=\"line\">解释：在第<span class=\"number\"> 2 </span>天（股票价格 = 1）的时候买入，在第<span class=\"number\"> 3 </span>天（股票价格 = 5）的时候卖出, 这笔交易所能获得利润 =<span class=\"number\"> 5 </span>-<span class=\"number\"> 1 </span>=<span class=\"number\"> 4 </span>。</span><br><span class=\"line\">     随后，在第<span class=\"number\"> 4 </span>天（股票价格 = 3）的时候买入，在第<span class=\"number\"> 5 </span>天（股票价格 = 6）的时候卖出, 这笔交易所能获得利润 =<span class=\"number\"> 6 </span>-<span class=\"number\"> 3 </span>=<span class=\"number\"> 3 </span>。</span><br><span class=\"line\">     总利润为<span class=\"number\"> 4 </span>+<span class=\"number\"> 3 </span>=<span class=\"number\"> 7 </span>。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：prices = [1,2,3,4,5]</span><br><span class=\"line\">输出：4</span><br><span class=\"line\">解释：在第<span class=\"number\"> 1 </span>天（股票价格 = 1）的时候买入，在第<span class=\"number\"> 5 </span>天 （股票价格 = 5）的时候卖出, 这笔交易所能获得利润 =<span class=\"number\"> 5 </span>-<span class=\"number\"> 1 </span>=<span class=\"number\"> 4 </span>。</span><br><span class=\"line\">     总利润为<span class=\"number\"> 4 </span>。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight accesslog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：prices = <span class=\"string\">[7,6,4,3,1]</span></span><br><span class=\"line\">输出：<span class=\"number\">0</span></span><br><span class=\"line\">解释：在这种情况下, 交易无法获得正利润，所以不参与交易可以获得最大利润，最大利润为 <span class=\"number\">0</span> 。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= prices.length &lt;= 3 * 104</code></li>\n<li><code>0 &lt;= prices[i] &lt;= 104</code></li>\n</ul>\n<p>因为交易次数不受限，如果可以把所有的上坡全部收集到，一定是利益最大化的</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maxProfit</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; prices)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span>  length = prices.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"type\">int</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;length<span class=\"number\">-1</span>;i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(prices[i<span class=\"number\">+1</span>]&gt;prices[i])&#123;</span><br><span class=\"line\">                result += prices[i<span class=\"number\">+1</span>] - prices[i];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"518-零钱兑换-ii\"><a class=\"anchor\" href=\"#518-零钱兑换-ii\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9jb2luLWNoYW5nZS1paS8=\">518. 零钱兑换 II</span></h4>\n<p>给你一个整数数组  <code>coins</code>  表示不同面额的硬币，另给一个整数  <code>amount</code>  表示总金额。</p>\n<p>请你计算并返回可以凑成总金额的硬币组合数。如果任何硬币组合都无法凑出总金额，返回  <code>0</code>  。</p>\n<p>假设每一种面额的硬币有无限个。</p>\n<p>题目数据保证结果符合 32 位带符号整数。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight subunit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：amount = 5, coins = [1, 2, 5]</span><br><span class=\"line\">输出：4</span><br><span class=\"line\">解释：有四种方式可以凑成总金额：</span><br><span class=\"line\">5=5</span><br><span class=\"line\">5=2<span class=\"string\">+2</span><span class=\"string\">+1</span></span><br><span class=\"line\">5=2<span class=\"string\">+1</span><span class=\"string\">+1</span><span class=\"string\">+1</span></span><br><span class=\"line\">5=1<span class=\"string\">+1</span><span class=\"string\">+1</span><span class=\"string\">+1</span><span class=\"string\">+1</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：amount = 3, coins = [2]</span><br><span class=\"line\">输出：0</span><br><span class=\"line\">解释：只用面额<span class=\"number\"> 2 </span>的硬币不能凑成总金额<span class=\"number\"> 3 </span>。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight fix\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">输入：amount </span>=<span class=\"string\"> 10, coins = [10] </span></span><br><span class=\"line\"><span class=\"string\">输出：1</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= coins.length &lt;= 300</code></li>\n<li><code>1 &lt;= coins[i] &lt;= 5000</code></li>\n<li><code>coins</code>  中的所有值 <strong>互不相同</strong></li>\n<li><code>0 &lt;= amount &lt;= 5000</code></li>\n</ul>\n<p>动态规划：</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">change</span><span class=\"params\">(<span class=\"type\">int</span> amount, vector&lt;<span class=\"type\">int</span>&gt;&amp; coins)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">dp</span><span class=\"params\">(amount + <span class=\"number\">1</span>)</span></span>;</span><br><span class=\"line\">       dp[<span class=\"number\">0</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\">       <span class=\"keyword\">for</span> (<span class=\"type\">int</span>&amp; coin : coins) &#123;</span><br><span class=\"line\">           <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = coin; i &lt;= amount; i++) &#123;</span><br><span class=\"line\">               dp[i] += dp[i - coin];</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> dp[amount];</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"comment\">// int result = 0;</span></span><br><span class=\"line\">       <span class=\"comment\">// int length = coins.size();</span></span><br><span class=\"line\">       <span class=\"comment\">// function&lt;void(int,int)&gt; chage_bfs = [&amp;](int amount,int k)-&gt;void&#123;</span></span><br><span class=\"line\">       <span class=\"comment\">//     if(amount &lt; 0 )</span></span><br><span class=\"line\">       <span class=\"comment\">//        return;</span></span><br><span class=\"line\">       <span class=\"comment\">//     if(amount == 0)&#123;</span></span><br><span class=\"line\">       <span class=\"comment\">//         result++ ;</span></span><br><span class=\"line\">       <span class=\"comment\">//         return ;</span></span><br><span class=\"line\">       <span class=\"comment\">//     &#125;</span></span><br><span class=\"line\">       <span class=\"comment\">//     for(int i=k;i&lt;length;i++)&#123;</span></span><br><span class=\"line\">       <span class=\"comment\">//         chage_bfs(amount-coins[i],i);</span></span><br><span class=\"line\">       <span class=\"comment\">//     &#125;</span></span><br><span class=\"line\">       <span class=\"comment\">// &#125;;</span></span><br><span class=\"line\">       <span class=\"comment\">// chage_bfs(amount,0);</span></span><br><span class=\"line\">       <span class=\"comment\">// return result;</span></span><br><span class=\"line\"></span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"274-h-指数\"><a class=\"anchor\" href=\"#274-h-指数\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9oLWluZGV4Lw==\">274. H 指数</span></h4>\n<p>给你一个整数数组  <code>citations</code>  ，其中  <code>citations[i]</code>  表示研究者的第  <code>i</code>  篇论文被引用的次数。计算并返回该研究者的 <strong> <code>h</code>  指数</strong>。</p>\n<p>根据维基百科上 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS9oLWluZGV4LzM5OTE0NTI/ZnI9YWxhZGRpbg==\">h 指数的定义</span>： <code>h</code>  代表 “高引用次数” ，一名科研人员的  <code>h</code>  <strong>指数</strong> 是指他（她）至少发表了  <code>h</code>  篇论文，并且 <strong>至少</strong> 有  <code>h</code>  篇论文被引用次数大于等于  <code>h</code>  。如果  <code>h</code>  有多种可能的值，<strong> <code>h</code>  指数</strong> 是其中最大的那个。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：citations = [3,0,6,1,5]</span><br><span class=\"line\">输出：3 </span><br><span class=\"line\">解释：给定数组表示研究者总共有<span class=\"number\"> 5 </span>篇论文，每篇论文相应的被引用了 3, 0, 6, 1,<span class=\"number\"> 5 </span>次。</span><br><span class=\"line\">     由于研究者有<span class=\"number\"> 3 </span>篇论文每篇 至少 被引用了<span class=\"number\"> 3 </span>次，其余两篇论文每篇被引用 不多于<span class=\"number\"> 3 </span>次，所以她的 h 指数是 3。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight fix\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">输入：citations </span>=<span class=\"string\"> [1,3,1]</span></span><br><span class=\"line\"><span class=\"string\">输出：1</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>n == citations.length</code></li>\n<li><code>1 &lt;= n &lt;= 5000</code></li>\n<li><code>0 &lt;= citations[i] &lt;= 1000</code></li>\n</ul>\n<ul>\n<li>先排序，然后从论文引用次数从大到小进行遍历，时间复杂度 o (nlogn)</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">hIndex</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; citations)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> length = citations.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"built_in\">sort</span>(citations.<span class=\"built_in\">begin</span>(),citations.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"type\">int</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(result &lt; length)&#123;</span><br><span class=\"line\">              <span class=\"keyword\">if</span>(citations[length<span class=\"number\">-1</span>-result]&gt;= result + <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                 result++;</span><br><span class=\"line\">              &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                 <span class=\"keyword\">break</span>;</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>用 counter 数组记录论文引用次数等于 i 的论文篇数，引用次数大于总论文篇数的按照总论文篇数计算，然后接着遍历 counter 数组就可以了</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">hIndex</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; citations)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"type\">int</span> n = citations.<span class=\"built_in\">size</span>(), tot = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">counter</span><span class=\"params\">(n + <span class=\"number\">1</span>)</span></span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (citations[i] &gt;= n) &#123;</span><br><span class=\"line\">                counter[n]++;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                counter[citations[i]]++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = n; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">            tot += counter[i];</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (tot &gt;= i) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> i;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"238-除自身以外数组的乘积\"><a class=\"anchor\" href=\"#238-除自身以外数组的乘积\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9wcm9kdWN0LW9mLWFycmF5LWV4Y2VwdC1zZWxmLw==\">238. 除自身以外数组的乘积</span></h4>\n<p>给你一个整数数组  <code>nums</code> ，返回 <em>数组  <code>answer</code>  ，其中  <code>answer[i]</code>  等于  <code>nums</code>  中除  <code>nums[i]</code>  之外其余各元素的乘积</em> 。</p>\n<p>题目数据 <strong>保证</strong> 数组  <code>nums</code>  之中任意元素的全部前缀元素和后缀的乘积都在 <strong>32 位</strong> 整数范围内。</p>\n<p>请 ** 不要使用除法，** 且在  <code>O(*n*)</code>  时间复杂度内完成此题。</p>\n<p><strong>示例 1:</strong></p>\n<figure class=\"highlight dns\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: nums = [<span class=\"number\">1,2,3,4</span>]</span><br><span class=\"line\">输出: [<span class=\"number\">24,12,8,6</span>]</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2:</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: nums = <span class=\"comment\">[-1,1,0,-3,3]</span></span><br><span class=\"line\">输出: <span class=\"comment\">[0,0,9,0,0]</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>2 &lt;= nums.length &lt;= 105</code></li>\n<li><code>-30 &lt;= nums[i] &lt;= 30</code></li>\n<li><strong>保证</strong> 数组  <code>nums</code>  之中任意元素的全部前缀元素和后缀的乘积都在 <strong>32 位</strong> 整数范围内</li>\n</ul>\n<p>** 进阶：** 你可以在  <code>O(1)</code>  的额外空间复杂度内完成这个题目吗？（ 出于对空间复杂度分析的目的，输出数组 <strong>不被视为</strong> 额外空间。）</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">productExceptSelf</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">       <span class=\"comment\">// 用两个数组left 和 right</span></span><br><span class=\"line\">       <span class=\"comment\">// left计算并保存[0....i-1]的 乘积</span></span><br><span class=\"line\">       <span class=\"comment\">// right 计算并保存[i+1....n-1] 的乘积</span></span><br><span class=\"line\">       <span class=\"comment\">// 如果想要除了i位置的其他位置的乘积，就 是 result[i] = left[i] * right[i];</span></span><br><span class=\"line\">       <span class=\"type\">int</span> length = nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">       <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">left</span><span class=\"params\">(length,<span class=\"number\">1</span>)</span></span>;</span><br><span class=\"line\">       <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">right</span><span class=\"params\">(length,<span class=\"number\">1</span>)</span></span>;</span><br><span class=\"line\">       <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">result</span><span class=\"params\">(length)</span></span>;</span><br><span class=\"line\">       <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;length;i++)&#123;</span><br><span class=\"line\">           left[i] = left[i<span class=\"number\">-1</span>]*nums[i<span class=\"number\">-1</span>];</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=length<span class=\"number\">-2</span>;i&gt;=<span class=\"number\">0</span>;i--)&#123;</span><br><span class=\"line\">           right[i] = right[i<span class=\"number\">+1</span>]*nums[i<span class=\"number\">+1</span>];</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;length;i++)&#123;</span><br><span class=\"line\">           result[i] = left[i]*right[i];</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"2580-统计将重叠区间合并成组的方案数\"><a class=\"anchor\" href=\"#2580-统计将重叠区间合并成组的方案数\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9jb3VudC13YXlzLXRvLWdyb3VwLW92ZXJsYXBwaW5nLXJhbmdlcy8=\">2580. 统计将重叠区间合并成组的方案数</span></h4>\n<p>给你一个二维整数数组  <code>ranges</code>  ，其中  <code>ranges[i] = [starti, endi]</code>  表示  <code>starti</code>  到  <code>endi</code>  之间（包括二者）的所有整数都包含在第  <code>i</code>  个区间中。</p>\n<p>你需要将  <code>ranges</code>  分成 <strong>两个</strong> 组（可以为空），满足：</p>\n<ul>\n<li>每个区间只属于一个组。</li>\n<li>两个有 <strong>交集</strong> 的区间必须在 <strong>同一个</strong> 组内。</li>\n</ul>\n<p>如果两个区间有至少 <strong>一个</strong> 公共整数，那么这两个区间是 <strong>有交集</strong> 的。</p>\n<ul>\n<li>比方说，区间  <code>[1, 3]</code>  和  <code>[2, 5]</code>  有交集，因为  <code>2</code>  和  <code>3</code>  在两个区间中都被包含。</li>\n</ul>\n<p>请你返回将  <code>ranges</code>  划分成两个组的 <strong>总方案数</strong> 。由于答案可能很大，将它对  <code>109 + 7</code>  <strong>取余</strong> 后返回。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：ranges = <span class=\"string\">[[6,10],[5,15]]</span></span><br><span class=\"line\">输出：<span class=\"number\">2</span></span><br><span class=\"line\">解释：</span><br><span class=\"line\">两个区间有交集，所以它们必须在同一个组内。</span><br><span class=\"line\">所以有两种方案：</span><br><span class=\"line\">- 将两个区间都放在第 <span class=\"number\">1</span> 个组中。</span><br><span class=\"line\">- 将两个区间都放在第 <span class=\"number\">2</span> 个组中。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：ranges = <span class=\"comment\">[<span class=\"comment\">[1,3]</span>,<span class=\"comment\">[10,20]</span>,<span class=\"comment\">[2,5]</span>,<span class=\"comment\">[4,8]</span>]</span></span><br><span class=\"line\">输出：4</span><br><span class=\"line\">解释：</span><br><span class=\"line\">区间 <span class=\"comment\">[1,3]</span> 和 <span class=\"comment\">[2,5]</span> 有交集，所以它们必须在同一个组中。</span><br><span class=\"line\">同理，区间 <span class=\"comment\">[2,5]</span> 和 <span class=\"comment\">[4,8]</span> 也有交集，所以它们也必须在同一个组中。</span><br><span class=\"line\">所以总共有 4 种分组方案：</span><br><span class=\"line\">- 所有区间都在第 1 组。</span><br><span class=\"line\">- 所有区间都在第 2 组。</span><br><span class=\"line\">- 区间 <span class=\"comment\">[1,3]</span> ，<span class=\"comment\">[2,5]</span> 和 <span class=\"comment\">[4,8]</span> 在第 1 个组中，<span class=\"comment\">[10,20]</span> 在第 2 个组中。</span><br><span class=\"line\">- 区间 <span class=\"comment\">[1,3]</span> ，<span class=\"comment\">[2,5]</span> 和 <span class=\"comment\">[4,8]</span> 在第 2 个组中，<span class=\"comment\">[10,20]</span> 在第 1 个组中。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= ranges.length &lt;= 105</code></li>\n<li><code>ranges[i].length == 2</code></li>\n<li><code>0 &lt;= starti &lt;= endi &lt;= 109</code></li>\n</ul>\n<p>题目要求我们将一组区间分成两组，其中有交集的区间必须在同一组。因此，首先将有交集的区间合并一个集合，集合与集合之间不存在有交集的区间，因此每个集合可以选择分到第一组还是第二组。如果最终得到 k 个集合，那么方案数就是<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>2</mn><mi>k</mi></msup></mrow><annotation encoding=\"application/x-tex\">2^k</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.849108em;vertical-align:0em;\"></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.849108em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03148em;\">k</span></span></span></span></span></span></span></span></span></span></span></p>\n<p>我们首先按照左端点从小到大对区间进行排序，然后对于第 i 个区间，不断的向右扩展与它有交集的区间，令<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>e</mi><mi>s</mi><mo stretchy=\"false\">[</mo><mi>i</mi><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">[</mo><mn>1</mn><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">r=ranges[i][1]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">s</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\">i</span><span class=\"mclose\">]</span><span class=\"mopen\">[</span><span class=\"mord\">1</span><span class=\"mclose\">]</span></span></span></span>,<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span> 是当前右端点，过程中还需要不断地更新右端点，直到下一个区间不再与之相交为止，具体来说，<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>j</mi><mo>=</mo><mi>i</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">j=i+1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.85396em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.74285em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.64444em;vertical-align:0em;\"></span><span class=\"mord\">1</span></span></span></span>，当<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>j</mi><mo>&lt;</mo><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">j&lt;n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.85396em;vertical-align:-0.19444em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">n</span></span></span></span>, 并且<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>e</mi><mi>s</mi><mo stretchy=\"false\">[</mo><mi>j</mi><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">[</mo><mn>0</mn><mo stretchy=\"false\">]</mo><mo>&lt;</mo><mo>=</mo><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">ranges[j][0]&lt;=r</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">s</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">]</span><span class=\"mopen\">[</span><span class=\"mord\">0</span><span class=\"mclose\">]</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.36687em;vertical-align:0em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span></span></span></span> 时，就继续合并第 j 个区间，更新<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy=\"false\">(</mo><mi>r</mi><mo separator=\"true\">,</mo><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>e</mi><mi>s</mi><mo stretchy=\"false\">[</mo><mi>j</mi><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">[</mo><mn>1</mn><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">r=max(r,ranges[j][1])</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">m</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">x</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathnormal\">a</span><span class=\"mord mathnormal\">n</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mord mathnormal\">e</span><span class=\"mord mathnormal\">s</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">]</span><span class=\"mopen\">[</span><span class=\"mord\">1</span><span class=\"mclose\">]</span><span class=\"mclose\">)</span></span></span></span>，然后令 j 加 1, 当条件不满足时，k 增加  1。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">static</span> <span class=\"keyword\">constexpr</span> <span class=\"type\">int</span> mod = <span class=\"number\">1e9</span> + <span class=\"number\">7</span>;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">countWays</span><span class=\"params\">(vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; ranges)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">sort</span>(ranges.<span class=\"built_in\">begin</span>(), ranges.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"type\">int</span> n = ranges.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"type\">long</span> <span class=\"type\">long</span> res = <span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n; ) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> r = ranges[i][<span class=\"number\">1</span>];</span><br><span class=\"line\">            <span class=\"type\">int</span> j = i + <span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> (j &lt; n &amp;&amp; ranges[j][<span class=\"number\">0</span>] &lt;= r) &#123;</span><br><span class=\"line\">                r = <span class=\"built_in\">max</span>(r, ranges[j][<span class=\"number\">1</span>]);</span><br><span class=\"line\">                j++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            res = res * <span class=\"number\">2</span> % mod;</span><br><span class=\"line\">            i = j;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// int countWays(vector&lt;vector&lt;int&gt;&gt;&amp; ranges) &#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//   long long  mod = 1e9 + 7;</span></span><br><span class=\"line\">    <span class=\"comment\">//   int result = 2;</span></span><br><span class=\"line\">    <span class=\"comment\">//   int k = 0;</span></span><br><span class=\"line\">    <span class=\"comment\">//   function&lt;bool(vector&lt;int&gt;,vector&lt;int&gt;)&gt; cmp = [=](vector&lt;int&gt; a,vector&lt;int&gt; b )-&gt;bool&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//         if(a[0]!=b[0])</span></span><br><span class=\"line\">    <span class=\"comment\">//            return a[0] &lt; b[0];</span></span><br><span class=\"line\">    <span class=\"comment\">//         else</span></span><br><span class=\"line\">    <span class=\"comment\">//            return a[1] &lt; b[1];</span></span><br><span class=\"line\">    <span class=\"comment\">//       &#125;;</span></span><br><span class=\"line\">    <span class=\"comment\">//       sort(ranges.begin(),ranges.end(),cmp);</span></span><br><span class=\"line\">    <span class=\"comment\">//       int length = ranges.size();</span></span><br><span class=\"line\">    <span class=\"comment\">//       for(int i = 0;i&lt;length-1;)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//         if(ranges[i][1] &gt;= ranges[i+1][0])&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//             if(ranges[i][1] &lt; ranges[i+1][1])&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 ranges[i][1] = ranges[i+1][1];</span></span><br><span class=\"line\">    <span class=\"comment\">//             &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//             ranges.erase(ranges.begin() + i + 1);</span></span><br><span class=\"line\">    <span class=\"comment\">//             length--;</span></span><br><span class=\"line\">    <span class=\"comment\">//         &#125;else&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//             i++;</span></span><br><span class=\"line\">    <span class=\"comment\">//             result = result*2%mod;</span></span><br><span class=\"line\">    <span class=\"comment\">//         &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//       &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//     //   for(auto range:ranges)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//     //     for(auto r:range)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//     //         cout &lt;&lt; r &lt;&lt; &quot; &quot;;</span></span><br><span class=\"line\">    <span class=\"comment\">//     //     &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//     //     cout &lt;&lt;endl;</span></span><br><span class=\"line\">    <span class=\"comment\">//     //   &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//     //   cout &lt;&lt; length &lt;&lt; endl;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//     // // 计算大数幂</span></span><br><span class=\"line\">    <span class=\"comment\">//     //   function&lt;long long(long long ,long long)&gt; big_min = [&amp;](long long  a,long long  b)-&gt;long long &#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//     //     if(b==0) return 1;</span></span><br><span class=\"line\">    <span class=\"comment\">//     //     int res = big_min(a,b/2);</span></span><br><span class=\"line\">            </span><br><span class=\"line\">    <span class=\"comment\">//     //     if(b%2) </span></span><br><span class=\"line\">    <span class=\"comment\">//     //            return (res%mod)*(res%mod)%mod*a%mod;</span></span><br><span class=\"line\">    <span class=\"comment\">//     //     else </span></span><br><span class=\"line\">    <span class=\"comment\">//     //             return (res%mod*res%mod)%mod;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//     //   &#125;;</span></span><br><span class=\"line\">         </span><br><span class=\"line\">    <span class=\"comment\">//     //   int   result = big_min(2,length)%mod;</span></span><br><span class=\"line\">    <span class=\"comment\">//       return result;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// &#125;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"380-o1-时间插入-删除和获取随机元素\"><a class=\"anchor\" href=\"#380-o1-时间插入-删除和获取随机元素\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9pbnNlcnQtZGVsZXRlLWdldHJhbmRvbS1vMS8=\">380. O (1) 时间插入、删除和获取随机元素</span></h4>\n<p>实现 <code>RandomizedSet</code>  类：</p>\n<ul>\n<li><code>RandomizedSet()</code>  初始化  <code>RandomizedSet</code>  对象</li>\n<li><code>bool insert(int val)</code>  当元素  <code>val</code>  不存在时，向集合中插入该项，并返回  <code>true</code>  ；否则，返回  <code>false</code>  。</li>\n<li><code>bool remove(int val)</code>  当元素  <code>val</code>  存在时，从集合中移除该项，并返回  <code>true</code>  ；否则，返回  <code>false</code>  。</li>\n<li><code>int getRandom()</code>  随机返回现有集合中的一项（测试用例保证调用此方法时集合中至少存在一个元素）。每个元素应该有 <strong>相同的概率</strong> 被返回。</li>\n</ul>\n<p>你必须实现类的所有函数，并满足每个函数的 <strong>平均</strong> 时间复杂度为  <code>O(1)</code>  。</p>\n<p><strong>示例：</strong></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入</span><br><span class=\"line\">[<span class=\"string\">&quot;RandomizedSet&quot;</span>, <span class=\"string\">&quot;insert&quot;</span>, <span class=\"string\">&quot;remove&quot;</span>, <span class=\"string\">&quot;insert&quot;</span>, <span class=\"string\">&quot;getRandom&quot;</span>, <span class=\"string\">&quot;remove&quot;</span>, <span class=\"string\">&quot;insert&quot;</span>, <span class=\"string\">&quot;getRandom&quot;</span>]</span><br><span class=\"line\"><span class=\"string\">[[], [1], [2], [2], [], [1], [2], []]</span></span><br><span class=\"line\">输出</span><br><span class=\"line\">[null, <span class=\"literal\">true</span>, <span class=\"literal\">false</span>, <span class=\"literal\">true</span>, <span class=\"number\">2</span>, <span class=\"literal\">true</span>, <span class=\"literal\">false</span>, <span class=\"number\">2</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">解释</span><br><span class=\"line\">RandomizedSet randomizedSet = new RandomizedSet();</span><br><span class=\"line\">randomizedSet.<span class=\"built_in\">insert</span>(<span class=\"number\">1</span>); // 向集合中插入 <span class=\"number\">1</span> 。返回 <span class=\"literal\">true</span> 表示 <span class=\"number\">1</span> 被成功地插入。</span><br><span class=\"line\">randomizedSet.<span class=\"built_in\">remove</span>(<span class=\"number\">2</span>); // 返回 <span class=\"literal\">false</span> ，表示集合中不存在 <span class=\"number\">2</span> 。</span><br><span class=\"line\">randomizedSet.<span class=\"built_in\">insert</span>(<span class=\"number\">2</span>); // 向集合中插入 <span class=\"number\">2</span> 。返回 <span class=\"literal\">true</span> 。集合现在包含 [<span class=\"number\">1</span>,<span class=\"number\">2</span>] 。</span><br><span class=\"line\">randomizedSet.getRandom(); // getRandom 应随机返回 <span class=\"number\">1</span> 或 <span class=\"number\">2</span> 。</span><br><span class=\"line\">randomizedSet.<span class=\"built_in\">remove</span>(<span class=\"number\">1</span>); // 从集合中移除 <span class=\"number\">1</span> ，返回 <span class=\"literal\">true</span> 。集合现在包含 [<span class=\"number\">2</span>] 。</span><br><span class=\"line\">randomizedSet.<span class=\"built_in\">insert</span>(<span class=\"number\">2</span>); // <span class=\"number\">2</span> 已在集合中，所以返回 <span class=\"literal\">false</span> 。</span><br><span class=\"line\">randomizedSet.getRandom(); // 由于 <span class=\"number\">2</span> 是集合中唯一的数字，getRandom 总是返回 <span class=\"number\">2</span> 。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>-231 &lt;= val &lt;= 231 - 1</code></li>\n<li>最多调用  <code>insert</code> 、 <code>remove</code>  和  <code>getRandom</code>  函数  <code>2 * ``105</code>  次</li>\n<li>在调用  <code>getRandom</code>  方法时，数据结构中 <strong>至少存在一个</strong> 元素。</li>\n</ul>\n<p>这道题要求实现一个类，满足插入、删除和获取随机元素操作的平均时间复杂度为 O (1) O (1) O (1)。</p>\n<p>变长数组可以在 O (1) 的时间内完成获取随机元素操作，但是由于无法在 O (1) 的时间内判断元素是否存在，因此不能在 O (1) 的时间内完成插入和删除操作。哈希表可以在 O (1) 的时间内完成插入和删除操作，但是由于无法根据下标定位到特定元素，因此不能在 O (1) 的时间内完成获取随机元素操作。为了满足插入、删除和获取随机元素操作的时间复杂度都是 O (1)，需要将变长数组和哈希表结合，变长数组中存储元素，哈希表中存储每个元素在变长数组中的下标。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">RandomizedSet</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"built_in\">RandomizedSet</span>() &#123;</span><br><span class=\"line\">      <span class=\"built_in\">srand</span>((<span class=\"type\">unsigned</span>)<span class=\"built_in\">time</span>(<span class=\"literal\">NULL</span>));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">insert</span><span class=\"params\">(<span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">       <span class=\"comment\">// 先判断字典中是否有这个数据</span></span><br><span class=\"line\">       <span class=\"keyword\">if</span>(index.<span class=\"built_in\">count</span>(val))&#123;</span><br><span class=\"line\">         <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">       &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">          <span class=\"type\">int</span> length = data.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">          data.<span class=\"built_in\">push_back</span>(val);</span><br><span class=\"line\">          index[val] = length;</span><br><span class=\"line\">          <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">remove</span><span class=\"params\">(<span class=\"type\">int</span> val)</span> </span>&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(!index.<span class=\"built_in\">count</span>(val))&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">      &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 获取该数字的索引</span></span><br><span class=\"line\">        <span class=\"type\">int</span> i = index[val];</span><br><span class=\"line\">        <span class=\"comment\">// 获取数组中最后一个位置的值</span></span><br><span class=\"line\">        <span class=\"type\">int</span> last = data.<span class=\"built_in\">back</span>();</span><br><span class=\"line\">        <span class=\"comment\">// 然后将该位置替换成最后一个值</span></span><br><span class=\"line\">        <span class=\"comment\">// 这样做不会破坏其他位置的索引位置</span></span><br><span class=\"line\">        data[i] = last;</span><br><span class=\"line\">        data.<span class=\"built_in\">pop_back</span>();  <span class=\"comment\">// 弹出最后一个值</span></span><br><span class=\"line\">        <span class=\"comment\">// 更新字典</span></span><br><span class=\"line\">        index[last] = i;</span><br><span class=\"line\">        index.<span class=\"built_in\">erase</span>(val);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">getRandom</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> randomInt = <span class=\"built_in\">rand</span>() % data.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> data[randomInt];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">private</span>: </span><br><span class=\"line\">      vector&lt;<span class=\"type\">int</span>&gt; data;</span><br><span class=\"line\">      unordered_map&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt;  index;</span><br><span class=\"line\">      </span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Your RandomizedSet object will be instantiated and called as such:</span></span><br><span class=\"line\"><span class=\"comment\"> * RandomizedSet* obj = new RandomizedSet();</span></span><br><span class=\"line\"><span class=\"comment\"> * bool param_1 = obj-&gt;insert(val);</span></span><br><span class=\"line\"><span class=\"comment\"> * bool param_2 = obj-&gt;remove(val);</span></span><br><span class=\"line\"><span class=\"comment\"> * int param_3 = obj-&gt;getRandom();</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"134-加油站\"><a class=\"anchor\" href=\"#134-加油站\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9nYXMtc3RhdGlvbi8=\">134. 加油站</span></h4>\n<p>在一条环路上有  <code>n</code>  个加油站，其中第  <code>i</code>  个加油站有汽油  <code>gas[i]</code>  升。</p>\n<p>你有一辆油箱容量无限的的汽车，从第  <code>i</code>  个加油站开往第  <code>i+1</code>  个加油站需要消耗汽油  <code>cost[i]</code>  升。你从其中的一个加油站出发，开始时油箱为空。</p>\n<p>给定两个整数数组  <code>gas</code>  和  <code>cost</code>  ，如果你可以按顺序绕环路行驶一周，则返回出发时加油站的编号，否则返回  <code>-1</code>  。如果存在解，则 <strong>保证</strong> 它是 <strong>唯一</strong> 的。</p>\n<p><strong>示例 1:</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: gas = [1,2,3,4,5], cost = [3,4,5,1,2]</span><br><span class=\"line\">输出: 3</span><br><span class=\"line\">解释:</span><br><span class=\"line\">从<span class=\"number\"> 3 </span>号加油站(索引为<span class=\"number\"> 3 </span>处)出发，可获得<span class=\"number\"> 4 </span>升汽油。此时油箱有 =<span class=\"number\"> 0 </span>+<span class=\"number\"> 4 </span>=<span class=\"number\"> 4 </span>升汽油</span><br><span class=\"line\">开往<span class=\"number\"> 4 </span>号加油站，此时油箱有<span class=\"number\"> 4 </span>-<span class=\"number\"> 1 </span>+<span class=\"number\"> 5 </span>=<span class=\"number\"> 8 </span>升汽油</span><br><span class=\"line\">开往<span class=\"number\"> 0 </span>号加油站，此时油箱有<span class=\"number\"> 8 </span>-<span class=\"number\"> 2 </span>+<span class=\"number\"> 1 </span>=<span class=\"number\"> 7 </span>升汽油</span><br><span class=\"line\">开往<span class=\"number\"> 1 </span>号加油站，此时油箱有<span class=\"number\"> 7 </span>-<span class=\"number\"> 3 </span>+<span class=\"number\"> 2 </span>=<span class=\"number\"> 6 </span>升汽油</span><br><span class=\"line\">开往<span class=\"number\"> 2 </span>号加油站，此时油箱有<span class=\"number\"> 6 </span>-<span class=\"number\"> 4 </span>+<span class=\"number\"> 3 </span>=<span class=\"number\"> 5 </span>升汽油</span><br><span class=\"line\">开往<span class=\"number\"> 3 </span>号加油站，你需要消耗<span class=\"number\"> 5 </span>升汽油，正好足够你返回到<span class=\"number\"> 3 </span>号加油站。</span><br><span class=\"line\">因此，3 可为起始索引。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2:</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: gas = [2,3,4], cost = [3,4,3]</span><br><span class=\"line\">输出: -1</span><br><span class=\"line\">解释:</span><br><span class=\"line\">你不能从<span class=\"number\"> 0 </span>号或<span class=\"number\"> 1 </span>号加油站出发，因为没有足够的汽油可以让你行驶到下一个加油站。</span><br><span class=\"line\">我们从<span class=\"number\"> 2 </span>号加油站出发，可以获得<span class=\"number\"> 4 </span>升汽油。 此时油箱有 =<span class=\"number\"> 0 </span>+<span class=\"number\"> 4 </span>=<span class=\"number\"> 4 </span>升汽油</span><br><span class=\"line\">开往<span class=\"number\"> 0 </span>号加油站，此时油箱有<span class=\"number\"> 4 </span>-<span class=\"number\"> 3 </span>+<span class=\"number\"> 2 </span>=<span class=\"number\"> 3 </span>升汽油</span><br><span class=\"line\">开往<span class=\"number\"> 1 </span>号加油站，此时油箱有<span class=\"number\"> 3 </span>-<span class=\"number\"> 3 </span>+<span class=\"number\"> 3 </span>=<span class=\"number\"> 3 </span>升汽油</span><br><span class=\"line\">你无法返回<span class=\"number\"> 2 </span>号加油站，因为返程需要消耗<span class=\"number\"> 4 </span>升汽油，但是你的油箱只有<span class=\"number\"> 3 </span>升汽油。</span><br><span class=\"line\">因此，无论怎样，你都不可能绕环路行驶一周。</span><br></pre></td></tr></table></figure>\n<p><strong>提示:</strong></p>\n<ul>\n<li><code>gas.length == n</code></li>\n<li><code>cost.length == n</code></li>\n<li><code>1 &lt;= n &lt;= 105</code></li>\n<li><code>0 &lt;= gas[i], cost[i] &lt;= 104</code></li>\n</ul>\n<p><img data-src=\"E:%5Ctypora%E5%9B%BE%E7%89%87%5Cimage-20240328223627041.png\" alt=\"image-20240328223627041\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">canCompleteCircuit</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; gas, vector&lt;<span class=\"type\">int</span>&gt;&amp; cost)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> gas_num = <span class=\"number\">0</span>,cost_num = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> length = gas.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"type\">int</span> tag = <span class=\"number\">0</span> ,k = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">bool</span> t = <span class=\"literal\">false</span>;</span><br><span class=\"line\">       <span class=\"keyword\">while</span>(tag&lt;length &amp;&amp;!t )&#123;</span><br><span class=\"line\">           tag = <span class=\"number\">0</span>;</span><br><span class=\"line\">           gas_num = <span class=\"number\">0</span>;</span><br><span class=\"line\">           cost_num = <span class=\"number\">0</span>;</span><br><span class=\"line\">           <span class=\"keyword\">while</span>(tag&lt;length)&#123;</span><br><span class=\"line\">               gas_num += gas[k];</span><br><span class=\"line\">               cost_num += cost[k];</span><br><span class=\"line\">               k = k + <span class=\"number\">1</span>;</span><br><span class=\"line\">               <span class=\"keyword\">if</span>(k &gt;= length )&#123;</span><br><span class=\"line\">                   t = <span class=\"literal\">true</span>;</span><br><span class=\"line\">                   k = k%length;</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">               <span class=\"keyword\">if</span>(gas_num&lt;cost_num)&#123;</span><br><span class=\"line\">               <span class=\"keyword\">break</span>;</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">            tag++;</span><br><span class=\"line\">           &#125; </span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> tag&lt;length?<span class=\"number\">-1</span>:k;</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"2952-需要添加的硬币的最小数量\"><a class=\"anchor\" href=\"#2952-需要添加的硬币的最小数量\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9taW5pbXVtLW51bWJlci1vZi1jb2lucy10by1iZS1hZGRlZC8=\">2952. 需要添加的硬币的最小数量</span></h4>\n<p>给你一个下标从 <strong>0</strong> 开始的整数数组  <code>coins</code> ，表示可用的硬币的面值，以及一个整数  <code>target</code>  。</p>\n<p>如果存在某个  <code>coins</code>  的子序列总和为  <code>x</code> ，那么整数  <code>x</code>  就是一个 <strong>可取得的金额</strong> 。</p>\n<p>返回需要添加到数组中的 <strong>任意面值</strong> 硬币的 <strong>最小数量</strong> ，使范围  <code>[1, target]</code>  内的每个整数都属于 <strong>可取得的金额</strong> 。</p>\n<p>数组的 <strong>子序列</strong> 是通过删除原始数组的一些（<strong>可能不删除</strong>）元素而形成的新的 <strong>非空</strong> 数组，删除过程不会改变剩余元素的相对位置。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：coins = [1,4,10], target = 19</span><br><span class=\"line\">输出：2</span><br><span class=\"line\">解释：需要添加面值为<span class=\"number\"> 2 </span>和<span class=\"number\"> 8 </span>的硬币各一枚，得到硬币数组 [1,2,4,8,10] 。</span><br><span class=\"line\">可以证明从<span class=\"number\"> 1 </span>到<span class=\"number\"> 19 </span>的所有整数都可由数组中的硬币组合得到，且需要添加到数组中的硬币数目最小为<span class=\"number\"> 2 </span>。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：coins = [1,4,10,5,7,19], target = 19</span><br><span class=\"line\">输出：1</span><br><span class=\"line\">解释：只需要添加一枚面值为<span class=\"number\"> 2 </span>的硬币，得到硬币数组 [1,2,4,5,7,10,19] 。</span><br><span class=\"line\">可以证明从<span class=\"number\"> 1 </span>到<span class=\"number\"> 19 </span>的所有整数都可由数组中的硬币组合得到，且需要添加到数组中的硬币数目最小为<span class=\"number\"> 1 </span>。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：coins = [1,1,1], target = 20</span><br><span class=\"line\">输出：3</span><br><span class=\"line\">解释：</span><br><span class=\"line\">需要添加面值为<span class=\"number\"> 4 </span>、8 和<span class=\"number\"> 16 </span>的硬币各一枚，得到硬币数组 [1,1,1,4,8,16] 。 </span><br><span class=\"line\">可以证明从<span class=\"number\"> 1 </span>到<span class=\"number\"> 20 </span>的所有整数都可由数组中的硬币组合得到，且需要添加到数组中的硬币数目最小为<span class=\"number\"> 3 </span>。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= target &lt;= 105</code></li>\n<li><code>1 &lt;= coins.length &lt;= 105</code></li>\n<li><code>1 &lt;= coins[i] &lt;= target</code></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">minimumAddedCoins</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; coins, <span class=\"type\">int</span> target)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 排序</span></span><br><span class=\"line\">        <span class=\"built_in\">sort</span>(coins.<span class=\"built_in\">begin</span>(),coins.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"type\">int</span> length = coins.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"type\">int</span> result = <span class=\"number\">0</span> ,con_max = <span class=\"number\">1</span> ;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">maxnum</span><span class=\"params\">(length,<span class=\"number\">1</span>)</span></span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i= <span class=\"number\">0</span>;i&lt;length;i++)&#123;</span><br><span class=\"line\">          <span class=\"comment\">// 没有1 添加1，必须要有1</span></span><br><span class=\"line\">           <span class=\"keyword\">if</span>(i==<span class=\"number\">0</span> &amp;&amp; coins[i]!=<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">              result++;</span><br><span class=\"line\">               <span class=\"comment\">// 如果遍历结束后，仍没有达到要求，也就是在coins数组后面追加的情况</span></span><br><span class=\"line\">               <span class=\"comment\">// 单独处理一下coins长度为1并且需要添加面值为1的情况</span></span><br><span class=\"line\">              <span class=\"keyword\">while</span>(con_max + <span class=\"number\">1</span> &lt; coins[<span class=\"number\">0</span>])&#123;</span><br><span class=\"line\">                 con_max = <span class=\"number\">2</span>*con_max + <span class=\"number\">1</span>;</span><br><span class=\"line\">                 result++;</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">              con_max = con_max + coins[<span class=\"number\">0</span>];</span><br><span class=\"line\">              maxnum[<span class=\"number\">0</span>] = con_max;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           <span class=\"keyword\">if</span>(i&gt;=<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">              <span class=\"keyword\">if</span>(maxnum[i<span class=\"number\">-1</span>] + <span class=\"number\">1</span> &gt;= coins[i])&#123;</span><br><span class=\"line\">                  maxnum[i] = maxnum[i<span class=\"number\">-1</span>] + coins[i];</span><br><span class=\"line\">              &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                  <span class=\"type\">int</span> k = maxnum[i<span class=\"number\">-1</span>];</span><br><span class=\"line\">                  <span class=\"keyword\">while</span>(k + <span class=\"number\">1</span> &lt; coins[i])&#123;</span><br><span class=\"line\">                      k = <span class=\"number\">2</span>*k<span class=\"number\">+1</span>;</span><br><span class=\"line\">                      result++;</span><br><span class=\"line\">                  &#125;</span><br><span class=\"line\">                  maxnum[i] = k + coins[i];</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">             </span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 每次承接以下当下的最大能表示的值，这样最后那个最大表示的值能够保留下来</span></span><br><span class=\"line\">            <span class=\"comment\">// 以供循环结束再继续进行判断进行判断</span></span><br><span class=\"line\">           con_max =maxnum[i];</span><br><span class=\"line\">           <span class=\"keyword\">if</span>(con_max &gt;= target)&#123;</span><br><span class=\"line\">                  <span class=\"keyword\">break</span>;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">       </span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(con_max &lt; target)&#123;</span><br><span class=\"line\">            con_max = <span class=\"number\">2</span>*con_max<span class=\"number\">+1</span>;</span><br><span class=\"line\">            result++;  </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"331-验证二叉树的前序序列化\"><a class=\"anchor\" href=\"#331-验证二叉树的前序序列化\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy92ZXJpZnktcHJlb3JkZXItc2VyaWFsaXphdGlvbi1vZi1hLWJpbmFyeS10cmVlLw==\">331. 验证二叉树的前序序列化</span></h4>\n<p>序列化二叉树的一种方法是使用 <strong>前序遍历</strong> 。当我们遇到一个非空节点时，我们可以记录下这个节点的值。如果它是一个空节点，我们可以使用一个标记值记录，例如  <code>#</code> 。</p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2021/03/12/pre-tree.jpg\" alt=\"img\"></p>\n<p>例如，上面的二叉树可以被序列化为字符串  <code>&quot;9,3,4,#,#,1,#,#,2,#,6,#,#&quot;</code> ，其中  <code>#</code>  代表一个空节点。</p>\n<p>给定一串以逗号分隔的序列，验证它是否是正确的二叉树的前序序列化。编写一个在不重构树的条件下的可行算法。</p>\n<p><strong>保证</strong> 每个以逗号分隔的字符或为一个整数或为一个表示  <code>null</code>  指针的  <code>'#'</code>  。</p>\n<p>你可以认为输入格式总是有效的</p>\n<ul>\n<li>例如它永远不会包含两个连续的逗号，比如  <code>&quot;1,,3&quot;</code>  。</li>\n</ul>\n<p>** 注意：** 不允许重建树。</p>\n<p><strong>示例 1:</strong></p>\n<figure class=\"highlight leaf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: preorder = &quot;9,3,4,<span class=\"punctuation\">#</span>,<span class=\"punctuation\">#</span>,1,<span class=\"punctuation\">#</span>,<span class=\"punctuation\">#</span>,2,<span class=\"punctuation\">#</span>,6,<span class=\"punctuation\">#</span>,<span class=\"punctuation\">#</span>&quot;</span><br><span class=\"line\">输出: true</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2:</strong></p>\n<figure class=\"highlight nix\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: <span class=\"attr\">preorder</span> = <span class=\"string\">&quot;1,#&quot;</span></span><br><span class=\"line\">输出: <span class=\"literal\">false</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 3:</strong></p>\n<figure class=\"highlight nix\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: <span class=\"attr\">preorder</span> = <span class=\"string\">&quot;9,#,#,1&quot;</span></span><br><span class=\"line\">输出: <span class=\"literal\">false</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示:</strong></p>\n<ul>\n<li><code>1 &lt;= preorder.length &lt;= 104</code></li>\n<li><code>preorder</code>  由以逗号  <code>“，”</code>  分隔的  <code>[0,100]</code>  范围内的整数和  <code>“#”</code>  组成</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">isValidSerialization</span><span class=\"params\">(string preorder)</span> </span>&#123;</span><br><span class=\"line\">        stack&lt;<span class=\"type\">int</span>&gt; mystack;</span><br><span class=\"line\">        <span class=\"type\">int</span> length = preorder.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"type\">int</span> k = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"comment\">//遍历，然后依次按照先弹出子节点然后再弹出父节点，判断最后是否能让栈空</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(k &lt; length)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(preorder[k]==<span class=\"string\">&#x27;,&#x27;</span>)&#123;</span><br><span class=\"line\">                k++;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(preorder[k]==<span class=\"string\">&#x27;#&#x27;</span>)&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">if</span>(!mystack.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">                       mystack.<span class=\"built_in\">top</span>()++;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                   </span><br><span class=\"line\">                &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                    <span class=\"comment\">// 此时是数字，因为此时已经知道他是数字了，只用同步长度就可以了</span></span><br><span class=\"line\">                    <span class=\"comment\">// 不用知道数字是多少</span></span><br><span class=\"line\">                    <span class=\"keyword\">while</span>(k&lt;length &amp;&amp; preorder[k]!=<span class=\"string\">&#x27;,&#x27;</span>)&#123;</span><br><span class=\"line\">                        k++;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                    </span><br><span class=\"line\">                    mystack.<span class=\"built_in\">push</span>(<span class=\"number\">0</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 最关键的一步，这一步，我们就是检查堆顶是否已经有子节点全部弹出的，这样自己就可以弹出了</span></span><br><span class=\"line\">            <span class=\"comment\">// 也就是堆顶是否等于2，等于2就说明有两个子节点都弹出了，弹出之后要循环的更新自己的父节点的值，如果父节点也满足情况了，</span></span><br><span class=\"line\">            <span class=\"comment\">// 就继续弹出，依次进行。</span></span><br><span class=\"line\">              <span class=\"keyword\">while</span>(!mystack.<span class=\"built_in\">empty</span>() &amp;&amp; mystack.<span class=\"built_in\">top</span>()==<span class=\"number\">2</span>)&#123;</span><br><span class=\"line\">                mystack.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(!mystack.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">                    mystack.<span class=\"built_in\">top</span>()++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"keyword\">if</span>(mystack.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">                <span class=\"keyword\">break</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            k++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> mystack.<span class=\"built_in\">empty</span>()&amp;&amp;k==length<span class=\"number\">-1</span>?<span class=\"literal\">true</span>:<span class=\"literal\">false</span>; </span><br><span class=\"line\">         </span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"2192-有向无环图中一个节点的所有祖先\"><a class=\"anchor\" href=\"#2192-有向无环图中一个节点的所有祖先\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9hbGwtYW5jZXN0b3JzLW9mLWEtbm9kZS1pbi1hLWRpcmVjdGVkLWFjeWNsaWMtZ3JhcGgv\">2192. 有向无环图中一个节点的所有祖先</span></h4>\n<p>给你一个正整数  <code>n</code>  ，它表示一个 <strong>有向无环图</strong> 中节点的数目，节点编号为  <code>0</code>  到  <code>n - 1</code>  （包括两者）。</p>\n<p>给你一个二维整数数组  <code>edges</code>  ，其中  <code>edges[i] = [fromi, toi]</code>  表示图中一条从  <code>fromi</code>  到  <code>toi</code>  的单向边。</p>\n<p>请你返回一个数组  <code>answer</code> ，其中  <code>answer[i]</code>  是第  <code>i</code>  个节点的所有 <strong>祖先</strong> ，这些祖先节点 <strong>升序</strong> 排序。</p>\n<p>如果  <code>u</code>  通过一系列边，能够到达  <code>v</code>  ，那么我们称节点  <code>u</code>  是节点  <code>v</code>  的 <strong>祖先</strong> 节点。</p>\n<p><strong>示例 1：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2019/12/12/e1.png\" alt=\"img\"></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：n = 8, edgeList = [[0,3],[0,4],[1,3],[2,4],[2,7],[3,5],[3,6],[3,7],[4,6]]</span><br><span class=\"line\">输出：[[],[],[],[0,1],[0,2],[0,1,3],[0,1,2,3,4],[0,1,2,3]]</span><br><span class=\"line\">解释：</span><br><span class=\"line\">上图为输入所对应的图。</span><br><span class=\"line\">- 节点<span class=\"number\"> 0 </span>，1 和<span class=\"number\"> 2 </span>没有任何祖先。</span><br><span class=\"line\">- 节点<span class=\"number\"> 3 </span>有<span class=\"number\"> 2 </span>个祖先<span class=\"number\"> 0 </span>和<span class=\"number\"> 1 </span>。</span><br><span class=\"line\">- 节点<span class=\"number\"> 4 </span>有<span class=\"number\"> 2 </span>个祖先<span class=\"number\"> 0 </span>和<span class=\"number\"> 2 </span>。</span><br><span class=\"line\">- 节点<span class=\"number\"> 5 </span>有<span class=\"number\"> 3 </span>个祖先<span class=\"number\"> 0 </span>，1 和<span class=\"number\"> 3 </span>。</span><br><span class=\"line\">- 节点<span class=\"number\"> 6 </span>有<span class=\"number\"> 5 </span>个祖先<span class=\"number\"> 0 </span>，1 ，2 ，3 和<span class=\"number\"> 4 </span>。</span><br><span class=\"line\">- 节点<span class=\"number\"> 7 </span>有<span class=\"number\"> 4 </span>个祖先<span class=\"number\"> 0 </span>，1 ，2 和<span class=\"number\"> 3 </span>。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2019/12/12/e2.png\" alt=\"img\"></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：n = 5, edgeList = <span class=\"comment\">[<span class=\"comment\">[0,1]</span>,<span class=\"comment\">[0,2]</span>,<span class=\"comment\">[0,3]</span>,<span class=\"comment\">[0,4]</span>,<span class=\"comment\">[1,2]</span>,<span class=\"comment\">[1,3]</span>,<span class=\"comment\">[1,4]</span>,<span class=\"comment\">[2,3]</span>,<span class=\"comment\">[2,4]</span>,<span class=\"comment\">[3,4]</span>]</span></span><br><span class=\"line\">输出：<span class=\"comment\">[<span class=\"comment\">[]</span>,<span class=\"comment\">[0]</span>,<span class=\"comment\">[0,1]</span>,<span class=\"comment\">[0,1,2]</span>,<span class=\"comment\">[0,1,2,3]</span>]</span></span><br><span class=\"line\">解释：</span><br><span class=\"line\">上图为输入所对应的图。</span><br><span class=\"line\">- 节点 0 没有任何祖先。</span><br><span class=\"line\">- 节点 1 有 1 个祖先 0 。</span><br><span class=\"line\">- 节点 2 有 2 个祖先 0 和 1 。</span><br><span class=\"line\">- 节点 3 有 3 个祖先 0 ，1 和 2 。</span><br><span class=\"line\">- 节点 4 有 4 个祖先 0 ，1 ，2 和 3 。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= n &lt;= 1000</code></li>\n<li><code>0 &lt;= edges.length &lt;= min(2000, n * (n - 1) / 2)</code></li>\n<li><code>edges[i].length == 2</code></li>\n<li><code>0 &lt;= fromi, toi &lt;= n - 1</code></li>\n<li><code>fromi != toi</code></li>\n<li>图中不会有重边。</li>\n<li>图是 <strong>有向</strong> 且 <strong>无环</strong> 的。</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">getAncestors</span>(<span class=\"type\">int</span> n, vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; edges) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 重新构造图结构,因为是无权图，所以直接构建每个节点的前驱节点</span></span><br><span class=\"line\">        vector&lt;unordered_set&lt;<span class=\"type\">int</span>&gt;&gt; former(n); </span><br><span class=\"line\">        vector&lt;unordered_set&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">behind</span>(n);   <span class=\"comment\">// 后驱节点</span></span><br><span class=\"line\">        <span class=\"comment\">// 能够到达i节点的前驱结点</span></span><br><span class=\"line\">        vector&lt;set&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">result</span>(n);             <span class=\"comment\">// 利用有序集合进行去重和排序</span></span><br><span class=\"line\">        <span class=\"comment\">// 更新构造前驱和后继数据机构</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> &amp;e:edges)&#123;</span><br><span class=\"line\">               former[e[<span class=\"number\">1</span>]].<span class=\"built_in\">insert</span>(e[<span class=\"number\">0</span>]);</span><br><span class=\"line\">               behind[e[<span class=\"number\">0</span>]].<span class=\"built_in\">insert</span>(e[<span class=\"number\">1</span>]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        priority_queue&lt;<span class=\"type\">int</span>,vector&lt;<span class=\"type\">int</span>&gt;,greater&lt;<span class=\"type\">int</span>&gt;&gt; first;</span><br><span class=\"line\">        <span class=\"comment\">// 寻找没有前驱节点的节点</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>;i&lt;n;i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(former[i].<span class=\"built_in\">size</span>() == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                first.<span class=\"built_in\">push</span>(i);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 从小到大依次弹出没有前驱的节点</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(!first.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> top = first.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">            first.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            <span class=\"comment\">// 弹出一个之后就遍历他的后继节点</span></span><br><span class=\"line\">            <span class=\"comment\">// 顺便将该top节点与后继节点之间的边去掉</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> &amp;b:behind[top])&#123;</span><br><span class=\"line\">                former[b].<span class=\"built_in\">erase</span>(top);</span><br><span class=\"line\">                <span class=\"comment\">// 根据能够到达该后继节点的前驱，就能到达该后继节点的原则</span></span><br><span class=\"line\">                <span class=\"comment\">// 该后继节点的祖先就是  (前驱结点的祖先集合 + 前驱节点)</span></span><br><span class=\"line\">                result[b].<span class=\"built_in\">insert</span>(result[top].<span class=\"built_in\">begin</span>(),result[top].<span class=\"built_in\">end</span>());</span><br><span class=\"line\">                result[b].<span class=\"built_in\">insert</span>(top);</span><br><span class=\"line\">                <span class=\"comment\">// 检查此时的后继节点是否满足没有了前驱的要求</span></span><br><span class=\"line\">                <span class=\"comment\">// 如果满足就加入优先队列</span></span><br><span class=\"line\">                <span class=\"comment\">// 也就是拓扑排序的遍历过程</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span>(former[b].<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">                    first.<span class=\"built_in\">push</span>(b);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;   </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 将内置数据结构变为vector</span></span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">res</span>(n);</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>;i&lt;n;i++)&#123;</span><br><span class=\"line\">            res[i].<span class=\"built_in\">insert</span>(res[i].<span class=\"built_in\">end</span>(),result[i].<span class=\"built_in\">begin</span>(),result[i].<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">                </span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"1026-节点与其祖先之间的最大差值\"><a class=\"anchor\" href=\"#1026-节点与其祖先之间的最大差值\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9tYXhpbXVtLWRpZmZlcmVuY2UtYmV0d2Vlbi1ub2RlLWFuZC1hbmNlc3Rvci8=\">1026. 节点与其祖先之间的最大差值</span></h4>\n<p>给定二叉树的根节点  <code>root</code> ，找出存在于 <strong>不同</strong> 节点  <code>A</code>  和  <code>B</code>  之间的最大值  <code>V</code> ，其中  <code>V = |A.val - B.val|</code> ，且  <code>A</code>  是  <code>B</code>  的祖先。</p>\n<p>（如果 A 的任何子节点之一为 B，或者 A 的任何子节点是 B 的祖先，那么我们认为 A 是 B 的祖先）</p>\n<p><strong>示例 1：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2020/11/09/tmp-tree.jpg\" alt=\"img\"></p>\n<figure class=\"highlight coq\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：root = [<span class=\"number\">8</span>,<span class=\"number\">3</span>,<span class=\"number\">10</span>,<span class=\"number\">1</span>,<span class=\"number\">6</span>,null,<span class=\"number\">14</span>,null,null,<span class=\"number\">4</span>,<span class=\"number\">7</span>,<span class=\"number\">13</span>]</span><br><span class=\"line\">输出：<span class=\"number\">7</span></span><br><span class=\"line\">解释： </span><br><span class=\"line\">我们有大量的节点与其祖先的差值，其中一些如下：</span><br><span class=\"line\">|<span class=\"type\">8</span> - <span class=\"number\">3</span>| <span class=\"type\">= 5</span></span><br><span class=\"line\">|<span class=\"type\">3</span> - <span class=\"number\">7</span>| <span class=\"type\">= 4</span></span><br><span class=\"line\">|<span class=\"type\">8</span> - <span class=\"number\">1</span>| <span class=\"type\">= 7</span></span><br><span class=\"line\">|<span class=\"type\">10</span> - <span class=\"number\">13</span>| <span class=\"type\">= 3</span></span><br><span class=\"line\">在所有可能的差值中，最大值 <span class=\"number\">7</span> 由 |<span class=\"type\">8</span> - <span class=\"number\">1</span>| <span class=\"type\">= 7</span> 得出。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2020/11/09/tmp-tree-1.jpg\" alt=\"img\"></p>\n<figure class=\"highlight nix\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：<span class=\"attr\">root</span> = [<span class=\"number\">1</span>,<span class=\"literal\">null</span>,<span class=\"number\">2</span>,<span class=\"literal\">null</span>,<span class=\"number\">0</span>,<span class=\"number\">3</span>]</span><br><span class=\"line\">输出：<span class=\"number\">3</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li>树中的节点数在  <code>2</code>  到  <code>5000</code>  之间。</li>\n<li><code>0 &lt;= Node.val &lt;= 105</code></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Definition for a binary tree node.</span></span><br><span class=\"line\"><span class=\"comment\"> * struct TreeNode &#123;</span></span><br><span class=\"line\"><span class=\"comment\"> *     int val;</span></span><br><span class=\"line\"><span class=\"comment\"> *     TreeNode *left;</span></span><br><span class=\"line\"><span class=\"comment\"> *     TreeNode *right;</span></span><br><span class=\"line\"><span class=\"comment\"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> * &#125;;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maxAncestorDiff</span><span class=\"params\">(TreeNode* root)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"type\">int</span> result = <span class=\"number\">-1</span>;</span><br><span class=\"line\">       function&lt;pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt;(TreeNode*root)&gt; maxAnces = [&amp;](TreeNode*root)-&gt;pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt;&#123;</span><br><span class=\"line\">           <span class=\"keyword\">if</span>(!root) <span class=\"keyword\">return</span> &#123;<span class=\"number\">1e5</span><span class=\"number\">+1</span>,<span class=\"number\">-1</span>&#125;;</span><br><span class=\"line\">           <span class=\"keyword\">if</span>(!root-&gt;left &amp;&amp; !root-&gt;right) <span class=\"keyword\">return</span> &#123;root-&gt;val,root-&gt;val&#125;;</span><br><span class=\"line\">           <span class=\"type\">int</span> left=<span class=\"number\">1e5</span><span class=\"number\">+1</span>,right=<span class=\"number\">-1</span>;</span><br><span class=\"line\">          <span class=\"comment\">// 通过左右子树更新左右边界</span></span><br><span class=\"line\">           pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; leftchild = <span class=\"built_in\">maxAnces</span>(root-&gt;left);</span><br><span class=\"line\">           right = <span class=\"built_in\">max</span>(right,leftchild.second);</span><br><span class=\"line\">           left = <span class=\"built_in\">min</span>(left,leftchild.first);</span><br><span class=\"line\">          </span><br><span class=\"line\">           pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; rightchild = <span class=\"built_in\">maxAnces</span>(root-&gt;right);</span><br><span class=\"line\">           right = <span class=\"built_in\">max</span>(right,rightchild.second);</span><br><span class=\"line\">           left = <span class=\"built_in\">min</span>(left,rightchild.first);</span><br><span class=\"line\">        </span><br><span class=\"line\">           <span class=\"comment\">// 更新完左右边界之后，根据子树的左右边界，比较最大的那个，实时更新维护最大差值</span></span><br><span class=\"line\">           result = <span class=\"built_in\">max</span>(result,<span class=\"built_in\">abs</span>(root-&gt;val - left));</span><br><span class=\"line\">           result = <span class=\"built_in\">max</span>(result,<span class=\"built_in\">abs</span>(root-&gt;val - right));</span><br><span class=\"line\">           <span class=\"comment\">// 把根节点考虑进去，进一步更新真正的左右边界，以供父节点参考</span></span><br><span class=\"line\">           left = <span class=\"built_in\">min</span>(root-&gt;val,left);</span><br><span class=\"line\">           right = <span class=\"built_in\">max</span>(root-&gt;val,right);</span><br><span class=\"line\">           <span class=\"keyword\">return</span> &#123;left,right&#125;;</span><br><span class=\"line\">           </span><br><span class=\"line\">       &#125;;</span><br><span class=\"line\">       pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; dis = <span class=\"built_in\">maxAnces</span>(root);</span><br><span class=\"line\">       <span class=\"comment\">//cout &lt;&lt;dis.first &lt;&lt; &quot; &quot; &lt;&lt; dis.second &lt;&lt;endl;</span></span><br><span class=\"line\">       <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"1702-修改后的最大二进制字符串\"><a class=\"anchor\" href=\"#1702-修改后的最大二进制字符串\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9tYXhpbXVtLWJpbmFyeS1zdHJpbmctYWZ0ZXItY2hhbmdlLw==\">1702. 修改后的最大二进制字符串</span></h4>\n<p>给你一个二进制字符串  <code>binary</code>  ，它仅有  <code>0</code>  或者  <code>1</code>  组成。你可以使用下面的操作任意次对它进行修改：</p>\n<ul>\n<li>\n<p>操作 1 ：如果二进制串包含子字符串</p>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;00&quot;</span></span><br></pre></td></tr></table></figure>\n<p>，你可以用</p>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;10&quot;</span></span><br></pre></td></tr></table></figure>\n<p>将其替换。</p>\n<ul>\n<li>比方说，  <code>&quot;**00**010&quot; -&gt; &quot;**10**010&quot;</code></li>\n</ul>\n</li>\n<li>\n<p>操作 2 ：如果二进制串包含子字符串</p>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;10&quot;</span></span><br></pre></td></tr></table></figure>\n<p>，你可以用</p>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;01&quot;</span></span><br></pre></td></tr></table></figure>\n<p>将其替换。</p>\n<ul>\n<li>比方说，  <code>&quot;000**10**&quot; -&gt; &quot;000**01**&quot;</code></li>\n</ul>\n</li>\n</ul>\n<p>请你返回执行上述操作任意次以后能得到的 <strong>最大二进制字符串</strong> 。如果二进制字符串  <code>x</code>  对应的十进制数字大于二进制字符串  <code>y</code>  对应的十进制数字，那么我们称二进制字符串  <code>x</code>  大于二进制字符串  <code>y</code>  。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight clean\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：binary = <span class=\"string\">&quot;000110&quot;</span></span><br><span class=\"line\">输出：<span class=\"string\">&quot;111011&quot;</span></span><br><span class=\"line\">解释：一个可行的转换为：</span><br><span class=\"line\"><span class=\"string\">&quot;000110&quot;</span> -&gt; <span class=\"string\">&quot;000101&quot;</span> </span><br><span class=\"line\"><span class=\"string\">&quot;000101&quot;</span> -&gt; <span class=\"string\">&quot;100101&quot;</span> </span><br><span class=\"line\"><span class=\"string\">&quot;100101&quot;</span> -&gt; <span class=\"string\">&quot;110101&quot;</span> </span><br><span class=\"line\"><span class=\"string\">&quot;110101&quot;</span> -&gt; <span class=\"string\">&quot;110011&quot;</span> </span><br><span class=\"line\"><span class=\"string\">&quot;110011&quot;</span> -&gt; <span class=\"string\">&quot;111011&quot;</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：binary <span class=\"operator\">=</span> <span class=\"string\">&quot;01&quot;</span></span><br><span class=\"line\">输出：<span class=\"string\">&quot;01&quot;</span></span><br><span class=\"line\">解释：<span class=\"string\">&quot;01&quot;</span> 没办法进行任何转换。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= binary.length &lt;= 105</code></li>\n<li><code>binary</code>  仅包含  <code>'0'</code>  和  <code>'1'</code>  。</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">string <span class=\"title\">maximumBinaryString</span><span class=\"params\">(string binary)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"comment\">// 假设遍历到当前字符之前，result 中已经是binary[0:i-1] 中结果了</span></span><br><span class=\"line\">       <span class=\"comment\">// 有两种情况</span></span><br><span class=\"line\">         <span class=\"comment\">// 当前字符是1</span></span><br><span class=\"line\">             <span class=\"comment\">// 直接添加，因为不管前面是如何的字符串，都是直接添加</span></span><br><span class=\"line\">         <span class=\"comment\">// 当前字符是0</span></span><br><span class=\"line\">            <span class=\"comment\">// 此时就应该判断一下</span></span><br><span class=\"line\">               <span class=\"comment\">// 寻找一下result中的零的位置 </span></span><br><span class=\"line\">                  <span class=\"comment\">// 如果零的位置不是最后，就将零替换为1 ，零位置后一个位置上的数变为零，并为下一次零的位置记录一下，下一次就不用遍历了</span></span><br><span class=\"line\">                  <span class=\"comment\">// 如果零的位置是最后一个那就变为1，然后直接添加零就好了</span></span><br><span class=\"line\">       <span class=\"type\">int</span> length = binary.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">       <span class=\"keyword\">if</span>(length&lt;=<span class=\"number\">1</span>) <span class=\"keyword\">return</span> binary;</span><br><span class=\"line\">       string result = binary.<span class=\"built_in\">substr</span>(<span class=\"number\">0</span>,<span class=\"number\">1</span>);</span><br><span class=\"line\">       <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt;  <span class=\"title\">dp</span><span class=\"params\">(length,<span class=\"number\">-1</span>)</span></span>;</span><br><span class=\"line\">       <span class=\"keyword\">if</span>(result[<span class=\"number\">0</span>] == <span class=\"string\">&#x27;0&#x27;</span>) dp[<span class=\"number\">0</span>] = <span class=\"number\">0</span>;</span><br><span class=\"line\">       <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">1</span>;i &lt; length;i++)&#123;</span><br><span class=\"line\">           <span class=\"keyword\">if</span>(binary[i] == <span class=\"string\">&#x27;1&#x27;</span>)&#123;</span><br><span class=\"line\">                result += binary[i];</span><br><span class=\"line\">                dp[i] = dp[i<span class=\"number\">-1</span>];</span><br><span class=\"line\">           &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">              <span class=\"comment\">// 最后一位是零的话，那前面肯定没有零了</span></span><br><span class=\"line\">              <span class=\"keyword\">if</span>(result[result.<span class=\"built_in\">size</span>()<span class=\"number\">-1</span>]==<span class=\"string\">&#x27;0&#x27;</span>)&#123;</span><br><span class=\"line\">                    result[result.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>] = <span class=\"string\">&#x27;1&#x27;</span>;</span><br><span class=\"line\">                    result += binary[i];</span><br><span class=\"line\">                    dp[i] = i;</span><br><span class=\"line\">              &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                  <span class=\"keyword\">if</span>(dp[i<span class=\"number\">-1</span>] !=<span class=\"number\">-1</span>)&#123;</span><br><span class=\"line\">                     result[dp[i<span class=\"number\">-1</span>]] = <span class=\"string\">&#x27;1&#x27;</span>;</span><br><span class=\"line\">                     result[dp[i<span class=\"number\">-1</span>] + <span class=\"number\">1</span>] = <span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">                     dp[i] = dp[i<span class=\"number\">-1</span>] + <span class=\"number\">1</span>;</span><br><span class=\"line\">                     result += <span class=\"string\">&#x27;1&#x27;</span>;</span><br><span class=\"line\">                  &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                     result += <span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">                     dp[i] = i;</span><br><span class=\"line\">                  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125; </span><br><span class=\"line\">       <span class=\"keyword\">return</span> result;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//    if(s==&quot;00&quot;)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//        result = &quot;10&quot;;</span></span><br><span class=\"line\">    <span class=\"comment\">//        if(length==2) return result;</span></span><br><span class=\"line\">    <span class=\"comment\">//        while(i&lt;length)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//             if(binary[i]==&#x27;1&#x27;)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 result+= binary[i];                       </span></span><br><span class=\"line\">    <span class=\"comment\">//             &#125;else&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 if(result[result.size()-1]==&#x27;1&#x27;)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                    int j = result.size()-1;</span></span><br><span class=\"line\">    <span class=\"comment\">//                    while(j&gt;=0)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                     if(result[j] == &#x27;0&#x27;)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                         result[j] = &#x27;1&#x27;;</span></span><br><span class=\"line\">    <span class=\"comment\">//                         result[j+1] = &#x27;0&#x27;;</span></span><br><span class=\"line\">    <span class=\"comment\">//                         break;</span></span><br><span class=\"line\">    <span class=\"comment\">//                      &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//                      j--;</span></span><br><span class=\"line\">    <span class=\"comment\">//                   &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//                     result += &#x27;1&#x27;; </span></span><br><span class=\"line\">    <span class=\"comment\">//                 &#125;else&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                     result[result.size()-1] = &#x27;1&#x27;;</span></span><br><span class=\"line\">    <span class=\"comment\">//                     result += binary[i];</span></span><br><span class=\"line\">    <span class=\"comment\">//                 &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//             &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//             i++;</span></span><br><span class=\"line\">    <span class=\"comment\">//        &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//    &#125;else if(s==&quot;01&quot;)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//        result = &quot;01&quot;;</span></span><br><span class=\"line\">    <span class=\"comment\">//        if(length==2) return result;</span></span><br><span class=\"line\">    <span class=\"comment\">//         while(i&lt;length)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//             if(binary[i]==&#x27;1&#x27;)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 result+= binary[i];</span></span><br><span class=\"line\">    <span class=\"comment\">//             &#125;else&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 int j = result.size()-1;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 while(j&gt;=0)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                     if(result[j] == &#x27;0&#x27;)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                         result[j] = &#x27;1&#x27;;</span></span><br><span class=\"line\">    <span class=\"comment\">//                         result[j+1] = &#x27;0&#x27;;</span></span><br><span class=\"line\">    <span class=\"comment\">//                         break;</span></span><br><span class=\"line\">    <span class=\"comment\">//                     &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//                     j--;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 result += &#x27;1&#x27;;</span></span><br><span class=\"line\">    <span class=\"comment\">//             &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//             i++;</span></span><br><span class=\"line\">    <span class=\"comment\">//        &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//    &#125;else if(s==&quot;10&quot;)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//        result = &quot;10&quot;;</span></span><br><span class=\"line\">    <span class=\"comment\">//         if(length==2) return result;</span></span><br><span class=\"line\">    <span class=\"comment\">//          while(i&lt;length)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//             if(binary[i]==&#x27;1&#x27;)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 result+= binary[i];</span></span><br><span class=\"line\">    <span class=\"comment\">//             &#125;else&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 if(result[result.size()-1]==&#x27;1&#x27;)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                    int j = result.size()-1;</span></span><br><span class=\"line\">    <span class=\"comment\">//                    while(j&gt;=0)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                     if(result[j] == &#x27;0&#x27;)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                         result[j] = &#x27;1&#x27;;</span></span><br><span class=\"line\">    <span class=\"comment\">//                         result[j+1] = &#x27;0&#x27;;</span></span><br><span class=\"line\">    <span class=\"comment\">//                         break;</span></span><br><span class=\"line\">    <span class=\"comment\">//                      &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//                      j--;</span></span><br><span class=\"line\">    <span class=\"comment\">//                   &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 result += &#x27;1&#x27;; </span></span><br><span class=\"line\">    <span class=\"comment\">//                 &#125;else&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                     result[result.size()-1] = &#x27;1&#x27;;</span></span><br><span class=\"line\">    <span class=\"comment\">//                     result += binary[i];</span></span><br><span class=\"line\">    <span class=\"comment\">//                 &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//             &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//             i++;</span></span><br><span class=\"line\">    <span class=\"comment\">//        &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//    &#125;else if(s==&quot;11&quot;)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//         result = &quot;11&quot;;</span></span><br><span class=\"line\">    <span class=\"comment\">//          if(length==2) return result;</span></span><br><span class=\"line\">    <span class=\"comment\">//           while(i&lt;length)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//             if(binary[i]==&#x27;1&#x27;)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 result+= binary[i];</span></span><br><span class=\"line\">    <span class=\"comment\">//             &#125;else&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 if(result[result.size()-1] = &#x27;0&#x27;)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                     result[result.size()-1] = &#x27;1&#x27;;</span></span><br><span class=\"line\">    <span class=\"comment\">//                     result += &#x27;0&#x27;;</span></span><br><span class=\"line\">    <span class=\"comment\">//                     continue;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 &#125;else&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                    int j = result.size()-1;</span></span><br><span class=\"line\">    <span class=\"comment\">//                    while(j&gt;=0)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                     if(result[j] == &#x27;0&#x27;)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                         result[j] = &#x27;1&#x27;;</span></span><br><span class=\"line\">    <span class=\"comment\">//                         result[j+1] = &#x27;0&#x27;;</span></span><br><span class=\"line\">    <span class=\"comment\">//                         break;</span></span><br><span class=\"line\">    <span class=\"comment\">//                         j--;</span></span><br><span class=\"line\">    <span class=\"comment\">//                      &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//                    &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//                   result += &#x27;1&#x27;; </span></span><br><span class=\"line\">    <span class=\"comment\">//                 &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//             &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//        &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//    &#125;</span></span><br><span class=\"line\">       <span class=\"comment\">//return result;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"2007-从双倍数组中还原原数组\"><a class=\"anchor\" href=\"#2007-从双倍数组中还原原数组\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9maW5kLW9yaWdpbmFsLWFycmF5LWZyb20tZG91YmxlZC1hcnJheS8=\">2007. 从双倍数组中还原原数组</span></h4>\n<p>一个整数数组  <code>original</code>  可以转变成一个 <strong>双倍</strong> 数组  <code>changed</code>  ，转变方式为将  <code>original</code>  中每个元素 <strong>值乘以 2</strong> 加入数组中，然后将所有元素 <strong>随机打乱</strong> 。</p>\n<p>给你一个数组  <code>changed</code>  ，如果  <code>change</code>  是 <strong>双倍</strong> 数组，那么请你返回  <code>original</code>  数组，否则请返回空数组。 <code>original</code>  的元素可以以 <strong>任意</strong> 顺序返回。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：changed = [1,3,4,2,6,8]</span><br><span class=\"line\">输出：[1,3,4]</span><br><span class=\"line\">解释：一个可能的 original 数组为 [1,3,4] :</span><br><span class=\"line\">- 将<span class=\"number\"> 1 </span>乘以<span class=\"number\"> 2 </span>，得到<span class=\"number\"> 1 </span>*<span class=\"number\"> 2 </span>=<span class=\"number\"> 2 </span>。</span><br><span class=\"line\">- 将<span class=\"number\"> 3 </span>乘以<span class=\"number\"> 2 </span>，得到<span class=\"number\"> 3 </span>*<span class=\"number\"> 2 </span>=<span class=\"number\"> 6 </span>。</span><br><span class=\"line\">- 将<span class=\"number\"> 4 </span>乘以<span class=\"number\"> 2 </span>，得到<span class=\"number\"> 4 </span>*<span class=\"number\"> 2 </span>=<span class=\"number\"> 8 </span>。</span><br><span class=\"line\">其他可能的原数组方案为 [4,3,1] 或者 [3,1,4] 。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：changed = <span class=\"comment\">[6,3,0,1]</span></span><br><span class=\"line\">输出：<span class=\"comment\">[]</span></span><br><span class=\"line\">解释：changed 不是一个双倍数组。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：changed = <span class=\"comment\">[1]</span></span><br><span class=\"line\">输出：<span class=\"comment\">[]</span></span><br><span class=\"line\">解释：changed 不是一个双倍数组。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= changed.length &lt;= 105</code></li>\n<li><code>0 &lt;= changed[i] &lt;= 105</code></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">findOriginalArray</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; changed)</span> </span>&#123;</span><br><span class=\"line\">      <span class=\"comment\">// 首先进行排序，为了让原数能在倍数之前被遍历到</span></span><br><span class=\"line\">      <span class=\"built_in\">sort</span>(changed.<span class=\"built_in\">begin</span>(),changed.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">      <span class=\"comment\">// 记录每一个数出现的次数</span></span><br><span class=\"line\">      unordered_map&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; count;</span><br><span class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> c:changed)&#123;</span><br><span class=\"line\">          count[c]++;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      vector&lt;<span class=\"type\">int</span>&gt; result;</span><br><span class=\"line\">      <span class=\"comment\">// 遍历寻找每一个单数，然后找到倍数是否存在</span></span><br><span class=\"line\">      <span class=\"comment\">// 如果存在，就将单数和倍数个数减一，并且将单数放入结果数组中</span></span><br><span class=\"line\">      <span class=\"comment\">// 如果遇见那个倍数不存在，就直接返回空数组</span></span><br><span class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> c:changed)&#123;</span><br><span class=\"line\">         <span class=\"comment\">// 检查当前数是否还存在</span></span><br><span class=\"line\">         <span class=\"keyword\">if</span>(count[c]==<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">           <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">         count[c]--;</span><br><span class=\"line\">         <span class=\"keyword\">if</span>(count[<span class=\"number\">2</span>*c]==<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">           <span class=\"keyword\">return</span> &#123;&#125;;</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">         count[<span class=\"number\">2</span>*c]--;</span><br><span class=\"line\">         result.<span class=\"built_in\">emplace_back</span>(c);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> result;</span><br><span class=\"line\"></span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"39-组合总和\"><a class=\"anchor\" href=\"#39-组合总和\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9jb21iaW5hdGlvbi1zdW0v\">39. 组合总和</span></h4>\n<p>给你一个 <strong>无重复元素</strong> 的整数数组  <code>candidates</code>  和一个目标整数  <code>target</code>  ，找出  <code>candidates</code>  中可以使数字和为目标数  <code>target</code>  的 所有 <strong>不同组合</strong> ，并以列表形式返回。你可以按 <strong>任意顺序</strong> 返回这些组合。</p>\n<p><code>candidates</code>  中的 <strong>同一个</strong> 数字可以 <strong>无限制重复被选取</strong> 。如果至少一个数字的被选数量不同，则两种组合是不同的。</p>\n<p>对于给定的输入，保证和为  <code>target</code>  的不同组合数少于  <code>150</code>  个。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：candidates = [2,3,6,7], target = 7</span><br><span class=\"line\">输出：[[2,2,3],[7]]</span><br><span class=\"line\">解释：</span><br><span class=\"line\">2 和<span class=\"number\"> 3 </span>可以形成一组候选，2 +<span class=\"number\"> 2 </span>+<span class=\"number\"> 3 </span>=<span class=\"number\"> 7 </span>。注意<span class=\"number\"> 2 </span>可以使用多次。</span><br><span class=\"line\">7 也是一个候选，<span class=\"number\"> 7 </span>=<span class=\"number\"> 7 </span>。</span><br><span class=\"line\">仅有这两种组合。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: candidates = <span class=\"comment\">[2,3,5]</span>, target = 8</span><br><span class=\"line\">输出: <span class=\"comment\">[<span class=\"comment\">[2,2,2,2]</span>,<span class=\"comment\">[2,3,3]</span>,<span class=\"comment\">[3,5]</span>]</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: candidates = <span class=\"comment\">[2]</span>, target = 1</span><br><span class=\"line\">输出: <span class=\"comment\">[]</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= candidates.length &lt;= 30</code></li>\n<li><code>2 &lt;= candidates[i] &lt;= 40</code></li>\n<li><code>candidates</code>  的所有元素 <strong>互不相同</strong></li>\n<li><code>1 &lt;= target &lt;= 40</code></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">combinationSum</span>(vector&lt;<span class=\"type\">int</span>&gt;&amp; candidates, <span class=\"type\">int</span> target) &#123;</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; result;</span><br><span class=\"line\">        <span class=\"comment\">// 递归加回溯</span></span><br><span class=\"line\">        function&lt;<span class=\"type\">void</span>(<span class=\"type\">int</span>,vector&lt;<span class=\"type\">int</span>&gt;)&gt; dfs =[&amp;](<span class=\"type\">int</span> sum,vector&lt;<span class=\"type\">int</span>&gt; conList)-&gt;<span class=\"type\">void</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(sum &gt; target)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(sum == target)&#123;</span><br><span class=\"line\">                result.<span class=\"built_in\">emplace_back</span>(conList);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> &amp;can:candidates)&#123;</span><br><span class=\"line\">                <span class=\"comment\">// 为了不产生组合重复，保证每一个元素出现的次序</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span>(conList.<span class=\"built_in\">size</span>() == <span class=\"number\">0</span> || can &gt;= conList[conList.<span class=\"built_in\">size</span>() <span class=\"number\">-1</span>])&#123;</span><br><span class=\"line\">                conList.<span class=\"built_in\">emplace_back</span>(can);</span><br><span class=\"line\">                <span class=\"built_in\">dfs</span>(sum + can , conList);</span><br><span class=\"line\">                <span class=\"comment\">// 回溯</span></span><br><span class=\"line\">                conList.<span class=\"built_in\">erase</span>(conList.<span class=\"built_in\">end</span>()<span class=\"number\">-1</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; conList;</span><br><span class=\"line\">        <span class=\"built_in\">dfs</span>(<span class=\"number\">0</span>,conList);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;; </span><br></pre></td></tr></table></figure>\n<h4 id=\"216-组合总和-iii\"><a class=\"anchor\" href=\"#216-组合总和-iii\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9jb21iaW5hdGlvbi1zdW0taWlpLw==\">216. 组合总和 III</span></h4>\n<p>找出所有相加之和为  <code>n</code>  的  <code>k</code>  个数的组合，且满足下列条件：</p>\n<ul>\n<li>只使用数字 1 到 9</li>\n<li>每个数字 <strong>最多使用一次</strong></li>\n</ul>\n<p>返回 <em>所有可能的有效组合的列表</em> 。该列表不能包含相同的组合两次，组合可以以任何顺序返回。</p>\n<p><strong>示例 1:</strong></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: k = <span class=\"number\">3</span>, n = <span class=\"number\">7</span></span><br><span class=\"line\">输出: <span class=\"string\">[[1,2,4]]</span></span><br><span class=\"line\">解释:</span><br><span class=\"line\"><span class=\"number\">1</span> + <span class=\"number\">2</span> + <span class=\"number\">4</span> = <span class=\"number\">7</span></span><br><span class=\"line\">没有其他符合的组合了。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2:</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: k = 3, n = 9</span><br><span class=\"line\">输出: [[1,2,6], [1,3,5], [2,3,4]]</span><br><span class=\"line\">解释:</span><br><span class=\"line\">1 +<span class=\"number\"> 2 </span>+<span class=\"number\"> 6 </span>= 9</span><br><span class=\"line\">1 +<span class=\"number\"> 3 </span>+<span class=\"number\"> 5 </span>= 9</span><br><span class=\"line\">2 +<span class=\"number\"> 3 </span>+<span class=\"number\"> 4 </span>= 9</span><br><span class=\"line\">没有其他符合的组合了。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 3:</strong></p>\n<figure class=\"highlight makefile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">输入: k = 4, n = 1</span></span><br><span class=\"line\"><span class=\"section\">输出: []</span></span><br><span class=\"line\"><span class=\"section\">解释: 不存在有效的组合。</span></span><br><span class=\"line\">在[1,9]范围内使用4个不同的数字，我们可以得到的最小和是1+2+3+4 = 10，因为10 &gt; 1，没有有效的组合。</span><br></pre></td></tr></table></figure>\n<p><strong>提示:</strong></p>\n<ul>\n<li><code>2 &lt;= k &lt;= 9</code></li>\n<li><code>1 &lt;= n &lt;= 60</code></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">combinationSum3</span>(<span class=\"type\">int</span> k, <span class=\"type\">int</span> n) &#123;</span><br><span class=\"line\">         vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; result;</span><br><span class=\"line\">         <span class=\"comment\">// 递归 加 回溯</span></span><br><span class=\"line\">         function&lt;<span class=\"type\">void</span>(<span class=\"type\">int</span>,<span class=\"type\">int</span>,vector&lt;<span class=\"type\">int</span>&gt;)&gt; dfs = [&amp;](<span class=\"type\">int</span> conSum,<span class=\"type\">int</span> i,vector&lt;<span class=\"type\">int</span>&gt; conList)-&gt;<span class=\"type\">void</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(i&gt;k || conSum&gt;n)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(i==k &amp;&amp; conSum == n)&#123;</span><br><span class=\"line\">                result.<span class=\"built_in\">emplace_back</span>(conList);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j = <span class=\"number\">1</span>;j&lt;=<span class=\"number\">9</span>;j++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(conList.<span class=\"built_in\">size</span>() == <span class=\"number\">0</span> || j&gt;conList[conList.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>])&#123;</span><br><span class=\"line\">                    conList.<span class=\"built_in\">emplace_back</span>(j);</span><br><span class=\"line\">                    <span class=\"built_in\">dfs</span>(conSum + j,i<span class=\"number\">+1</span>,conList);</span><br><span class=\"line\">                    <span class=\"comment\">// 回溯</span></span><br><span class=\"line\">                    conList.<span class=\"built_in\">erase</span>(conList.<span class=\"built_in\">end</span>() - <span class=\"number\">1</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">         &#125;;</span><br><span class=\"line\">         vector&lt;<span class=\"type\">int</span>&gt; conList;</span><br><span class=\"line\">         <span class=\"built_in\">dfs</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,conList);</span><br><span class=\"line\">         <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"1052-爱生气的书店老板\"><a class=\"anchor\" href=\"#1052-爱生气的书店老板\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9ncnVtcHktYm9va3N0b3JlLW93bmVyLw==\">1052. 爱生气的书店老板</span></h4>\n<p>有一个书店老板，他的书店开了  <code>n</code>  分钟。每分钟都有一些顾客进入这家商店。给定一个长度为  <code>n</code>  的整数数组  <code>customers</code>  ，其中  <code>customers[i]</code>  是在第  <code>i</code>  分钟开始时进入商店的顾客数量，所有这些顾客在第  <code>i</code>  分钟结束后离开。</p>\n<p>在某些时候，书店老板会生气。 如果书店老板在第  <code>i</code>  分钟生气，那么  <code>grumpy[i] = 1</code> ，否则  <code>grumpy[i] = 0</code> 。</p>\n<p>当书店老板生气时，那一分钟的顾客就会不满意，若老板不生气则顾客是满意的。</p>\n<p>书店老板知道一个秘密技巧，能抑制自己的情绪，可以让自己连续  <code>minutes</code>  分钟不生气，但却只能使用一次。</p>\n<p>请你返回 <em>这一天营业下来，最多有多少客户能够感到满意</em> 。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：customers = [1,0,1,2,1,1,7,5], grumpy = [0,1,0,1,0,1,0,1], minutes = 3</span><br><span class=\"line\">输出：16</span><br><span class=\"line\">解释：书店老板在最后<span class=\"number\"> 3 </span>分钟保持冷静。</span><br><span class=\"line\">感到满意的最大客户数量 =<span class=\"number\"> 1 </span>+<span class=\"number\"> 1 </span>+<span class=\"number\"> 1 </span>+<span class=\"number\"> 1 </span>+<span class=\"number\"> 7 </span>+<span class=\"number\"> 5 </span>= 16.</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：customers = <span class=\"comment\">[1]</span>, grumpy = <span class=\"comment\">[0]</span>, minutes = 1</span><br><span class=\"line\">输出：1</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>n == customers.length == grumpy.length</code></li>\n<li><code>1 &lt;= minutes &lt;= n &lt;= 2 * 104</code></li>\n<li><code>0 &lt;= customers[i] &lt;= 1000</code></li>\n<li><code>grumpy[i] == 0 or 1</code></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maxSatisfied</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; customers, vector&lt;<span class=\"type\">int</span>&gt;&amp; grumpy, <span class=\"type\">int</span> minutes)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 前缀和，将加和分成三部分</span></span><br><span class=\"line\">        <span class=\"type\">int</span> length = customers.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">left_anger_cunstomers</span><span class=\"params\">(length)</span></span>;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">right_anger_cunstomers</span><span class=\"params\">(length)</span></span>;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">con_sum</span><span class=\"params\">(length)</span></span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>;i&lt;length;i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(i==<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                con_sum[i] = customers[i];</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                con_sum[i] = con_sum[i<span class=\"number\">-1</span>] + customers[i];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(minutes &gt;= length)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> con_sum[length - <span class=\"number\">1</span>];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>;i&lt;length;i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(grumpy[i] == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">              <span class=\"keyword\">if</span>(i==<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                left_anger_cunstomers[i] = customers[i];</span><br><span class=\"line\">              &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                left_anger_cunstomers[i] = left_anger_cunstomers[i<span class=\"number\">-1</span>] + customers[i];</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">               <span class=\"keyword\">if</span>(i==<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                left_anger_cunstomers[i] = <span class=\"number\">0</span>;</span><br><span class=\"line\">              &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                left_anger_cunstomers[i] = left_anger_cunstomers[i<span class=\"number\">-1</span>];</span><br><span class=\"line\">              &#125;  </span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = length<span class=\"number\">-1</span>;i&gt;=<span class=\"number\">0</span>;i--)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(grumpy[i] == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">              <span class=\"keyword\">if</span>(i==length<span class=\"number\">-1</span>)&#123;</span><br><span class=\"line\">                right_anger_cunstomers[i] = customers[i];</span><br><span class=\"line\">              &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                right_anger_cunstomers[i] = right_anger_cunstomers[i<span class=\"number\">+1</span>] + customers[i];</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">               <span class=\"keyword\">if</span>(i==length<span class=\"number\">-1</span>)&#123;</span><br><span class=\"line\">                right_anger_cunstomers[i] = <span class=\"number\">0</span>;</span><br><span class=\"line\">              &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                right_anger_cunstomers[i] = right_anger_cunstomers[i<span class=\"number\">+1</span>];</span><br><span class=\"line\">              &#125;  </span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>;i&lt;=length-minutes;i++)&#123;</span><br><span class=\"line\">           <span class=\"keyword\">if</span>(i==<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">              result = <span class=\"built_in\">max</span>(result,con_sum[minutes<span class=\"number\">-1</span>]+right_anger_cunstomers[minutes]);</span><br><span class=\"line\">           &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(i==length-minutes)&#123;</span><br><span class=\"line\">              result = <span class=\"built_in\">max</span>(result,left_anger_cunstomers[i<span class=\"number\">-1</span>] + con_sum[i+minutes<span class=\"number\">-1</span>]-con_sum[i<span class=\"number\">-1</span>]);</span><br><span class=\"line\">           &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">              result = <span class=\"built_in\">max</span>(result,left_anger_cunstomers[i<span class=\"number\">-1</span>] + con_sum[i+minutes<span class=\"number\">-1</span>]-con_sum[i<span class=\"number\">-1</span>]+right_anger_cunstomers[i+minutes]);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"2385-感染二叉树需要的总时间\"><a class=\"anchor\" href=\"#2385-感染二叉树需要的总时间\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9hbW91bnQtb2YtdGltZS1mb3ItYmluYXJ5LXRyZWUtdG8tYmUtaW5mZWN0ZWQv\">2385. 感染二叉树需要的总时间</span></h4>\n<p>给你一棵二叉树的根节点  <code>root</code>  ，二叉树中节点的值 <strong>互不相同</strong> 。另给你一个整数  <code>start</code>  。在第  <code>0</code>  分钟，<strong>感染</strong> 将会从值为  <code>start</code>  的节点开始爆发。</p>\n<p>每分钟，如果节点满足以下全部条件，就会被感染：</p>\n<ul>\n<li>节点此前还没有感染。</li>\n<li>节点与一个已感染节点相邻。</li>\n</ul>\n<p>返回感染整棵树需要的分钟数 *。*</p>\n<p><strong>示例 1：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2022/06/25/image-20220625231744-1.png\" alt=\"img\"></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：root = [1,5,3,null,4,10,6,9,2], start = 3</span><br><span class=\"line\">输出：4</span><br><span class=\"line\">解释：节点按以下过程被感染：</span><br><span class=\"line\">- 第<span class=\"number\"> 0 </span>分钟：节点 3</span><br><span class=\"line\">- 第<span class=\"number\"> 1 </span>分钟：节点 1、10、6</span><br><span class=\"line\">- 第<span class=\"number\"> 2 </span>分钟：节点5</span><br><span class=\"line\">- 第<span class=\"number\"> 3 </span>分钟：节点 4</span><br><span class=\"line\">- 第<span class=\"number\"> 4 </span>分钟：节点<span class=\"number\"> 9 </span>和 2</span><br><span class=\"line\">感染整棵树需要<span class=\"number\"> 4 </span>分钟，所以返回<span class=\"number\"> 4 </span>。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2022/06/25/image-20220625231812-2.png\" alt=\"img\"></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：root = [1], start = 1</span><br><span class=\"line\">输出：0</span><br><span class=\"line\">解释：第<span class=\"number\"> 0 </span>分钟，树中唯一一个节点处于感染状态，返回<span class=\"number\"> 0 </span>。 </span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li>树中节点的数目在范围  <code>[1, 105]</code>  内</li>\n<li><code>1 &lt;= Node.val &lt;= 105</code></li>\n<li>每个节点的值 <strong>互不相同</strong></li>\n<li>树中必定存在值为  <code>start</code>  的节点</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Definition for a binary tree node.</span></span><br><span class=\"line\"><span class=\"comment\"> * struct TreeNode &#123;</span></span><br><span class=\"line\"><span class=\"comment\"> *     int val;</span></span><br><span class=\"line\"><span class=\"comment\"> *     TreeNode *left;</span></span><br><span class=\"line\"><span class=\"comment\"> *     TreeNode *right;</span></span><br><span class=\"line\"><span class=\"comment\"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\"> * &#125;;</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">amountOfTime</span><span class=\"params\">(TreeNode* root, <span class=\"type\">int</span> start)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// int left_num = 0 ;</span></span><br><span class=\"line\">        <span class=\"comment\">// int right_num = 0;</span></span><br><span class=\"line\">        <span class=\"comment\">// int left_depth = 0;</span></span><br><span class=\"line\">        <span class=\"comment\">// int right_depth = 0;</span></span><br><span class=\"line\">        <span class=\"comment\">// function&lt;int(TreeNode*)&gt; depth = [&amp;](TreeNode* root)-&gt;int&#123;</span></span><br><span class=\"line\">           </span><br><span class=\"line\">        <span class=\"comment\">//     if(!root-&gt;left &amp;&amp; !root-&gt;right)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//         return 1;</span></span><br><span class=\"line\">        <span class=\"comment\">//     &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//     int result = 0;</span></span><br><span class=\"line\">        <span class=\"comment\">//     if(root-&gt;left) result = max(result,depth(root-&gt;left));</span></span><br><span class=\"line\">        <span class=\"comment\">//     if(root-&gt;right) result = max(result,depth(root-&gt;right));</span></span><br><span class=\"line\">        <span class=\"comment\">//     return result + 1;</span></span><br><span class=\"line\">        <span class=\"comment\">// &#125;;</span></span><br><span class=\"line\">        <span class=\"comment\">// function&lt;void(TreeNode*,int&amp;,int&amp;)&gt; cengxu = [&amp;](TreeNode * root,int&amp; con_depth,int&amp; depth)-&gt;void&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//     queue&lt;pair&lt;TreeNode*,int&gt;&gt; que;</span></span><br><span class=\"line\">        <span class=\"comment\">//     que.push(&#123;root,1&#125;);</span></span><br><span class=\"line\">        <span class=\"comment\">//     while(!que.empty())&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//       pair&lt;TreeNode*,int&gt; top = que.front();</span></span><br><span class=\"line\">        <span class=\"comment\">//       que.pop();</span></span><br><span class=\"line\">        <span class=\"comment\">//       depth = top.second;</span></span><br><span class=\"line\">        <span class=\"comment\">//       if(top.first-&gt;val == start)  con_depth = top.second ;</span></span><br><span class=\"line\">        <span class=\"comment\">//       if(top.first-&gt;left) que.push(&#123;top.first-&gt;left,top.second + 1&#125;);</span></span><br><span class=\"line\">        <span class=\"comment\">//       if(top.first-&gt;right) que.push(&#123;top.first-&gt;right,top.second + 1&#125;);</span></span><br><span class=\"line\">        <span class=\"comment\">//     &#125; </span></span><br><span class=\"line\">        <span class=\"comment\">// &#125;;</span></span><br><span class=\"line\">        <span class=\"comment\">// if(root-&gt;left) cengxu(root-&gt;left,left_num,left_depth);</span></span><br><span class=\"line\">        <span class=\"comment\">// if(root-&gt;right) cengxu(root-&gt;right,right_num,right_depth);</span></span><br><span class=\"line\">        <span class=\"comment\">// cout &lt;&lt; &quot;depth:&quot; &lt;&lt; left_depth &lt;&lt; &quot; &quot; &lt;&lt; right_depth &lt;&lt; endl;</span></span><br><span class=\"line\">        <span class=\"comment\">// cout &lt;&lt; &quot;num:&quot; &lt;&lt; left_num &lt;&lt; &quot; &quot; &lt;&lt; right_num &lt;&lt;endl; </span></span><br><span class=\"line\">        <span class=\"comment\">// return max(left_depth - left_num + right_num,right_depth-right_num + left_num);</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 图结构</span></span><br><span class=\"line\">        <span class=\"comment\">// 深度优先搜索将二叉树构建成图结构，然后进行广度优先搜索</span></span><br><span class=\"line\">        unordered_map&lt;<span class=\"type\">int</span>, vector&lt;<span class=\"type\">int</span>&gt;&gt; graph;</span><br><span class=\"line\">        function&lt;<span class=\"type\">void</span>(TreeNode *)&gt; dfs = [&amp;](TreeNode *node) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (TreeNode *child : vector&lt;TreeNode *&gt;&#123;node-&gt;left, node-&gt;right&#125;) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (child != <span class=\"literal\">nullptr</span>) &#123;</span><br><span class=\"line\">                    graph[node-&gt;val].<span class=\"built_in\">push_back</span>(child-&gt;val);</span><br><span class=\"line\">                    graph[child-&gt;val].<span class=\"built_in\">push_back</span>(node-&gt;val);</span><br><span class=\"line\">                    <span class=\"built_in\">dfs</span>(child);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"built_in\">dfs</span>(root);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 广度优先搜索</span></span><br><span class=\"line\">        queue&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; q;</span><br><span class=\"line\">        q.<span class=\"built_in\">push</span>(&#123;start, <span class=\"number\">0</span>&#125;);</span><br><span class=\"line\">        unordered_set&lt;<span class=\"type\">int</span>&gt; visited;</span><br><span class=\"line\">        visited.<span class=\"built_in\">insert</span>(start);</span><br><span class=\"line\">        <span class=\"type\">int</span> time = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (!q.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">auto</span> arr = q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">            q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            <span class=\"type\">int</span> nodeVal = arr[<span class=\"number\">0</span>];</span><br><span class=\"line\">            time = arr[<span class=\"number\">1</span>];</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> childVal: graph[nodeVal]) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (!visited.<span class=\"built_in\">count</span>(childVal)) &#123;</span><br><span class=\"line\">                    q.<span class=\"built_in\">push</span>(&#123;childVal, time + <span class=\"number\">1</span>&#125;);</span><br><span class=\"line\">                    visited.<span class=\"built_in\">insert</span>(childVal);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> time;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"994-腐烂的橘子\"><a class=\"anchor\" href=\"#994-腐烂的橘子\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9yb3R0aW5nLW9yYW5nZXMv\">994. 腐烂的橘子</span></h4>\n<p>在给定的  <code>m x n</code>  网格  <code>grid</code>  中，每个单元格可以有以下三个值之一：</p>\n<ul>\n<li>值  <code>0</code>  代表空单元格；</li>\n<li>值  <code>1</code>  代表新鲜橘子；</li>\n<li>值  <code>2</code>  代表腐烂的橘子。</li>\n</ul>\n<p>每分钟，腐烂的橘子 <strong>周围 4 个方向上相邻</strong> 的新鲜橘子都会腐烂。</p>\n<p>返回 <em>直到单元格中没有新鲜橘子为止所必须经过的最小分钟数。如果不可能，返回  <code>-1</code> </em> 。</p>\n<p><strong>示例 1：</strong></p>\n<p><strong><img data-src=\"https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2019/02/16/oranges.png\" alt=\"img\"></strong></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：grid = <span class=\"string\">[[2,1,1],[1,1,0],[0,1,1]]</span></span><br><span class=\"line\">输出：<span class=\"number\">4</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：grid = <span class=\"string\">[[2,1,1],[0,1,1],[1,0,1]]</span></span><br><span class=\"line\">输出：<span class=\"number\">-1</span></span><br><span class=\"line\">解释：左下角的橘子（第 <span class=\"number\">2</span> 行， 第 <span class=\"number\">0</span> 列）永远不会腐烂，因为腐烂只会发生在 <span class=\"number\">4</span> 个方向上。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：grid = <span class=\"string\">[[0,2]]</span></span><br><span class=\"line\">输出：<span class=\"number\">0</span></span><br><span class=\"line\">解释：因为 <span class=\"number\">0</span> 分钟时已经没有新鲜橘子了，所以答案就是 <span class=\"number\">0</span> 。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>m == grid.length</code></li>\n<li><code>n == grid[i].length</code></li>\n<li><code>1 &lt;= m, n &lt;= 10</code></li>\n<li><code>grid[i][j]</code>  仅为  <code>0</code> 、 <code>1</code>  或  <code>2</code></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">orangesRotting</span><span class=\"params\">(vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//   观察到对于所有的腐烂橘子，其实它们在广度优先搜索上是等价于同一层的节点的。</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 假设这些腐烂橘子刚开始是新鲜的，而有一个腐烂橘子(我们令其为超级源点)会在下一秒把这些橘子都变腐烂，而这个腐烂橘子刚开始在的时间是 −1 ，那么按照广度优先搜索的算法，下一分钟也就是第 0 分钟的时候，这个腐烂橘子会把它们都变成腐烂橘子，然后继续向外拓展，所以其实这些腐烂橘子是同一层的节点。那么在广度优先搜索的时候，我们将这些腐烂橘子都放进队列里进行广度优先搜索即可，最后每个新鲜橘子被腐烂的最短时间 dis[x][y]其实是以这个超级源点的腐烂橘子为起点的广度优先搜索得到的结果。</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 为了确认是否所有新鲜橘子都被腐烂，可以记录一个变量 cnt表示当前网格中的新鲜橘子数，广度优先搜索的时候如果有新鲜橘子被腐烂，则 cnt=cnt−1，最后搜索结束时如果 cnt大于 0 ，说明有新鲜橘子没被腐烂，返回 −1 ，否则返回所有新鲜橘子被腐烂的时间的最大值即可，也可以在广度优先搜索的过程中把已腐烂的新鲜橘子的值由 1 改为 2，最后看网格中是否由值为 1 即新鲜的橘子即可。</span></span><br><span class=\"line\"></span><br><span class=\"line\">     </span><br><span class=\"line\">      queue&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; que;</span><br><span class=\"line\">      <span class=\"type\">int</span> n = grid.<span class=\"built_in\">size</span>(), m= grid[<span class=\"number\">0</span>].<span class=\"built_in\">size</span>();</span><br><span class=\"line\">      <span class=\"type\">int</span> cnt = <span class=\"number\">0</span>;</span><br><span class=\"line\">      vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">used</span>(n,<span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(m,<span class=\"number\">0</span>));</span><br><span class=\"line\">      <span class=\"comment\">// 首先将所有腐烂节点添加到队列中，相当于广度优先搜索中的同一层节点</span></span><br><span class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>;i&lt;n;i++)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j = <span class=\"number\">0</span>;j&lt;m;j++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(grid[i][j]==<span class=\"number\">2</span>)&#123;</span><br><span class=\"line\">                que.<span class=\"built_in\">push</span>(&#123;i,j,<span class=\"number\">0</span>&#125;);</span><br><span class=\"line\">                used[i][j] = <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(grid[i][j]==<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                <span class=\"comment\">// 记录正常节点的个数</span></span><br><span class=\"line\">                cnt++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      vector&lt;<span class=\"type\">int</span>&gt; X = &#123;<span class=\"number\">-1</span>,<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">      vector&lt;<span class=\"type\">int</span>&gt; Y =&#123;<span class=\"number\">0</span>,<span class=\"number\">-1</span>,<span class=\"number\">0</span>,<span class=\"number\">1</span>&#125;;</span><br><span class=\"line\">      <span class=\"type\">int</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"comment\">// 在指定层开始进行广度优先搜索</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">while</span>(!que.<span class=\"built_in\">empty</span>() &amp;&amp; cnt&gt;<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; q = que.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">        <span class=\"type\">int</span> x = q[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"type\">int</span> y = q[<span class=\"number\">1</span>];</span><br><span class=\"line\">        <span class=\"type\">int</span> step = q[<span class=\"number\">2</span>];</span><br><span class=\"line\">        que.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>;i&lt;<span class=\"number\">4</span>;i++)&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> next_x = x + X[i];</span><br><span class=\"line\">            <span class=\"type\">int</span> next_y = y + Y[i];</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(next_x &gt;=n || next_x &lt; <span class=\"number\">0</span> || next_y &lt; <span class=\"number\">0</span> || next_y&gt;=m || used[next_x][next_y] == <span class=\"number\">1</span> || grid[next_x][next_y] == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            que.<span class=\"built_in\">push</span>(&#123;next_x,next_y,step + <span class=\"number\">1</span>&#125;);</span><br><span class=\"line\">            used[next_x][next_y] = <span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(grid[next_x][next_y]==<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                cnt--;</span><br><span class=\"line\">                result = step + <span class=\"number\">1</span>;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(cnt == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                    <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      cout &lt;&lt; cnt &lt;&lt;endl;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> cnt == <span class=\"number\">0</span> ? result : <span class=\"number\">-1</span>;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"1953-你可以工作的最大周数\"><a class=\"anchor\" href=\"#1953-你可以工作的最大周数\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9tYXhpbXVtLW51bWJlci1vZi13ZWVrcy1mb3Itd2hpY2gteW91LWNhbi13b3JrLw==\">1953. 你可以工作的最大周数</span></h4>\n<p>给你  <code>n</code>  个项目，编号从  <code>0</code>  到  <code>n - 1</code>  。同时给你一个整数数组  <code>milestones</code>  ，其中每个  <code>milestones[i]</code>  表示第  <code>i</code>  个项目中的阶段任务数量。</p>\n<p>你可以按下面两个规则参与项目中的工作：</p>\n<ul>\n<li>每周，你将会完成 <strong>某一个</strong> 项目中的 <strong>恰好一个</strong> 阶段任务。你每周都 <strong>必须</strong> 工作。</li>\n<li>在 <strong>连续的</strong> 两周中，你 <strong>不能</strong> 参与并完成同一个项目中的两个阶段任务。</li>\n</ul>\n<p>一旦所有项目中的全部阶段任务都完成，或者仅剩余一个阶段任务都会导致你违反上面的规则，那么你将 <strong>停止工作</strong> 。注意，由于这些条件的限制，你可能无法完成所有阶段任务。</p>\n<p>返回在不违反上面规则的情况下你 <strong>最多</strong> 能工作多少周。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：milestones = [1,2,3]</span><br><span class=\"line\">输出：6</span><br><span class=\"line\">解释：一种可能的情形是：</span><br><span class=\"line\">- 第<span class=\"number\"> 1 </span>周，你参与并完成项目<span class=\"number\"> 0 </span>中的一个阶段任务。</span><br><span class=\"line\">- 第<span class=\"number\"> 2 </span>周，你参与并完成项目<span class=\"number\"> 2 </span>中的一个阶段任务。</span><br><span class=\"line\">- 第<span class=\"number\"> 3 </span>周，你参与并完成项目<span class=\"number\"> 1 </span>中的一个阶段任务。</span><br><span class=\"line\">- 第<span class=\"number\"> 4 </span>周，你参与并完成项目<span class=\"number\"> 2 </span>中的一个阶段任务。</span><br><span class=\"line\">- 第<span class=\"number\"> 5 </span>周，你参与并完成项目<span class=\"number\"> 1 </span>中的一个阶段任务。</span><br><span class=\"line\">- 第<span class=\"number\"> 6 </span>周，你参与并完成项目<span class=\"number\"> 2 </span>中的一个阶段任务。</span><br><span class=\"line\">总周数是<span class=\"number\"> 6 </span>。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：milestones = [5,2,1]</span><br><span class=\"line\">输出：7</span><br><span class=\"line\">解释：一种可能的情形是：</span><br><span class=\"line\">- 第<span class=\"number\"> 1 </span>周，你参与并完成项目<span class=\"number\"> 0 </span>中的一个阶段任务。</span><br><span class=\"line\">- 第<span class=\"number\"> 2 </span>周，你参与并完成项目<span class=\"number\"> 1 </span>中的一个阶段任务。</span><br><span class=\"line\">- 第<span class=\"number\"> 3 </span>周，你参与并完成项目<span class=\"number\"> 0 </span>中的一个阶段任务。</span><br><span class=\"line\">- 第<span class=\"number\"> 4 </span>周，你参与并完成项目<span class=\"number\"> 1 </span>中的一个阶段任务。</span><br><span class=\"line\">- 第<span class=\"number\"> 5 </span>周，你参与并完成项目<span class=\"number\"> 0 </span>中的一个阶段任务。</span><br><span class=\"line\">- 第<span class=\"number\"> 6 </span>周，你参与并完成项目<span class=\"number\"> 2 </span>中的一个阶段任务。</span><br><span class=\"line\">- 第<span class=\"number\"> 7 </span>周，你参与并完成项目<span class=\"number\"> 0 </span>中的一个阶段任务。</span><br><span class=\"line\">总周数是<span class=\"number\"> 7 </span>。</span><br><span class=\"line\">注意，你不能在第<span class=\"number\"> 8 </span>周参与完成项目<span class=\"number\"> 0 </span>中的最后一个阶段任务，因为这会违反规则。</span><br><span class=\"line\">因此，项目<span class=\"number\"> 0 </span>中会有一个阶段任务维持未完成状态。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>n == milestones.length</code></li>\n<li><code>1 &lt;= n &lt;= 105</code></li>\n<li><code>1 &lt;= milestones[i] &lt;= 109</code></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">long</span> <span class=\"type\">long</span> <span class=\"title\">numberOfWeeks</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; milestones)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 目的就是在一个有重复的数组中，找到一个最长的序列，并且要满足相同的值不能连续出现</span></span><br><span class=\"line\">    <span class=\"comment\">//    long long result = 0;</span></span><br><span class=\"line\">    <span class=\"comment\">// //    unordered_multiset&lt;int&gt;  data;</span></span><br><span class=\"line\">    <span class=\"comment\">//    int n =  milestones.size();</span></span><br><span class=\"line\">    <span class=\"comment\">//    unordered_set&lt;int&gt;  myset;</span></span><br><span class=\"line\">    <span class=\"comment\">//    int sum = accumulate(milestones.begin(),milestones.end(),0);</span></span><br><span class=\"line\">    <span class=\"comment\">//    for(int i = 0;i&lt;n;i++)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//      myset.insert(i);</span></span><br><span class=\"line\">    <span class=\"comment\">//    &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">// //    for(int i = 0;i&lt;n;i++)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">// //        for(int j = 0;j&lt;milestones[i];j++)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">// //            data.insert(i);</span></span><br><span class=\"line\">    <span class=\"comment\">// //        &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">// //    &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">// //    vector&lt;int&gt;  meo( n + 1,-1);</span></span><br><span class=\"line\">    <span class=\"comment\">//    function&lt;long long (int)&gt;  dfs = [&amp;](int x)-&gt;long long&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//     //   if(x&gt;=0 &amp;&amp; meo[x]!=-1)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//     //     return meo[x];</span></span><br><span class=\"line\">    <span class=\"comment\">//     //   &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//       if(myset.empty() || sum == 1 &amp;&amp; *myset.begin()==x)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//           return 0;</span></span><br><span class=\"line\">    <span class=\"comment\">//       &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//       long long result = 0;</span></span><br><span class=\"line\">    <span class=\"comment\">//       for(int i = 0;i&lt;n;i++)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//         // auto it = data.find(i);</span></span><br><span class=\"line\">    <span class=\"comment\">//         // if(it == data.end() || x==i)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//         //     continue;</span></span><br><span class=\"line\">    <span class=\"comment\">//         //  &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//         if(milestones[i]==0 || i==x)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//             continue;</span></span><br><span class=\"line\">    <span class=\"comment\">//         &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//         milestones[i]--;</span></span><br><span class=\"line\">    <span class=\"comment\">//         sum ++;</span></span><br><span class=\"line\">    <span class=\"comment\">//         if(milestones[i]==0)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//             myset.erase(i);</span></span><br><span class=\"line\">    <span class=\"comment\">//         &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//         result = max(result, 1 + dfs(i));</span></span><br><span class=\"line\">    <span class=\"comment\">//         // data.insert(i);</span></span><br><span class=\"line\">    <span class=\"comment\">//         sum++;</span></span><br><span class=\"line\">    <span class=\"comment\">//         milestones[i]++;</span></span><br><span class=\"line\">    <span class=\"comment\">//         myset.insert(i);</span></span><br><span class=\"line\">    <span class=\"comment\">//       &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//     //   if(x&gt;=0)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//     //     meo[x] = result;</span></span><br><span class=\"line\">    <span class=\"comment\">//     //   &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//       return result;</span></span><br><span class=\"line\">    <span class=\"comment\">//    &#125;;</span></span><br><span class=\"line\">    <span class=\"comment\">//    return dfs(-1);</span></span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"comment\">// 耗时最长工作所需周数</span></span><br><span class=\"line\">        <span class=\"type\">long</span> <span class=\"type\">long</span> longest = *<span class=\"built_in\">max_element</span>(milestones.<span class=\"built_in\">begin</span>(), milestones.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"comment\">// 其余工作共计所需周数</span></span><br><span class=\"line\">        <span class=\"type\">long</span> <span class=\"type\">long</span> rest = <span class=\"built_in\">accumulate</span>(milestones.<span class=\"built_in\">begin</span>(), milestones.<span class=\"built_in\">end</span>(), <span class=\"number\">0LL</span>) - longest;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (longest &gt; rest + <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 此时无法完成所耗时最长的工作</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> rest * <span class=\"number\">2</span> + <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 此时可以完成所有工作</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> longest + rest;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"826-安排工作以达到最大收益\"><a class=\"anchor\" href=\"#826-安排工作以达到最大收益\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9tb3N0LXByb2ZpdC1hc3NpZ25pbmctd29yay8=\">826. 安排工作以达到最大收益</span></h4>\n<p>你有  <code>n</code>  个工作和  <code>m</code>  个工人。给定三个数组：  <code>difficulty</code> ,  <code>profit</code>  和  <code>worker</code>  ，其中:</p>\n<ul>\n<li><code>difficulty[i]</code>  表示第  <code>i</code>  个工作的难度， <code>profit[i]</code>  表示第  <code>i</code>  个工作的收益。</li>\n<li><code>worker[i]</code>  是第  <code>i</code>  个工人的能力，即该工人只能完成难度小于等于  <code>worker[i]</code>  的工作。</li>\n</ul>\n<p>每个工人 <strong>最多</strong> 只能安排 <strong>一个</strong> 工作，但是一个工作可以 <strong>完成多次</strong> 。</p>\n<ul>\n<li>举个例子，如果 3 个工人都尝试完成一份报酬为  <code>$1</code>  的同样工作，那么总收益为  <code>$3</code>  。如果一个工人不能完成任何工作，他的收益为  <code>$0</code>  。</li>\n</ul>\n<p>返回 <em>在把工人分配到工作岗位后，我们所能获得的最大利润</em> 。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight dns\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: difficulty = [<span class=\"number\">2,4,6,8</span>,<span class=\"number\">10</span>], profit = [<span class=\"number\">10,20,30,40</span>,<span class=\"number\">50</span>], worker = [<span class=\"number\">4,5,6,7</span>]</span><br><span class=\"line\">输出: <span class=\"number\">100</span> </span><br><span class=\"line\">解释: 工人被分配的工作难度是 [<span class=\"number\">4,4,6,6</span>] ，分别获得 [<span class=\"number\">20,20,30,30</span>] 的收益。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2:</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: difficulty = <span class=\"comment\">[85,47,57]</span>, profit = <span class=\"comment\">[24,66,99]</span>, worker = <span class=\"comment\">[40,25,25]</span></span><br><span class=\"line\">输出: 0</span><br></pre></td></tr></table></figure>\n<p><strong>提示:</strong></p>\n<ul>\n<li><code>n == difficulty.length</code></li>\n<li><code>n == profit.length</code></li>\n<li><code>m == worker.length</code></li>\n<li><code>1 &lt;= n, m &lt;= 104</code></li>\n<li><code>1 &lt;= difficulty[i], profit[i], worker[i] &lt;= 105</code></li>\n</ul>\n<p>方法一：排序 + 双指针<br>\n思路与算法</p>\n<p>我们首先对工人按照能力大小排序，对工作按照难度排序。</p>\n<p>我们使用「双指针」的方法，一个指针指向工人数组，一个指向任务数组，从低难度的任务开始遍历。对于每个工人，我们继续遍历任务，直到难度大于其能力，并把可以完成任务中的最大利润更新到结果中。</p>\n<p>最后返回所有工人能得到的利润总和。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maxProfitAssignment</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; difficulty, vector&lt;<span class=\"type\">int</span>&gt;&amp; profit, vector&lt;<span class=\"type\">int</span>&gt;&amp; worker)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// map&lt;int,int&gt; tasks;</span></span><br><span class=\"line\">        <span class=\"comment\">// int n = difficulty.size();</span></span><br><span class=\"line\">        <span class=\"comment\">// for(int i = 0;i&lt;n;i++)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//     tasks[difficulty[i]] = profit[i];</span></span><br><span class=\"line\">        <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">// for(auto&amp;[key ,value]:tasks)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//     cout &lt;&lt; key &lt;&lt;&quot; :&quot; &lt;&lt; value&lt;&lt;endl;</span></span><br><span class=\"line\">        <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">// cout &lt;&lt; &quot;------&quot;&lt;&lt;endl;</span></span><br><span class=\"line\">        <span class=\"comment\">// int result = 0;</span></span><br><span class=\"line\">        <span class=\"comment\">// for(auto w:worker)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//     auto it=tasks.find(w);</span></span><br><span class=\"line\">        <span class=\"comment\">//     int price = 0;</span></span><br><span class=\"line\">        <span class=\"comment\">//     if(it!=tasks.end())&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//         it++;</span></span><br><span class=\"line\">        <span class=\"comment\">//     &#125;else&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//          it = tasks.lower_bound(w);</span></span><br><span class=\"line\">        <span class=\"comment\">//          it;</span></span><br><span class=\"line\">        <span class=\"comment\">//     &#125;</span></span><br><span class=\"line\">            </span><br><span class=\"line\">        <span class=\"comment\">//     for(auto i = tasks.begin();i!=it;i++)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//         price = max(price,i-&gt;second);</span></span><br><span class=\"line\">        <span class=\"comment\">//     &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//     cout &lt;&lt; w &lt;&lt; &quot;|&quot;&lt;&lt; it-&gt;first &lt;&lt; &quot;:&quot;&lt;&lt;it-&gt;second &lt;&lt;&quot;   &quot;&lt;&lt; price &lt;&lt; endl;</span></span><br><span class=\"line\">        <span class=\"comment\">//     result += price;</span></span><br><span class=\"line\">        <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">// return result;</span></span><br><span class=\"line\"></span><br><span class=\"line\">         vector&lt;pair&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt;&gt; jobs;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = profit.<span class=\"built_in\">size</span>(), res = <span class=\"number\">0</span>, i = <span class=\"number\">0</span>, best = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt; n; ++j) &#123;</span><br><span class=\"line\">            jobs.<span class=\"built_in\">emplace_back</span>(difficulty[j], profit[j]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"built_in\">sort</span>(jobs.<span class=\"built_in\">begin</span>(), jobs.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"built_in\">sort</span>(worker.<span class=\"built_in\">begin</span>(), worker.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> w : worker) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> (i &lt; n &amp;&amp; w &gt;= jobs[i].first) &#123;</span><br><span class=\"line\">                best = <span class=\"built_in\">max</span>(best, jobs[i].second);</span><br><span class=\"line\">                i++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            res += best;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"1535-找出数组游戏的赢家\"><a class=\"anchor\" href=\"#1535-找出数组游戏的赢家\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9maW5kLXRoZS13aW5uZXItb2YtYW4tYXJyYXktZ2FtZS8=\">1535. 找出数组游戏的赢家</span></h4>\n<p>给你一个由 <strong>不同</strong> 整数组成的整数数组  <code>arr</code>  和一个整数  <code>k</code>  。</p>\n<p>每回合游戏都在数组的前两个元素（即  <code>arr[0]</code>  和  <code>arr[1]</code>  ）之间进行。比较  <code>arr[0]</code>  与  <code>arr[1]</code>  的大小，较大的整数将会取得这一回合的胜利并保留在位置  <code>0</code>  ，较小的整数移至数组的末尾。当一个整数赢得  <code>k</code>  个连续回合时，游戏结束，该整数就是比赛的 <strong>赢家</strong> 。</p>\n<p>返回赢得比赛的整数。</p>\n<p>题目数据 <strong>保证</strong> 游戏存在赢家。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：arr = [2,1,3,5,4,6,7], k = 2</span><br><span class=\"line\">输出：5</span><br><span class=\"line\">解释：一起看一下本场游戏每回合的情况：</span><br><span class=\"line\"></span><br><span class=\"line\">因此将进行<span class=\"number\"> 4 </span>回合比赛，其中<span class=\"number\"> 5 </span>是赢家，因为它连胜<span class=\"number\"> 2 </span>回合。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight fix\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">输入：arr </span>=<span class=\"string\"> [3,2,1], k = 10</span></span><br><span class=\"line\"><span class=\"string\">输出：3</span></span><br><span class=\"line\"><span class=\"string\">解释：3 将会在前 10 个回合中连续获胜。</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight dns\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：arr = [<span class=\"number\">1,9,8,2</span>,<span class=\"number\">3,7,6,4</span>,<span class=\"number\">5</span>], k = <span class=\"number\">7</span></span><br><span class=\"line\">输出：<span class=\"number\">9</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 4：</strong></p>\n<figure class=\"highlight dns\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：arr = [<span class=\"number\">1,11,22,33</span>,<span class=\"number\">44,55,66,77</span>,<span class=\"number\">88</span>,<span class=\"number\">99</span>], k = <span class=\"number\">1000000000</span></span><br><span class=\"line\">输出：<span class=\"number\">99</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>2 &lt;= arr.length &lt;= 10^5</code></li>\n<li><code>1 &lt;= arr[i] &lt;= 10^6</code></li>\n<li><code>arr</code>  所含的整数 <strong>各不相同</strong> 。</li>\n<li><code>1 &lt;= k &lt;= 10^9</code></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">getWinner</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; arr, <span class=\"type\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 想法：遍历寻找并且记录当下连胜的回合数，并且</span></span><br><span class=\"line\">        <span class=\"comment\">// 根据判断结果，实时更新回合数</span></span><br><span class=\"line\">        <span class=\"comment\">// 可以认为一旦完全比完一组，就找到了最大值</span></span><br><span class=\"line\">        <span class=\"comment\">// 此时不管进行多少个轮回都是这个最大值，因此我们最多就进行一轮遍历就好了</span></span><br><span class=\"line\">        <span class=\"comment\">// 要么在一轮遍历之前就满足k 的条件，要么一轮结束后，num 就是最大值，之后</span></span><br><span class=\"line\">        <span class=\"comment\">// 不论怎么比，都是数组最大值，返回就行了</span></span><br><span class=\"line\">        <span class=\"type\">int</span>  num = arr[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"type\">int</span> index =<span class=\"number\">1</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = arr.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"type\">int</span> win = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span>(index &lt; n)&#123;</span><br><span class=\"line\">           <span class=\"keyword\">if</span>(arr[index]&gt;=num)&#123;</span><br><span class=\"line\">              num = arr[index];</span><br><span class=\"line\">              win = <span class=\"number\">1</span>;</span><br><span class=\"line\">           &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">              win++;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           <span class=\"keyword\">if</span>(win&gt;=k)&#123;</span><br><span class=\"line\">                  <span class=\"keyword\">return</span> num;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">           index++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> num;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"2831-找出最长等值子数组\"><a class=\"anchor\" href=\"#2831-找出最长等值子数组\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9maW5kLXRoZS1sb25nZXN0LWVxdWFsLXN1YmFycmF5Lw==\">2831. 找出最长等值子数组</span></h4>\n<p>给你一个下标从 <strong>0</strong> 开始的整数数组  <code>nums</code>  和一个整数  <code>k</code>  。</p>\n<p>如果子数组中所有元素都相等，则认为子数组是一个 <strong>等值子数组</strong> 。注意，空数组是 <strong>等值子数组</strong> 。</p>\n<p>从  <code>nums</code>  中删除最多  <code>k</code>  个元素后，返回可能的最长等值子数组的长度。</p>\n<p><strong>子数组</strong> 是数组中一个连续且可能为空的元素序列。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = [1,3,2,3,1,3], k = 3</span><br><span class=\"line\">输出：3</span><br><span class=\"line\">解释：最优的方案是删除下标<span class=\"number\"> 2 </span>和下标<span class=\"number\"> 4 </span>的元素。</span><br><span class=\"line\">删除后，nums 等于 [1, 3, 3, 3] 。</span><br><span class=\"line\">最长等值子数组从 i =<span class=\"number\"> 1 </span>开始到 j =<span class=\"number\"> 3 </span>结束，长度等于<span class=\"number\"> 3 </span>。</span><br><span class=\"line\">可以证明无法创建更长的等值子数组。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = [1,1,2,2,1,1], k = 2</span><br><span class=\"line\">输出：4</span><br><span class=\"line\">解释：最优的方案是删除下标<span class=\"number\"> 2 </span>和下标<span class=\"number\"> 3 </span>的元素。 </span><br><span class=\"line\">删除后，nums 等于 [1, 1, 1, 1] 。 </span><br><span class=\"line\">数组自身就是等值子数组，长度等于<span class=\"number\"> 4 </span>。 </span><br><span class=\"line\">可以证明无法创建更长的等值子数组。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= nums.length &lt;= 105</code></li>\n<li><code>1 &lt;= nums[i] &lt;= nums.length</code></li>\n<li><code>0 &lt;= k &lt;= nums.length</code></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">longestEqualSubarray</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 基本思路：就是区间[l,r]中，如果某一个等值元素的个数为 num </span></span><br><span class=\"line\">    <span class=\"comment\">// 如果在该区间能够满足最长子数组的长度为num的话，必须满足 r - l + 1 - num &lt;= k</span></span><br><span class=\"line\">        <span class=\"type\">int</span> n = nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"type\">int</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">        unordered_map&lt;<span class=\"type\">int</span>,vector&lt;<span class=\"type\">int</span>&gt;&gt; statis;</span><br><span class=\"line\">        <span class=\"comment\">// 统计每一个不同的等值元素的下标</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>;i&lt;n;i++)&#123;</span><br><span class=\"line\">            statis[nums[i]].<span class=\"built_in\">emplace_back</span>(i);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\">// 统计完成之后，然后根据每一个等值元素，通过滑动窗口的方式</span></span><br><span class=\"line\">        <span class=\"comment\">// 从前到后遍历满足条件的窗口内的最长等值子数组的长度</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> &amp;[_,value]:statis)&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 对每一个等值元素，进行遍历寻找最长等值子数组</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>,j=<span class=\"number\">0</span>;i&lt;value.<span class=\"built_in\">size</span>();i++)&#123;</span><br><span class=\"line\">                <span class=\"comment\">//如果当前窗口不满足条件，即 r - l + 1 - num &gt; k</span></span><br><span class=\"line\">                <span class=\"comment\">// 此时应该调整左边界，使其刚好满足条件</span></span><br><span class=\"line\">                <span class=\"keyword\">while</span>(value[i] - value[j] - (i-j)&gt;k)&#123;</span><br><span class=\"line\">                    j++;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"comment\">// 此时这个窗口就是满足条件的窗口,就可以实时更新结果result的值</span></span><br><span class=\"line\">                result = <span class=\"built_in\">max</span>(result,i-j<span class=\"number\">+1</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"1673-找出最具竞争力的子序列\"><a class=\"anchor\" href=\"#1673-找出最具竞争力的子序列\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9maW5kLXRoZS1tb3N0LWNvbXBldGl0aXZlLXN1YnNlcXVlbmNlLw==\">1673. 找出最具竞争力的子序列</span></h4>\n<p>给你一个整数数组  <code>nums</code>  和一个正整数  <code>k</code>  ，返回长度为  <code>k</code>  且最具 <strong>竞争力</strong> 的  <code>nums</code>  子序列。</p>\n<p>数组的子序列是从数组中删除一些元素（可能不删除元素）得到的序列。</p>\n<p>在子序列  <code>a</code>  和子序列  <code>b</code>  第一个不相同的位置上，如果  <code>a</code>  中的数字小于  <code>b</code>  中对应的数字，那么我们称子序列  <code>a</code>  比子序列  <code>b</code> （相同长度下）更具 <strong>竞争力</strong> 。 例如， <code>[1,3,4]</code>  比  <code>[1,3,5]</code>  更具竞争力，在第一个不相同的位置，也就是最后一个位置上，  <code>4</code>  小于  <code>5</code>  。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = <span class=\"comment\">[3,5,2,6]</span>, k = 2</span><br><span class=\"line\">输出：<span class=\"comment\">[2,6]</span></span><br><span class=\"line\">解释：在所有可能的子序列集合 &#123;<span class=\"comment\">[3,5]</span>, <span class=\"comment\">[3,2]</span>, <span class=\"comment\">[3,6]</span>, <span class=\"comment\">[5,2]</span>, <span class=\"comment\">[5,6]</span>, <span class=\"comment\">[2,6]</span>&#125; 中，<span class=\"comment\">[2,6]</span> 最具竞争力。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight dns\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = [<span class=\"number\">2,4,3,3</span>,<span class=\"number\">5,4,9,6</span>], k = <span class=\"number\">4</span></span><br><span class=\"line\">输出：[<span class=\"number\">2,3,3,4</span>]</span><br></pre></td></tr></table></figure>\n<p>​</p>\n<p>** 提示：                     **</p>\n<ul>\n<li><code>1 &lt;= nums.length &lt;= 105</code></li>\n<li><code>0 &lt;= nums[i] &lt;= 109</code></li>\n<li>`1 &lt;= k &lt;= nums.length</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">mostCompetitive</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 自己的想法，就是保存每一个区间的最小值以及最靠近左边界的下标</span></span><br><span class=\"line\">        <span class=\"comment\">// 之后根据k，选择必须满足的区间，通过已经整理好的dp数组，进行取值</span></span><br><span class=\"line\">        <span class=\"comment\">// 不断地迭代更新满足条件的区间的左边界，进行解决</span></span><br><span class=\"line\">        <span class=\"comment\">// int n = nums.size();</span></span><br><span class=\"line\">        <span class=\"comment\">//   vector&lt;vector&lt;pair&lt;int,int&gt;&gt;&gt; dp(n,vector&lt;pair&lt;int,int&gt;&gt;(n));</span></span><br><span class=\"line\">        <span class=\"comment\">//   for(int i = 0;i&lt;n;i++)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//     for(int j = i;j&lt;n;j++)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//         if(i==j)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//             dp[i][j].first = nums[i];</span></span><br><span class=\"line\">        <span class=\"comment\">//             dp[i][j].second = i;</span></span><br><span class=\"line\">        <span class=\"comment\">//         &#125;else&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//             if(dp[i][j-1].first &lt;= nums[j])&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//                 dp[i][j].first = dp[i][j-1].first;</span></span><br><span class=\"line\">        <span class=\"comment\">//                 dp[i][j].second = dp[i][j-1].second; </span></span><br><span class=\"line\">        <span class=\"comment\">//             &#125;else&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//                 dp[i][j].first = nums[j];</span></span><br><span class=\"line\">        <span class=\"comment\">//                 dp[i][j].second = j; </span></span><br><span class=\"line\">        <span class=\"comment\">//             &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//         &#125;</span></span><br><span class=\"line\">                </span><br><span class=\"line\">        <span class=\"comment\">//     &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//   &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//   int index = 0;</span></span><br><span class=\"line\">        <span class=\"comment\">//   vector&lt;int&gt; result;</span></span><br><span class=\"line\">        <span class=\"comment\">//   while(k)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//      result.emplace_back(dp[index][n-k].first);</span></span><br><span class=\"line\">        <span class=\"comment\">//      index = dp[index][n-k].second + 1;</span></span><br><span class=\"line\">        <span class=\"comment\">//      k--;</span></span><br><span class=\"line\">        <span class=\"comment\">//   &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//   return result;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; res;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span> ;i&lt;n;i++)&#123;</span><br><span class=\"line\">            <span class=\"comment\">// n - i + res.size() 解释： n - i 说明此时还有n - i 个数字能选</span></span><br><span class=\"line\">            <span class=\"comment\">// n - i + res.size() &gt;  k 说明栈中的元素加上还能选择的元素，多于要求的子序列的长度，即能够选的元素还够，就可以舍弃一些不优秀的</span></span><br><span class=\"line\">            <span class=\"comment\">// 说明此时如果有更好的（就是更小的），可以让更小的入栈</span></span><br><span class=\"line\">            <span class=\"comment\">// 而且还有一点，就是如果相等的话，就选更靠近左边界的（即下标更小的，这样能够覆盖所有可能，不会忽略掉中间的可能结果，就是让后续的选择更多一点）</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span>(!res.<span class=\"built_in\">empty</span>() &amp;&amp; n - i + res.<span class=\"built_in\">size</span>() &gt; k &amp;&amp; res.<span class=\"built_in\">back</span>() &gt; nums[i])&#123;</span><br><span class=\"line\">                res.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 将此时的值，加入到栈中</span></span><br><span class=\"line\">            res.<span class=\"built_in\">push_back</span>(nums[i]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        res.<span class=\"built_in\">resize</span>(k);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"1738-找出第-k-大的异或坐标值\"><a class=\"anchor\" href=\"#1738-找出第-k-大的异或坐标值\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9maW5kLWt0aC1sYXJnZXN0LXhvci1jb29yZGluYXRlLXZhbHVlLw==\">1738. 找出第 K 大的异或坐标值</span></h4>\n<p>给你一个二维矩阵  <code>matrix</code>  和一个整数  <code>k</code>  ，矩阵大小为  <code>m x n</code>  由非负整数组成。</p>\n<p>矩阵中坐标  <code>(a, b)</code>  的 <strong>值</strong> 可由对所有满足  <code>0 &lt;= i &lt;= a &lt; m</code>  且  <code>0 &lt;= j &lt;= b &lt; n</code>  的元素  <code>matrix[i][j]</code> （<strong>下标从 0 开始计数</strong>）执行异或运算得到。</p>\n<p>请你找出  <code>matrix</code>  的所有坐标中第  <code>k</code>  大的值（<strong> <code>k</code>  的值从 1 开始计数</strong>）。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：matrix = <span class=\"string\">[[5,2],[1,6]]</span>, k = <span class=\"number\">1</span></span><br><span class=\"line\">输出：<span class=\"number\">7</span></span><br><span class=\"line\">解释：坐标 (<span class=\"number\">0</span>,<span class=\"number\">1</span>) 的值是 <span class=\"number\">5</span> XOR <span class=\"number\">2</span> = <span class=\"number\">7</span> ，为最大的值。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：matrix = <span class=\"string\">[[5,2],[1,6]]</span>, k = <span class=\"number\">2</span></span><br><span class=\"line\">输出：<span class=\"number\">5</span></span><br><span class=\"line\">解释：坐标 (<span class=\"number\">0</span>,<span class=\"number\">0</span>) 的值是 <span class=\"number\">5</span> = <span class=\"number\">5</span> ，为第 <span class=\"number\">2</span> 大的值。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：matrix = <span class=\"string\">[[5,2],[1,6]]</span>, k = <span class=\"number\">3</span></span><br><span class=\"line\">输出：<span class=\"number\">4</span></span><br><span class=\"line\">解释：坐标 (<span class=\"number\">1</span>,<span class=\"number\">0</span>) 的值是 <span class=\"number\">5</span> XOR <span class=\"number\">1</span> = <span class=\"number\">4</span> ，为第 <span class=\"number\">3</span> 大的值。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 4：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：matrix = [[5,2],[1,6]], k = 4</span><br><span class=\"line\">输出：0</span><br><span class=\"line\">解释：坐标 (1,1) 的值是<span class=\"number\"> 5 </span>XOR<span class=\"number\"> 2 </span>XOR<span class=\"number\"> 1 </span>XOR<span class=\"number\"> 6 </span>=<span class=\"number\"> 0 </span>，为第<span class=\"number\"> 4 </span>大的值。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>m == matrix.length</code></li>\n<li><code>n == matrix[i].length</code></li>\n<li><code>1 &lt;= m, n &lt;= 1000</code></li>\n<li><code>0 &lt;= matrix[i][j] &lt;= 106</code></li>\n<li><code>1 &lt;= k &lt;= m * n</code></li>\n</ul>\n<h4 id=\"2028-找出缺失的观测数据\"><a class=\"anchor\" href=\"#2028-找出缺失的观测数据\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9maW5kLW1pc3Npbmctb2JzZXJ2YXRpb25zLw==\">2028. 找出缺失的观测数据</span></h4>\n<p>现有一份  <code>n + m</code>  次投掷单个 <strong>六面</strong> 骰子的观测数据，骰子的每个面从  <code>1</code>  到  <code>6</code>  编号。观测数据中缺失了  <code>n</code>  份，你手上只拿到剩余  <code>m</code>  次投掷的数据。幸好你有之前计算过的这  <code>n + m</code>  次投掷数据的 <strong>平均值</strong> 。</p>\n<p>给你一个长度为  <code>m</code>  的整数数组  <code>rolls</code>  ，其中  <code>rolls[i]</code>  是第  <code>i</code>  次观测的值。同时给你两个整数  <code>mean</code>  和  <code>n</code>  。</p>\n<p>返回一个长度为  <code>n</code>  的数组，包含所有缺失的观测数据，且满足这  <code>n + m</code>  次投掷的 <strong>平均值</strong> 是  <code>mean</code>  。如果存在多组符合要求的答案，只需要返回其中任意一组即可。如果不存在答案，返回一个空数组。</p>\n<p><code>k</code>  个数字的 <strong>平均值</strong> 为这些数字求和后再除以  <code>k</code>  。</p>\n<p>注意  <code>mean</code>  是一个整数，所以  <code>n + m</code>  次投掷的总和需要被  <code>n + m</code>  整除。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：rolls = [3,2,4,3], mean = 4, n = 2</span><br><span class=\"line\">输出：[6,6]</span><br><span class=\"line\">解释：所有 n + m 次投掷的平均值是 (3 +<span class=\"number\"> 2 </span>+<span class=\"number\"> 4 </span>+<span class=\"number\"> 3 </span>+<span class=\"number\"> 6 </span>+ 6) /<span class=\"number\"> 6 </span>=<span class=\"number\"> 4 </span>。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：rolls = [1,5,6], mean = 3, n = 4</span><br><span class=\"line\">输出：[2,3,2,2]</span><br><span class=\"line\">解释：所有 n + m 次投掷的平均值是 (1 +<span class=\"number\"> 5 </span>+<span class=\"number\"> 6 </span>+<span class=\"number\"> 2 </span>+<span class=\"number\"> 3 </span>+<span class=\"number\"> 2 </span>+ 2) /<span class=\"number\"> 7 </span>=<span class=\"number\"> 3 </span>。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：rolls = <span class=\"comment\">[1,2,3,4]</span>, mean = 6, n = 4</span><br><span class=\"line\">输出：<span class=\"comment\">[]</span></span><br><span class=\"line\">解释：无论丢失的 4 次数据是什么，平均值都不可能是 6 。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 4：</strong></p>\n<figure class=\"highlight excel\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：rolls = [<span class=\"number\">1</span>], mean = <span class=\"number\">3</span>, <span class=\"built_in\">n</span> = <span class=\"number\">1</span></span><br><span class=\"line\">输出：[<span class=\"number\">5</span>]</span><br><span class=\"line\">解释：所有 <span class=\"built_in\">n</span> + m 次投掷的平均值是 (<span class=\"number\">1</span> + <span class=\"number\">5</span>) / <span class=\"number\">2</span> = <span class=\"number\">3</span> 。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>m == rolls.length</code></li>\n<li><code>1 &lt;= n, m &lt;= 105</code></li>\n<li><code>1 &lt;= rolls[i], mean &lt;= 6</code></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">missingRolls</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; rolls, <span class=\"type\">int</span> mean, <span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">       <span class=\"type\">int</span> m = rolls.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">       <span class=\"type\">int</span> sum = mean*(m + n) - <span class=\"built_in\">accumulate</span>(rolls.<span class=\"built_in\">begin</span>(),rolls.<span class=\"built_in\">end</span>(),<span class=\"number\">0</span>);</span><br><span class=\"line\">       vector&lt;<span class=\"type\">int</span>&gt; result;</span><br><span class=\"line\">       <span class=\"comment\">//  首先判断不可能的情况</span></span><br><span class=\"line\">       <span class=\"keyword\">if</span>(n*<span class=\"number\">6</span> &lt; sum || n*<span class=\"number\">1</span> &gt; sum)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"type\">int</span> i = <span class=\"number\">0</span>;</span><br><span class=\"line\">       result.<span class=\"built_in\">resize</span>(n,<span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"comment\">// 因为已经知道了有解，所以遍历固定为 n 的数组，然后通过轮番加一操作，找到一组解</span></span><br><span class=\"line\">       <span class=\"keyword\">while</span>(sum!=<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">          result[i]++;</span><br><span class=\"line\">          sum--;</span><br><span class=\"line\">          i = (i<span class=\"number\">+1</span>)%n;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> result;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//    这么简单的题为什么会有递归回溯的思想，真是脑子瓦塔了</span></span><br><span class=\"line\">    <span class=\"comment\">//    bool tag = false;</span></span><br><span class=\"line\">    <span class=\"comment\">//    function&lt;void(int,int)&gt; dfs = [&amp;](int con_sum,int x)-&gt;void&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//        if(!tag)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//         if(con_sum &lt; 0  || (x &lt;= 0 &amp;&amp; con_sum &gt; 0 ))&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//            return ;</span></span><br><span class=\"line\">    <span class=\"comment\">//         &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//         if(con_sum == 0 &amp;&amp; x==0)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//              tag = true;</span></span><br><span class=\"line\">    <span class=\"comment\">//              return;</span></span><br><span class=\"line\">    <span class=\"comment\">//         &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//         for(int i = 1;i&lt;=6;i++)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//              result.emplace_back(i);</span></span><br><span class=\"line\">    <span class=\"comment\">//              dfs(con_sum - i,x-1);</span></span><br><span class=\"line\">    <span class=\"comment\">//              if(!tag)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 result.pop_back();</span></span><br><span class=\"line\">    <span class=\"comment\">//              &#125;else&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 return;</span></span><br><span class=\"line\">    <span class=\"comment\">//              &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//        &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//     &#125;  </span></span><br><span class=\"line\">    <span class=\"comment\">//    &#125;;</span></span><br><span class=\"line\">    <span class=\"comment\">//    dfs(sum,n);</span></span><br><span class=\"line\">    <span class=\"comment\">//    return result;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"2982-找出出现至少三次的最长特殊子字符串-ii\"><a class=\"anchor\" href=\"#2982-找出出现至少三次的最长特殊子字符串-ii\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9maW5kLWxvbmdlc3Qtc3BlY2lhbC1zdWJzdHJpbmctdGhhdC1vY2N1cnMtdGhyaWNlLWlpLw==\">2982. 找出出现至少三次的最长特殊子字符串 II</span></h4>\n<p>给你一个仅由小写英文字母组成的字符串  <code>s</code>  。</p>\n<p>如果一个字符串仅由单一字符组成，那么它被称为 <strong>特殊</strong> 字符串。例如，字符串  <code>&quot;abc&quot;</code>  不是特殊字符串，而字符串  <code>&quot;ddd&quot;</code> 、 <code>&quot;zz&quot;</code>  和  <code>&quot;f&quot;</code>  是特殊字符串。</p>\n<p>返回在  <code>s</code>  中出现 <strong>至少三次</strong> 的 <strong>最长特殊子字符串</strong> 的长度，如果不存在出现至少三次的特殊子字符串，则返回  <code>-1</code>  。</p>\n<p><strong>子字符串</strong> 是字符串中的一个连续 <strong>非空</strong> 字符序列。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：s <span class=\"operator\">=</span> <span class=\"string\">&quot;aaaa&quot;</span></span><br><span class=\"line\">输出：<span class=\"number\">2</span></span><br><span class=\"line\">解释：出现三次的最长特殊子字符串是 <span class=\"string\">&quot;aa&quot;</span> ：子字符串 <span class=\"string\">&quot;aaaa&quot;</span>、<span class=\"string\">&quot;aaaa&quot;</span> 和 <span class=\"string\">&quot;aaaa&quot;</span>。</span><br><span class=\"line\">可以证明最大长度是 <span class=\"number\">2</span> 。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：s <span class=\"operator\">=</span> <span class=\"string\">&quot;abcdef&quot;</span></span><br><span class=\"line\">输出：-<span class=\"number\">1</span></span><br><span class=\"line\">解释：不存在出现至少三次的特殊子字符串。因此返回 -<span class=\"number\">1</span> 。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：s <span class=\"operator\">=</span> <span class=\"string\">&quot;abcaba&quot;</span></span><br><span class=\"line\">输出：<span class=\"number\">1</span></span><br><span class=\"line\">解释：出现三次的最长特殊子字符串是 <span class=\"string\">&quot;a&quot;</span> ：子字符串 <span class=\"string\">&quot;abcaba&quot;</span>、<span class=\"string\">&quot;abcaba&quot;</span> 和 <span class=\"string\">&quot;abcaba&quot;</span>。</span><br><span class=\"line\">可以证明最大长度是 <span class=\"number\">1</span> 。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>3 &lt;= s.length &lt;= 5 * 105</code></li>\n<li><code>s</code>  仅由小写英文字母组成。</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maximumLength</span><span class=\"params\">(string s)</span> </span>&#123;</span><br><span class=\"line\">         <span class=\"type\">int</span> n = s.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">         <span class=\"comment\">// 汇总每一个出现过的字符连续的部分的长度</span></span><br><span class=\"line\">         unordered_map&lt;<span class=\"type\">char</span>,vector&lt;<span class=\"type\">int</span>&gt;&gt; summary; </span><br><span class=\"line\"></span><br><span class=\"line\">         <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i  = <span class=\"number\">0</span>,j=<span class=\"number\">0</span>;i&lt;n;i=j)&#123;</span><br><span class=\"line\">             <span class=\"comment\">// 尝试找到连续部分</span></span><br><span class=\"line\">             <span class=\"keyword\">while</span>(j&lt;n &amp;&amp; s[i] == s[j])&#123;</span><br><span class=\"line\">                j++;</span><br><span class=\"line\">             &#125;</span><br><span class=\"line\">             <span class=\"comment\">// 此时  j - i 就是连续相同字符串的长度</span></span><br><span class=\"line\">             summary[s[i]].<span class=\"built_in\">emplace_back</span>(j-i);</span><br><span class=\"line\">         &#125; </span><br><span class=\"line\">         <span class=\"comment\">//拿到这个汇总数据之后，因为针对于 连续相同字符串（特殊子字符串） 长度设为 k </span></span><br><span class=\"line\">         <span class=\"comment\">// 因为k越大，出现的次数肯定会越少，所以存在一个单调的性质，所以使用二分查找，来依次遍历，找到最大的能满足</span></span><br><span class=\"line\">         <span class=\"comment\">// 题中要求的 出现三次 的条件</span></span><br><span class=\"line\"></span><br><span class=\"line\">         <span class=\"type\">int</span> result = <span class=\"number\">-1</span>;</span><br><span class=\"line\">         <span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> &amp;[_,vec]:summary)&#123;</span><br><span class=\"line\">             <span class=\"type\">int</span> low = <span class=\"number\">1</span>;</span><br><span class=\"line\">             <span class=\"type\">int</span> high = n - <span class=\"number\">2</span>;   <span class=\"comment\">// 因为考虑到极端情况，字符串由相同的字符组成，则连续部分长度的最大值 n - high + 1 &gt;= 3;</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span>(low &lt;= high)&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> mid = (low + high)&gt;&gt;<span class=\"number\">1</span>;</span><br><span class=\"line\">            <span class=\"comment\">// 累计所有连续部分的出现次数</span></span><br><span class=\"line\">            <span class=\"type\">int</span> sum = <span class=\"number\">0</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> x:vec)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(mid &lt;=x)&#123;</span><br><span class=\"line\">                 sum += x - mid + <span class=\"number\">1</span>;   </span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 判断此时的累计次数结果是否满足题中所给条件，即满足大于等于 3 ，如果不满足就调小一点，置为high =  mid - 1;</span></span><br><span class=\"line\">            <span class=\"comment\">// 如果满足的话，还有更大的可能，置为low =  mid  + 1,并且更新 最长特殊子字符串的长度</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (sum &gt;=<span class=\"number\">3</span>)&#123;</span><br><span class=\"line\">                low = mid + <span class=\"number\">1</span>;</span><br><span class=\"line\">                result = <span class=\"built_in\">max</span>(result,mid);</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                high = mid - <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">         <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"3067-在带权树网络中统计可连接服务器对数目\"><a class=\"anchor\" href=\"#3067-在带权树网络中统计可连接服务器对数目\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9jb3VudC1wYWlycy1vZi1jb25uZWN0YWJsZS1zZXJ2ZXJzLWluLWEtd2VpZ2h0ZWQtdHJlZS1uZXR3b3JrLw==\">3067. 在带权树网络中统计可连接服务器对数目</span></h4>\n<p>给你一棵无根带权树，树中总共有  <code>n</code>  个节点，分别表示  <code>n</code>  个服务器，服务器从  <code>0</code>  到  <code>n - 1</code>  编号。同时给你一个数组  <code>edges</code>  ，其中  <code>edges[i] = [ai, bi, weighti]</code>  表示节点  <code>ai</code>  和  <code>bi</code>  之间有一条双向边，边的权值为  <code>weighti</code>  。再给你一个整数  <code>signalSpeed</code>  。</p>\n<p>如果两个服务器  <code>a</code>  ， <code>b</code>  和  <code>c</code>  满足以下条件，那么我们称服务器  <code>a</code>  和  <code>b</code>  是通过服务器  <code>c</code>  <strong>可连接的</strong> ：</p>\n<ul>\n<li><code>a &lt; b</code>  ， <code>a != c</code>  且  <code>b != c</code>  。</li>\n<li>从  <code>c</code>  到  <code>a</code>  的距离是可以被  <code>signalSpeed</code>  整除的。</li>\n<li>从  <code>c</code>  到  <code>b</code>  的距离是可以被  <code>signalSpeed</code>  整除的。</li>\n<li>从  <code>c</code>  到  <code>b</code>  的路径与从  <code>c</code>  到  <code>a</code>  的路径没有任何公共边。</li>\n</ul>\n<p>请你返回一个长度为  <code>n</code>  的整数数组  <code>count</code>  ，其中  <code>count[i]</code>  表示通过服务器  <code>i</code>  <strong>可连接</strong> 的服务器对的 <strong>数目</strong> 。</p>\n<p><strong>示例 1：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2024/01/21/example22.png\" alt=\"img\"></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：edges = <span class=\"comment\">[<span class=\"comment\">[0,1,1]</span>,<span class=\"comment\">[1,2,5]</span>,<span class=\"comment\">[2,3,13]</span>,<span class=\"comment\">[3,4,9]</span>,<span class=\"comment\">[4,5,2]</span>]</span>, signalSpeed = 1</span><br><span class=\"line\">输出：<span class=\"comment\">[0,4,6,6,4,0]</span></span><br><span class=\"line\">解释：由于 signalSpeed 等于 1 ，count<span class=\"comment\">[c]</span> 等于所有从 c 开始且没有公共边的路径对数目。</span><br><span class=\"line\">在输入图中，count<span class=\"comment\">[c]</span> 等于服务器 c 左边服务器数目乘以右边服务器数目。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2024/01/21/example11.png\" alt=\"img\"></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：edges = <span class=\"comment\">[<span class=\"comment\">[0,6,3]</span>,<span class=\"comment\">[6,5,3]</span>,<span class=\"comment\">[0,3,1]</span>,<span class=\"comment\">[3,2,7]</span>,<span class=\"comment\">[3,1,6]</span>,<span class=\"comment\">[3,4,2]</span>]</span>, signalSpeed = 3</span><br><span class=\"line\">输出：<span class=\"comment\">[2,0,0,0,0,0,2]</span></span><br><span class=\"line\">解释：通过服务器 0 ，有 2 个可连接服务器对(4, 5) 和 (4, 6) 。</span><br><span class=\"line\">通过服务器 6 ，有 2 个可连接服务器对 (4, 5) 和 (0, 5) 。</span><br><span class=\"line\">所有服务器对都必须通过服务器 0 或 6 才可连接，所以其他服务器对应的可连接服务器对数目都为 0 。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>2 &lt;= n &lt;= 1000</code></li>\n<li><code>edges.length == n - 1</code></li>\n<li><code>edges[i].length == 3</code></li>\n<li><code>0 &lt;= ai, bi &lt; n</code></li>\n<li><code>edges[i] = [ai, bi, weighti]</code></li>\n<li><code>1 &lt;= weighti &lt;= 106</code></li>\n<li><code>1 &lt;= signalSpeed &lt;= 106</code></li>\n<li>输入保证  <code>edges</code>  构成一棵合法的树。</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">countPairsOfConnectableServers</span><span class=\"params\">(vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; edges, <span class=\"type\">int</span> signalSpeed)</span> </span>&#123;</span><br><span class=\"line\">       <span class=\"comment\">// 进行图结构的存储</span></span><br><span class=\"line\">       <span class=\"comment\">// 边的个数</span></span><br><span class=\"line\">       <span class=\"type\">int</span> n = edges.<span class=\"built_in\">size</span>() + <span class=\"number\">1</span>;   <span class=\"comment\">// 因为是树结构，所以点的数目等于边数目加一</span></span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"comment\">// 重新弄一个结构，方便遍历，无向图</span></span><br><span class=\"line\">       vector&lt;vector&lt;pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt;&gt;&gt; <span class=\"built_in\">graph</span>(n);</span><br><span class=\"line\">       <span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> e:edges)&#123;</span><br><span class=\"line\">        graph[e[<span class=\"number\">0</span>]].<span class=\"built_in\">emplace_back</span>(e[<span class=\"number\">1</span>],e[<span class=\"number\">2</span>]);</span><br><span class=\"line\">        graph[e[<span class=\"number\">1</span>]].<span class=\"built_in\">emplace_back</span>(e[<span class=\"number\">0</span>],e[<span class=\"number\">2</span>]);  <span class=\"comment\">// 可以知道emplace_back() 不是在原有的数组尾部，追加</span></span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       cout &lt;&lt; graph.<span class=\"built_in\">size</span>() &lt;&lt;endl;</span><br><span class=\"line\">       <span class=\"comment\">// 使用深度优先搜索，计算以 p 为根节点的子树中，有多少到达 x 的距离能被signalSpeed整除的节点         </span></span><br><span class=\"line\">       function&lt;<span class=\"type\">int</span>(<span class=\"type\">int</span>,<span class=\"type\">int</span>,<span class=\"type\">int</span>)&gt; dfs = [&amp;](<span class=\"type\">int</span> p ,<span class=\"type\">int</span> root,<span class=\"type\">int</span> curr)-&gt;<span class=\"type\">int</span>&#123;</span><br><span class=\"line\">          <span class=\"comment\">//遍历到某一个节点时，要做的事情都是一样的，</span></span><br><span class=\"line\">          <span class=\"comment\">// 记录此时节点到 x 节点的路径长度是否能被整除</span></span><br><span class=\"line\">          <span class=\"type\">int</span> res = <span class=\"number\">0</span>;</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(curr==<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            res++;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">          <span class=\"comment\">// 然后记录子节点中 到达x节点的路径长度能被整除的数目之和，然后加起来</span></span><br><span class=\"line\">          <span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> &amp;[v,cost]:graph[p])&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 不能回头找，所以要不能等于父节点</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(v!=root)&#123;</span><br><span class=\"line\">                res += <span class=\"built_in\">dfs</span>(v,p,(curr + cost)%signalSpeed);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"comment\">// 对于每一个节点，做完两件事之后，就返回给上一级节点，上一级节点也做同样的事</span></span><br><span class=\"line\">          <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">       &#125;;</span><br><span class=\"line\">       </span><br><span class=\"line\">       <span class=\"comment\">// 接下来就是填写 ，每一个位置（节点）作为根节点，产生的整除对（到两者的距离都能被signalSpeed整除）</span></span><br><span class=\"line\">       <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">res</span><span class=\"params\">(n)</span></span>;</span><br><span class=\"line\">       <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>;i&lt;n;i++)&#123;</span><br><span class=\"line\">          <span class=\"comment\">// 不断累加已经找到的子树中满足条件的节点数目</span></span><br><span class=\"line\">          <span class=\"comment\">// 以供新的子树中满足条件的节点数目进行相乘（随机组合的最终计算方式）</span></span><br><span class=\"line\">          <span class=\"type\">int</span> pre = <span class=\"number\">0</span>;</span><br><span class=\"line\">          <span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> &amp;[v,cost]:graph[i])&#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> cnt = <span class=\"built_in\">dfs</span>(v,i,cost%signalSpeed);</span><br><span class=\"line\">            res[i] += pre*cnt;</span><br><span class=\"line\">            pre +=cnt;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"3040-相同分数的最大操作数目-ii\"><a class=\"anchor\" href=\"#3040-相同分数的最大操作数目-ii\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9tYXhpbXVtLW51bWJlci1vZi1vcGVyYXRpb25zLXdpdGgtdGhlLXNhbWUtc2NvcmUtaWkv\">3040. 相同分数的最大操作数目 II</span></h4>\n<p>给你一个整数数组  <code>nums</code>  ，如果  <code>nums</code>  <strong>至少</strong> 包含  <code>2</code>  个元素，你可以执行以下操作中的 <strong>任意</strong> 一个：</p>\n<ul>\n<li>选择  <code>nums</code>  中最前面两个元素并且删除它们。</li>\n<li>选择  <code>nums</code>  中最后两个元素并且删除它们。</li>\n<li>选择  <code>nums</code>  中第一个和最后一个元素并且删除它们。</li>\n</ul>\n<p>一次操作的 <strong>分数</strong> 是被删除元素的和。</p>\n<p>在确保 <strong>所有操作分数相同</strong> 的前提下，请你求出 <strong>最多</strong> 能进行多少次操作。</p>\n<p>请你返回按照上述要求 <strong>最多</strong> 可以进行的操作次数。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = [3,2,1,2,3,4]</span><br><span class=\"line\">输出：3</span><br><span class=\"line\">解释：我们执行以下操作：</span><br><span class=\"line\">- 删除前两个元素，分数为<span class=\"number\"> 3 </span>+<span class=\"number\"> 2 </span>=<span class=\"number\"> 5 </span>，nums = [1,2,3,4] 。</span><br><span class=\"line\">- 删除第一个元素和最后一个元素，分数为<span class=\"number\"> 1 </span>+<span class=\"number\"> 4 </span>=<span class=\"number\"> 5 </span>，nums = [2,3] 。</span><br><span class=\"line\">- 删除第一个元素和最后一个元素，分数为<span class=\"number\"> 2 </span>+<span class=\"number\"> 3 </span>=<span class=\"number\"> 5 </span>，nums = [] 。</span><br><span class=\"line\">由于 nums 为空，我们无法继续进行任何操作。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = [3,2,6,1,4]</span><br><span class=\"line\">输出：2</span><br><span class=\"line\">解释：我们执行以下操作：</span><br><span class=\"line\">- 删除前两个元素，分数为<span class=\"number\"> 3 </span>+<span class=\"number\"> 2 </span>=<span class=\"number\"> 5 </span>，nums = [6,1,4] 。</span><br><span class=\"line\">- 删除最后两个元素，分数为<span class=\"number\"> 1 </span>+<span class=\"number\"> 4 </span>=<span class=\"number\"> 5 </span>，nums = [6] 。</span><br><span class=\"line\">至多进行<span class=\"number\"> 2 </span>次操作。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>2 &lt;= nums.length &lt;= 2000</code></li>\n<li><code>1 &lt;= nums[i] &lt;= 1000</code></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maxOperations</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"comment\">// 没有加记忆化搜索矩阵，没有通过，而加了记忆化搜索，就通过了，而且超过比列还很高</span></span><br><span class=\"line\">        <span class=\"comment\">// 原因应该是，自顶向下搜索，但是自底向上计算，有些情况的不止一次遇见，而遇见一次就要</span></span><br><span class=\"line\">        <span class=\"comment\">// 重新计算一次，就很耗费时间了，所以第一次碰见这种情况，就记录下来，下一次再碰到，就不用</span></span><br><span class=\"line\">        <span class=\"comment\">// 重新计算，做到了剪枝的效果</span></span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">data</span>(n,<span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n,<span class=\"number\">-1</span>));</span><br><span class=\"line\">        function&lt;<span class=\"type\">int</span>(<span class=\"type\">int</span>,<span class=\"type\">int</span>,<span class=\"type\">int</span>)&gt; dfs = [&amp;](<span class=\"type\">int</span> left,<span class=\"type\">int</span> right,<span class=\"type\">int</span> sum)-&gt;<span class=\"type\">int</span>&#123;</span><br><span class=\"line\">             <span class=\"keyword\">if</span>(left&gt;=right)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">             &#125;</span><br><span class=\"line\">             <span class=\"keyword\">if</span>(data[left][right]!=<span class=\"number\">-1</span>)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> data[left][right];</span><br><span class=\"line\">             &#125;</span><br><span class=\"line\">             <span class=\"type\">int</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">             <span class=\"keyword\">if</span>(sum == <span class=\"number\">-1</span> || nums[left] + nums[left<span class=\"number\">+1</span>] == sum)&#123;</span><br><span class=\"line\">                result = <span class=\"built_in\">max</span>(result,<span class=\"number\">1</span> + <span class=\"built_in\">dfs</span>(left + <span class=\"number\">2</span>,right,nums[left] + nums[left<span class=\"number\">+1</span>]));</span><br><span class=\"line\">             &#125;</span><br><span class=\"line\">             <span class=\"keyword\">if</span>(sum == <span class=\"number\">-1</span> || nums[right] + nums[right<span class=\"number\">-1</span>] == sum)&#123;</span><br><span class=\"line\">                result = <span class=\"built_in\">max</span>(result,<span class=\"number\">1</span> + <span class=\"built_in\">dfs</span>(left,right - <span class=\"number\">2</span>,nums[right] + nums[right<span class=\"number\">-1</span>]));</span><br><span class=\"line\">             &#125;</span><br><span class=\"line\">             <span class=\"keyword\">if</span>(sum == <span class=\"number\">-1</span> || nums[left] + nums[right] == sum)&#123;</span><br><span class=\"line\">                result = <span class=\"built_in\">max</span>(result,<span class=\"number\">1</span> + <span class=\"built_in\">dfs</span>(left + <span class=\"number\">1</span>,right - <span class=\"number\">1</span>,nums[left] + nums[right]));</span><br><span class=\"line\">             &#125;</span><br><span class=\"line\">             data[left][right] = result;</span><br><span class=\"line\">             <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">dfs</span>(<span class=\"number\">0</span>,n - <span class=\"number\">1</span>,<span class=\"number\">-1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"312-戳气球\"><a class=\"anchor\" href=\"#312-戳气球\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9idXJzdC1iYWxsb29ucy8=\">312. 戳气球</span></h4>\n<p>有  <code>n</code>  个气球，编号为 <code>0</code>  到  <code>n - 1</code> ，每个气球上都标有一个数字，这些数字存在数组  <code>nums</code>  中。</p>\n<p>现在要求你戳破所有的气球。戳破第  <code>i</code>  个气球，你可以获得  <code>nums[i - 1] * nums[i] * nums[i + 1]</code>  枚硬币。 这里的  <code>i - 1</code>  和  <code>i + 1</code>  代表和  <code>i</code>  相邻的两个气球的序号。如果  <code>i - 1</code>  或  <code>i + 1</code>  超出了数组的边界，那么就当它是一个数字为  <code>1</code>  的气球。</p>\n<p>求所能获得硬币的最大数量。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight routeros\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = [3,1,5,8]</span><br><span class=\"line\">输出：167</span><br><span class=\"line\">解释：</span><br><span class=\"line\">nums = [3,1,5,8] --&gt; [3,5,8] --&gt; [3,8] --&gt; [8] --&gt; []</span><br><span class=\"line\">coins =  3<span class=\"number\">*1</span><span class=\"number\">*5</span>    +   3<span class=\"number\">*5</span><span class=\"number\">*8</span>   +  1<span class=\"number\">*3</span><span class=\"number\">*8</span>  + 1<span class=\"number\">*8</span><span class=\"number\">*1</span> = 167</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight fix\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">输入：nums </span>=<span class=\"string\"> [1,5]</span></span><br><span class=\"line\"><span class=\"string\">输出：10</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>n == nums.length</code></li>\n<li><code>1 &lt;= n &lt;= 300</code></li>\n<li><code>0 &lt;= nums[i] &lt;= 100</code></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maxCoins</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123; </span><br><span class=\"line\">        <span class=\"comment\">// int n = nums.size();</span></span><br><span class=\"line\">        <span class=\"comment\">// vector&lt;&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">// function&lt;int(set&lt;int&gt;,int)&gt; dfs = [&amp;](set&lt;int&gt; candidate,int con_result)-&gt;int&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//     if(candidate.size() == 0)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//         return 0;</span></span><br><span class=\"line\">        <span class=\"comment\">//     &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//     int num = 0 ;</span></span><br><span class=\"line\">        <span class=\"comment\">//     int left = 1,right = 1;</span></span><br><span class=\"line\">        <span class=\"comment\">//     for(auto c:candidate)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//         auto it = candidate.find(c);</span></span><br><span class=\"line\">        <span class=\"comment\">//         candidate.erase(c);</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//         if(--it!=candidate.begin())&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//             left = nums[*it];</span></span><br><span class=\"line\">        <span class=\"comment\">//         &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//         ++it;</span></span><br><span class=\"line\">        <span class=\"comment\">//         if(++it!=candidate.end())&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//             right = nums[*it];</span></span><br><span class=\"line\">        <span class=\"comment\">//         &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//         num = max(num,dfs(candidate,con_result + left*nums[c]*right));</span></span><br><span class=\"line\">        <span class=\"comment\">//         // 回溯</span></span><br><span class=\"line\">        <span class=\"comment\">//         candidate.insert(c);</span></span><br><span class=\"line\">        <span class=\"comment\">//     &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//     return con_result + num;</span></span><br><span class=\"line\">        <span class=\"comment\">// &#125;;</span></span><br><span class=\"line\">        <span class=\"comment\">// set&lt;int&gt; candidate;</span></span><br><span class=\"line\">        <span class=\"comment\">// for(int i = 0;i&lt;n;i++)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//     candidate.insert(i);</span></span><br><span class=\"line\">        <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">// return dfs(candidate,0);</span></span><br><span class=\"line\">        <span class=\"type\">int</span> n = nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">val</span><span class=\"params\">(n<span class=\"number\">+2</span>,<span class=\"number\">0</span>)</span></span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i  = <span class=\"number\">1</span>;i&lt;=n;i++)&#123;</span><br><span class=\"line\">            val[i] = nums[i<span class=\"number\">-1</span>];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        val[<span class=\"number\">0</span>] = val[n<span class=\"number\">+1</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">rec</span>(n<span class=\"number\">+2</span>,<span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n<span class=\"number\">+2</span>,<span class=\"number\">-1</span>));</span><br><span class=\"line\">        function&lt;<span class=\"type\">int</span>(<span class=\"type\">int</span>,<span class=\"type\">int</span>)&gt; solve = [&amp;](<span class=\"type\">int</span> left,<span class=\"type\">int</span> right)-&gt;<span class=\"type\">int</span>&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (left &gt;= right - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (rec[left][right] != <span class=\"number\">-1</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> rec[left][right];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = left + <span class=\"number\">1</span>; i &lt; right; i++) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> sum = val[left] * val[i] * val[right];</span><br><span class=\"line\">            sum += <span class=\"built_in\">solve</span>(left, i) + <span class=\"built_in\">solve</span>(i, right);</span><br><span class=\"line\">            rec[left][right] = <span class=\"built_in\">max</span>(rec[left][right], sum);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> rec[left][right];</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">solve</span>(<span class=\"number\">0</span>,n<span class=\"number\">+1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"2786-访问数组中的位置使分数最大\"><a class=\"anchor\" href=\"#2786-访问数组中的位置使分数最大\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy92aXNpdC1hcnJheS1wb3NpdGlvbnMtdG8tbWF4aW1pemUtc2NvcmUv\">2786. 访问数组中的位置使分数最大</span></h4>\n<p>给你一个下标从 <strong>0</strong> 开始的整数数组  <code>nums</code>  和一个正整数  <code>x</code>  。</p>\n<p>你 <strong>一开始</strong> 在数组的位置  <code>0</code>  处，你可以按照下述规则访问数组中的其他位置：</p>\n<ul>\n<li>如果你当前在位置  <code>i</code>  ，那么你可以移动到满足  <code>i &lt; j</code>  的 <strong>任意</strong> 位置  <code>j</code>  。</li>\n<li>对于你访问的位置  <code>i</code>  ，你可以获得分数  <code>nums[i]</code>  。</li>\n<li>如果你从位置  <code>i</code>  移动到位置  <code>j</code>  且  <code>nums[i]</code>  和  <code>nums[j]</code>  的 <strong>奇偶性</strong> 不同，那么你将失去分数  <code>x</code>  。</li>\n</ul>\n<p>请你返回你能得到的 <strong>最大</strong> 得分之和。</p>\n<p><strong>注意</strong> ，你一开始的分数为  <code>nums[0]</code>  。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = [2,3,6,1,9,2], x = 5</span><br><span class=\"line\">输出：13</span><br><span class=\"line\">解释：我们可以按顺序访问数组中的位置：0 -&gt;<span class=\"number\"> 2 </span>-&gt;<span class=\"number\"> 3 </span>-&gt;<span class=\"number\"> 4 </span>。</span><br><span class=\"line\">对应位置的值为<span class=\"number\"> 2 </span>，6 ，1 和<span class=\"number\"> 9 </span>。因为<span class=\"number\"> 6 </span>和<span class=\"number\"> 1 </span>的奇偶性不同，所以下标从<span class=\"number\"> 2 </span>-&gt;<span class=\"number\"> 3 </span>让你失去 x =<span class=\"number\"> 5 </span>分。</span><br><span class=\"line\">总得分为：2 +<span class=\"number\"> 6 </span>+<span class=\"number\"> 1 </span>+<span class=\"number\"> 9 </span>-<span class=\"number\"> 5 </span>=<span class=\"number\"> 13 </span>。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = [2,4,6,8], x = 3</span><br><span class=\"line\">输出：20</span><br><span class=\"line\">解释：数组中的所有元素奇偶性都一样，所以我们可以将每个元素都访问一次，而且不会失去任何分数。</span><br><span class=\"line\">总得分为：2 +<span class=\"number\"> 4 </span>+<span class=\"number\"> 6 </span>+<span class=\"number\"> 8 </span>=<span class=\"number\"> 20 </span>。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>2 &lt;= nums.length &lt;= 105</code></li>\n<li><code>1 &lt;= nums[i], x &lt;= 106</code></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">long</span> <span class=\"type\">long</span> <span class=\"title\">maxScore</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> x)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 自己的想法，只通过了 736 / 744 ，</span></span><br><span class=\"line\">        <span class=\"comment\">// dp[i] 表示以i位置开头，最多的分数</span></span><br><span class=\"line\">        <span class=\"comment\">// dp[i] = max(dp[j] + nums[i] - x ,dp[j] +nums[i] ,nums[i]) (j&gt;i) 按照给出的奇偶性规则，进行操作就行了</span></span><br><span class=\"line\">        <span class=\"comment\">// int n = nums.size();</span></span><br><span class=\"line\">        <span class=\"comment\">// vector&lt;long long&gt; dp(n);</span></span><br><span class=\"line\">        <span class=\"comment\">// for(int i = n-1;i&gt;=0;i--)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//     if(i==n-1)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//           dp[i] = nums[i];   </span></span><br><span class=\"line\">        <span class=\"comment\">//     &#125;else&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//          dp[i] = nums[i];</span></span><br><span class=\"line\">        <span class=\"comment\">//          for(int j = i+1;j&lt;n;j++)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//           if((nums[j] + nums[i])%2 == 1)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//               dp[i] = max(dp[i],dp[j] + nums[i] - x);</span></span><br><span class=\"line\">        <span class=\"comment\">//           &#125;else&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//              dp[i] = max(dp[i],dp[j] + nums[i]);</span></span><br><span class=\"line\">        <span class=\"comment\">//           &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//      &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//     &#125;</span></span><br><span class=\"line\">           </span><br><span class=\"line\">        <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">// return dp[0];</span></span><br><span class=\"line\">      </span><br><span class=\"line\">        <span class=\"comment\">// 官方的题解方法</span></span><br><span class=\"line\">        <span class=\"type\">long</span> <span class=\"type\">long</span> res = nums[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">long</span> <span class=\"type\">long</span>&gt; <span class=\"title\">dp</span><span class=\"params\">(<span class=\"number\">2</span>, INT_MIN)</span></span>;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历到目前为止，奇数位置最大分数，和偶数位置的最大分数</span></span><br><span class=\"line\">        dp[nums[<span class=\"number\">0</span>] % <span class=\"number\">2</span>] = nums[<span class=\"number\">0</span>];</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt; nums.<span class=\"built_in\">size</span>(); i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 表示当前位置的nums[i] 的奇偶性</span></span><br><span class=\"line\">            <span class=\"type\">int</span> parity = nums[i] % <span class=\"number\">2</span>;</span><br><span class=\"line\">            <span class=\"comment\">// 比较出到底是之前偶数位置来的最大，还是奇数位置来的最大</span></span><br><span class=\"line\">            <span class=\"type\">long</span> <span class=\"type\">long</span> cur = <span class=\"built_in\">max</span>(dp[parity] + nums[i], dp[<span class=\"number\">1</span> - parity] - x + nums[i]);</span><br><span class=\"line\">            <span class=\"comment\">// 更新结果</span></span><br><span class=\"line\">            res = <span class=\"built_in\">max</span>(res, cur);</span><br><span class=\"line\">            <span class=\"comment\">// 更新奇偶最大分数的值，以供之后的使用</span></span><br><span class=\"line\">            dp[parity] = <span class=\"built_in\">max</span>(dp[parity], cur);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"2779-数组的最大美丽值\"><a class=\"anchor\" href=\"#2779-数组的最大美丽值\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9tYXhpbXVtLWJlYXV0eS1vZi1hbi1hcnJheS1hZnRlci1hcHBseWluZy1vcGVyYXRpb24v\">2779. 数组的最大美丽值</span></h4>\n<p>给你一个下标从 <strong>0</strong> 开始的整数数组  <code>nums</code>  和一个 <strong>非负</strong> 整数  <code>k</code>  。</p>\n<p>在一步操作中，你可以执行下述指令：</p>\n<ul>\n<li>在范围  <code>[0, nums.length - 1]</code>  中选择一个 <strong>此前没有选过</strong> 的下标  <code>i</code>  。</li>\n<li>将  <code>nums[i]</code>  替换为范围  <code>[nums[i] - k, nums[i] + k]</code>  内的任一整数。</li>\n</ul>\n<p>数组的 <strong>美丽值</strong> 定义为数组中由相等元素组成的最长子序列的长度。</p>\n<p>对数组  <code>nums</code>  执行上述操作任意次后，返回数组可能取得的 <strong>最大</strong> 美丽值。</p>\n<p>** 注意：** 你 <strong>只</strong> 能对每个下标执行 <strong>一次</strong> 此操作。</p>\n<p>数组的 <strong>子序列</strong> 定义是：经由原数组删除一些元素（也可能不删除）得到的一个新数组，且在此过程中剩余元素的顺序不发生改变。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = <span class=\"comment\">[4,6,1,2]</span>, k = 2</span><br><span class=\"line\">输出：3</span><br><span class=\"line\">解释：在这个示例中，我们执行下述操作：</span><br><span class=\"line\">- 选择下标 1 ，将其替换为 4（从范围 <span class=\"comment\">[4,8]</span> 中选出），此时 nums = <span class=\"comment\">[4,4,1,2]</span> 。</span><br><span class=\"line\">- 选择下标 3 ，将其替换为 4（从范围 <span class=\"comment\">[0,4]</span> 中选出），此时 nums = <span class=\"comment\">[4,4,1,4]</span> 。</span><br><span class=\"line\">执行上述操作后，数组的美丽值是 3（子序列由下标 0 、1 、3 对应的元素组成）。</span><br><span class=\"line\">可以证明 3 是我们可以得到的由相等元素组成的最长子序列长度。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight dns\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = [<span class=\"number\">1,1,1,1</span>], k = <span class=\"number\">10</span></span><br><span class=\"line\">输出：<span class=\"number\">4</span></span><br><span class=\"line\">解释：在这个示例中，我们无需执行任何操作。</span><br><span class=\"line\">数组 nums 的美丽值是 <span class=\"number\">4</span>（整个数组）。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= nums.length &lt;= 105</code></li>\n<li><code>0 &lt;= nums[i], k &lt;= 105</code></li>\n</ul>\n<p><img data-src=\"E:%5Ctypora%E5%9B%BE%E7%89%87%5Cimage-20240615110704339.png\" alt=\"image-20240615110704339\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maximumBeauty</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 自己的思路，通过  500 / 620 </span></span><br><span class=\"line\">        <span class=\"comment\">// 存在问题，但是无法解决</span></span><br><span class=\"line\">        <span class=\"comment\">// int n = nums.size();</span></span><br><span class=\"line\">        <span class=\"comment\">// vector&lt;int&gt; dp(n,1);</span></span><br><span class=\"line\">        <span class=\"comment\">// vector&lt;vector&lt;int&gt;&gt; interval(n,vector&lt;int&gt;(2,-1));</span></span><br><span class=\"line\">        <span class=\"comment\">// interval[0] = &#123;nums[0] - k,nums[0] + k&#125;;</span></span><br><span class=\"line\">        <span class=\"comment\">// int result = 1;</span></span><br><span class=\"line\">        <span class=\"comment\">//  for(int i = 1;i&lt;n;i++)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//      interval[i][0] = nums[i] - k;</span></span><br><span class=\"line\">        <span class=\"comment\">//      interval[i][1] = nums[i] + k;</span></span><br><span class=\"line\">        <span class=\"comment\">//      for(int j = 0;j&lt;i;j++)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//         if(interval[i][0] &gt; interval[j][1] || interval[i][1] &lt; interval[j][0])&#123; </span></span><br><span class=\"line\">        <span class=\"comment\">//             continue;</span></span><br><span class=\"line\">        <span class=\"comment\">//         &#125;else&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//             if(dp[i] &lt;= dp[j] + 1)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//                 // 更新dp数组，和interval数组</span></span><br><span class=\"line\">        <span class=\"comment\">//                 dp[i] = dp[j] + 1;</span></span><br><span class=\"line\">        <span class=\"comment\">//                 interval[i][0] = max(interval[j][0], interval[i][0]);</span></span><br><span class=\"line\">        <span class=\"comment\">//                 interval[i][1] = min(interval[j][1],interval[i][1]);</span></span><br><span class=\"line\">        <span class=\"comment\">//             &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//         &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//      &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//      result = max(result,dp[i]);              </span></span><br><span class=\"line\">        <span class=\"comment\">//  &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//  return result;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">int</span> res = <span class=\"number\">0</span>, n = nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"built_in\">sort</span>(nums.<span class=\"built_in\">begin</span>(), nums.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>, j = <span class=\"number\">0</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> (nums[i] - <span class=\"number\">2</span> * k &gt; nums[j]) &#123;</span><br><span class=\"line\">                j++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            res = <span class=\"built_in\">max</span>(res, i - j + <span class=\"number\">1</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 20 66     20 66  1</span></span><br><span class=\"line\"><span class=\"comment\">// -23 23    20 23  2</span></span><br><span class=\"line\"><span class=\"comment\">// 60 106    60 66  2</span></span><br><span class=\"line\"><span class=\"comment\">// 76 122    76 122 1</span></span><br><span class=\"line\"><span class=\"comment\">// 70 116    76 116 2</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"2288-价格减免\"><a class=\"anchor\" href=\"#2288-价格减免\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9hcHBseS1kaXNjb3VudC10by1wcmljZXMv\">2288. 价格减免</span></h4>\n<p><strong>句子</strong> 是由若干个单词组成的字符串，单词之间用单个空格分隔，其中每个单词可以包含数字、小写字母、和美元符号  <code>'$'</code>  。如果单词的形式为美元符号后跟着一个非负实数，那么这个单词就表示一个 <strong>价格</strong> 。</p>\n<ul>\n<li>例如  <code>&quot;$100&quot;</code> 、 <code>&quot;$23&quot;</code>  和  <code>&quot;$6&quot;</code>  表示价格，而  <code>&quot;100&quot;</code> 、 <code>&quot;$&quot;</code>  和  <code>&quot;$1e5</code>  不是。</li>\n</ul>\n<p>给你一个字符串  <code>sentence</code>  表示一个句子和一个整数  <code>discount</code>  。对于每个表示价格的单词，都在价格的基础上减免  <code>discount%</code>  ，并 <strong>更新</strong> 该单词到句子中。所有更新后的价格应该表示为一个 <strong>恰好保留小数点后两位</strong> 的数字。</p>\n<p>返回表示修改后句子的字符串。</p>\n<p>注意：所有价格 <strong>最多</strong> 为  <code>10</code>  位数字。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：sentence = <span class=\"string\">&quot;there are <span class=\"variable\">$1</span> <span class=\"variable\">$2</span> and 5<span class=\"variable\">$</span> candies in the shop&quot;</span>, discount = <span class=\"number\">50</span></span><br><span class=\"line\">输出：<span class=\"string\">&quot;there are <span class=\"variable\">$0</span>.50 <span class=\"variable\">$1</span>.00 and 5<span class=\"variable\">$</span> candies in the shop&quot;</span></span><br><span class=\"line\">解释：</span><br><span class=\"line\">表示价格的单词是 <span class=\"string\">&quot;<span class=\"variable\">$1</span>&quot;</span> 和 <span class=\"string\">&quot;<span class=\"variable\">$2</span>&quot;</span> 。 </span><br><span class=\"line\">- <span class=\"string\">&quot;<span class=\"variable\">$1</span>&quot;</span> 减免 <span class=\"number\">50</span>% 为 <span class=\"string\">&quot;<span class=\"variable\">$0</span>.50&quot;</span> ，所以 <span class=\"string\">&quot;<span class=\"variable\">$1</span>&quot;</span> 替换为 <span class=\"string\">&quot;<span class=\"variable\">$0</span>.50&quot;</span> 。</span><br><span class=\"line\">- <span class=\"string\">&quot;<span class=\"variable\">$2</span>&quot;</span> 减免 <span class=\"number\">50</span>% 为 <span class=\"string\">&quot;<span class=\"variable\">$1</span>&quot;</span> ，所以 <span class=\"string\">&quot;<span class=\"variable\">$1</span>&quot;</span> 替换为 <span class=\"string\">&quot;<span class=\"variable\">$1</span>.00&quot;</span> 。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight powershell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：sentence = <span class=\"string\">&quot;1 2 <span class=\"variable\">$3</span> 4 <span class=\"variable\">$5</span> <span class=\"variable\">$6</span> 7 8<span class=\"variable\">$</span> <span class=\"variable\">$9</span> <span class=\"variable\">$10</span><span class=\"variable\">$</span>&quot;</span>, discount = <span class=\"number\">100</span></span><br><span class=\"line\">输出：<span class=\"string\">&quot;1 2 <span class=\"variable\">$0</span>.00 4 <span class=\"variable\">$0</span>.00 <span class=\"variable\">$0</span>.00 7 8<span class=\"variable\">$</span> <span class=\"variable\">$0</span>.00 <span class=\"variable\">$10</span><span class=\"variable\">$</span>&quot;</span></span><br><span class=\"line\">解释：</span><br><span class=\"line\">任何价格减免 <span class=\"number\">100</span>% 都会得到 <span class=\"number\">0</span> 。</span><br><span class=\"line\">表示价格的单词分别是 <span class=\"string\">&quot;<span class=\"variable\">$3</span>&quot;</span>、<span class=\"string\">&quot;<span class=\"variable\">$5</span>&quot;</span>、<span class=\"string\">&quot;<span class=\"variable\">$6</span>&quot;</span> 和 <span class=\"string\">&quot;<span class=\"variable\">$9</span>&quot;</span>。</span><br><span class=\"line\">每个单词都替换为 <span class=\"string\">&quot;<span class=\"variable\">$0</span>.00&quot;</span>。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= sentence.length &lt;= 105</code></li>\n<li><code>sentence</code>  由小写英文字母、数字、 <code>' '</code>  和  <code>'$'</code>  组成</li>\n<li><code>sentence</code>  不含前导和尾随空格</li>\n<li><code>sentence</code>  的所有单词都用单个空格分隔</li>\n<li>所有价格都是 <strong>正</strong> 整数且不含前导零</li>\n<li>所有价格 <strong>最多</strong> 为  <code>10</code>  位数字</li>\n<li><code>0 &lt;= discount &lt;= 100</code></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">string <span class=\"title\">discountPrices</span><span class=\"params\">(string sentence, <span class=\"type\">int</span> discount)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 通过 87 / 151  </span></span><br><span class=\"line\">        <span class=\"comment\">//  int n = sentence.size();</span></span><br><span class=\"line\">        <span class=\"comment\">//  stringstream ss;</span></span><br><span class=\"line\">        <span class=\"comment\">//  ss &lt;&lt; fixed &lt;&lt; setprecision(2); // 设置小数点后保留2位</span></span><br><span class=\"line\">        <span class=\"comment\">//  for(int i = 0;i&lt;n;i++)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//     if(sentence[i]==&#x27;$&#x27;&amp;&amp; i &lt; n-1 &amp;&amp; sentence[i+1] &gt; &#x27;0&#x27; &amp;&amp; sentence[i+1] &lt;= &#x27;9&#x27;)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//         int j = i+1;</span></span><br><span class=\"line\">        <span class=\"comment\">//         double num = 0;</span></span><br><span class=\"line\">        <span class=\"comment\">//         while(j &lt; n &amp;&amp; sentence[j]&gt;=&#x27;0&#x27; &amp;&amp; sentence[j] &lt;=&#x27;9&#x27;)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//            num = num*10 + (sentence[j]-&#x27;0&#x27;);  </span></span><br><span class=\"line\">        <span class=\"comment\">//            j++;</span></span><br><span class=\"line\">        <span class=\"comment\">//         &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//         if(j &lt; n &amp;&amp; sentence[j]!=&#x27; &#x27;)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//             continue;</span></span><br><span class=\"line\">        <span class=\"comment\">//         &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//         num = num*(1.0-discount/100.0);</span></span><br><span class=\"line\">        <span class=\"comment\">//         ss.str(&quot;&quot;);</span></span><br><span class=\"line\">        <span class=\"comment\">//         ss&lt;&lt;num;</span></span><br><span class=\"line\">        <span class=\"comment\">//         string str =  ss.str();</span></span><br><span class=\"line\">        <span class=\"comment\">//         cout &lt;&lt; str &lt;&lt; endl;</span></span><br><span class=\"line\">        <span class=\"comment\">//         // num  = (floor(num * 100)) / 100.0; // 直接保留两位小数</span></span><br><span class=\"line\">        <span class=\"comment\">//         // cout &lt;&lt; num &lt;&lt;endl;</span></span><br><span class=\"line\">        <span class=\"comment\">//         // cout &lt;&lt; to_string(num) &lt;&lt; endl;</span></span><br><span class=\"line\">        <span class=\"comment\">//         sentence.replace(i,j-i,&quot;$&quot; + str);</span></span><br><span class=\"line\">        <span class=\"comment\">//         n += (str.size() - j + i);</span></span><br><span class=\"line\">        <span class=\"comment\">//     &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//  &#125;</span></span><br><span class=\"line\">     </span><br><span class=\"line\">        <span class=\"comment\">//  return sentence;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 这种写法，之前没有见过，而且这方面的语法知识欠缺，之后再看一下</span></span><br><span class=\"line\">        <span class=\"function\">stringstream <span class=\"title\">sin</span><span class=\"params\">(sentence)</span>, sout</span>;</span><br><span class=\"line\">        sout &lt;&lt; fixed &lt;&lt; <span class=\"built_in\">setprecision</span>(<span class=\"number\">2</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        vector&lt;string&gt; words;</span><br><span class=\"line\">        string word;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (sin &gt;&gt; word) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (word[<span class=\"number\">0</span>] == <span class=\"string\">&#x27;$&#x27;</span> &amp;&amp; word.<span class=\"built_in\">size</span>() &gt; <span class=\"number\">1</span> &amp;&amp; <span class=\"built_in\">all_of</span>(word.<span class=\"built_in\">begin</span>() + <span class=\"number\">1</span>, word.<span class=\"built_in\">end</span>(), ::isdigit)) &#123;</span><br><span class=\"line\">                <span class=\"type\">double</span> price = <span class=\"built_in\">stoll</span>(word.<span class=\"built_in\">substr</span>(<span class=\"number\">1</span>, word.<span class=\"built_in\">size</span>() - <span class=\"number\">1</span>)) * (<span class=\"number\">1.0</span> - discount / <span class=\"number\">100.0</span>);</span><br><span class=\"line\">                sout &lt;&lt; <span class=\"string\">&#x27;$&#x27;</span> &lt;&lt; price;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                sout &lt;&lt; word;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            sout &lt;&lt; <span class=\"string\">&quot; &quot;</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        string ans = sout.<span class=\"built_in\">str</span>();</span><br><span class=\"line\">        ans.<span class=\"built_in\">pop_back</span>();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"503-下一个更大元素-ii\"><a class=\"anchor\" href=\"#503-下一个更大元素-ii\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9uZXh0LWdyZWF0ZXItZWxlbWVudC1paS8=\">503. 下一个更大元素 II</span></h4>\n<p>给定一个循环数组  <code>nums</code>  （  <code>nums[nums.length - 1]</code>  的下一个元素是  <code>nums[0]</code>  ），返回 <em> <code>nums</code>  中每个元素的 <strong>下一个更大元素</strong></em> 。</p>\n<p>数字  <code>x</code>  的 <strong>下一个更大的元素</strong> 是按数组遍历顺序，这个数字之后的第一个比它更大的数，这意味着你应该循环地搜索它的下一个更大的数。如果不存在，则输出  <code>-1</code>  。</p>\n<p><strong>示例 1:</strong></p>\n<figure class=\"highlight makefile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">输入: nums = [1,2,1]</span></span><br><span class=\"line\"><span class=\"section\">输出: [2,-1,2]</span></span><br><span class=\"line\"><span class=\"section\">解释: 第一个 1 的下一个更大的数是 2；</span></span><br><span class=\"line\">数字 2 找不到下一个更大的数； </span><br><span class=\"line\">第二个 1 的下一个最大的数需要循环搜索，结果也是 2。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2:</strong></p>\n<figure class=\"highlight accesslog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: nums = <span class=\"string\">[1,2,3,4,3]</span></span><br><span class=\"line\">输出: <span class=\"string\">[2,3,4,-1,4]</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示:</strong></p>\n<ul>\n<li><code>1 &lt;= nums.length &lt;= 104</code></li>\n<li><code>-109 &lt;= nums[i] &lt;= 109</code></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">nextGreaterElements</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">         <span class=\"comment\">// 单调栈(维护一个单调不升的单调栈)</span></span><br><span class=\"line\">         <span class=\"type\">int</span> n = nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">         <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">result</span><span class=\"params\">(n,<span class=\"number\">-1</span>)</span></span>;</span><br><span class=\"line\">         stack&lt;<span class=\"type\">int</span>&gt; mystack;</span><br><span class=\"line\">         <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>;i&lt; <span class=\"number\">2</span>*n - <span class=\"number\">1</span>;i++)&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 如果不满足单调不升的条件，就依次弹出栈顶元素</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span>(!mystack.<span class=\"built_in\">empty</span>() &amp;&amp; nums[mystack.<span class=\"built_in\">top</span>()] &lt; nums[i%n])&#123;</span><br><span class=\"line\">                <span class=\"comment\">// 记录此时的记过（即，弹出的元素的最近的大于自己的数，就是将要入栈的元素）</span></span><br><span class=\"line\">                result[mystack.<span class=\"built_in\">top</span>()] = nums[i%n];</span><br><span class=\"line\">                mystack.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            mystack.<span class=\"built_in\">push</span>(i%n);</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\">         <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"2734-执行子串操作后的字典序最小字符串\"><a class=\"anchor\" href=\"#2734-执行子串操作后的字典序最小字符串\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9sZXhpY29ncmFwaGljYWxseS1zbWFsbGVzdC1zdHJpbmctYWZ0ZXItc3Vic3RyaW5nLW9wZXJhdGlvbi8=\">2734. 执行子串操作后的字典序最小字符串</span></h4>\n<p>给你一个仅由小写英文字母组成的字符串  <code>s</code>  。在一步操作中，你可以完成以下行为：</p>\n<ul>\n<li>选择  <code>s</code>  的任一非空子字符串，可能是整个字符串，接着将字符串中的每一个字符替换为英文字母表中的前一个字符。例如，‘b’ 用 ‘a’ 替换，‘a’ 用 ‘z’ 替换。</li>\n</ul>\n<p>返回执行上述操作 <strong>恰好一次</strong> 后可以获得的 <strong>字典序最小</strong> 的字符串。</p>\n<p><strong>子字符串</strong> 是字符串中的一个连续字符序列。</p>\n<p>现有长度相同的两个字符串  <code>x</code>  和 字符串  <code>y</code>  ，在满足  <code>x[i] != y[i]</code>  的第一个位置  <code>i</code>  上，如果  <code>x[i]</code>  在字母表中先于  <code>y[i]</code>  出现，则认为字符串  <code>x</code>  比字符串  <code>y</code>  <strong>字典序更小</strong> 。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：s <span class=\"operator\">=</span> <span class=\"string\">&quot;cbabc&quot;</span></span><br><span class=\"line\">输出：<span class=\"string\">&quot;baabc&quot;</span></span><br><span class=\"line\">解释：我们选择从下标 <span class=\"number\">0</span> 开始、到下标 <span class=\"number\">1</span> 结束的子字符串执行操作。 </span><br><span class=\"line\">可以证明最终得到的字符串是字典序最小的。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：s <span class=\"operator\">=</span> <span class=\"string\">&quot;acbbc&quot;</span></span><br><span class=\"line\">输出：<span class=\"string\">&quot;abaab&quot;</span></span><br><span class=\"line\">解释：我们选择从下标 <span class=\"number\">1</span> 开始、到下标 <span class=\"number\">4</span> 结束的子字符串执行操作。</span><br><span class=\"line\">可以证明最终得到的字符串是字典序最小的。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：s <span class=\"operator\">=</span> <span class=\"string\">&quot;leetcode&quot;</span></span><br><span class=\"line\">输出：<span class=\"string\">&quot;kddsbncd&quot;</span></span><br><span class=\"line\">解释：我们选择整个字符串执行操作。</span><br><span class=\"line\">可以证明最终得到的字符串是字典序最小的。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= s.length &lt;= 3 * 105</code></li>\n<li><code>s</code>  仅由小写英文字母组成</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">string <span class=\"title\">smallestString</span><span class=\"params\">(string s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = s.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"type\">int</span> left = <span class=\"number\">0</span> ,right = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(left &lt; n &amp;&amp; s[left]==<span class=\"string\">&#x27;a&#x27;</span>)&#123;</span><br><span class=\"line\">            left ++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        right = left;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">while</span>(right &lt; n &amp;&amp; s[right]!=<span class=\"string\">&#x27;a&#x27;</span>)&#123;</span><br><span class=\"line\">                s[right] = s[right] - <span class=\"number\">1</span>;</span><br><span class=\"line\">                right ++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">if</span>(left == n)&#123;</span><br><span class=\"line\">            s[n<span class=\"number\">-1</span>] = <span class=\"string\">&#x27;z&#x27;</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> s;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"困难-2\"><a class=\"anchor\" href=\"#困难-2\">#</a> 困难</h3>\n<h4 id=\"1883-准时抵达会议现场的最小跳过休息次数\"><a class=\"anchor\" href=\"#1883-准时抵达会议现场的最小跳过休息次数\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9taW5pbXVtLXNraXBzLXRvLWFycml2ZS1hdC1tZWV0aW5nLW9uLXRpbWUv\">1883. 准时抵达会议现场的最小跳过休息次数</span></h4>\n<p>给你一个整数  <code>hoursBefore</code>  ，表示你要前往会议所剩下的可用小时数。要想成功抵达会议现场，你必须途经  <code>n</code>  条道路。道路的长度用一个长度为  <code>n</code>  的整数数组  <code>dist</code>  表示，其中  <code>dist[i]</code>  表示第  <code>i</code>  条道路的长度（单位：<strong>千米</strong>）。另给你一个整数  <code>speed</code>  ，表示你在道路上前进的速度（单位：<strong>千米每小时</strong>）。</p>\n<p>当你通过第  <code>i</code>  条路之后，就必须休息并等待，直到 <strong>下一个整数小时</strong> 才能开始继续通过下一条道路。注意：你不需要在通过最后一条道路后休息，因为那时你已经抵达会议现场。</p>\n<ul>\n<li>例如，如果你通过一条道路用去  <code>1.4</code>  小时，那你必须停下来等待，到  <code>2</code>  小时才可以继续通过下一条道路。如果通过一条道路恰好用去  <code>2</code>  小时，就无需等待，可以直接继续。</li>\n</ul>\n<p>然而，为了能准时到达，你可以选择 <strong>跳过</strong> 一些路的休息时间，这意味着你不必等待下一个整数小时。注意，这意味着与不跳过任何休息时间相比，你可能在不同时刻到达接下来的道路。</p>\n<ul>\n<li>例如，假设通过第  <code>1</code>  条道路用去  <code>1.4</code>  小时，且通过第  <code>2</code>  条道路用去  <code>0.6</code>  小时。跳过第  <code>1</code>  条道路的休息时间意味着你将会在恰好  <code>2</code>  小时完成通过第  <code>2</code>  条道路，且你能够立即开始通过第  <code>3</code>  条道路。</li>\n</ul>\n<p>返回准时抵达会议现场所需要的 <strong>最小跳过次数</strong> ，如果 <strong>无法准时参会</strong> ，返回  <code>-1</code>  。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight gcode\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：dist = [<span class=\"number\">1</span>,<span class=\"number\">3</span>,<span class=\"number\">2</span>], speed = <span class=\"number\">4</span>, hoursBefore = <span class=\"number\">2</span></span><br><span class=\"line\">输出：<span class=\"number\">1</span></span><br><span class=\"line\">解释：</span><br><span class=\"line\">不跳过任何休息时间，你将用 <span class=\"comment\">(1/4 + 3/4)</span> + <span class=\"comment\">(3/4 + 1/4)</span> + <span class=\"comment\">(2/4)</span> = <span class=\"number\">2.5</span> 小时才能抵达会议现场。</span><br><span class=\"line\">可以跳过第 <span class=\"number\">1</span> 次休息时间，共用 <span class=\"comment\">((1/4 + 0)</span> + <span class=\"comment\">(3/4 + 0)</span>) + <span class=\"comment\">(2/4)</span> = <span class=\"number\">1.5</span> 小时抵达会议现场。</span><br><span class=\"line\">注意，第 <span class=\"number\">2</span> 次休息时间缩短为 <span class=\"number\">0</span> ，由于跳过第 <span class=\"number\">1</span> 次休息时间，你是在整数小时处完成通过第 <span class=\"number\">2</span> 条道路。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight gcode\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：dist = [<span class=\"number\">7</span>,<span class=\"number\">3</span>,<span class=\"number\">5</span>,<span class=\"number\">5</span>], speed = <span class=\"number\">2</span>, hoursBefore = <span class=\"number\">10</span></span><br><span class=\"line\">输出：<span class=\"number\">2</span></span><br><span class=\"line\">解释：</span><br><span class=\"line\">不跳过任何休息时间，你将用 <span class=\"comment\">(7/2 + 1/2)</span> + <span class=\"comment\">(3/2 + 1/2)</span> + <span class=\"comment\">(5/2 + 1/2)</span> + <span class=\"comment\">(5/2)</span> = <span class=\"number\">11.5</span> 小时才能抵达会议现场。</span><br><span class=\"line\">可以跳过第 <span class=\"number\">1</span> 次和第 <span class=\"number\">3</span> 次休息时间，共用 <span class=\"comment\">((7/2 + 0)</span> + <span class=\"comment\">(3/2 + 0)</span>) + <span class=\"comment\">((5/2 + 0)</span> + <span class=\"comment\">(5/2)</span>) = <span class=\"number\">10</span> 小时抵达会议现场。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight dns\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：dist = [<span class=\"number\">7,3,5,5</span>], speed = <span class=\"number\">1</span>, hoursBefore = <span class=\"number\">10</span></span><br><span class=\"line\">输出：-<span class=\"number\">1</span></span><br><span class=\"line\">解释：即使跳过所有的休息时间，也无法准时参加会议。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>n == dist.length</code></li>\n<li><code>1 &lt;= n &lt;= 1000</code></li>\n<li><code>1 &lt;= dist[i] &lt;= 105</code></li>\n<li><code>1 &lt;= speed &lt;= 106</code></li>\n<li><code>1 &lt;= hoursBefore &lt;= 107</code></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    <span class=\"comment\">// 可忽略误差</span></span><br><span class=\"line\">    <span class=\"type\">static</span> <span class=\"keyword\">constexpr</span> <span class=\"type\">double</span> EPS = <span class=\"number\">1e-7</span>;</span><br><span class=\"line\">    <span class=\"comment\">// 极大值</span></span><br><span class=\"line\">    <span class=\"type\">static</span> <span class=\"keyword\">constexpr</span> <span class=\"type\">double</span> INFTY = <span class=\"number\">1e20</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">minSkips</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; dist, <span class=\"type\">int</span> speed, <span class=\"type\">int</span> hoursBefore)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = dist.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">double</span>&gt;&gt; <span class=\"built_in\">f</span>(n + <span class=\"number\">1</span>, <span class=\"built_in\">vector</span>&lt;<span class=\"type\">double</span>&gt;(n + <span class=\"number\">1</span>, INFTY));</span><br><span class=\"line\">        f[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">0.</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt;= n; ++i) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt;= i; ++j) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (j != i) &#123;</span><br><span class=\"line\">                    f[i][j] = <span class=\"built_in\">min</span>(f[i][j], <span class=\"built_in\">ceil</span>(f[i - <span class=\"number\">1</span>][j] + (<span class=\"type\">double</span>)dist[i - <span class=\"number\">1</span>] / speed - EPS));</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (j != <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                    f[i][j] = <span class=\"built_in\">min</span>(f[i][j], f[i - <span class=\"number\">1</span>][j - <span class=\"number\">1</span>] + (<span class=\"type\">double</span>)dist[i - <span class=\"number\">1</span>] / speed);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt;= n; ++j) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (f[n][j] &lt; hoursBefore + EPS) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> j;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"924-尽量减少恶意软件的传播\"><a class=\"anchor\" href=\"#924-尽量减少恶意软件的传播\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9taW5pbWl6ZS1tYWx3YXJlLXNwcmVhZC8=\">924. 尽量减少恶意软件的传播</span></h4>\n<p>给出了一个由  <code>n</code>  个节点组成的网络，用  <code>n × n</code>  个邻接矩阵图  <code>graph</code>  表示。在节点网络中，当  <code>graph[i][j] = 1</code>  时，表示节点  <code>i</code>  能够直接连接到另一个节点  <code>j</code> 。</p>\n<p>一些节点  <code>initial</code>  最初被恶意软件感染。只要两个节点直接连接，且其中至少一个节点受到恶意软件的感染，那么两个节点都将被恶意软件感染。这种恶意软件的传播将继续，直到没有更多的节点可以被这种方式感染。</p>\n<p>假设  <code>M(initial)</code>  是在恶意软件停止传播之后，整个网络中感染恶意软件的最终节点数。</p>\n<p>如果从  <code>initial</code>  中<strong>移除某一节点</strong>能够最小化  <code>M(initial)</code> ， 返回该节点。如果有多个节点满足条件，就返回<strong>索引最小</strong>的节点。</p>\n<p>请注意，如果某个节点已从受感染节点的列表  <code>initial</code>  中删除，它以后仍有可能因恶意软件传播而受到感染。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：graph = <span class=\"comment\">[<span class=\"comment\">[1,1,0]</span>,<span class=\"comment\">[1,1,0]</span>,<span class=\"comment\">[0,0,1]</span>]</span>, initial = <span class=\"comment\">[0,1]</span></span><br><span class=\"line\">输出：0</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：graph = <span class=\"comment\">[<span class=\"comment\">[1,0,0]</span>,<span class=\"comment\">[0,1,0]</span>,<span class=\"comment\">[0,0,1]</span>]</span>, initial = <span class=\"comment\">[0,2]</span></span><br><span class=\"line\">输出：0</span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：graph = <span class=\"comment\">[<span class=\"comment\">[1,1,1]</span>,<span class=\"comment\">[1,1,1]</span>,<span class=\"comment\">[1,1,1]</span>]</span>, initial = <span class=\"comment\">[1,2]</span></span><br><span class=\"line\">输出：1</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>n == graph.length</code></li>\n<li><code>n == graph[i].length</code></li>\n<li><code>2 &lt;= n &lt;= 300</code></li>\n<li><code>graph[i][j] == 0</code>  或  <code>1</code> .</li>\n<li><code>graph[i][j] == graph[j][i]</code></li>\n<li><code>graph[i][i] == 1</code></li>\n<li><code>1 &lt;= initial.length &lt;= n</code></li>\n<li><code>0 &lt;= initial[i] &lt;= n - 1</code></li>\n<li><code>initial</code>  中所有整数均<strong>不重复</strong></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">minMalwareSpread</span><span class=\"params\">(vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; graph, vector&lt;<span class=\"type\">int</span>&gt;&amp; initial)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = graph.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">ids</span><span class=\"params\">(n)</span></span>;</span><br><span class=\"line\">        unordered_map&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt; id_to_size;</span><br><span class=\"line\">        <span class=\"type\">int</span> id = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n; ++i) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!ids[i]) &#123;</span><br><span class=\"line\">                ++id;</span><br><span class=\"line\">                <span class=\"type\">int</span> size = <span class=\"number\">1</span>;</span><br><span class=\"line\">                queue&lt;<span class=\"type\">int</span>&gt; q;</span><br><span class=\"line\">                q.<span class=\"built_in\">push</span>(i);</span><br><span class=\"line\">                ids[i] = id;</span><br><span class=\"line\">                <span class=\"keyword\">while</span> (!q.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">                    <span class=\"type\">int</span> u = q.<span class=\"built_in\">front</span>();</span><br><span class=\"line\">                    q.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> v = <span class=\"number\">0</span>; v &lt; n; ++v) &#123;</span><br><span class=\"line\">                        <span class=\"keyword\">if</span> (!ids[v] &amp;&amp; graph[u][v] == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                            ++size;</span><br><span class=\"line\">                            q.<span class=\"built_in\">push</span>(v);</span><br><span class=\"line\">                            ids[v] = id;</span><br><span class=\"line\">                        &#125;</span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                id_to_size[id] = size;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        unordered_map&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt; id_to_initials;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> u: initial) &#123;</span><br><span class=\"line\">            ++id_to_initials[ids[u]];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> ans = n + <span class=\"number\">1</span>, ans_removed = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> u: initial) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> removed = (id_to_initials[ids[u]] == <span class=\"number\">1</span> ? id_to_size[ids[u]] : <span class=\"number\">0</span>);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (removed &gt; ans_removed || (removed == ans_removed &amp;&amp; u &lt; ans)) &#123;</span><br><span class=\"line\">                ans = u;</span><br><span class=\"line\">                ans_removed = removed;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//    int n = graph.size();</span></span><br><span class=\"line\">    <span class=\"comment\">//    vector&lt;int&gt; visit(n);</span></span><br><span class=\"line\">    <span class=\"comment\">//    vector&lt;int&gt; result(2,n + 1);</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//    function&lt;void(int,vector&lt;int&gt;&amp;)&gt; dfs = [&amp;](int v,vector&lt;int&gt;&amp; d)-&gt;void&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//       visit[v]  = 1;</span></span><br><span class=\"line\">    <span class=\"comment\">//       if(find(initial.begin(),initial.end(),d[0])!=initial.end())&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//         d.emplace_back(v);</span></span><br><span class=\"line\">    <span class=\"comment\">//       &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//       for(int i = 0;i&lt;n;i++)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//         if(i!=v &amp;&amp; graph[v][i] &amp;&amp; !visit[i])&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//             dfs(i,d);</span></span><br><span class=\"line\">    <span class=\"comment\">//         &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//       &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//    &#125;;</span></span><br><span class=\"line\">       </span><br><span class=\"line\">    <span class=\"comment\">//    for(int i = 0;i&lt;n;i++)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//     if(!visit[i])&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//         vector&lt;int&gt; d;</span></span><br><span class=\"line\">    <span class=\"comment\">//         dfs(i,d);</span></span><br><span class=\"line\">    <span class=\"comment\">//         if(d.size()  == 1)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//            if(result[1] == 1)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//               result[0] = min(result[0],d[0]);</span></span><br><span class=\"line\">    <span class=\"comment\">//             &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//            else&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//               result[0] = d[0];</span></span><br><span class=\"line\">    <span class=\"comment\">//            &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//         &#125;else if(d.size() &gt; 1&amp;&amp;result[1]!=1)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//              for(int j =0;j&lt;d.size();j++)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 result[0] = min(result[0],d[j]);</span></span><br><span class=\"line\">    <span class=\"comment\">//              &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//         &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//     &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//    &#125;</span></span><br><span class=\"line\">       </span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//   return result[0];</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 0 - 1  2 </span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 0  1  2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 0 - 1 - 2</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"928-尽量减少恶意软件的传播-ii\"><a class=\"anchor\" href=\"#928-尽量减少恶意软件的传播-ii\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9taW5pbWl6ZS1tYWx3YXJlLXNwcmVhZC1paS8=\">928. 尽量减少恶意软件的传播 II</span></h4>\n<p>给定一个由  <code>n</code>  个节点组成的网络，用  <code>n x n</code>  个邻接矩阵  <code>graph</code>  表示。在节点网络中，只有当  <code>graph[i][j] = 1</code>  时，节点  <code>i</code>  能够直接连接到另一个节点  <code>j</code> 。</p>\n<p>一些节点  <code>initial</code>  最初被恶意软件感染。只要两个节点直接连接，且其中至少一个节点受到恶意软件的感染，那么两个节点都将被恶意软件感染。这种恶意软件的传播将继续，直到没有更多的节点可以被这种方式感染。</p>\n<p>假设  <code>M(initial)</code>  是在恶意软件停止传播之后，整个网络中感染恶意软件的最终节点数。</p>\n<p>我们可以从  <code>initial</code>  中<strong>删除一个节点</strong>，<strong>并完全移除该节点以及从该节点到任何其他节点的任何连接。</strong></p>\n<p>请返回移除后能够使  <code>M(initial)</code>  最小化的节点。如果有多个节点满足条件，返回索引 <strong>最小的节点</strong> 。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：graph = <span class=\"comment\">[<span class=\"comment\">[1,1,0]</span>,<span class=\"comment\">[1,1,0]</span>,<span class=\"comment\">[0,0,1]</span>]</span>, initial = <span class=\"comment\">[0,1]</span></span><br><span class=\"line\">输出：0</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：graph = <span class=\"comment\">[<span class=\"comment\">[1,1,0]</span>,<span class=\"comment\">[1,1,1]</span>,<span class=\"comment\">[0,1,1]</span>]</span>, initial = <span class=\"comment\">[0,1]</span></span><br><span class=\"line\">输出：1</span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：graph = <span class=\"comment\">[<span class=\"comment\">[1,1,0,0]</span>,<span class=\"comment\">[1,1,1,0]</span>,<span class=\"comment\">[0,1,1,1]</span>,<span class=\"comment\">[0,0,1,1]</span>]</span>, initial = <span class=\"comment\">[0,1]</span></span><br><span class=\"line\">输出：1</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>n == graph.length</code></li>\n<li><code>n == graph[i].length</code></li>\n<li><code>2 &lt;= n &lt;= 300</code></li>\n<li><code>graph[i][j]</code>  是  <code>0</code>  或  <code>1</code> .</li>\n<li><code>graph[i][j] == graph[j][i]</code></li>\n<li><code>graph[i][i] == 1</code></li>\n<li><code>1 &lt;= initial.length &lt; n</code></li>\n<li><code>0 &lt;= initial[i] &lt;= n - 1</code></li>\n<li><code>initial</code>  中每个整数都<strong>不同</strong></li>\n</ul>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>(<span class=\"title class_ inherited__\">object</span>):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">minMalwareSpread</span>(<span class=\"params\">self, graph, initial</span>):</span><br><span class=\"line\">        <span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">        :type graph: List[List[int]]</span></span><br><span class=\"line\"><span class=\"string\">        :type initial: List[int]</span></span><br><span class=\"line\"><span class=\"string\">        :rtype: int</span></span><br><span class=\"line\"><span class=\"string\">        &quot;&quot;&quot;</span></span><br><span class=\"line\">        <span class=\"comment\">## 首先筛选出不是initial中的节点，即正常节点</span></span><br><span class=\"line\">        N = <span class=\"built_in\">len</span>(graph)</span><br><span class=\"line\">        clean = <span class=\"built_in\">set</span>(<span class=\"built_in\">range</span>(N)) - <span class=\"built_in\">set</span>(initial)</span><br><span class=\"line\">        <span class=\"comment\"># 深度优先搜索，并且将其他initial节点都扣除，即不当做图中节点看待</span></span><br><span class=\"line\">        <span class=\"comment\"># 进行深度优先搜索，并在搜索的同时记录能够到达的节点( 因为做了筛选)</span></span><br><span class=\"line\">        <span class=\"comment\"># 所以能够到达的节点都是正常节点的集合</span></span><br><span class=\"line\">        <span class=\"comment\"># 即该函数的目的就是为了找到从某一个顶点出发，所能到达的所有正常节点（在扣除其他initial节点的条件下）</span></span><br><span class=\"line\">        <span class=\"keyword\">def</span> <span class=\"title function_\">dfs</span>(<span class=\"params\">u, seen</span>):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> v, adj <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(graph[u]):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> adj <span class=\"keyword\">and</span> v <span class=\"keyword\">in</span> clean <span class=\"keyword\">and</span> v <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">                    seen.add(v)</span><br><span class=\"line\">                    dfs(v, seen)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 记录每一个正常节点可以被那些initial节点所感染</span></span><br><span class=\"line\">        infected_by = &#123;v: [] <span class=\"keyword\">for</span> v <span class=\"keyword\">in</span> clean&#125;</span><br><span class=\"line\">        <span class=\"comment\"># 从initial节点集合中任意一个节点出发，利用dfs 寻找所能到达的正常节点集合</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> u <span class=\"keyword\">in</span> initial:</span><br><span class=\"line\">            seen = <span class=\"built_in\">set</span>()</span><br><span class=\"line\">            <span class=\"comment\"># 而且是扣除其他所有initial节点的条件下</span></span><br><span class=\"line\">            dfs(u, seen)</span><br><span class=\"line\"></span><br><span class=\"line\">           <span class=\"comment\"># 对于每一个正常节点，记录每一次遍历后，能够被该initial节点感染</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> v <span class=\"keyword\">in</span> seen:</span><br><span class=\"line\">                infected_by[v].append(u)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 遍历寻找只能被一个initial节点感染的正常节点</span></span><br><span class=\"line\">        <span class=\"comment\"># 并且每找到一个只能被该initial节点感染的正常节点，就将该initial节点的sorce 加一（也就是表示删除该initial节点所能减少的被感染节点个数）</span></span><br><span class=\"line\">        contribution = collections.Counter()</span><br><span class=\"line\">        <span class=\"keyword\">for</span> v, neighbors <span class=\"keyword\">in</span> infected_by.iteritems():</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"built_in\">len</span>(neighbors) == <span class=\"number\">1</span>:</span><br><span class=\"line\">                contribution[neighbors[<span class=\"number\">0</span>]] += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"comment\"># 遍历更新最终的结果</span></span><br><span class=\"line\">               <span class=\"comment\"># sorce    节点的值的大小</span></span><br><span class=\"line\">        best = (-<span class=\"number\">1</span>, <span class=\"built_in\">min</span>(initial))</span><br><span class=\"line\">        <span class=\"keyword\">for</span> u, score <span class=\"keyword\">in</span> contribution.iteritems():</span><br><span class=\"line\">            <span class=\"comment\"># 原则就是，如果去掉该initial节点，所能减少的被感染节点个数比之前的更大，那就直接更新之前的值，</span></span><br><span class=\"line\">            <span class=\"comment\"># 或者是减少的被感染的节点的个数和之前一样大，但是当前initial节点的索引值比之前的小</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> score &gt; best[<span class=\"number\">0</span>] <span class=\"keyword\">or</span> score == best[<span class=\"number\">0</span>] <span class=\"keyword\">and</span> u &lt; best[<span class=\"number\">1</span>]:</span><br><span class=\"line\">                best = score, u</span><br><span class=\"line\">        <span class=\"keyword\">return</span> best[<span class=\"number\">1</span>]</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"2009-使数组连续的最少操作数\"><a class=\"anchor\" href=\"#2009-使数组连续的最少操作数\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9taW5pbXVtLW51bWJlci1vZi1vcGVyYXRpb25zLXRvLW1ha2UtYXJyYXktY29udGludW91cy8=\">2009. 使数组连续的最少操作数</span></h4>\n<p>给你一个整数数组  <code>nums</code>  。每一次操作中，你可以将  <code>nums</code>  中 <strong>任意</strong> 一个元素替换成 <strong>任意</strong> 整数。</p>\n<p>如果  <code>nums</code>  满足以下条件，那么它是 <strong>连续的</strong> ：</p>\n<ul>\n<li><code>nums</code>  中所有元素都是 <strong>互不相同</strong> 的。</li>\n<li><code>nums</code>  中 <strong>最大</strong> 元素与 <strong>最小</strong> 元素的差等于  <code>nums.length - 1</code>  。</li>\n</ul>\n<p>比方说， <code>nums = [4, 2, 5, 3]</code>  是 <strong>连续的</strong> ，但是  <code>nums = [1, 2, 3, 5, 6]</code>  <strong>不是连续的</strong> 。</p>\n<p>请你返回使  <code>nums</code>  <strong>连续</strong> 的 <strong>最少</strong> 操作次数。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight dns\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = [<span class=\"number\">4,2,5,3</span>]</span><br><span class=\"line\">输出：<span class=\"number\">0</span></span><br><span class=\"line\">解释：nums 已经是连续的了。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight accesslog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = <span class=\"string\">[1,2,3,5,6]</span></span><br><span class=\"line\">输出：<span class=\"number\">1</span></span><br><span class=\"line\">解释：一个可能的解是将最后一个元素变为 <span class=\"number\">4</span> 。</span><br><span class=\"line\">结果数组为 <span class=\"string\">[1,2,3,5,4]</span> ，是连续数组。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight asciidoc\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = [1,10,100,1000]</span><br><span class=\"line\">输出：3</span><br><span class=\"line\">解释：一个可能的解是：</span><br><span class=\"line\"><span class=\"bullet\">- </span>将第二个元素变为 2 。</span><br><span class=\"line\"><span class=\"bullet\">- </span>将第三个元素变为 3 。</span><br><span class=\"line\"><span class=\"bullet\">- </span>将第四个元素变为 4 。</span><br><span class=\"line\">结果数组为 [1,2,3,4] ，是连续数组。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= nums.length &lt;= 105</code></li>\n<li><code>1 &lt;= nums[i] &lt;= 109</code></li>\n</ul>\n<p>方法一：去重 + 排序 + 滑动窗口<br>\n思路</p>\n<p>记数组 nums 的长度为 n。经过若干次操作后，若数组变为连续的，那么数组的长度不会改变，仍然为 n，且数组最大值与最小值之差为 n−1，所有元素均不相同。可以反向考虑，假设最后连续的数组的最小值为 left，则最大值 right=left+n−1。原数组 nums 中，如果有位于 [left,right] 中的，如果只出现一次，我们可以对其进行保留；多次出现时，我们则需要对其进行操作；不在这个区间的数字，我们也需要对其进行操作，将它们变成其他数字来对这个区间进行补足。因此，我们需要统计原数组 nums 中，位于区间 [left,right] 内不同的数字个数 k，而 n−k 就是我们需要进行的操作数。</p>\n<p>接下来就是需要确定 left，我们可以将原数组 nums 所有不同的数字作为 left 的候选值，分别计算出 n−k，然后求出最小值。这样的话，我们可以先将原数字进行去重后排序，然后利用滑动窗口。滑动窗口左端点的值作为 left，然后向右扩展右端点，窗口的长度即为 k，求出所有可能性下最小的 n−k 即可。</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">minOperations</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> length = nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">    <span class=\"comment\">// 去重</span></span><br><span class=\"line\">    <span class=\"function\">unordered_set&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">myset</span><span class=\"params\">(nums.begin(),nums.end())</span></span>;</span><br><span class=\"line\">    <span class=\"comment\">// 排序</span></span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">sortedUniqueNums</span><span class=\"params\">(myset.begin(),myset.end())</span></span>;</span><br><span class=\"line\">    <span class=\"built_in\">sort</span>(sortedUniqueNums.<span class=\"built_in\">begin</span>(),sortedUniqueNums.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">    <span class=\"type\">int</span> result = length , j = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i= <span class=\"number\">0</span>;i&lt;sortedUniqueNums.<span class=\"built_in\">size</span>();i++)&#123;</span><br><span class=\"line\">       <span class=\"comment\">// 确定最大值，即在确定左边界时，如果连续的话，右边最大的值</span></span><br><span class=\"line\">       <span class=\"type\">int</span> right = sortedUniqueNums[i] + length - <span class=\"number\">1</span>;</span><br><span class=\"line\">       <span class=\"comment\">// 因为数组是已经排好序的了，所以确定好左边界，依次去遍历之后的</span></span><br><span class=\"line\">       <span class=\"comment\">// 找到数组中存在于[left,right] 之间的数到底有几个，如果有 k 个</span></span><br><span class=\"line\">       <span class=\"comment\">// 那么该确定的区间，就有 n - k 个需要修改的值</span></span><br><span class=\"line\">       <span class=\"comment\">// 而且不用每次都从 left 开始，因为数组时递增的，相对于后面较大的left ，肯定对应较大的right </span></span><br><span class=\"line\">       <span class=\"comment\">// 所以后面的right 只会让受限制的最大的 j 更靠右，而不会更靠左 </span></span><br><span class=\"line\">       <span class=\"keyword\">while</span>(j &lt; sortedUniqueNums.<span class=\"built_in\">size</span>() &amp;&amp; sortedUniqueNums[j] &lt;=right)&#123;</span><br><span class=\"line\">           <span class=\"comment\">// 不断更新维护最大值</span></span><br><span class=\"line\">           result = <span class=\"built_in\">min</span>(result, length - (j - i + <span class=\"number\">1</span>));</span><br><span class=\"line\">           j ++;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"42-接雨水\"><a class=\"anchor\" href=\"#42-接雨水\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy90cmFwcGluZy1yYWluLXdhdGVyLw==\">42. 接雨水</span></h4>\n<p>给定  <code>n</code>  个非负整数表示每个宽度为  <code>1</code>  的柱子的高度图，计算按此排列的柱子，下雨之后能接多少雨水。</p>\n<p><strong>示例 1：</strong></p>\n<p><img data-src=\"https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/10/22/rainwatertrap.png\" alt=\"img\"></p>\n<figure class=\"highlight dns\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：height = [<span class=\"number\">0,1,0,2</span>,<span class=\"number\">1,0,1,3</span>,<span class=\"number\">2,1,2,1</span>]</span><br><span class=\"line\">输出：<span class=\"number\">6</span></span><br><span class=\"line\">解释：上面是由数组 [<span class=\"number\">0,1,0,2</span>,<span class=\"number\">1,0,1,3</span>,<span class=\"number\">2,1,2,1</span>] 表示的高度图，在这种情况下，可以接 <span class=\"number\">6</span> 个单位的雨水（蓝色部分表示雨水）。 </span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight accesslog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：height = <span class=\"string\">[4,2,0,3,2,5]</span></span><br><span class=\"line\">输出：<span class=\"number\">9</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>n == height.length</code></li>\n<li><code>1 &lt;= n &lt;= 2 * 104</code></li>\n<li><code>0 &lt;= height[i] &lt;= 105</code></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">trap</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; height)</span> </span>&#123;</span><br><span class=\"line\">       <span class=\"comment\">// 遍历寻找每一个山谷</span></span><br><span class=\"line\">    <span class=\"comment\">// 两次遍历，相当于左边遍历，记录每一个位置左边的最大高度</span></span><br><span class=\"line\">    <span class=\"comment\">// 第二次从右往左的遍历，记录每一个位置上右边的最大高度</span></span><br><span class=\"line\">    <span class=\"comment\">// 然后根据每一个位置上，左右两边的最大高度中的最小值（短板效应）来作为能盛下的水的最大高度</span></span><br><span class=\"line\">    <span class=\"comment\">// 然后每一个位置上能容下的水的最大高度减去原有的高度，再乘以宽（宽为1）就是每一个位置上最多能够容下的水量</span></span><br><span class=\"line\">       <span class=\"type\">int</span> length = height.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">       <span class=\"type\">int</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">       <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">left</span><span class=\"params\">(length)</span>,<span class=\"title\">right</span><span class=\"params\">(length)</span></span>;</span><br><span class=\"line\">       left[<span class=\"number\">0</span>] = height[<span class=\"number\">0</span>];</span><br><span class=\"line\">       <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">1</span>;i&lt;length;i++)&#123;</span><br><span class=\"line\">           left[i] = <span class=\"built_in\">max</span>(height[i] ,left[i<span class=\"number\">-1</span>]);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       right[length<span class=\"number\">-1</span>] = height[length<span class=\"number\">-1</span>];</span><br><span class=\"line\">       <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = length - <span class=\"number\">2</span>;i&gt;=<span class=\"number\">0</span>;i--)&#123;</span><br><span class=\"line\">         right[i] = <span class=\"built_in\">max</span>(height[i] , right[i<span class=\"number\">+1</span>]);</span><br><span class=\"line\">       &#125; </span><br><span class=\"line\">       <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">1</span>;i &lt; length - <span class=\"number\">1</span>;i++)&#123;</span><br><span class=\"line\">          result += <span class=\"built_in\">min</span>(left[i] ,right[i]) - height[i];</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"135-分发糖果\"><a class=\"anchor\" href=\"#135-分发糖果\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9jYW5keS8=\">135. 分发糖果</span></h4>\n<p><code>n</code>  个孩子站成一排。给你一个整数数组  <code>ratings</code>  表示每个孩子的评分。</p>\n<p>你需要按照以下要求，给这些孩子分发糖果：</p>\n<ul>\n<li>每个孩子至少分配到  <code>1</code>  个糖果。</li>\n<li>相邻两个孩子评分更高的孩子会获得更多的糖果。</li>\n</ul>\n<p>请你给每个孩子分发糖果，计算并返回需要准备的 <strong>最少糖果数目</strong> 。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight fix\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">输入：ratings </span>=<span class=\"string\"> [1,0,2]</span></span><br><span class=\"line\"><span class=\"string\">输出：5</span></span><br><span class=\"line\"><span class=\"string\">解释：你可以分别给第一个、第二个、第三个孩子分发 2、1、2 颗糖果。</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight fix\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">输入：ratings </span>=<span class=\"string\"> [1,2,2]</span></span><br><span class=\"line\"><span class=\"string\">输出：4</span></span><br><span class=\"line\"><span class=\"string\">解释：你可以分别给第一个、第二个、第三个孩子分发 1、2、1 颗糖果。</span></span><br><span class=\"line\"><span class=\"string\">     第三个孩子只得到 1 颗糖果，这满足题面中的两个条件。</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>n == ratings.length</code></li>\n<li><code>1 &lt;= n &lt;= 2 * 104</code></li>\n<li><code>0 &lt;= ratings[i] &lt;= 2 * 104</code></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">candy</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; ratings)</span> </span>&#123;</span><br><span class=\"line\"> <span class=\"comment\">// 属于是两次遍历，第一次遍历检索递增部分，第二次检索递减部分</span></span><br><span class=\"line\"> <span class=\"comment\">// 然后将两者合并,就可以了</span></span><br><span class=\"line\"> <span class=\"type\">int</span> length = ratings.<span class=\"built_in\">size</span>();</span><br><span class=\"line\"> <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt;  <span class=\"title\">left</span><span class=\"params\">(length)</span></span>;</span><br><span class=\"line\"> <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>;i&lt;length;i++)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(i&gt;<span class=\"number\">0</span> &amp;&amp; ratings[i] &gt; ratings[i<span class=\"number\">-1</span>])&#123;</span><br><span class=\"line\">       <span class=\"comment\">// 因为要满足旁边大的要多</span></span><br><span class=\"line\">       left[i] = left[i<span class=\"number\">-1</span>] + <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        left[i] = <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">  <span class=\"comment\">// 第二次遍历，检索递减部分的，可以逆序遍历，递增的部分</span></span><br><span class=\"line\">  <span class=\"comment\">// 在遍历的同时不断合并两个部分的结果,并整合最终的结果</span></span><br><span class=\"line\">  <span class=\"type\">int</span> right  = <span class=\"number\">0</span> ,result = <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j = length - <span class=\"number\">1</span>;j&gt;=<span class=\"number\">0</span>;j--)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(j &lt; length - <span class=\"number\">1</span> &amp;&amp; ratings[j]  &gt; ratings[j + <span class=\"number\">1</span>])&#123;</span><br><span class=\"line\">        right++;</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        right = <span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    result += <span class=\"built_in\">max</span>(left[j] ,right);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"2642-设计可以求最短路径的图类\"><a class=\"anchor\" href=\"#2642-设计可以求最短路径的图类\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9kZXNpZ24tZ3JhcGgtd2l0aC1zaG9ydGVzdC1wYXRoLWNhbGN1bGF0b3Iv\">2642. 设计可以求最短路径的图类</span></h4>\n<p>给你一个有  <code>n</code>  个节点的 <strong>有向带权</strong> 图，节点编号为  <code>0</code>  到  <code>n - 1</code>  。图中的初始边用数组  <code>edges</code>  表示，其中  <code>edges[i] = [fromi, toi, edgeCosti]</code>  表示从  <code>fromi</code>  到  <code>toi</code>  有一条代价为  <code>edgeCosti</code>  的边。</p>\n<p>请你实现一个  <code>Graph</code>  类：</p>\n<ul>\n<li><code>Graph(int n, int[][] edges)</code>  初始化图有  <code>n</code>  个节点，并输入初始边。</li>\n<li><code>addEdge(int[] edge)</code>  向边集中添加一条边，其中  <code>edge = [from, to, edgeCost]</code>  。数据保证添加这条边之前对应的两个节点之间没有有向边。</li>\n<li><code>int shortestPath(int node1, int node2)</code>  返回从节点  <code>node1</code>  到  <code>node2</code>  的路径 <strong>最小</strong> 代价。如果路径不存在，返回  <code>-1</code>  。一条路径的代价是路径中所有边代价之和。</li>\n</ul>\n<p><strong>示例 1：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2023/01/11/graph3drawio-2.png\" alt=\"img\"></p>\n<figure class=\"highlight prolog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：</span><br><span class=\"line\">[<span class=\"string\">&quot;Graph&quot;</span>, <span class=\"string\">&quot;shortestPath&quot;</span>, <span class=\"string\">&quot;shortestPath&quot;</span>, <span class=\"string\">&quot;addEdge&quot;</span>, <span class=\"string\">&quot;shortestPath&quot;</span>]</span><br><span class=\"line\">[[<span class=\"number\">4</span>, [[<span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">5</span>], [<span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>], [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>], [<span class=\"number\">3</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>]]], [<span class=\"number\">3</span>, <span class=\"number\">2</span>], [<span class=\"number\">0</span>, <span class=\"number\">3</span>], [[<span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>]], [<span class=\"number\">0</span>, <span class=\"number\">3</span>]]</span><br><span class=\"line\">输出：</span><br><span class=\"line\">[null, <span class=\"number\">6</span>, <span class=\"number\">-1</span>, null, <span class=\"number\">6</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">解释：</span><br><span class=\"line\"><span class=\"symbol\">Graph</span> g = new <span class=\"symbol\">Graph</span>(<span class=\"number\">4</span>, [[<span class=\"number\">0</span>, <span class=\"number\">2</span>, <span class=\"number\">5</span>], [<span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>], [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>], [<span class=\"number\">3</span>, <span class=\"number\">0</span>, <span class=\"number\">3</span>]]);</span><br><span class=\"line\">g.shortestPath(<span class=\"number\">3</span>, <span class=\"number\">2</span>); // 返回 <span class=\"number\">6</span> 。从 <span class=\"number\">3</span> 到 <span class=\"number\">2</span> 的最短路径如第一幅图所示：<span class=\"number\">3</span> -&gt; <span class=\"number\">0</span> -&gt; <span class=\"number\">1</span> -&gt; <span class=\"number\">2</span> ，总代价为 <span class=\"number\">3</span> + <span class=\"number\">2</span> + <span class=\"number\">1</span> = <span class=\"number\">6</span> 。</span><br><span class=\"line\">g.shortestPath(<span class=\"number\">0</span>, <span class=\"number\">3</span>); // 返回 <span class=\"number\">-1</span> 。没有从 <span class=\"number\">0</span> 到 <span class=\"number\">3</span> 的路径。</span><br><span class=\"line\">g.addEdge([<span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>]); // 添加一条节点 <span class=\"number\">1</span> 到节点 <span class=\"number\">3</span> 的边，得到第二幅图。</span><br><span class=\"line\">g.shortestPath(<span class=\"number\">0</span>, <span class=\"number\">3</span>); // 返回 <span class=\"number\">6</span> 。从 <span class=\"number\">0</span> 到 <span class=\"number\">3</span> 的最短路径为 <span class=\"number\">0</span> -&gt; <span class=\"number\">1</span> -&gt; <span class=\"number\">3</span> ，总代价为 <span class=\"number\">2</span> + <span class=\"number\">4</span> = <span class=\"number\">6</span> 。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= n &lt;= 100</code></li>\n<li><code>0 &lt;= edges.length &lt;= n * (n - 1)</code></li>\n<li><code>edges[i].length == edge.length == 3</code></li>\n<li><code>0 &lt;= fromi, toi, from, to, node1, node2 &lt;= n - 1</code></li>\n<li><code>1 &lt;= edgeCosti, edgeCost &lt;= 106</code></li>\n<li>图中任何时候都不会有重边和自环。</li>\n<li>调用  <code>addEdge</code>  至多  <code>100</code>  次。</li>\n<li>调用  <code>shortestPath</code>  至多  <code>100</code>  次。</li>\n</ul>\n<p><strong>迪杰斯特拉算法</strong></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Graph</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"built_in\">Graph</span>(<span class=\"type\">int</span> n, vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; edges) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>-&gt;n = n;</span><br><span class=\"line\">        <span class=\"keyword\">this</span>-&gt;edg.<span class=\"built_in\">resize</span>(<span class=\"keyword\">this</span>-&gt;n);</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> &amp;e:<span class=\"keyword\">this</span>-&gt;edg)&#123;</span><br><span class=\"line\">            e.<span class=\"built_in\">resize</span>(<span class=\"keyword\">this</span>-&gt;n,<span class=\"keyword\">this</span>-&gt;inf);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"keyword\">this</span>-&gt;n;i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">this</span>-&gt;edg[i][i] = <span class=\"number\">0</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> &amp;e:edges)&#123;</span><br><span class=\"line\">           <span class=\"keyword\">this</span>-&gt;edg[e[<span class=\"number\">0</span>]][e[<span class=\"number\">1</span>]] = e[<span class=\"number\">2</span>];</span><br><span class=\"line\">        &#125; </span><br><span class=\"line\">        <span class=\"comment\">// for(auto &amp;ed:this-&gt;edg)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//     for(auto &amp; e:ed)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//         cout &lt;&lt; e &lt;&lt; &quot; &quot;;</span></span><br><span class=\"line\">        <span class=\"comment\">//     &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//     cout &lt;&lt; endl;</span></span><br><span class=\"line\">        <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">addEdge</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt; edge)</span> </span>&#123;</span><br><span class=\"line\">          <span class=\"keyword\">this</span>-&gt;edg[edge[<span class=\"number\">0</span>]][edge[<span class=\"number\">1</span>]] = edge[<span class=\"number\">2</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">shortestPath</span><span class=\"params\">(<span class=\"type\">int</span> node1, <span class=\"type\">int</span> node2)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">bool</span>&gt; <span class=\"title\">vis</span><span class=\"params\">(<span class=\"keyword\">this</span>-&gt;n,<span class=\"literal\">false</span>)</span></span>;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt;  <span class=\"title\">dis</span><span class=\"params\">(<span class=\"keyword\">this</span>-&gt;n,<span class=\"keyword\">this</span>-&gt;inf)</span></span>;</span><br><span class=\"line\">        dis[node1] = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> node = <span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i &lt; <span class=\"keyword\">this</span>-&gt;n - <span class=\"number\">1</span>;i++)&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 找到最短距离的点</span></span><br><span class=\"line\">            node = <span class=\"number\">-1</span>;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j = <span class=\"number\">0</span>;j&lt;<span class=\"keyword\">this</span>-&gt;n;j++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(!vis[j] &amp;&amp; (node ==<span class=\"number\">-1</span> || dis[j]  &lt; dis[node]))&#123;</span><br><span class=\"line\">                    node = j;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">             </span><br><span class=\"line\">            <span class=\"comment\">// 更新松弛</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j = <span class=\"number\">0</span>;j&lt;<span class=\"keyword\">this</span>-&gt;n;j++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(!vis[j]) </span><br><span class=\"line\">                     dis[j] = <span class=\"built_in\">min</span>(dis[j],dis[node] + <span class=\"keyword\">this</span>-&gt;edg[node][j] );</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">           </span><br><span class=\"line\"></span><br><span class=\"line\">               vis[node] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dis[node2]&lt;<span class=\"keyword\">this</span>-&gt;inf ? dis[node2] : <span class=\"number\">-1</span>;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">    <span class=\"keyword\">private</span>:</span><br><span class=\"line\">       <span class=\"type\">int</span> n;</span><br><span class=\"line\">       <span class=\"type\">int</span> inf = <span class=\"number\">0x3f3f3f3f</span>;</span><br><span class=\"line\">       vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; edg;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * Your Graph object will be instantiated and called as such:</span></span><br><span class=\"line\"><span class=\"comment\"> * Graph* obj = new Graph(n, edges);</span></span><br><span class=\"line\"><span class=\"comment\"> * obj-&gt;addEdge(edge);</span></span><br><span class=\"line\"><span class=\"comment\"> * int param_2 = obj-&gt;shortestPath(node1,node2);</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"lcp-24-数字游戏\"><a class=\"anchor\" href=\"#lcp-24-数字游戏\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy81VHhLZUsv\">LCP 24. 数字游戏</span></h4>\n<p>小扣在秋日市集入口处发现了一个数字游戏。主办方共有  <code>N</code>  个计数器，计数器编号为  <code>0 ~ N-1</code> 。每个计数器上分别显示了一个数字，小扣按计数器编号升序将所显示的数字记于数组  <code>nums</code> 。每个计数器上有两个按钮，分别可以实现将显示数字加一或减一。小扣每一次操作可以选择一个计数器，按下加一或减一按钮。</p>\n<p>主办方请小扣回答出一个长度为  <code>N</code>  的数组，第  <code>i</code>  个元素 (0 &lt;= i &lt; N) 表示将  <code>0~i</code>  号计数器 <strong>初始</strong> 所示数字操作成满足所有条件  <code>nums[a]+1 == nums[a+1],(0 &lt;= a &lt; i)</code>  的最小操作数。回答正确方可进入秋日市集。</p>\n<p>由于答案可能很大，请将每个最小操作数对  <code>1,000,000,007</code>  取余。</p>\n<p><strong>示例 1：</strong></p>\n<blockquote>\n<p>输入： <code>nums = [3,4,5,1,6,7]</code></p>\n<p>输出： <code>[0,0,0,5,6,7]</code></p>\n<p>解释： i = 0，[3] 无需操作 i = 1，[3,4] 无需操作； i = 2，[3,4,5] 无需操作； i = 3，将 [3,4,5,1] 操作成 [3,4,5,6], 最少 5 次操作； i = 4，将 [3,4,5,1,6] 操作成 [3,4,5,6,7], 最少 6 次操作； i = 5，将 [3,4,5,1,6,7] 操作成 [3,4,5,6,7,8]，最少 7 次操作； 返回 [0,0,0,5,6,7]。</p>\n</blockquote>\n<p><strong>示例 2：</strong></p>\n<blockquote>\n<p>输入： <code>nums = [1,2,3,4,5]</code></p>\n<p>输出： <code>[0,0,0,0,0]</code></p>\n<p>解释：对于任意计数器编号 i 都无需操作。</p>\n</blockquote>\n<p><strong>示例 3：</strong></p>\n<blockquote>\n<p>输入： <code>nums = [1,1,1,2,3,4]</code></p>\n<p>输出： <code>[0,1,2,3,3,3]</code></p>\n<p>解释： i = 0，无需操作； i = 1，将 [1,1] 操作成 [1,2] 或 [0,1] 最少 1 次操作； i = 2，将 [1,1,1] 操作成 [1,2,3] 或 [0,1,2]，最少 2 次操作； i = 3，将 [1,1,1,2] 操作成 [1,2,3,4] 或 [0,1,2,3]，最少 3 次操作； i = 4，将 [1,1,1,2,3] 操作成 [-1,0,1,2,3]，最少 3 次操作； i = 5，将 [1,1,1,2,3,4] 操作成 [-1,0,1,2,3,4]，最少 3 次操作； 返回 [0,1,2,3,3,3]。</p>\n</blockquote>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= nums.length &lt;= 10^5</code></li>\n<li><code>1 &lt;= nums[i] &lt;= 10^3</code></li>\n</ul>\n<p>方法一：双优先队列</p>\n<p>将 [0,i] 范围内的计数器初始所示数字操作成满足所有条件 nums [j] + 1 == nums [j+1] , 等价于将 nums [j] - j ，操作成相同的数字，因此先对 nums 做预处理，即令 nums [i] = nums [i] - i, 将区间 [0,i][0, i][0,i] 范围内的数字操作成相同的数字的最小操作数，等于将区间 [0,i] 范围内的数字操作成它们的中位数所需要的操作数。证明过程可以参考题目 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9taW5pbXVtLW1vdmVzLXRvLWVxdWFsLWFycmF5LWVsZW1lbnRzLWlpL3NvbHV0aW9ucy8xNTAxMjMwL3p1aS1zaGFvLXlpLWRvbmctY2ktc2h1LXNoaS1zaHUtenUteXVhbi14dDNyMi8=\">462. 最小操作次数使数组元素相等 II</span></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">numsGame</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">res</span><span class=\"params\">(n)</span></span>;</span><br><span class=\"line\">        priority_queue&lt;<span class=\"type\">int</span>&gt; lower;</span><br><span class=\"line\">        priority_queue&lt;<span class=\"type\">int</span>, vector&lt;<span class=\"type\">int</span>&gt;, greater&lt;&gt;&gt; upper;</span><br><span class=\"line\">        <span class=\"type\">long</span> <span class=\"type\">long</span> mod = <span class=\"number\">1e9</span> + <span class=\"number\">7</span>;</span><br><span class=\"line\">        <span class=\"type\">long</span> <span class=\"type\">long</span> lowerSum = <span class=\"number\">0</span>, upperSum = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> x = nums[i] - i;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (lower.<span class=\"built_in\">empty</span>() || lower.<span class=\"built_in\">top</span>() &gt;= x) &#123;</span><br><span class=\"line\">                lowerSum += x;</span><br><span class=\"line\">                lower.<span class=\"built_in\">push</span>(x);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (lower.<span class=\"built_in\">size</span>() &gt; upper.<span class=\"built_in\">size</span>() + <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                    upperSum += lower.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">                    upper.<span class=\"built_in\">push</span>(lower.<span class=\"built_in\">top</span>());</span><br><span class=\"line\">                    lowerSum -= lower.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">                    lower.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                upperSum += x;</span><br><span class=\"line\">                upper.<span class=\"built_in\">push</span>(x);</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (lower.<span class=\"built_in\">size</span>() &lt; upper.<span class=\"built_in\">size</span>()) &#123;</span><br><span class=\"line\">                    lowerSum += upper.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">                    lower.<span class=\"built_in\">push</span>(upper.<span class=\"built_in\">top</span>());</span><br><span class=\"line\">                    upperSum -= upper.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">                    upper.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> ((i + <span class=\"number\">1</span>) % <span class=\"number\">2</span> == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                res[i] = (upperSum - lowerSum) % mod;</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                res[i] = (upperSum - lowerSum + lower.<span class=\"built_in\">top</span>()) % mod;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"2617-网格图中最少访问的格子数\"><a class=\"anchor\" href=\"#2617-网格图中最少访问的格子数\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9taW5pbXVtLW51bWJlci1vZi12aXNpdGVkLWNlbGxzLWluLWEtZ3JpZC8=\">2617. 网格图中最少访问的格子数</span></h4>\n<p>给你一个下标从 <strong>0</strong> 开始的  <code>m x n</code>  整数矩阵  <code>grid</code>  。你一开始的位置在 <strong>左上角</strong> 格子  <code>(0, 0)</code>  。</p>\n<p>当你在格子  <code>(i, j)</code>  的时候，你可以移动到以下格子之一：</p>\n<ul>\n<li>满足  <code>j &lt; k &lt;= grid[i][j] + j</code>  的格子  <code>(i, k)</code>  （向右移动），或者</li>\n<li>满足  <code>i &lt; k &lt;= grid[i][j] + i</code>  的格子  <code>(k, j)</code>  （向下移动）。</li>\n</ul>\n<p>请你返回到达 <strong>右下角</strong> 格子  <code>(m - 1, n - 1)</code>  需要经过的最少移动格子数，如果无法到达右下角格子，请你返回  <code>-1</code>  。</p>\n<p><strong>示例 1：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2023/01/25/ex1.png\" alt=\"img\"></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：grid = <span class=\"comment\">[<span class=\"comment\">[3,4,2,1]</span>,<span class=\"comment\">[4,2,3,1]</span>,<span class=\"comment\">[2,1,0,0]</span>,<span class=\"comment\">[2,4,0,0]</span>]</span></span><br><span class=\"line\">输出：4</span><br><span class=\"line\">解释：上图展示了到达右下角格子经过的 4 个格子。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2023/01/25/ex2.png\" alt=\"img\"></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：grid = <span class=\"comment\">[<span class=\"comment\">[3,4,2,1]</span>,<span class=\"comment\">[4,2,1,1]</span>,<span class=\"comment\">[2,1,1,0]</span>,<span class=\"comment\">[3,4,1,0]</span>]</span></span><br><span class=\"line\">输出：3</span><br><span class=\"line\">解释：上图展示了到达右下角格子经过的 3 个格子。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2023/01/26/ex3.png\" alt=\"img\"></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：grid = <span class=\"string\">[[2,1,0],[1,0,0]]</span></span><br><span class=\"line\">输出：<span class=\"number\">-1</span></span><br><span class=\"line\">解释：无法到达右下角格子。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>m == grid.length</code></li>\n<li><code>n == grid[i].length</code></li>\n<li><code>1 &lt;= m, n &lt;= 105</code></li>\n<li><code>1 &lt;= m * n &lt;= 105</code></li>\n<li><code>0 &lt;= grid[i][j] &lt; m * n</code></li>\n<li><code>grid[m - 1][n - 1] == 0</code></li>\n</ul>\n<p>一般思路：深度优先搜索 (但超时了)</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">ISreach</span><span class=\"params\">(<span class=\"type\">int</span> a,<span class=\"type\">int</span> b,<span class=\"type\">int</span> c)</span></span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> a + b &gt;= c;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">minimumVisitedCells</span><span class=\"params\">(vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class=\"line\">       <span class=\"comment\">// 判断是否能够到达这个点</span></span><br><span class=\"line\">       <span class=\"type\">int</span> m = grid.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">       <span class=\"type\">int</span> n = grid[<span class=\"number\">0</span>].<span class=\"built_in\">size</span>();</span><br><span class=\"line\">       <span class=\"type\">int</span> result = m + n;</span><br><span class=\"line\">       function&lt;<span class=\"type\">void</span>(<span class=\"type\">int</span>,<span class=\"type\">int</span>,<span class=\"type\">int</span>)&gt; dfs = [&amp;](<span class=\"type\">int</span> x ,<span class=\"type\">int</span> y,<span class=\"type\">int</span> step)-&gt;<span class=\"type\">void</span>&#123;</span><br><span class=\"line\">           <span class=\"keyword\">if</span>(x==m<span class=\"number\">-1</span> &amp;&amp; y==n<span class=\"number\">-1</span>) &#123;</span><br><span class=\"line\">               result = <span class=\"built_in\">min</span>(result,step);</span><br><span class=\"line\">               <span class=\"keyword\">return</span> ;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           <span class=\"comment\">// 循环遍历后续能到达的节点</span></span><br><span class=\"line\">           <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = x<span class=\"number\">+1</span>;i&lt;m;i++)&#123;</span><br><span class=\"line\">               <span class=\"keyword\">if</span>(<span class=\"built_in\">ISreach</span>(grid[x][y],x,i))&#123;</span><br><span class=\"line\">                   <span class=\"built_in\">dfs</span>(i,y,step + <span class=\"number\">1</span>);</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j = y<span class=\"number\">+1</span>;j&lt;n;j++)&#123;</span><br><span class=\"line\">               <span class=\"keyword\">if</span>(<span class=\"built_in\">ISreach</span>(grid[x][y],y,j))&#123;</span><br><span class=\"line\">                   <span class=\"built_in\">dfs</span>(x,j,step + <span class=\"number\">1</span>);</span><br><span class=\"line\">               &#125;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">     </span><br><span class=\"line\"></span><br><span class=\"line\">       &#125;;</span><br><span class=\"line\">       <span class=\"built_in\">dfs</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">1</span>);</span><br><span class=\"line\">       <span class=\"keyword\">if</span>(result &lt; m + n)&#123;</span><br><span class=\"line\">           <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">       &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">           <span class=\"keyword\">return</span> <span class=\"number\">-1</span>;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<p><strong>优先队列方法</strong></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;functional&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;queue&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">minimumVisitedCells</span><span class=\"params\">(vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; grid)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> m = grid.<span class=\"built_in\">size</span>(), n = grid[<span class=\"number\">0</span>].<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">dist</span>(m, <span class=\"built_in\">vector</span>&lt;<span class=\"type\">int</span>&gt;(n, <span class=\"number\">-1</span>));</span><br><span class=\"line\">        dist[<span class=\"number\">0</span>][<span class=\"number\">0</span>] = <span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 为每一个行和每一列都构造一个对应的优先队列</span></span><br><span class=\"line\">        vector&lt;priority_queue&lt;pair&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt;, vector&lt;pair&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt;&gt;, greater&lt;&gt;&gt;&gt; <span class=\"built_in\">row</span>(m), <span class=\"built_in\">col</span>(n);</span><br><span class=\"line\">        <span class=\"comment\">// 更新函数</span></span><br><span class=\"line\">        <span class=\"keyword\">auto</span> update = [](<span class=\"type\">int</span>&amp; x, <span class=\"type\">int</span> y) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (x == <span class=\"number\">-1</span> || y &lt; x) &#123;</span><br><span class=\"line\">                x = y;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"comment\">// 二重遍历</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; m; ++i) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt; n; ++j) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 如果队列非空，并且此时堆顶元素（即该行最小步数位置）不能直接一步到达该位置，就弹出，直到找到</span></span><br><span class=\"line\">                <span class=\"comment\">// 能够一步到达该位置的最小步数位置</span></span><br><span class=\"line\">                <span class=\"keyword\">while</span> (!row[i].<span class=\"built_in\">empty</span>() &amp;&amp; row[i].<span class=\"built_in\">top</span>().second + grid[i][row[i].<span class=\"built_in\">top</span>().second] &lt; j) &#123;</span><br><span class=\"line\">                    row[i].<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"comment\">// 判断一下是否找到，如果没有找到，说明此时的优先队列已经为空</span></span><br><span class=\"line\">                <span class=\"comment\">// 反之，如果找到了，说明此时队列肯定非空，此时就更新该位置的最小步数</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (!row[i].<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">                    <span class=\"built_in\">update</span>(dist[i][j], dist[i][row[i].<span class=\"built_in\">top</span>().second] + <span class=\"number\">1</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"comment\">// 同理，每一列也这么处理</span></span><br><span class=\"line\">                <span class=\"keyword\">while</span> (!col[j].<span class=\"built_in\">empty</span>() &amp;&amp; col[j].<span class=\"built_in\">top</span>().second + grid[col[j].<span class=\"built_in\">top</span>().second][j] &lt; i) &#123;</span><br><span class=\"line\">                    col[j].<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (!col[j].<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">                    <span class=\"built_in\">update</span>(dist[i][j], dist[col[j].<span class=\"built_in\">top</span>().second][j] + <span class=\"number\">1</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"comment\">// 处理完之后，判断该位置是否能到达</span></span><br><span class=\"line\">                <span class=\"comment\">// 如果能够到达，就不等于初始设置的-1</span></span><br><span class=\"line\">                <span class=\"comment\">// 将此时的经过（综合左边来的，和上边来的）得出的最小值</span></span><br><span class=\"line\">                <span class=\"comment\">// 更新在该行和该列的优先队列中，以便下一个点使用</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (dist[i][j] != <span class=\"number\">-1</span>) &#123;</span><br><span class=\"line\">                    row[i].<span class=\"built_in\">emplace</span>(dist[i][j], j);</span><br><span class=\"line\">                    col[j].<span class=\"built_in\">emplace</span>(dist[i][j], i);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 最后就返回到达右下角的最小步数</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> dist[m - <span class=\"number\">1</span>][n - <span class=\"number\">1</span>];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">     <span class=\"keyword\">auto</span> bijiao = [](pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; x ,pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; y)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> x.second &gt; y.second;</span><br><span class=\"line\">     &#125;;</span><br><span class=\"line\">     function&lt;<span class=\"type\">bool</span>(pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt;,pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt;)&gt; bijiao2 = [](pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; x,pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt; y)-&gt;<span class=\"type\">bool</span>&#123;</span><br><span class=\"line\">          <span class=\"keyword\">return</span> x.second &lt; y.second;</span><br><span class=\"line\">     &#125;;</span><br><span class=\"line\">     priority_queue&lt;pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt;,vector&lt;pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt;&gt;,<span class=\"keyword\">decltype</span>(bijiao2)&gt; <span class=\"built_in\">que</span>(bijiao2);</span><br><span class=\"line\">     que.<span class=\"built_in\">emplace</span>(<span class=\"number\">1</span>,<span class=\"number\">5</span>);</span><br><span class=\"line\">     que.<span class=\"built_in\">emplace</span>(<span class=\"number\">2</span>,<span class=\"number\">4</span>);</span><br><span class=\"line\">     que.<span class=\"built_in\">emplace</span>(<span class=\"number\">3</span>,<span class=\"number\">3</span>);</span><br><span class=\"line\">     <span class=\"keyword\">while</span>(!que.<span class=\"built_in\">empty</span>())&#123;</span><br><span class=\"line\">        cout &lt;&lt; que.<span class=\"built_in\">top</span>().first &lt;&lt; que.<span class=\"built_in\">top</span>().second &lt;&lt; endl;</span><br><span class=\"line\">        que.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"1793-好子数组的最大分数\"><a class=\"anchor\" href=\"#1793-好子数组的最大分数\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9tYXhpbXVtLXNjb3JlLW9mLWEtZ29vZC1zdWJhcnJheS8=\">1793. 好子数组的最大分数</span></h4>\n<p>给你一个整数数组  <code>nums</code>  **（下标从 0 开始）** 和一个整数  <code>k</code>  。</p>\n<p>一个子数组  <code>(i, j)</code>  的 <strong>分数</strong> 定义为  <code>min(nums[i], nums[i+1], ..., nums[j]) * (j - i + 1)</code>  。一个 <strong>好</strong> 子数组的两个端点下标需要满足  <code>i &lt;= k &lt;= j</code>  。</p>\n<p>请你返回 <strong>好</strong> 子数组的最大可能 <strong>分数</strong> 。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = [1,4,3,7,4,5], k = 3</span><br><span class=\"line\">输出：15</span><br><span class=\"line\">解释：最优子数组的左右端点下标是 (1, 5) ，分数为 min(4,3,7,4,5) * (5-1+1) =<span class=\"number\"> 3 </span>*<span class=\"number\"> 5 </span>=<span class=\"number\"> 15 </span>。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight dns\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = [<span class=\"number\">5,5,4,5</span>,<span class=\"number\">4,1,1,1</span>], k = <span class=\"number\">0</span></span><br><span class=\"line\">输出：<span class=\"number\">20</span></span><br><span class=\"line\">解释：最优子数组的左右端点下标是 (<span class=\"number\">0</span>, <span class=\"number\">4</span>) ，分数为 min(<span class=\"number\">5,5,4,5</span>,<span class=\"number\">4</span>) * (<span class=\"number\">4</span>-<span class=\"number\">0</span>+<span class=\"number\">1</span>) = <span class=\"number\">4</span> * <span class=\"number\">5</span> = <span class=\"number\">20</span> 。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= nums.length &lt;= 105</code></li>\n<li><code>1 &lt;= nums[i] &lt;= 2 * 104</code></li>\n<li>`0 &lt;= k &lt; nums.length</li>\n</ul>\n<p>双指针</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maximumScore</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums, <span class=\"type\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">   <span class=\"comment\">// 因为满足条件的好子数组必须得包含nums[k]</span></span><br><span class=\"line\">   <span class=\"comment\">// 所以以nums[k]为中心，两边不断更新不断降低</span></span><br><span class=\"line\">   <span class=\"comment\">// 最小值的标准，然后维护每一步中的最大值</span></span><br><span class=\"line\">   <span class=\"type\">int</span> left = k - <span class=\"number\">1</span>,right = k<span class=\"number\">+1</span>;</span><br><span class=\"line\">   <span class=\"type\">int</span> length = nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">   <span class=\"type\">int</span> result = <span class=\"number\">0</span> ; <span class=\"comment\">// 结果</span></span><br><span class=\"line\">   <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i= nums[k];;i--)&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 找到第一个区间，以nums[k]为最小值，不断扩大区间，因为求的是最大值</span></span><br><span class=\"line\">    <span class=\"comment\">// 所以在确定区间最小值之后，应尽可能扩大区间长度，使得数组分数极大</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//1.确定区间最小值之后，走到最左边的点</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span>(left &gt;= <span class=\"number\">0</span> &amp;&amp; nums[left]&gt;=i)&#123;</span><br><span class=\"line\">        left --;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">while</span>(right &lt; length &amp;&amp; nums[right]&gt;=i)&#123;</span><br><span class=\"line\">        right ++;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// 计算此时的对于确定的区间最小值，所能得到的最大值，并且更新并维护最大值、</span></span><br><span class=\"line\">    result = <span class=\"built_in\">max</span>(result,(right-left <span class=\"number\">-1</span>)*i);</span><br><span class=\"line\">    <span class=\"comment\">// 因为按照区间最小值从大到小来遍历的，所以如果要想得到最大值，必须递增遍历</span></span><br><span class=\"line\">    <span class=\"comment\">// 所以区间长度必须是越来越大，这样才合理，直到不能继续，才算遍历完全</span></span><br><span class=\"line\">    <span class=\"comment\">// 退出循环</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(left &lt; <span class=\"number\">0</span> &amp;&amp; right &gt;=length)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; nums = &#123;<span class=\"number\">1</span>,<span class=\"number\">4</span>,<span class=\"number\">3</span>,<span class=\"number\">7</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>&#125;; </span><br><span class=\"line\">    <span class=\"type\">int</span> k = <span class=\"number\">3</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> result = <span class=\"built_in\">maximumScore</span>(nums,k);</span><br><span class=\"line\">    cout &lt;&lt; result &lt;&lt;endl;</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"2312-卖木头块\"><a class=\"anchor\" href=\"#2312-卖木头块\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9zZWxsaW5nLXBpZWNlcy1vZi13b29kLw==\">2312. 卖木头块</span></h4>\n<p>给你两个整数  <code>m</code>  和  <code>n</code>  ，分别表示一块矩形木块的高和宽。同时给你一个二维整数数组  <code>prices</code>  ，其中  <code>prices[i] = [hi, wi, pricei]</code>  表示你可以以  <code>pricei</code>  元的价格卖一块高为  <code>hi</code>  宽为  <code>wi</code>  的矩形木块。</p>\n<p>每一次操作中，你必须按下述方式之一执行切割操作，以得到两块更小的矩形木块：</p>\n<ul>\n<li>沿垂直方向按高度 <strong>完全</strong> 切割木块，或</li>\n<li>沿水平方向按宽度 <strong>完全</strong> 切割木块</li>\n</ul>\n<p>在将一块木块切成若干小木块后，你可以根据  <code>prices</code>  卖木块。你可以卖多块同样尺寸的木块。你不需要将所有小木块都卖出去。你 <strong>不能</strong> 旋转切好后木块的高和宽。</p>\n<p>请你返回切割一块大小为  <code>m x n</code>  的木块后，能得到的 <strong>最多</strong> 钱数。</p>\n<p>注意你可以切割木块任意次。</p>\n<p><strong>示例 1：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2022/04/27/ex1.png\" alt=\"img\"></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：m = 3, n = 5, prices = [[1,4,2],[2,2,7],[2,1,3]]</span><br><span class=\"line\">输出：19</span><br><span class=\"line\">解释：上图展示了一个可行的方案。包括：</span><br><span class=\"line\">-<span class=\"number\"> 2 </span>块<span class=\"number\"> 2 </span>x<span class=\"number\"> 2 </span>的小木块，售出<span class=\"number\"> 2 </span>*<span class=\"number\"> 7 </span>=<span class=\"number\"> 14 </span>元。</span><br><span class=\"line\">-<span class=\"number\"> 1 </span>块<span class=\"number\"> 2 </span>x<span class=\"number\"> 1 </span>的小木块，售出<span class=\"number\"> 1 </span>*<span class=\"number\"> 3 </span>=<span class=\"number\"> 3 </span>元。</span><br><span class=\"line\">-<span class=\"number\"> 1 </span>块<span class=\"number\"> 1 </span>x<span class=\"number\"> 4 </span>的小木块，售出<span class=\"number\"> 1 </span>*<span class=\"number\"> 2 </span>=<span class=\"number\"> 2 </span>元。</span><br><span class=\"line\">总共售出<span class=\"number\"> 14 </span>+<span class=\"number\"> 3 </span>+<span class=\"number\"> 2 </span>=<span class=\"number\"> 19 </span>元。</span><br><span class=\"line\">19 元是最多能得到的钱数。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2022/04/27/ex2new.png\" alt=\"img\"></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：m = 4, n = 6, prices = [[3,2,10],[1,4,2],[4,1,3]]</span><br><span class=\"line\">输出：32</span><br><span class=\"line\">解释：上图展示了一个可行的方案。包括：</span><br><span class=\"line\">-<span class=\"number\"> 3 </span>块<span class=\"number\"> 3 </span>x<span class=\"number\"> 2 </span>的小木块，售出<span class=\"number\"> 3 </span>*<span class=\"number\"> 10 </span>=<span class=\"number\"> 30 </span>元。</span><br><span class=\"line\">-<span class=\"number\"> 1 </span>块<span class=\"number\"> 1 </span>x<span class=\"number\"> 4 </span>的小木块，售出<span class=\"number\"> 1 </span>*<span class=\"number\"> 2 </span>=<span class=\"number\"> 2 </span>元。</span><br><span class=\"line\">总共售出<span class=\"number\"> 30 </span>+<span class=\"number\"> 2 </span>=<span class=\"number\"> 32 </span>元。</span><br><span class=\"line\">32 元是最多能得到的钱数。</span><br><span class=\"line\">注意我们不能旋转<span class=\"number\"> 1 </span>x<span class=\"number\"> 4 </span>的木块来得到<span class=\"number\"> 4 </span>x<span class=\"number\"> 1 </span>的木块。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= m, n &lt;= 200</code></li>\n<li><code>1 &lt;= prices.length &lt;= 2 * 104</code></li>\n<li><code>prices[i].length == 3</code></li>\n<li><code>1 &lt;= hi &lt;= m</code></li>\n<li><code>1 &lt;= wi &lt;= n</code></li>\n<li><code>1 &lt;= pricei &lt;= 106</code></li>\n<li>所有  <code>(hi, wi)</code>  <strong>互不相同</strong> 。</li>\n</ul>\n<p><strong>记忆化搜索</strong></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;functional&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;unordered_map&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"comment\">// 官方题解，主要思路：动态规划+记忆化搜索</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">long</span> <span class=\"type\">long</span> <span class=\"title\">sellingWood_memorySearch</span><span class=\"params\">(<span class=\"type\">int</span> m, <span class=\"type\">int</span> n, vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; prices)</span> </span>&#123;</span><br><span class=\"line\"> </span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 自定义计算哈希值（默认哈希方式是乘法哈希）</span></span><br><span class=\"line\">        <span class=\"keyword\">auto</span> pair_hash = [fn = <span class=\"built_in\">hash</span>&lt;<span class=\"type\">int</span>&gt;()](<span class=\"type\">const</span> pair&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt;&amp; o) -&gt; <span class=\"type\">size_t</span> &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">            <span class=\"built_in\">return</span> (<span class=\"built_in\">fn</span>(o.first) &lt;&lt; <span class=\"number\">16</span>) ^ <span class=\"built_in\">fn</span>(o.second);</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 根据自定义的哈希函数 （指定桶的数量为0，就是根据负载因子自动调整桶的数量） </span></span><br><span class=\"line\">        unordered_map&lt;pair&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt;, <span class=\"type\">int</span>, <span class=\"keyword\">decltype</span>(pair_hash)&gt; <span class=\"built_in\">value</span>(<span class=\"number\">0</span>, pair_hash);</span><br><span class=\"line\">    </span><br><span class=\"line\">        <span class=\"comment\">// 记忆存储器</span></span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">long</span> <span class=\"type\">long</span>&gt;&gt; <span class=\"built_in\">memo</span>(m + <span class=\"number\">1</span>, <span class=\"built_in\">vector</span>&lt;<span class=\"type\">long</span> <span class=\"type\">long</span>&gt;(n + <span class=\"number\">1</span>, <span class=\"number\">-1</span>));</span><br><span class=\"line\">        </span><br><span class=\"line\"></span><br><span class=\"line\">        function&lt;<span class=\"type\">long</span> <span class=\"type\">long</span>(<span class=\"type\">int</span>, <span class=\"type\">int</span>)&gt; dfs = [&amp;](<span class=\"type\">int</span> x, <span class=\"type\">int</span> y) -&gt; <span class=\"type\">long</span> <span class=\"type\">long</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 如果此时遍历的位置之前已经遍历过，并且得到了结果，就可以直接返回</span></span><br><span class=\"line\">            <span class=\"comment\">// 这也是记忆化搜索的核心思想</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (memo[x][y] != <span class=\"number\">-1</span>) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">return</span> memo[x][y];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"type\">long</span> <span class=\"type\">long</span> ret = value.<span class=\"built_in\">count</span>(&#123;x, y&#125;) ? value[&#123;x, y&#125;] : <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 如果x大于1，说明可以继续分割</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (x &gt; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 在(0，x)找到合适的分隔点，使得dfs(i, y) + dfs(x - i, y)最大</span></span><br><span class=\"line\">                <span class=\"comment\">// 即分成的两块价值和最大</span></span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt; x; ++i) &#123;</span><br><span class=\"line\">                    ret = <span class=\"built_in\">max</span>(ret, <span class=\"built_in\">dfs</span>(i, y) + <span class=\"built_in\">dfs</span>(x - i, y));</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">              <span class=\"comment\">// 如果y大于1，说明可以继续分割</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (y &gt; <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"comment\">// 在(0，y)找到合适的分隔点，使得dfs(x, j) + dfs(x, y - j)最大</span></span><br><span class=\"line\">                <span class=\"comment\">// 即分成的两块价值和最大</span></span><br><span class=\"line\">                <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">1</span>; j &lt; y; ++j) &#123;</span><br><span class=\"line\">                    ret = <span class=\"built_in\">max</span>(ret, <span class=\"built_in\">dfs</span>(x, j) + <span class=\"built_in\">dfs</span>(x, y - j));</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">return</span> memo[x][y] = ret;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"comment\">// 利用prices数组，构建map</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; prices.<span class=\"built_in\">size</span>(); ++i) &#123;</span><br><span class=\"line\">            value[&#123;prices[i][<span class=\"number\">0</span>], prices[i][<span class=\"number\">1</span>]&#125;] = prices[i][<span class=\"number\">2</span>];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 调用函数，返回结果</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">dfs</span>(m, n);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"comment\">// 官方题解，主要思路：动态规划+记忆化搜索</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">long</span> <span class=\"type\">long</span> <span class=\"title\">sellingWood_dp</span><span class=\"params\">(<span class=\"type\">int</span> m, <span class=\"type\">int</span> n, vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; prices)</span> </span>&#123;</span><br><span class=\"line\"> <span class=\"comment\">// 根据题目要求 确定最大dp数组</span></span><br><span class=\"line\"> <span class=\"type\">long</span> <span class=\"type\">long</span> dp[<span class=\"number\">201</span>][<span class=\"number\">201</span>] = &#123;&#125;;</span><br><span class=\"line\">        <span class=\"comment\">// 将已经存在的木块大小，以及价格提前初始化</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>( <span class=\"keyword\">auto</span> &amp;v : prices ) &#123;</span><br><span class=\"line\">            dp[v[<span class=\"number\">0</span>]][v[<span class=\"number\">1</span>]] = v[<span class=\"number\">2</span>];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 从上到下，从左到右进行打表</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt;= m; i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j = <span class=\"number\">1</span>; j &lt;= n; j++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 在(0,i)中间选择合适的切割点，使得两部分的价值和最大（因为两边对称所以只用遍历到一半就行）</span></span><br><span class=\"line\">                <span class=\"keyword\">for</span>(<span class=\"type\">int</span> cut = <span class=\"number\">1</span>; cut &lt;= i / <span class=\"number\">2</span>; cut++) dp[i][j] = <span class=\"built_in\">max</span>(dp[i][j], dp[cut][j] + dp[i - cut][j]);</span><br><span class=\"line\">                <span class=\"comment\">// 在(0,j)中间选择合适的切割点，使得两部分的价值和最大 （因为两边对称所以只用遍历到一半就行）</span></span><br><span class=\"line\">                <span class=\"keyword\">for</span>(<span class=\"type\">int</span> cut = <span class=\"number\">1</span>; cut &lt;= j / <span class=\"number\">2</span>; cut++) dp[i][j] = <span class=\"built_in\">max</span>(dp[i][j], dp[i][cut] + dp[i][j - cut]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[m][n];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>动态规划</strong></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;functional&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;unordered_map&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 动态规划</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">long</span> <span class=\"type\">long</span> <span class=\"title\">sellingWood_dp</span><span class=\"params\">(<span class=\"type\">int</span> m, <span class=\"type\">int</span> n, vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; prices)</span> </span>&#123;</span><br><span class=\"line\"> <span class=\"comment\">// 根据题目要求 确定最大dp数组</span></span><br><span class=\"line\"> <span class=\"type\">long</span> <span class=\"type\">long</span> dp[<span class=\"number\">201</span>][<span class=\"number\">201</span>] = &#123;&#125;;</span><br><span class=\"line\">        <span class=\"comment\">// 将已经存在的木块大小，以及价格提前初始化</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>( <span class=\"keyword\">auto</span> &amp;v : prices ) &#123;</span><br><span class=\"line\">            dp[v[<span class=\"number\">0</span>]][v[<span class=\"number\">1</span>]] = v[<span class=\"number\">2</span>];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 从上到下，从左到右进行打表</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt;= m; i++)</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j = <span class=\"number\">1</span>; j &lt;= n; j++)</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 在(0,i)中间选择合适的切割点，使得两部分的价值和最大（因为两边对称所以只用遍历到一半就行）</span></span><br><span class=\"line\">                <span class=\"keyword\">for</span>(<span class=\"type\">int</span> cut = <span class=\"number\">1</span>; cut &lt;= i / <span class=\"number\">2</span>; cut++) dp[i][j] = <span class=\"built_in\">max</span>(dp[i][j], dp[cut][j] + dp[i - cut][j]);</span><br><span class=\"line\">                <span class=\"comment\">// 在(0,j)中间选择合适的切割点，使得两部分的价值和最大 （因为两边对称所以只用遍历到一半就行）</span></span><br><span class=\"line\">                <span class=\"keyword\">for</span>(<span class=\"type\">int</span> cut = <span class=\"number\">1</span>; cut &lt;= j / <span class=\"number\">2</span>; cut++) dp[i][j] = <span class=\"built_in\">max</span>(dp[i][j], dp[i][cut] + dp[i][j - cut]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dp[m][n];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"564-寻找最近的回文数\"><a class=\"anchor\" href=\"#564-寻找最近的回文数\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvZmluZC10aGUtY2xvc2VzdC1wYWxpbmRyb21lLw==\">564. 寻找最近的回文数</span></h4>\n<p>给定一个表示整数的字符串  <code>n</code>  ，返回与它最近的回文整数（不包括自身）。如果不止一个，返回较小的那个。</p>\n<p>“最近的” 定义为两个整数<strong>差的绝对值</strong>最小。</p>\n<p><strong>示例 1:</strong></p>\n<figure class=\"highlight excel\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入<span class=\"symbol\">:</span> <span class=\"built_in\">n</span> = <span class=\"string\">&quot;123&quot;</span></span><br><span class=\"line\">输出<span class=\"symbol\">:</span> <span class=\"string\">&quot;121&quot;</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 2:</strong></p>\n<figure class=\"highlight excel\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入<span class=\"symbol\">:</span> <span class=\"built_in\">n</span> = <span class=\"string\">&quot;1&quot;</span></span><br><span class=\"line\">输出<span class=\"symbol\">:</span> <span class=\"string\">&quot;0&quot;</span></span><br><span class=\"line\">解释<span class=\"symbol\">:</span> <span class=\"number\">0</span> 和 <span class=\"number\">2</span>是最近的回文，但我们返回最小的，也就是 <span class=\"number\">0</span>。</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">nearestPalindromic</span>(<span class=\"params\">self, n: <span class=\"built_in\">str</span></span>) -&gt; <span class=\"built_in\">str</span>:</span><br><span class=\"line\">        <span class=\"comment\">#计算出字符串的长度</span></span><br><span class=\"line\">        m = <span class=\"built_in\">len</span>(n)</span><br><span class=\"line\">        <span class=\"comment\">#构造出位数发生变化的那两种可能</span></span><br><span class=\"line\">        candidates = [<span class=\"number\">10</span> ** (m - <span class=\"number\">1</span>) - <span class=\"number\">1</span>, <span class=\"number\">10</span> ** m + <span class=\"number\">1</span>]</span><br><span class=\"line\">        <span class=\"comment\">#取出前半部分的数字</span></span><br><span class=\"line\">        selfPrefix = <span class=\"built_in\">int</span>(n[:(m + <span class=\"number\">1</span>) // <span class=\"number\">2</span>])</span><br><span class=\"line\">        <span class=\"comment\">#构造三种回文数字</span></span><br><span class=\"line\">        <span class=\"comment\">#用原数的前半部分替换后半部分得到的回文整数。</span></span><br><span class=\"line\">        <span class=\"comment\">#用原数的前半部分加一后的结果替换后半部分得到的回文整数。</span></span><br><span class=\"line\">        <span class=\"comment\">#用原数的前半部分减一后的结果替换后半部分得到的回文整数。</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> x <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(selfPrefix - <span class=\"number\">1</span>, selfPrefix + <span class=\"number\">2</span>):</span><br><span class=\"line\">            y = x <span class=\"keyword\">if</span> m % <span class=\"number\">2</span> == <span class=\"number\">0</span> <span class=\"keyword\">else</span> x // <span class=\"number\">10</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span> y:</span><br><span class=\"line\">                x = x * <span class=\"number\">10</span> + y % <span class=\"number\">10</span></span><br><span class=\"line\">                y //= <span class=\"number\">10</span></span><br><span class=\"line\">            candidates.append(x)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">#从构造的回文数字中找到符合题意的最好的</span></span><br><span class=\"line\">        ans = -<span class=\"number\">1</span></span><br><span class=\"line\">        selfNumber = <span class=\"built_in\">int</span>(n)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> candidate <span class=\"keyword\">in</span> candidates:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> candidate != selfNumber:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> ans == -<span class=\"number\">1</span> <span class=\"keyword\">or</span> <span class=\"built_in\">abs</span>(candidate - selfNumber) &lt; <span class=\"built_in\">abs</span>(ans - selfNumber) <span class=\"keyword\">or</span> <span class=\"built_in\">abs</span>(candidate - selfNumber) == <span class=\"built_in\">abs</span>(ans - selfNumber) <span class=\"keyword\">and</span> candidate &lt; ans:</span><br><span class=\"line\">                    ans = candidate</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">str</span>(ans)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"3-无重复字符的最长子串\"><a class=\"anchor\" href=\"#3-无重复字符的最长子串\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvbG9uZ2VzdC1zdWJzdHJpbmctd2l0aG91dC1yZXBlYXRpbmctY2hhcmFjdGVycy8=\">3. 无重复字符的最长子串</span></h4>\n<p>难度中等 7232</p>\n<p>给定一个字符串  <code>s</code>  ，请你找出其中不含有重复字符的 <strong>最长子串</strong> 的长度。</p>\n<p><strong>示例 1:</strong></p>\n<figure class=\"highlight makefile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">输入: s = &quot;abcabcbb&quot;</span></span><br><span class=\"line\"><span class=\"section\">输出: 3 </span></span><br><span class=\"line\"><span class=\"section\">解释: 因为无重复字符的最长子串是 &quot;abc&quot;，所以其长度为 3。</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 2:</strong></p>\n<figure class=\"highlight makefile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">输入: s = &quot;bbbbb&quot;</span></span><br><span class=\"line\"><span class=\"section\">输出: 1</span></span><br><span class=\"line\"><span class=\"section\">解释: 因为无重复字符的最长子串是 &quot;b&quot;，所以其长度为 1。</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 3:</strong></p>\n<figure class=\"highlight makefile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">输入: s = &quot;pwwkew&quot;</span></span><br><span class=\"line\"><span class=\"section\">输出: 3</span></span><br><span class=\"line\"><span class=\"section\">解释: 因为无重复字符的最长子串是 &quot;wke&quot;，所以其长度为 3。</span></span><br><span class=\"line\">     请注意，你的答案必须是 子串 的长度，<span class=\"string\">&quot;pwke&quot;</span> 是一个子序列，不是子串。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>0 &lt;= s.length &lt;= 5 * 104</code></li>\n<li><code>s</code>  由英文字母、数字、符号和空格组成</li>\n</ul>\n<h5 id=\"分析\"><a class=\"anchor\" href=\"#分析\">#</a> 分析</h5>\n<p>具体还是一种滑动窗口思路，窗口边界只允许向右移动，当左边界向右移动的时候，有两种情况</p>\n<ul>\n<li>窗口内不存在重复的字符，则继续向右进行移动，边移动，边记录当前的字符出现过的次数，并且检查出现过的字符是否有重复的</li>\n<li>窗口内因为新加入的字符导致拥有重复的字符，刷新最大不重复子串的长度；此时，左边界开始向右移动，直到窗口不存在重复字符为止</li>\n</ul>\n<p>最终的长度的就是所要的最大不重复子串长度</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">lengthOfLongestSubstring</span><span class=\"params\">(string s)</span> </span>&#123;</span><br><span class=\"line\">      <span class=\"comment\">//定义数组用来存储字符第一次出现的位置</span></span><br><span class=\"line\">      <span class=\"type\">int</span>  loads[<span class=\"number\">128</span>];</span><br><span class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">128</span>;i++)</span><br><span class=\"line\">          loads[i]=<span class=\"number\">-1</span>;</span><br><span class=\"line\">      <span class=\"type\">int</span>  start=<span class=\"number\">0</span>,result=<span class=\"number\">0</span>,len = s.<span class=\"built_in\">length</span>();</span><br><span class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;len;i++)&#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">          <span class=\"comment\">//字符在之前出现过,就将最长子串的开口移到该子串中第一个出现的字符的位置的下一个,</span></span><br><span class=\"line\">          start = loads[s[i]]&gt;=start ? loads[s[i]]<span class=\"number\">+1</span> :start;</span><br><span class=\"line\">          <span class=\"comment\">//比较现在的子串长度和之前的子串的长度的大小，选择最大的</span></span><br><span class=\"line\">          result = result&gt;=i-start<span class=\"number\">+1</span> ? result :i-start<span class=\"number\">+1</span>;</span><br><span class=\"line\">          <span class=\"comment\">//把位置存放进数组中</span></span><br><span class=\"line\">          loads[s[i]] = i;</span><br><span class=\"line\">      &#125; </span><br><span class=\"line\">      <span class=\"keyword\">return</span> result;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"2024-考试的最大困扰度\"><a class=\"anchor\" href=\"#2024-考试的最大困扰度\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvbWF4aW1pemUtdGhlLWNvbmZ1c2lvbi1vZi1hbi1leGFtLw==\">2024. 考试的最大困扰度</span></h4>\n<p>难度中等 66</p>\n<p>一位老师正在出一场由  <code>n</code>  道判断题构成的考试，每道题的答案为 true （用  <code>'T'</code>  表示）或者 false （用  <code>'F'</code>  表示）。老师想增加学生对自己做出答案的不确定性，方法是 <strong>最大化</strong> 有 <strong>连续相同</strong> 结果的题数。（也就是连续出现 true 或者连续出现 false）。</p>\n<p>给你一个字符串  <code>answerKey</code>  ，其中  <code>answerKey[i]</code>  是第  <code>i</code>  个问题的正确结果。除此以外，还给你一个整数  <code>k</code>  ，表示你能进行以下操作的最多次数：</p>\n<ul>\n<li>每次操作中，将问题的正确答案改为  <code>'T'</code>  或者  <code>'F'</code>  （也就是将  <code>answerKey[i]</code>  改为  <code>'T'</code>  或者  <code>'F'</code>  ）。</li>\n</ul>\n<p>请你返回在不超过  <code>k</code>  次操作的情况下，<strong>最大</strong> 连续  <code>'T'</code>  或者  <code>'F'</code>  的数目。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：answerKey <span class=\"punctuation\">=</span> <span class=\"string\">&quot;TTFF&quot;</span><span class=\"punctuation\">,</span> k <span class=\"punctuation\">=</span> <span class=\"number\">2</span></span><br><span class=\"line\">输出：<span class=\"number\">4</span></span><br><span class=\"line\">解释：我们可以将两个 &#x27;F&#x27; 都变为 &#x27;T&#x27; ，得到 answerKey <span class=\"punctuation\">=</span> <span class=\"string\">&quot;TTTT&quot;</span> 。</span><br><span class=\"line\">总共有四个连续的 &#x27;T&#x27; 。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：answerKey <span class=\"punctuation\">=</span> <span class=\"string\">&quot;TFFT&quot;</span><span class=\"punctuation\">,</span> k <span class=\"punctuation\">=</span> <span class=\"number\">1</span></span><br><span class=\"line\">输出：<span class=\"number\">3</span></span><br><span class=\"line\">解释：我们可以将最前面的 &#x27;T&#x27; 换成 &#x27;F&#x27; ，得到 answerKey <span class=\"punctuation\">=</span> <span class=\"string\">&quot;FFFT&quot;</span> 。</span><br><span class=\"line\">或者，我们可以将第二个 &#x27;T&#x27; 换成 &#x27;F&#x27; ，得到 answerKey <span class=\"punctuation\">=</span> <span class=\"string\">&quot;TFFF&quot;</span> 。</span><br><span class=\"line\">两种情况下，都有三个连续的 &#x27;F&#x27; 。</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">maxConsecutiveAnswers</span>(<span class=\"params\">self, answerKey: <span class=\"built_in\">str</span>, k: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">        <span class=\"comment\">#滑动窗口问题</span></span><br><span class=\"line\">        left,right = <span class=\"number\">0</span>,<span class=\"number\">0</span></span><br><span class=\"line\">        lenght = <span class=\"built_in\">len</span>(answerKey)</span><br><span class=\"line\">        result = <span class=\"number\">0</span></span><br><span class=\"line\">        ans = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"comment\">#寻找最长的可以替换掉的F字符而形成的字符串</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> right &lt;= lenght <span class=\"keyword\">and</span> left&lt;=right:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> right&lt;lenght <span class=\"keyword\">and</span> answerKey[right]!=<span class=\"string\">&quot;T&quot;</span> :</span><br><span class=\"line\">                ans+=<span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> ans == k+<span class=\"number\">1</span> <span class=\"keyword\">or</span> right==lenght:</span><br><span class=\"line\">                result = result <span class=\"keyword\">if</span> result &gt; (right-left) <span class=\"keyword\">else</span> (right-left)</span><br><span class=\"line\">                <span class=\"keyword\">while</span> ans &gt;k <span class=\"keyword\">and</span> left&lt;=right:</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> answerKey[left]!=<span class=\"string\">&quot;T&quot;</span>:</span><br><span class=\"line\">                        ans-=<span class=\"number\">1</span></span><br><span class=\"line\">                    left+=<span class=\"number\">1</span></span><br><span class=\"line\">            right+=<span class=\"number\">1</span></span><br><span class=\"line\">        left,right,ans = <span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span></span><br><span class=\"line\">         <span class=\"comment\">#寻找最长的可以替换掉的T字符而形成的字符串</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> right &lt;= lenght <span class=\"keyword\">and</span> left&lt;=right:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> right&lt;lenght <span class=\"keyword\">and</span>  answerKey[right]!=<span class=\"string\">&quot;F&quot;</span>:</span><br><span class=\"line\">                ans+=<span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> ans == k+<span class=\"number\">1</span> <span class=\"keyword\">or</span> right == lenght:</span><br><span class=\"line\">                result = result <span class=\"keyword\">if</span> result &gt; (right-left) <span class=\"keyword\">else</span> (right-left)</span><br><span class=\"line\">                <span class=\"keyword\">while</span> ans &gt;k <span class=\"keyword\">and</span> left&lt;=right:</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> answerKey[left]!=<span class=\"string\">&quot;F&quot;</span>:</span><br><span class=\"line\">                        ans-=<span class=\"number\">1</span></span><br><span class=\"line\">                    left+=<span class=\"number\">1</span></span><br><span class=\"line\">            right+=<span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> result</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">                    </span><br></pre></td></tr></table></figure>\n<h4 id=\"1606-找到处理最多请求的服务器\"><a class=\"anchor\" href=\"#1606-找到处理最多请求的服务器\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvZmluZC1zZXJ2ZXJzLXRoYXQtaGFuZGxlZC1tb3N0LW51bWJlci1vZi1yZXF1ZXN0cy8=\">1606. 找到处理最多请求的服务器</span></h4>\n<p>你有  <code>k</code>  个服务器，编号为  <code>0</code>  到  <code>k-1</code>  ，它们可以同时处理多个请求组。每个服务器有无穷的计算能力但是 <strong>不能同时处理超过一个请求</strong> 。请求分配到服务器的规则如下：</p>\n<ul>\n<li>第  <code>i</code>  （序号从 0 开始）个请求到达。</li>\n<li>如果所有服务器都已被占据，那么该请求被舍弃（完全不处理）。</li>\n<li>如果第  <code>(i % k)</code>  个服务器空闲，那么对应服务器会处理该请求。</li>\n<li>否则，将请求安排给下一个空闲的服务器（服务器构成一个环，必要的话可能从第 0 个服务器开始继续找下一个空闲的服务器）。比方说，如果第  <code>i</code>  个服务器在忙，那么会查看第  <code>(i+1)</code>  个服务器，第  <code>(i+2)</code>  个服务器等等。</li>\n</ul>\n<p>给你一个 <strong>严格递增</strong> 的正整数数组  <code>arrival</code>  ，表示第  <code>i</code>  个任务的到达时间，和另一个数组  <code>load</code>  ，其中  <code>load[i]</code>  表示第  <code>i</code>  个请求的工作量（也就是服务器完成它所需要的时间）。你的任务是找到 <strong>最繁忙的服务器</strong> 。最繁忙定义为一个服务器处理的请求数是所有服务器里最多的。</p>\n<p>请你返回包含所有 <strong>最繁忙服务器</strong> 序号的列表，你可以以任意顺序返回这个列表。</p>\n<p><strong>示例 1：</strong></p>\n<p><img data-src=\"https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/10/03/load-1.png\" alt=\"img\"></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：k = 3, arrival = [1,2,3,4,5], load = [5,2,3,3,3] </span><br><span class=\"line\">输出：[1] </span><br><span class=\"line\">解释：</span><br><span class=\"line\">所有服务器一开始都是空闲的。</span><br><span class=\"line\">前<span class=\"number\"> 3 </span>个请求分别由前<span class=\"number\"> 3 </span>台服务器依次处理。</span><br><span class=\"line\">请求<span class=\"number\"> 3 </span>进来的时候，服务器<span class=\"number\"> 0 </span>被占据，所以它被安排到下一台空闲的服务器，也就是服务器<span class=\"number\"> 1 </span>。</span><br><span class=\"line\">请求<span class=\"number\"> 4 </span>进来的时候，由于所有服务器都被占据，该请求被舍弃。</span><br><span class=\"line\">服务器<span class=\"number\"> 0 </span>和<span class=\"number\"> 2 </span>分别都处理了一个请求，服务器<span class=\"number\"> 1 </span>处理了两个请求。所以服务器<span class=\"number\"> 1 </span>是最忙的服务器。</span><br></pre></td></tr></table></figure>\n<ul>\n<li>模拟算法，但是复杂度太高，达到了 O (n*k)</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 维护两个表，一个表记录此时每个服务器的停止服务时间，另一个表记录该服务器服务的请求个数</span></span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">sum</span><span class=\"params\">(k,<span class=\"number\">0</span>)</span></span>;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">EndTime</span><span class=\"params\">(k,<span class=\"number\">0</span>)</span></span>;</span><br><span class=\"line\">        <span class=\"comment\">// 遍历所有请求进行模拟服务器工作</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;arrival.<span class=\"built_in\">size</span>();i++)&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 如果当前服务器正在忙就循环找下一个服务器</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j =i%k,m = <span class=\"number\">0</span>;m&lt;k;j=(++j)%k,m++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(EndTime[j]&lt;=arrival[i])</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                 EndTime[j] = arrival[i] + load[i];</span><br><span class=\"line\">                 sum[j]++;</span><br><span class=\"line\">                 <span class=\"keyword\">break</span>;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                   </span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">int</span> max=<span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;k;i++)&#123;</span><br><span class=\"line\">          max = max&gt;sum[i]?max:sum[i];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; result;</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;k;i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(sum[i]==max)&#123;</span><br><span class=\"line\">                result.<span class=\"built_in\">push_back</span>(i);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">         <span class=\"keyword\">return</span> result;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>模拟 + 有序集合 + 优先队列，</li>\n<li>时间复杂度：O ((k+n) logk)，其中 kk 为服务器的数目，n 为请求的数目。开始时 available 放入所有的服务器的时间复杂度为 O (klogk)；在处理请求时，busy 最多执行 n 次放入和移除操作，available 最多执行 n 次放入、移除和查找操作， 因此时间复杂度为 O (nlogk)；获取最繁忙服务器列表的时间复杂度为 O (k)。</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> set&lt;<span class=\"type\">int</span>&gt; available;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; k; i++) &#123;</span><br><span class=\"line\">    available.<span class=\"built_in\">insert</span>(i);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">priority_queue&lt;pair&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt;, vector&lt;pair&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt;&gt;, greater&lt;&gt;&gt; busy;</span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">requests</span><span class=\"params\">(k)</span></span>;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; arrival.<span class=\"built_in\">size</span>(); i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (!busy.<span class=\"built_in\">empty</span>() &amp;&amp; busy.<span class=\"built_in\">top</span>().first &lt;= arrival[i]) &#123;</span><br><span class=\"line\">        available.<span class=\"built_in\">insert</span>(busy.<span class=\"built_in\">top</span>().second);</span><br><span class=\"line\">        busy.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (available.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">auto</span> p = available.<span class=\"built_in\">lower_bound</span>(i % k);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (p == available.<span class=\"built_in\">end</span>()) &#123;</span><br><span class=\"line\">        p = available.<span class=\"built_in\">begin</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    requests[*p]++;</span><br><span class=\"line\">    busy.<span class=\"built_in\">emplace</span>(arrival[i] + load[i], *p);</span><br><span class=\"line\">    available.<span class=\"built_in\">erase</span>(p);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">int</span> maxRequest = *<span class=\"built_in\">max_element</span>(requests.<span class=\"built_in\">begin</span>(), requests.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">vector&lt;<span class=\"type\">int</span>&gt; ret;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; k; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (requests[i] == maxRequest) &#123;</span><br><span class=\"line\">        ret.<span class=\"built_in\">push_back</span>(i);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">return</span> ret;</span><br><span class=\"line\">    </span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> sortedcontainers <span class=\"keyword\">import</span> SortedList</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">busiestServers</span>(<span class=\"params\">self, k: <span class=\"built_in\">int</span>, arrival: <span class=\"type\">List</span>[<span class=\"built_in\">int</span>], load: <span class=\"type\">List</span>[<span class=\"built_in\">int</span>]</span>) -&gt; <span class=\"type\">List</span>[<span class=\"built_in\">int</span>]:</span><br><span class=\"line\">        available = SortedList(<span class=\"built_in\">range</span>(k))</span><br><span class=\"line\">        busy = []</span><br><span class=\"line\">        requests = [<span class=\"number\">0</span>] * k</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, (start, t) <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(<span class=\"built_in\">zip</span>(arrival, load)):</span><br><span class=\"line\">            <span class=\"keyword\">while</span> busy <span class=\"keyword\">and</span> busy[<span class=\"number\">0</span>][<span class=\"number\">0</span>] &lt;= start:</span><br><span class=\"line\">                available.add(busy[<span class=\"number\">0</span>][<span class=\"number\">1</span>])</span><br><span class=\"line\">                heappop(busy)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"built_in\">len</span>(available) == <span class=\"number\">0</span>:</span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\">            j = available.bisect_left(i % k)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> j == <span class=\"built_in\">len</span>(available):</span><br><span class=\"line\">                j = <span class=\"number\">0</span></span><br><span class=\"line\">            <span class=\"built_in\">id</span> = available[j]</span><br><span class=\"line\">            requests[<span class=\"built_in\">id</span>] += <span class=\"number\">1</span></span><br><span class=\"line\">            heappush(busy, (start + t, <span class=\"built_in\">id</span>))</span><br><span class=\"line\">            available.remove(<span class=\"built_in\">id</span>)</span><br><span class=\"line\">        maxRequest = <span class=\"built_in\">max</span>(requests)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> [i <span class=\"keyword\">for</span> i, req <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(requests) <span class=\"keyword\">if</span> req == maxRequest]</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"728-自除数\"><a class=\"anchor\" href=\"#728-自除数\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvc2VsZi1kaXZpZGluZy1udW1iZXJzLw==\">728. 自除数</span></h4>\n<p>难度简单 171</p>\n<p><strong>自除数</strong> 是指可以被它包含的每一位数整除的数。</p>\n<ul>\n<li>例如， <code>128</code>  是一个 <strong>自除数</strong> ，因为  <code>128 % 1 == 0</code> ， <code>128 % 2 == 0</code> ， <code>128 % 8 == 0</code> 。</li>\n</ul>\n<p><strong>自除数</strong> 不允许包含 0 。</p>\n<p>给定两个整数  <code>left</code>  和  <code>right</code>  ，返回一个列表，<em>列表的元素是范围  <code>[left, right]</code>  内所有的 <strong>自除数</strong></em> 。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight coq\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：<span class=\"built_in\">left</span> = <span class=\"number\">1</span>, <span class=\"built_in\">right</span> = <span class=\"number\">22</span></span><br><span class=\"line\">输出：[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">8</span>, <span class=\"number\">9</span>, <span class=\"number\">11</span>, <span class=\"number\">12</span>, <span class=\"number\">15</span>, <span class=\"number\">22</span>]</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2:</strong></p>\n<figure class=\"highlight coq\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：<span class=\"built_in\">left</span> = <span class=\"number\">47</span>, <span class=\"built_in\">right</span> = <span class=\"number\">85</span></span><br><span class=\"line\">输出：[<span class=\"number\">48</span>,<span class=\"number\">55</span>,<span class=\"number\">66</span>,<span class=\"number\">77</span>]</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">selfDividingNumbers</span>(<span class=\"params\">self, left: <span class=\"built_in\">int</span>, right: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"type\">List</span>[<span class=\"built_in\">int</span>]:</span><br><span class=\"line\">        result =[]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(left,right+<span class=\"number\">1</span>):</span><br><span class=\"line\">            data = <span class=\"built_in\">set</span>(<span class=\"built_in\">str</span>(i))</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"string\">&quot;0&quot;</span> <span class=\"keyword\">in</span> data:</span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> d <span class=\"keyword\">in</span> data:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> i%<span class=\"built_in\">int</span>(d)!=<span class=\"number\">0</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                result.append(i)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result</span><br></pre></td></tr></table></figure>\n<h4 id=\"307-区域和检索-数组可修改\"><a class=\"anchor\" href=\"#307-区域和检索-数组可修改\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvcmFuZ2Utc3VtLXF1ZXJ5LW11dGFibGUv\">307. 区域和检索 - 数组可修改</span></h4>\n<p>难度中等 365</p>\n<p>给你一个数组  <code>nums</code>  ，请你完成两类查询。</p>\n<ol>\n<li>其中一类查询要求 <strong>更新</strong> 数组  <code>nums</code>  下标对应的值</li>\n<li>另一类查询要求返回数组  <code>nums</code>  中索引  <code>left</code>  和索引  <code>right</code>  之间（ <strong>包含</strong> ）的 nums 元素的 <strong>和</strong> ，其中  <code>left &lt;= right</code></li>\n</ol>\n<p>实现  <code>NumArray</code>  类：</p>\n<ul>\n<li><code>NumArray(int[] nums)</code>  用整数数组  <code>nums</code>  初始化对象</li>\n<li><code>void update(int index, int val)</code>  将  <code>nums[index]</code>  的值 <strong>更新</strong> 为  <code>val</code></li>\n<li><code>int sumRange(int left, int right)</code>  返回数组  <code>nums</code>  中索引  <code>left</code>  和索引  <code>right</code>  之间（ <strong>包含</strong> ）的 nums 元素的 <strong>和</strong> （即， <code>nums[left] + nums[left + 1], ..., nums[right]</code> ）</li>\n</ul>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight prolog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：</span><br><span class=\"line\">[<span class=\"string\">&quot;NumArray&quot;</span>, <span class=\"string\">&quot;sumRange&quot;</span>, <span class=\"string\">&quot;update&quot;</span>, <span class=\"string\">&quot;sumRange&quot;</span>]</span><br><span class=\"line\">[[[<span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>]], [<span class=\"number\">0</span>, <span class=\"number\">2</span>], [<span class=\"number\">1</span>, <span class=\"number\">2</span>], [<span class=\"number\">0</span>, <span class=\"number\">2</span>]]</span><br><span class=\"line\">输出：</span><br><span class=\"line\">[null, <span class=\"number\">9</span>, null, <span class=\"number\">8</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">解释：</span><br><span class=\"line\"><span class=\"symbol\">NumArray</span> numArray = new <span class=\"symbol\">NumArray</span>([<span class=\"number\">1</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>]);</span><br><span class=\"line\">numArray.sumRange(<span class=\"number\">0</span>, <span class=\"number\">2</span>); // 返回 <span class=\"number\">1</span> + <span class=\"number\">3</span> + <span class=\"number\">5</span> = <span class=\"number\">9</span></span><br><span class=\"line\">numArray.update(<span class=\"number\">1</span>, <span class=\"number\">2</span>);   // nums = [<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">5</span>]</span><br><span class=\"line\">numArray.sumRange(<span class=\"number\">0</span>, <span class=\"number\">2</span>); // 返回 <span class=\"number\">1</span> + <span class=\"number\">2</span> + <span class=\"number\">5</span> = <span class=\"number\">8</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"题解\"><a class=\"anchor\" href=\"#题解\">#</a> 题解</h5>\n<h6 id=\"解法一线段树\"><a class=\"anchor\" href=\"#解法一线段树\">#</a> 解法一：线段树</h6>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">NumArray</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self, nums: <span class=\"type\">List</span>[<span class=\"built_in\">int</span>]</span>):</span><br><span class=\"line\">       <span class=\"variable language_\">self</span>.length = <span class=\"built_in\">len</span>(nums)</span><br><span class=\"line\">       <span class=\"variable language_\">self</span>.<span class=\"built_in\">sum</span> = [<span class=\"number\">0</span>]*(<span class=\"variable language_\">self</span>.length&lt;&lt;<span class=\"number\">2</span>)</span><br><span class=\"line\">       <span class=\"variable language_\">self</span>.build(nums,<span class=\"number\">1</span>,<span class=\"number\">0</span>,<span class=\"variable language_\">self</span>.length-<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"comment\">#创建函数,保存每段的区间和</span></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">build</span>(<span class=\"params\">self,nums:<span class=\"built_in\">list</span>,k:<span class=\"built_in\">int</span>,left:<span class=\"built_in\">int</span> ,right:<span class=\"built_in\">int</span></span>):</span><br><span class=\"line\">           <span class=\"comment\">#如果区间内只剩一个值的话，也就是left==right时，就直接让其区间和等于该值</span></span><br><span class=\"line\">           <span class=\"keyword\">if</span> left==right:</span><br><span class=\"line\">               <span class=\"variable language_\">self</span>.<span class=\"built_in\">sum</span>[k] = nums[left]</span><br><span class=\"line\">            <span class=\"comment\">#如果区间长度超过了一个，就将区间一分为二，继续递归建立</span></span><br><span class=\"line\">           <span class=\"keyword\">else</span>:</span><br><span class=\"line\">               mid = left + (right-left)//<span class=\"number\">2</span></span><br><span class=\"line\">               <span class=\"variable language_\">self</span>.build(nums,k&lt;&lt;<span class=\"number\">1</span>,left,mid)</span><br><span class=\"line\">               <span class=\"variable language_\">self</span>.build(nums,k&lt;&lt;<span class=\"number\">1</span>|<span class=\"number\">1</span>,mid+<span class=\"number\">1</span>,right)</span><br><span class=\"line\">               <span class=\"comment\">#更新父节点</span></span><br><span class=\"line\">               <span class=\"variable language_\">self</span>.<span class=\"built_in\">sum</span>[k] = <span class=\"variable language_\">self</span>.<span class=\"built_in\">sum</span>[k&lt;&lt;<span class=\"number\">1</span>] + <span class=\"variable language_\">self</span>.<span class=\"built_in\">sum</span>[k&lt;&lt;<span class=\"number\">1</span>|<span class=\"number\">1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">update_G</span>(<span class=\"params\">self,i,val:<span class=\"built_in\">int</span>,left:<span class=\"built_in\">int</span>,right:<span class=\"built_in\">int</span>,k:<span class=\"built_in\">int</span></span>):</span><br><span class=\"line\">        <span class=\"comment\">#如果区间长度为1时，就直接更新该值</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> left == right :</span><br><span class=\"line\">            <span class=\"variable language_\">self</span>.<span class=\"built_in\">sum</span>[k] = val</span><br><span class=\"line\">            <span class=\"keyword\">return</span> </span><br><span class=\"line\">        <span class=\"comment\">#否则就递归更新孩子节点，更新完成后，再更新父节点</span></span><br><span class=\"line\">        mid = left + (right-left)//<span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"comment\">#如果需要更新的下标，小于中间节点，则在左侧区域中寻找</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i&lt;=mid:</span><br><span class=\"line\">            <span class=\"variable language_\">self</span>.update_G(i,val,left,mid,k&lt;&lt;<span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"variable language_\">self</span>.update_G(i,val,mid+<span class=\"number\">1</span>,right,k&lt;&lt;<span class=\"number\">1</span>|<span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"comment\">#更新父节点</span></span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.<span class=\"built_in\">sum</span>[k] = <span class=\"variable language_\">self</span>.<span class=\"built_in\">sum</span>[k&lt;&lt;<span class=\"number\">1</span>] + <span class=\"variable language_\">self</span>.<span class=\"built_in\">sum</span>[k&lt;&lt;<span class=\"number\">1</span>|<span class=\"number\">1</span>]</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">update</span>(<span class=\"params\">self, index: <span class=\"built_in\">int</span>, val: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"literal\">None</span>:</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.update_G(index,val,<span class=\"number\">0</span>,<span class=\"variable language_\">self</span>.length-<span class=\"number\">1</span>,<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">query</span>(<span class=\"params\">self,L:<span class=\"built_in\">int</span>,R:<span class=\"built_in\">int</span>,left:<span class=\"built_in\">int</span>,right:<span class=\"built_in\">int</span>,k:<span class=\"built_in\">int</span></span>)-&gt;<span class=\"built_in\">int</span>:</span><br><span class=\"line\">        <span class=\"comment\">#如果当前节点的区间真包含于要查询的区间内，则返回节点信息且不需要往下递归</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> L ==left <span class=\"keyword\">and</span> right == R:</span><br><span class=\"line\">           <span class=\"keyword\">return</span> <span class=\"variable language_\">self</span>.<span class=\"built_in\">sum</span>[k]</span><br><span class=\"line\">        mid = left + (right-left)//<span class=\"number\">2</span></span><br><span class=\"line\">        <span class=\"comment\">#判断区间是在哪一边，如果在左边，就在左边，就在在左边找</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> R&lt;=mid:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"variable language_\">self</span>.query(L,R,left,mid,k&lt;&lt;<span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> L&gt;mid:</span><br><span class=\"line\">            <span class=\"keyword\">return</span>  <span class=\"variable language_\">self</span>.query(L,R,mid+<span class=\"number\">1</span>,right,k&lt;&lt;<span class=\"number\">1</span>|<span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"variable language_\">self</span>.query(L,mid,left,mid,k&lt;&lt;<span class=\"number\">1</span>) + <span class=\"variable language_\">self</span>.query(mid+<span class=\"number\">1</span>,R,mid+<span class=\"number\">1</span>,right,k&lt;&lt;<span class=\"number\">1</span>|<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">sumRange</span>(<span class=\"params\">self, left: <span class=\"built_in\">int</span>, right: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">         <span class=\"keyword\">return</span>  <span class=\"variable language_\">self</span>.query(left,right,<span class=\"number\">0</span>,<span class=\"variable language_\">self</span>.length-<span class=\"number\">1</span>,<span class=\"number\">1</span>)</span><br></pre></td></tr></table></figure>\n<h6 id=\"解法二分块\"><a class=\"anchor\" href=\"#解法二分块\">#</a> 解法二：分块</h6>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">NumArray</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self, nums: <span class=\"type\">List</span>[<span class=\"built_in\">int</span>]</span>):</span><br><span class=\"line\">        n = <span class=\"built_in\">len</span>(nums)</span><br><span class=\"line\">        size = <span class=\"built_in\">int</span>(n ** <span class=\"number\">0.5</span>)</span><br><span class=\"line\">        sums = [<span class=\"number\">0</span>] * ((n + size - <span class=\"number\">1</span>) // size)  <span class=\"comment\"># n/size 向上取整</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(nums):</span><br><span class=\"line\">            sums[i // size] += num</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.nums = nums</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.sums = sums</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.size = size</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">update</span>(<span class=\"params\">self, index: <span class=\"built_in\">int</span>, val: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"literal\">None</span>:</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.sums[index // <span class=\"variable language_\">self</span>.size] += val - <span class=\"variable language_\">self</span>.nums[index]</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.nums[index] = val</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">sumRange</span>(<span class=\"params\">self, left: <span class=\"built_in\">int</span>, right: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">        m = <span class=\"variable language_\">self</span>.size</span><br><span class=\"line\">        b1, b2 = left // m, right // m</span><br><span class=\"line\">        <span class=\"keyword\">if</span> b1 == b2:  <span class=\"comment\"># 区间 [left, right] 在同一块中</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"built_in\">sum</span>(<span class=\"variable language_\">self</span>.nums[left:right + <span class=\"number\">1</span>])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">sum</span>(<span class=\"variable language_\">self</span>.nums[left:(b1 + <span class=\"number\">1</span>) * m]) + <span class=\"built_in\">sum</span>(<span class=\"variable language_\">self</span>.sums[b1 + <span class=\"number\">1</span>:b2]) + <span class=\"built_in\">sum</span>(<span class=\"variable language_\">self</span>.nums[b2 * m:right + <span class=\"number\">1</span>])</span><br></pre></td></tr></table></figure>\n<h4 id=\"55-跳跃游戏\"><a class=\"anchor\" href=\"#55-跳跃游戏\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvanVtcC1nYW1lLw==\">55. 跳跃游戏</span></h4>\n<p>难度中等</p>\n<p>给定一个非负整数数组  <code>nums</code>  ，你最初位于数组的 <strong>第一个下标</strong> 。</p>\n<p>数组中的每个元素代表你在该位置可以跳跃的最大长度。</p>\n<p>判断你是否能够到达最后一个下标。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = [2,3,1,1,4]</span><br><span class=\"line\">输出：true</span><br><span class=\"line\">解释：可以先跳<span class=\"number\"> 1 </span>步，从下标<span class=\"number\"> 0 </span>到达下标 1, 然后再从下标<span class=\"number\"> 1 </span>跳<span class=\"number\"> 3 </span>步到达最后一个下标。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = [3,2,1,0,4]</span><br><span class=\"line\">输出：false</span><br><span class=\"line\">解释：无论怎样，总会到达下标为<span class=\"number\"> 3 </span>的位置。但该下标的最大跳跃长度是<span class=\"number\"> 0 </span>， 所以永远不可能到达最后一个下标。</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">canJump</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//   int len = nums.size();</span></span><br><span class=\"line\">    <span class=\"comment\">//   int ** dp = new int*[len];</span></span><br><span class=\"line\">    <span class=\"comment\">//   for(int i=0;i&lt;len;i++)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//       dp[i] = new int[len];</span></span><br><span class=\"line\">    <span class=\"comment\">//       dp[i][i] = 1;</span></span><br><span class=\"line\">    <span class=\"comment\">//   &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//   for(int k = 1;k&lt;len;k++)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//       for(int i=0;i&lt;len-k;i++)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//           if(nums[i]&gt;=k||(dp[i][i+k-1]&amp;&amp;dp[i+1][i+k]&amp;&amp;k&gt;1))&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//               dp[i][i+k]=1;</span></span><br><span class=\"line\">    <span class=\"comment\">//           &#125;else&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//               dp[i][i+k]=0;</span></span><br><span class=\"line\">    <span class=\"comment\">//           &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//       &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//   &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//   return dp[0][len-1]==1? true : false;</span></span><br><span class=\"line\">          </span><br><span class=\"line\">        <span class=\"comment\">// 方法二</span></span><br><span class=\"line\">        <span class=\"comment\">//   int len = nums.size();</span></span><br><span class=\"line\">        <span class=\"comment\">//   if(len == 0)  return true;</span></span><br><span class=\"line\">        <span class=\"comment\">//   int result = nums[0] ,i=1;</span></span><br><span class=\"line\">        <span class=\"comment\">//   while(result&amp;&amp;i&lt;len)&#123;</span></span><br><span class=\"line\">        <span class=\"comment\">//       //每走一步消耗一点能量 </span></span><br><span class=\"line\">        <span class=\"comment\">//       result--;</span></span><br><span class=\"line\">         </span><br><span class=\"line\">        <span class=\"comment\">//       if(result&lt;nums[i])</span></span><br><span class=\"line\">        <span class=\"comment\">//           result=nums[i];</span></span><br><span class=\"line\">        <span class=\"comment\">//       i++;</span></span><br><span class=\"line\">        <span class=\"comment\">//   &#125;</span></span><br><span class=\"line\">        <span class=\"comment\">//   return i == len;</span></span><br><span class=\"line\">      </span><br><span class=\"line\">      <span class=\"comment\">//方法三</span></span><br><span class=\"line\">        <span class=\"type\">int</span> len = nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"comment\">//从后往前遍历，如果有哪一个位置能够到达最后一一个位置，就把它作为现在的最后一个位置，重复上述操作</span></span><br><span class=\"line\">        <span class=\"type\">int</span> max = len<span class=\"number\">-1</span> , i=len<span class=\"number\">-2</span>;</span><br><span class=\"line\">         <span class=\"keyword\">while</span>(max&gt;=<span class=\"number\">0</span>&amp;&amp;i&gt;=<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">              <span class=\"keyword\">if</span>(nums[i]&gt;=max-i)&#123;</span><br><span class=\"line\">                  max = i;</span><br><span class=\"line\">                  i--;</span><br><span class=\"line\">              &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                  i--;</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">              </span><br><span class=\"line\">         &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">         <span class=\"keyword\">return</span> max ==<span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"56-合并区间\"><a class=\"anchor\" href=\"#56-合并区间\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvbWVyZ2UtaW50ZXJ2YWxzLw==\">56. 合并区间</span></h4>\n<p>难度中等</p>\n<p>以数组  <code>intervals</code>  表示若干个区间的集合，其中单个区间为  <code>intervals[i] = [starti, endi]</code>  。请你合并所有重叠的区间，并返回 <em>一个不重叠的区间数组，该数组需恰好覆盖输入中的所有区间</em> 。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight prolog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：intervals = [[<span class=\"number\">1</span>,<span class=\"number\">3</span>],[<span class=\"number\">2</span>,<span class=\"number\">6</span>],[<span class=\"number\">8</span>,<span class=\"number\">10</span>],[<span class=\"number\">15</span>,<span class=\"number\">18</span>]]</span><br><span class=\"line\">输出：[[<span class=\"number\">1</span>,<span class=\"number\">6</span>],[<span class=\"number\">8</span>,<span class=\"number\">10</span>],[<span class=\"number\">15</span>,<span class=\"number\">18</span>]]</span><br><span class=\"line\">解释：区间 [<span class=\"number\">1</span>,<span class=\"number\">3</span>] 和 [<span class=\"number\">2</span>,<span class=\"number\">6</span>] 重叠, 将它们合并为 [<span class=\"number\">1</span>,<span class=\"number\">6</span>].</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：intervals = <span class=\"string\">[[1,4],[4,5]]</span></span><br><span class=\"line\">输出：<span class=\"string\">[[1,5]]</span></span><br><span class=\"line\">解释：区间 [<span class=\"number\">1</span>,<span class=\"number\">4</span>] 和 [<span class=\"number\">4</span>,<span class=\"number\">5</span>] 可被视为重叠区间。</span><br></pre></td></tr></table></figure>\n<p>方法一：排序<br>\n思路</p>\n<p>如果我们按照区间的左端点排序，那么在排完序的列表中，可以合并的区间一定是连续的。如下图所示，标记为蓝色、黄色和绿色的区间分别可以合并成一个大区间，它们在排完序的列表中是连续的：</p>\n<p>算法</p>\n<p>我们用数组 merged 存储最终的答案。</p>\n<p>首先，我们将列表中的区间按照左端点升序排序。然后我们将第一个区间加入 merged 数组中，并按顺序依次考虑之后的每个区间：</p>\n<p>如果当前区间的左端点在数组 merged 中最后一个区间的右端点之后，那么它们不会重合，我们可以直接将这个区间加入数组 merged 的末尾；</p>\n<p>否则，它们重合，我们需要用当前区间的右端点更新数组 merged 中最后一个区间的右端点，将其置为二者的较大值。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">merge</span>(<span class=\"params\">self, intervals: <span class=\"type\">List</span>[<span class=\"type\">List</span>[<span class=\"built_in\">int</span>]]</span>) -&gt; <span class=\"type\">List</span>[<span class=\"type\">List</span>[<span class=\"built_in\">int</span>]]:</span><br><span class=\"line\">        intervals = <span class=\"built_in\">sorted</span>(intervals,key = <span class=\"keyword\">lambda</span> x:x[<span class=\"number\">0</span>])</span><br><span class=\"line\">        length = <span class=\"built_in\">len</span>(intervals)</span><br><span class=\"line\">        result = []</span><br><span class=\"line\">        result.append(intervals[<span class=\"number\">0</span>])</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">1</span>,length):</span><br><span class=\"line\">            <span class=\"comment\">#如果新添加的这个区间的左边界大于result中最后一个区间的右边界，说明此时两个区间是不重叠的</span></span><br><span class=\"line\">            <span class=\"comment\">#直接添加进去</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> intervals[i][<span class=\"number\">0</span>] &gt;result[-<span class=\"number\">1</span>][<span class=\"number\">1</span>]:</span><br><span class=\"line\">                result.append(intervals[i])</span><br><span class=\"line\">            <span class=\"comment\">#否则，说明该区间与result中最后一个区间是重叠的，然后找到他们右边界的最大值，作为新区间</span></span><br><span class=\"line\">            <span class=\"comment\">#再进行添加</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                result[-<span class=\"number\">1</span>][<span class=\"number\">1</span>] = <span class=\"built_in\">max</span>(result[-<span class=\"number\">1</span>][<span class=\"number\">1</span>],intervals[i][<span class=\"number\">1</span>])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result</span><br></pre></td></tr></table></figure>\n<h4 id=\"57-插入区间\"><a class=\"anchor\" href=\"#57-插入区间\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvaW5zZXJ0LWludGVydmFsLw==\">57. 插入区间</span></h4>\n<p>难度中等 567 收藏分享切换为英文接收动态反馈</p>\n<p>给你一个 <strong>无重叠的</strong> *，* 按照区间起始端点排序的区间列表。</p>\n<p>在列表中插入一个新的区间，你需要确保列表中的区间仍然有序且不重叠（如果有必要的话，可以合并区间）。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：intervals = <span class=\"string\">[[1,3],[6,9]]</span>, newInterval = [<span class=\"number\">2</span>,<span class=\"number\">5</span>]</span><br><span class=\"line\">输出：<span class=\"string\">[[1,5],[6,9]]</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：intervals = <span class=\"comment\">[<span class=\"comment\">[1,2]</span>,<span class=\"comment\">[3,5]</span>,<span class=\"comment\">[6,7]</span>,<span class=\"comment\">[8,10]</span>,<span class=\"comment\">[12,16]</span>]</span>, newInterval = <span class=\"comment\">[4,8]</span></span><br><span class=\"line\">输出：<span class=\"comment\">[<span class=\"comment\">[1,2]</span>,<span class=\"comment\">[3,10]</span>,<span class=\"comment\">[12,16]</span>]</span></span><br><span class=\"line\">解释：这是因为新的区间 <span class=\"comment\">[4,8]</span> 与 <span class=\"comment\">[3,5]</span>,<span class=\"comment\">[6,7]</span>,<span class=\"comment\">[8,10]</span> 重叠。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：intervals = [], newInterval = [<span class=\"number\">5</span>,<span class=\"number\">7</span>]</span><br><span class=\"line\">输出：<span class=\"string\">[[5,7]]</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 4：</strong></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：intervals = <span class=\"string\">[[1,5]]</span>, newInterval = [<span class=\"number\">2</span>,<span class=\"number\">3</span>]</span><br><span class=\"line\">输出：<span class=\"string\">[[1,5]]</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 5：</strong></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：intervals = <span class=\"string\">[[1,5]]</span>, newInterval = [<span class=\"number\">2</span>,<span class=\"number\">7</span>]</span><br><span class=\"line\">输出：<span class=\"string\">[[1,7]]</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">insert</span>(<span class=\"params\">self, intervals: <span class=\"type\">List</span>[<span class=\"type\">List</span>[<span class=\"built_in\">int</span>]], newInterval: <span class=\"type\">List</span>[<span class=\"built_in\">int</span>]</span>) -&gt; <span class=\"type\">List</span>[<span class=\"type\">List</span>[<span class=\"built_in\">int</span>]]:</span><br><span class=\"line\">        length = <span class=\"built_in\">len</span>(intervals)</span><br><span class=\"line\">        <span class=\"comment\">#二分法寻找左边界</span></span><br><span class=\"line\">        <span class=\"comment\">#针对于该序列就是大于等于该数的第一个值</span></span><br><span class=\"line\">        left = <span class=\"number\">0</span></span><br><span class=\"line\">        right = length</span><br><span class=\"line\">        <span class=\"keyword\">while</span> left &lt; right:</span><br><span class=\"line\">            mid = left + (right -left)//<span class=\"number\">2</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> intervals[mid][<span class=\"number\">0</span>] &gt;= newInterval[<span class=\"number\">0</span>]:</span><br><span class=\"line\">                right = mid</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                left = mid + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"comment\">#找到之后该区间数组就成了以左边界为标准的非递减区间序列</span></span><br><span class=\"line\">        <span class=\"comment\">#在这种特征的序列中，可能发生重叠的区间肯定是连续的，因此可以从前到后</span></span><br><span class=\"line\">        <span class=\"comment\">#依次进行遍历判断</span></span><br><span class=\"line\">        intervals.insert(left,newInterval)</span><br><span class=\"line\">        result = []</span><br><span class=\"line\">        result.append(intervals[<span class=\"number\">0</span>])</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">1</span>,length+<span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> result[-<span class=\"number\">1</span>][<span class=\"number\">1</span>] &lt; intervals[i][<span class=\"number\">0</span>]:</span><br><span class=\"line\">                result.append(intervals[i])</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                result[-<span class=\"number\">1</span>][<span class=\"number\">1</span>] = <span class=\"built_in\">max</span>(result[-<span class=\"number\">1</span>][<span class=\"number\">1</span>],intervals[i][<span class=\"number\">1</span>])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result</span><br></pre></td></tr></table></figure>\n<h4 id=\"763-划分字母区间\"><a class=\"anchor\" href=\"#763-划分字母区间\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvcGFydGl0aW9uLWxhYmVscy8=\">763. 划分字母区间</span></h4>\n<p>难度中等</p>\n<p>字符串  <code>S</code>  由小写字母组成。我们要把这个字符串划分为尽可能多的片段，同一字母最多出现在一个片段中。返回一个表示每个字符串片段的长度的列表。</p>\n<p><strong>示例：</strong></p>\n<figure class=\"highlight prolog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：<span class=\"symbol\">S</span> = <span class=\"string\">&quot;ababcbacadefegdehijhklij&quot;</span></span><br><span class=\"line\">输出：[<span class=\"number\">9</span>,<span class=\"number\">7</span>,<span class=\"number\">8</span>]</span><br><span class=\"line\">解释：</span><br><span class=\"line\">划分结果为 <span class=\"string\">&quot;ababcbaca&quot;</span>, <span class=\"string\">&quot;defegde&quot;</span>, <span class=\"string\">&quot;hijhklij&quot;</span>。</span><br><span class=\"line\">每个字母最多出现在一个片段中。</span><br><span class=\"line\">像 <span class=\"string\">&quot;ababcbacadefegde&quot;</span>, <span class=\"string\">&quot;hijhklij&quot;</span> 的划分是错误的，因为划分的片段数较少。</span><br></pre></td></tr></table></figure>\n<p>方法一：贪心<br>\n由于同一个字母只能出现在同一个片段，显然同一个字母的第一次出现的下标位置和最后一次出现的下标位置必须出现在同一个片段。因此需要遍历字符串，得到每个字母最后一次出现的下标位置。</p>\n<p>在得到每个字母最后一次出现的下标位置之后，可以使用贪心的方法将字符串划分为尽可能多的片段，具体做法如下。</p>\n<p>从左到右遍历字符串，遍历的同时维护当前片段的开始下标 \\textit {start} start 和结束下标 \\textit {end} end，初始时 start=end=0。</p>\n<p>对于每个访问到的字母 cc，得到当前字母的最后一次出现的下标位置 end ，则当前片段的结束下标一定不会小于 end ，因此令 end=max (end,end 当访问到下标 end 时，当前片段访问结束，当前片段的下标范围是 [start,end]，长度为 end−start+1，将当前片段的长度添加到返回值，然后令 start=end+1，继续寻找下一个片段。</p>\n<p>重复上述过程，直到遍历完字符串。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">partitionLabels</span>(<span class=\"params\">self, s: <span class=\"built_in\">str</span></span>) -&gt; <span class=\"type\">List</span>[<span class=\"built_in\">int</span>]:</span><br><span class=\"line\">        last = [<span class=\"number\">0</span>] * <span class=\"number\">26</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, ch <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(s):</span><br><span class=\"line\">            last[<span class=\"built_in\">ord</span>(ch) - <span class=\"built_in\">ord</span>(<span class=\"string\">&quot;a&quot;</span>)] = i</span><br><span class=\"line\">        </span><br><span class=\"line\">        partition = <span class=\"built_in\">list</span>()</span><br><span class=\"line\">        start = end = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, ch <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(s):</span><br><span class=\"line\">            end = <span class=\"built_in\">max</span>(end, last[<span class=\"built_in\">ord</span>(ch) - <span class=\"built_in\">ord</span>(<span class=\"string\">&quot;a&quot;</span>)])</span><br><span class=\"line\">            <span class=\"keyword\">if</span> i == end:</span><br><span class=\"line\">                partition.append(end - start + <span class=\"number\">1</span>)</span><br><span class=\"line\">                start = end + <span class=\"number\">1</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">return</span> partition</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">partitionLabels</span>(<span class=\"params\">self, s: <span class=\"built_in\">str</span></span>) -&gt; <span class=\"type\">List</span>[<span class=\"built_in\">int</span>]:</span><br><span class=\"line\">        end = <span class=\"built_in\">dict</span>.fromkeys(s,<span class=\"number\">0</span>)</span><br><span class=\"line\">        length  = <span class=\"built_in\">len</span>(s)</span><br><span class=\"line\">        <span class=\"comment\">#记录每个字母最后一次出现的位置</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(length):</span><br><span class=\"line\">           end[s[i]] = i</span><br><span class=\"line\">        <span class=\"comment\">#从前到后遍历，遍历到当前位置，可以分成一个满足条件的最短的子串的右端大于等于当前字母的最后一次出现的位置</span></span><br><span class=\"line\">        result = []</span><br><span class=\"line\">        end_max = <span class=\"number\">0</span></span><br><span class=\"line\">        left ,right = <span class=\"number\">0</span>,<span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(length):</span><br><span class=\"line\">            end_max = <span class=\"built_in\">max</span>(end_max,end[s[i]])</span><br><span class=\"line\">            <span class=\"comment\">#如果当前字母的位置就到了这个阶段的最有边界，说明已经可以分成满足条件的子串了，要保证到最短，所以现在就可以截取</span></span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"keyword\">if</span> i == end_max:</span><br><span class=\"line\">                 result.append(right-left+<span class=\"number\">1</span>)</span><br><span class=\"line\">                 left = right+<span class=\"number\">1</span></span><br><span class=\"line\">            right+=<span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> result</span><br></pre></td></tr></table></figure>\n<h4 id=\"45-跳跃游戏-ii\"><a class=\"anchor\" href=\"#45-跳跃游戏-ii\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvanVtcC1nYW1lLWlpLw==\">45. 跳跃游戏 II</span></h4>\n<p>难度中等</p>\n<p>给你一个非负整数数组  <code>nums</code>  ，你最初位于数组的第一个位置。数组中的每个元素代表你在该位置可以跳跃的最大长度。你的目标是使用最少的跳跃次数到达数组的最后一个位置。假设你总是可以到达数组的最后一个位置。</p>\n<p><strong>示例 1:</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: nums = [2,3,1,1,4]</span><br><span class=\"line\">输出: 2</span><br><span class=\"line\">解释: 跳到最后一个位置的最小跳跃数是 2。</span><br><span class=\"line\">     从下标为<span class=\"number\"> 0 </span>跳到下标为<span class=\"number\"> 1 </span>的位置，跳<span class=\"number\"> 1 </span>步，然后跳<span class=\"number\"> 3 </span>步到达数组的最后一个位置。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2:</strong></p>\n<figure class=\"highlight makefile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">输入: nums = [2,3,0,1,4]</span></span><br><span class=\"line\"><span class=\"section\">输出: 2</span></span><br></pre></td></tr></table></figure>\n<p>解题思路<br>\n这道题是典型的贪心算法，通过局部最优解得到全局最优解。以下两种方法都是使用贪心算法实现，只是贪心的策略不同。</p>\n<p>方法一：反向查找出发位置<br>\n我们的目标是到达数组的最后一个位置，因此我们可以考虑最后一步跳跃前所在的位置，该位置通过跳跃能够到达最后一个位置。</p>\n<p>如果有多个位置通过跳跃都能够到达最后一个位置，那么我们应该如何进行选择呢？直观上来看，我们可以「贪心」地选择距离最后一个位置最远的那个位置，也就是对应下标最小的那个位置。因此，我们可以从左到右遍历数组，选择第一个满足要求的位置。</p>\n<p>找到最后一步跳跃前所在的位置之后，我们继续贪心地寻找倒数第二步跳跃前所在的位置，以此类推，直到找到数组的开始位置</p>\n<p>方法二：动态规划</p>\n<p>如果该位置能够到达最后一个位置，直接这个位置步数就为 1</p>\n<p>如果该位置不能够直接到达最后一个位置，那么就应该在该位置所能到达的范围内寻找到达最后一个位置中最小步数加一就等于该位置到达最后一个位置的最小步数</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">jump</span>(<span class=\"params\">self, nums: <span class=\"type\">List</span>[<span class=\"built_in\">int</span>]</span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">        <span class=\"comment\">#动态规划问题</span></span><br><span class=\"line\">        l = <span class=\"built_in\">len</span>(nums)</span><br><span class=\"line\">        ls = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(l):</span><br><span class=\"line\">            ls.append(<span class=\"number\">0</span>)</span><br><span class=\"line\">        <span class=\"comment\">#大致思路就是：检索当前位置的值，有两种可能，一种就是该位置的值足以直接到达最后，即num&gt;=len-1-i</span></span><br><span class=\"line\">        <span class=\"comment\">#另一种可能就是不能达到，那就以这个位置为起点，以该值为总长度，进行检索找到最小的一个，然后加一，就是该位置的最小步数</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(l-<span class=\"number\">2</span>,-<span class=\"number\">1</span>,-<span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> nums[i]&gt;=l-<span class=\"number\">1</span>-i:</span><br><span class=\"line\">                ls[i] = <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"built_in\">min</span> = ls[i+<span class=\"number\">1</span>]</span><br><span class=\"line\">                <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(i+<span class=\"number\">1</span>,i+nums[i]+<span class=\"number\">1</span>):</span><br><span class=\"line\">                     <span class=\"keyword\">if</span> <span class=\"built_in\">min</span> &gt; ls[j] <span class=\"keyword\">and</span> nums[j]&gt;<span class=\"number\">0</span>:</span><br><span class=\"line\">                          <span class=\"built_in\">min</span> = ls[j]</span><br><span class=\"line\">                ls[i]= <span class=\"built_in\">min</span> +<span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> ls[<span class=\"number\">0</span>]</span><br><span class=\"line\">    </span><br></pre></td></tr></table></figure>\n<p>如果我们「贪心」地进行正向查找，每次找到可到达的最远位置，就可以在线性时间内得到最少的跳跃次数。</p>\n<p>例如，对于数组 [2,3,1,2,4,2,3]，初始位置是下标 0，从下标 0 出发，最远可到达下标 2。下标 0 可到达的位置中，下标 1 的值是 3，从下标 1 出发可以达到更远的位置，因此第一步到达下标 1。</p>\n<p>从下标 1 出发，最远可到达下标 4。下标 1 可到达的位置中，下标 4 的值是 4 ，从下标 4 出发可以达到更远的位置，因此第二步到达下标 4。</p>\n<p><img data-src=\"https://assets.leetcode-cn.com/solution-static/45/45_fig1.png\" alt=\"fig1\"></p>\n<p>在具体的实现中，我们维护当前能够到达的最大下标位置，记为边界。我们从左到右遍历数组，到达边界时，更新边界并将跳跃次数增加 1。</p>\n<p>在遍历数组时，我们不访问最后一个元素，这是因为在访问最后一个元素之前，我们的边界一定大于等于最后一个位置，否则就无法跳到最后一个位置了。如果访问最后一个元素，在边界正好为最后一个位置的情况下，我们会增加一次「不必要的跳跃次数」，因此我们不必访问最后一个元素。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">jump</span>(<span class=\"params\">self, nums: <span class=\"type\">List</span>[<span class=\"built_in\">int</span>]</span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">        n = <span class=\"built_in\">len</span>(nums)</span><br><span class=\"line\">        maxPos, end, step = <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(n - <span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> maxPos &gt;= i:</span><br><span class=\"line\">                maxPos = <span class=\"built_in\">max</span>(maxPos, i + nums[i])</span><br><span class=\"line\">                <span class=\"keyword\">if</span> i == end:</span><br><span class=\"line\">                    end = maxPos</span><br><span class=\"line\">                    step += <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> step</span><br></pre></td></tr></table></figure>\n<h4 id=\"1306-跳跃游戏-iii\"><a class=\"anchor\" href=\"#1306-跳跃游戏-iii\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvanVtcC1nYW1lLWlpaS8=\">1306. 跳跃游戏 III</span></h4>\n<p>难度中等 1</p>\n<p>这里有一个非负整数数组  <code>arr</code> ，你最开始位于该数组的起始下标  <code>start</code>  处。当你位于下标  <code>i</code>  处时，你可以跳到  <code>i + arr[i]</code>  或者  <code>i - arr[i]</code> 。请你判断自己是否能够跳到对应元素值为 0 的 <strong>任一</strong> 下标处。</p>\n<p>注意，不管是什么情况下，你都无法跳到数组之外。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：arr = [4,2,3,0,3,1,2], start = 5</span><br><span class=\"line\">输出：true</span><br><span class=\"line\">解释：</span><br><span class=\"line\">到达值为<span class=\"number\"> 0 </span>的下标<span class=\"number\"> 3 </span>有以下可能方案： </span><br><span class=\"line\">下标<span class=\"number\"> 5 </span>-&gt; 下标<span class=\"number\"> 4 </span>-&gt; 下标<span class=\"number\"> 1 </span>-&gt; 下标<span class=\"number\"> 3 </span></span><br><span class=\"line\">下标<span class=\"number\"> 5 </span>-&gt; 下标<span class=\"number\"> 6 </span>-&gt; 下标<span class=\"number\"> 4 </span>-&gt; 下标<span class=\"number\"> 1 </span>-&gt; 下标<span class=\"number\"> 3 </span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：arr = [4,2,3,0,3,1,2], start = 0</span><br><span class=\"line\">输出：true </span><br><span class=\"line\">解释：</span><br><span class=\"line\">到达值为<span class=\"number\"> 0 </span>的下标<span class=\"number\"> 3 </span>有以下可能方案： </span><br><span class=\"line\">下标<span class=\"number\"> 0 </span>-&gt; 下标<span class=\"number\"> 4 </span>-&gt; 下标<span class=\"number\"> 1 </span>-&gt; 下标 3</span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：arr = [<span class=\"number\">3</span>,<span class=\"number\">0</span>,<span class=\"number\">2</span>,<span class=\"number\">1</span>,<span class=\"number\">2</span>], <span class=\"literal\">start</span> = <span class=\"number\">2</span></span><br><span class=\"line\">输出：<span class=\"literal\">false</span></span><br><span class=\"line\">解释：无法到达值为 <span class=\"number\">0</span> 的下标 <span class=\"number\">1</span> 处。 </span><br></pre></td></tr></table></figure>\n<p>题目解析：首先从起始位置开始，判断起始位置是否值为零，如果不为零，则就将从该位置所能到达的两个位置入队；</p>\n<p>之后在队列不空的前提之下，依次弹出队头元素，然后检查该位置的值是否为零，如果为零的话，就返回 True；否则就将它所能到达的位置（满足条件没有被检查过，因为检查过再次检查就会走相同的路，进入死循环；其次该位置不能跳出边界）加入到队尾。</p>\n<p>按照此流程进行循环操作，如果结束之后，仍没有找到符合条件的结果，就返回 False</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">canReach</span>(<span class=\"params\">self, arr: <span class=\"type\">List</span>[<span class=\"built_in\">int</span>], start: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"built_in\">bool</span>:</span><br><span class=\"line\">       <span class=\"comment\">#尝试一下广度优先遍历</span></span><br><span class=\"line\">        length = <span class=\"built_in\">len</span>(arr)</span><br><span class=\"line\">        que = deque()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> arr[start] == <span class=\"number\">0</span> :</span><br><span class=\"line\">           <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        S = [<span class=\"literal\">False</span>]*length</span><br><span class=\"line\">        S[start] = <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> start + arr[start] &lt; length:</span><br><span class=\"line\">           S[start + arr[start]]=<span class=\"literal\">True</span></span><br><span class=\"line\">           que.appendleft(start + arr[start])</span><br><span class=\"line\">        <span class=\"keyword\">if</span> start - arr[start] &gt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">           S[start - arr[start]]=<span class=\"literal\">True</span></span><br><span class=\"line\">           que.appendleft(start - arr[start])</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">while</span> <span class=\"built_in\">len</span>(que):</span><br><span class=\"line\">            t = que.pop()</span><br><span class=\"line\">            <span class=\"keyword\">if</span>  arr[t] == <span class=\"number\">0</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>  t + arr[t] &lt; length <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> S[t+arr[t]] :</span><br><span class=\"line\">                S[t + arr[t]] = <span class=\"literal\">True</span></span><br><span class=\"line\">                que.appendleft(t + arr[t])</span><br><span class=\"line\">            <span class=\"keyword\">if</span>  t - arr[t] &gt;= <span class=\"number\">0</span>  <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> S[t-arr[t]]:</span><br><span class=\"line\">                S[t - arr[t]] = <span class=\"literal\">True</span></span><br><span class=\"line\">                que.appendleft(t - arr[t]) </span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"310-最小高度树-2\"><a class=\"anchor\" href=\"#310-最小高度树-2\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvbWluaW11bS1oZWlnaHQtdHJlZXMv\">310. 最小高度树</span></h4>\n<p>难度中等 517</p>\n<p>树是一个无向图，其中任何两个顶点只通过一条路径连接。 换句话说，一个任何没有简单环路的连通图都是一棵树。</p>\n<p>给你一棵包含  <code>n</code>  个节点的树，标记为  <code>0</code>  到  <code>n - 1</code>  。给定数字  <code>n</code>  和一个有  <code>n - 1</code>  条无向边的  <code>edges</code>  列表（每一个边都是一对标签），其中  <code>edges[i] = [ai, bi]</code>  表示树中节点  <code>ai</code>  和  <code>bi</code>  之间存在一条无向边。</p>\n<p>可选择树中任何一个节点作为根。当选择节点  <code>x</code>  作为根节点时，设结果树的高度为  <code>h</code>  。在所有可能的树中，具有最小高度的树（即， <code>min(h)</code> ）被称为 <strong>最小高度树</strong> 。</p>\n<p>请你找到所有的 <strong>最小高度树</strong> 并按 <strong>任意顺序</strong> 返回它们的根节点标签列表。</p>\n<p>树的 <strong>高度</strong> 是指根节点和叶子节点之间最长向下路径上边的数量。</p>\n<p><strong>示例 1：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2020/09/01/e1.jpg\" alt=\"img\"></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：n = 4, edges = <span class=\"comment\">[<span class=\"comment\">[1,0]</span>,<span class=\"comment\">[1,2]</span>,<span class=\"comment\">[1,3]</span>]</span></span><br><span class=\"line\">输出：<span class=\"comment\">[1]</span></span><br><span class=\"line\">解释：如图所示，当根是标签为 1 的节点时，树的高度是 1 ，这是唯一的最小高度树。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2020/09/01/e2.jpg\" alt=\"img\"></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：n = 6, edges = <span class=\"comment\">[<span class=\"comment\">[3,0]</span>,<span class=\"comment\">[3,1]</span>,<span class=\"comment\">[3,2]</span>,<span class=\"comment\">[3,4]</span>,<span class=\"comment\">[5,4]</span>]</span></span><br><span class=\"line\">输出：<span class=\"comment\">[3,4]</span></span><br></pre></td></tr></table></figure>\n<p>简单分析过程：</p>\n<ul>\n<li>\n<p>首先，我们看了样例，发现这个树并不是二叉树，是多叉树。然后，我们可能想到的解法是：根据题目的意思，就挨个节点遍历 bfs，统计下每个节点的高度，然后用 map 存储起来，后面查询这个高度的集合里最小的就可以了。但是这样会超时的。</p>\n</li>\n<li>\n<p>于是我们看图（题目介绍里面的图）分析一下，发现，越是靠里面的节点越有可能是最小高度树。所以，我们可以这样想，我们可以倒着来。我们从边缘开始，先找到所有出度为 1 的节点，然后把所有出度为 1 的节点进队列，然后不断地 bfs，最后找到的就是两边同时向中间靠近的节点，那么这个中间节点就相当于把整个距离二分了，那么它当然就是到两边距离最小的点啦，也就是到其他叶子节点最近的节点了。然后，就可以写代码了</p>\n</li>\n</ul>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">findMinHeightTrees</span>(<span class=\"params\">self, n: <span class=\"built_in\">int</span>, edges: <span class=\"type\">List</span>[<span class=\"type\">List</span>[<span class=\"built_in\">int</span>]]</span>) -&gt; <span class=\"type\">List</span>[<span class=\"built_in\">int</span>]:</span><br><span class=\"line\">        <span class=\"comment\">#如果只有一个节点，就返回零节点，就是最小高度的根节点</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> n == <span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> [<span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"comment\">#拥有最小高度的树根，肯定是整棵树最大距离的中间节点，因为此时根节点道两侧的距离最小</span></span><br><span class=\"line\">        <span class=\"comment\">#先创建一个所有节点的度表</span></span><br><span class=\"line\">        degree = [<span class=\"number\">0</span>]*n</span><br><span class=\"line\">        <span class=\"comment\">#其次，再来一个邻接表（即每个节点相邻的节点，该表用字典来表示）</span></span><br><span class=\"line\">        <span class=\"comment\">#Adj_table = dict.fromkeys([i for i in range(n)],[])</span></span><br><span class=\"line\">        <span class=\"comment\">## #当字典中的值是字典或者是列表的话，只能一个一个初始化</span></span><br><span class=\"line\">        <span class=\"comment\">#不能使用 fromkeys()进行初始化</span></span><br><span class=\"line\">        Adj_table = &#123;&#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(n):</span><br><span class=\"line\">            Adj_table[i]=[]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(n-<span class=\"number\">1</span>):</span><br><span class=\"line\">             degree[edges[i][<span class=\"number\">0</span>]]+=<span class=\"number\">1</span></span><br><span class=\"line\">             degree[edges[i][<span class=\"number\">1</span>]]+=<span class=\"number\">1</span></span><br><span class=\"line\">             Adj_table[edges[i][<span class=\"number\">0</span>]].append(edges[i][<span class=\"number\">1</span>])</span><br><span class=\"line\">             Adj_table[edges[i][<span class=\"number\">1</span>]].append(edges[i][<span class=\"number\">0</span>])</span><br><span class=\"line\">        <span class=\"comment\">#开始广度优先遍历</span></span><br><span class=\"line\">        <span class=\"comment\">#首先创建一个队列</span></span><br><span class=\"line\">        que = deque()</span><br><span class=\"line\">        <span class=\"comment\">#将最外围的叶子结点入队</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(n):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> degree[i] == <span class=\"number\">1</span>:</span><br><span class=\"line\">                que.appendleft(i)</span><br><span class=\"line\">        res = []</span><br><span class=\"line\">        <span class=\"comment\">#队列非空就执行</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> <span class=\"built_in\">len</span>(que):</span><br><span class=\"line\">            res.clear()</span><br><span class=\"line\">            <span class=\"comment\">#对叶子节点采用一层一层处理</span></span><br><span class=\"line\">            size = <span class=\"built_in\">len</span>(que)</span><br><span class=\"line\">            <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(size):</span><br><span class=\"line\">                <span class=\"comment\">#首先弹出此时第一个叶子结点，并且将它所有邻接的节点的度数都减一</span></span><br><span class=\"line\">                cur = que.pop()</span><br><span class=\"line\">                <span class=\"comment\">#将弹出的叶子结点加入到结果数组中</span></span><br><span class=\"line\">                res.append(cur)</span><br><span class=\"line\">                Adj_point = Adj_table[cur]</span><br><span class=\"line\">                <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> Adj_point:</span><br><span class=\"line\">                    degree[i]-=<span class=\"number\">1</span></span><br><span class=\"line\">                    <span class=\"comment\">#如果哪一个邻接点因为度数减一导致成为了叶子结点，就将节点加入到队列</span></span><br><span class=\"line\">                    <span class=\"keyword\">if</span> degree[i]==<span class=\"number\">1</span>:</span><br><span class=\"line\">                        que.appendleft(i)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res</span><br></pre></td></tr></table></figure>\n<h4 id=\"357-统计各位数字都不同的数字个数\"><a class=\"anchor\" href=\"#357-统计各位数字都不同的数字个数\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvY291bnQtbnVtYmVycy13aXRoLXVuaXF1ZS1kaWdpdHMv\">357. 统计各位数字都不同的数字个数</span></h4>\n<p>难度中等 192</p>\n<p>给你一个整数  <code>n</code>  ，统计并返回各位数字都不同的数字  <code>x</code>  的个数，其中  <code>0 &lt;= x &lt; 10n</code>  。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight dns\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：n = <span class=\"number\">2</span></span><br><span class=\"line\">输出：<span class=\"number\">91</span></span><br><span class=\"line\">解释：答案应为除去 <span class=\"number\">11、22、33、44</span>、<span class=\"number\">55、66、77、88</span>、<span class=\"number\">99</span> 外，在 <span class=\"number\">0</span> ≤ x &lt; <span class=\"number\">100</span> 范围内的所有数字。 </span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：n <span class=\"operator\">=</span> <span class=\"number\">0</span></span><br><span class=\"line\">输出：<span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<p>乘法原理<br>\n对于 n = 0n=0 的情况较为特殊，特判一下，返回 11。</p>\n<p>对于其他情况，由于不能含有前导 00，最高位可选择的数值个数为 99，而从次高位开始到最低位，可选的个数从 99 开始逐一递减。</p>\n<p>利用乘法原理，每位数可选的数值个数相乘即是长度为 nn 的数的可能方案数 curcur，而所有长度 [1,n] 的方案数累加即是答案。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">countNumbersWithUniqueDigits</span>(<span class=\"params\">self, n: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n == <span class=\"number\">0</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> n == <span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">10</span></span><br><span class=\"line\">        res, cur = <span class=\"number\">10</span>, <span class=\"number\">9</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(n - <span class=\"number\">1</span>):</span><br><span class=\"line\">            cur *= <span class=\"number\">9</span> - i</span><br><span class=\"line\">            res += cur</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"479-最大回文数乘积\"><a class=\"anchor\" href=\"#479-最大回文数乘积\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvbGFyZ2VzdC1wYWxpbmRyb21lLXByb2R1Y3Qv\">479. 最大回文数乘积</span></h4>\n<p>难度困难 55</p>\n<p>给定一个整数 n ，返回 <em>可表示为两个  <code>n</code>  位整数乘积的 <strong>最大回文整数</strong></em> 。因为答案可能非常大，所以返回它对  <code>1337</code>  <strong>取余</strong> 。</p>\n<p><strong>示例 1:</strong></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">输入：n</span> <span class=\"string\">=</span> <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"string\">输出：987</span></span><br><span class=\"line\"><span class=\"string\">解释：99</span> <span class=\"string\">x</span> <span class=\"number\">91</span> <span class=\"string\">=</span> <span class=\"number\">9009</span><span class=\"string\">,</span> <span class=\"number\">9009</span> <span class=\"string\">%</span> <span class=\"number\">1337</span> <span class=\"string\">=</span> <span class=\"number\">987</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 2:</strong></p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入： n <span class=\"operator\">=</span> <span class=\"number\">1</span></span><br><span class=\"line\">输出： <span class=\"number\">9</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示:</strong></p>\n<ul>\n<li><code>1 &lt;= n &lt;= 8</code></li>\n</ul>\n<p>题解：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">largestPalindrome</span>(<span class=\"params\">self, n: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">        <span class=\"comment\">#如果n等于1，直接返回</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> n == <span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">9</span></span><br><span class=\"line\">        end = <span class=\"number\">10</span>**n - <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"comment\">#先从大到小构造回文数，然后判断该回文数是否符合条件，如果符合条件此时返回的就是最大的</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(end,end//<span class=\"number\">10</span>,-<span class=\"number\">1</span>):</span><br><span class=\"line\">            result,left = i,i</span><br><span class=\"line\">            <span class=\"keyword\">while</span> left:</span><br><span class=\"line\">                result = result*<span class=\"number\">10</span> + left%<span class=\"number\">10</span></span><br><span class=\"line\">                left //=<span class=\"number\">10</span></span><br><span class=\"line\">            <span class=\"comment\">#每次找到一个回文数之后，就看一下是否符合有两个n位数的因数</span></span><br><span class=\"line\">            <span class=\"comment\">#找因数，默认认为其中一个因数比另一个因数大，可以是寻找半径缩短一半</span></span><br><span class=\"line\">            x = end</span><br><span class=\"line\">            <span class=\"keyword\">while</span> x*x &gt;= result:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> result % x==<span class=\"number\">0</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> result%<span class=\"number\">1337</span></span><br><span class=\"line\">                x-=<span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"386-字典序排数\"><a class=\"anchor\" href=\"#386-字典序排数\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvbGV4aWNvZ3JhcGhpY2FsLW51bWJlcnMv\">386. 字典序排数</span></h4>\n<p>难度中等 262</p>\n<p>给你一个整数  <code>n</code>  ，按字典序返回范围  <code>[1, n]</code>  内所有整数。</p>\n<p>你必须设计一个时间复杂度为  <code>O(n)</code>  且使用  <code>O(1)</code>  额外空间的算法。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight dns\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：n = <span class=\"number\">13</span></span><br><span class=\"line\">输出：[<span class=\"number\">1,10,11,12</span>,<span class=\"number\">13,2,3,4</span>,<span class=\"number\">5,6,7,8</span>,<span class=\"number\">9</span>]</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight excel\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：<span class=\"built_in\">n</span> = <span class=\"number\">2</span></span><br><span class=\"line\">输出：[<span class=\"number\">1</span>,<span class=\"number\">2</span>]</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= n &lt;= 5 * 104</code></li>\n</ul>\n<img data-src=\"https://github.com/zhihao-a/blog-img\\image-20220418083933398.png\" alt=\"image-20220418083933398\" style=\"zoom:50%;\" />\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#排序</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">lexicalOrder</span>(<span class=\"params\">self, n: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"type\">List</span>[<span class=\"built_in\">int</span>]:</span><br><span class=\"line\">        <span class=\"comment\">#变成字符串不就按字典序返回了吗</span></span><br><span class=\"line\">        result = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">1</span>,n+<span class=\"number\">1</span>):</span><br><span class=\"line\">            result.append(<span class=\"built_in\">str</span>(i))</span><br><span class=\"line\">        result.sort()</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">list</span>(<span class=\"built_in\">map</span>(<span class=\"built_in\">int</span>,result)</span><br></pre></td></tr></table></figure>\n<h4 id=\"821-字符的最短距离\"><a class=\"anchor\" href=\"#821-字符的最短距离\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvc2hvcnRlc3QtZGlzdGFuY2UtdG8tYS1jaGFyYWN0ZXIv\">821. 字符的最短距离</span></h4>\n<p>难度简单</p>\n<p>给你一个字符串  <code>s</code>  和一个字符  <code>c</code>  ，且  <code>c</code>  是  <code>s</code>  中出现过的字符。</p>\n<p>返回一个整数数组  <code>answer</code>  ，其中  <code>answer.length == s.length</code>  且  <code>answer[i]</code>  是  <code>s</code>  中从下标  <code>i</code>  到离它 <strong>最近</strong> 的字符  <code>c</code>  的 <strong>距离</strong> 。</p>\n<p>两个下标  <code>i</code>  和  <code>j</code>  之间的 <strong>距离</strong> 为  <code>abs(i - j)</code>  ，其中  <code>abs</code>  是绝对值函数。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：s = &quot;loveleetcode&quot;, c = &quot;e&quot;</span><br><span class=\"line\">输出：[3,2,1,0,1,0,0,1,2,2,1,0]</span><br><span class=\"line\">解释：字符 &#x27;e&#x27; 出现在下标 3、5、6 和<span class=\"number\"> 11 </span>处（下标从<span class=\"number\"> 0 </span>开始计数）。</span><br><span class=\"line\">距下标<span class=\"number\"> 0 </span>最近的 &#x27;e&#x27; 出现在下标<span class=\"number\"> 3 </span>，所以距离为 abs(0 - 3) =<span class=\"number\"> 3 </span>。</span><br><span class=\"line\">距下标<span class=\"number\"> 1 </span>最近的 &#x27;e&#x27; 出现在下标<span class=\"number\"> 3 </span>，所以距离为 abs(1 - 3) =<span class=\"number\"> 2 </span>。</span><br><span class=\"line\">对于下标<span class=\"number\"> 4 </span>，出现在下标<span class=\"number\"> 3 </span>和下标<span class=\"number\"> 5 </span>处的 &#x27;e&#x27; 都离它最近，但距离是一样的 abs(4 - 3) == abs(4 - 5) =<span class=\"number\"> 1 </span>。</span><br><span class=\"line\">距下标<span class=\"number\"> 8 </span>最近的 &#x27;e&#x27; 出现在下标<span class=\"number\"> 6 </span>，所以距离为 abs(8 - 6) =<span class=\"number\"> 2 </span>。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight llvm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：s <span class=\"operator\">=</span> <span class=\"string\">&quot;aaab&quot;</span><span class=\"punctuation\">,</span> <span class=\"keyword\">c</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;b&quot;</span></span><br><span class=\"line\">输出：[<span class=\"number\">3</span><span class=\"punctuation\">,</span><span class=\"number\">2</span><span class=\"punctuation\">,</span><span class=\"number\">1</span><span class=\"punctuation\">,</span><span class=\"number\">0</span>]</span><br></pre></td></tr></table></figure>\n<p>解法一：双向遍历</p>\n<p>​     得到到两侧最近的距离，然后求最小值，直接返回，比较直观</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">shortestToChar</span>(<span class=\"params\">self, s: <span class=\"built_in\">str</span>, c: <span class=\"built_in\">str</span></span>) -&gt; <span class=\"type\">List</span>[<span class=\"built_in\">int</span>]:</span><br><span class=\"line\">        inf = <span class=\"built_in\">float</span>(<span class=\"string\">&quot;inf&quot;</span>)</span><br><span class=\"line\">        result =[inf]*<span class=\"built_in\">len</span>(s)</span><br><span class=\"line\">        c_index = -<span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"built_in\">len</span>(s)):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> s[i] == c:</span><br><span class=\"line\">                c_index=i</span><br><span class=\"line\">                result[i] = <span class=\"number\">0</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> c_index !=-<span class=\"number\">1</span>:</span><br><span class=\"line\">                result[i] = i-c_index</span><br><span class=\"line\">        c_index = -<span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"built_in\">len</span>(s)-<span class=\"number\">1</span>,-<span class=\"number\">1</span>,-<span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> s[i] == c:</span><br><span class=\"line\">                c_index = i</span><br><span class=\"line\">            <span class=\"keyword\">if</span> c_index!=-<span class=\"number\">1</span>:</span><br><span class=\"line\">                result[i] = <span class=\"built_in\">min</span>(result[i],c_index - i)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result</span><br></pre></td></tr></table></figure>\n<p>解法二：BFS</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">起始令所有的 ans[i] = -1ans[i]=−1，然后将所有的 c 字符的下标入队，并更新 ans[i] = 0ans[i]=0，然后跑一遍 BFS 逻辑，通过 ans[i]ans[i] 是否为 -1−1 来判断是否重复入队。</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\">   <span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">   <span class=\"keyword\">def</span> <span class=\"title function_\">shortestToChar</span>(<span class=\"params\">self, s: <span class=\"built_in\">str</span>, c: <span class=\"built_in\">str</span></span>) -&gt; <span class=\"type\">List</span>[<span class=\"built_in\">int</span>]:</span><br><span class=\"line\">       <span class=\"comment\">#首先准备一个结果列表，先置位-1</span></span><br><span class=\"line\">       result = [-<span class=\"number\">1</span>]*<span class=\"built_in\">len</span>(s)</span><br><span class=\"line\">       <span class=\"comment\">#遍历一次，将和c字符相等的字符相应的位置入队，同时将对应的结果列表位置置为0</span></span><br><span class=\"line\">       que = deque()</span><br><span class=\"line\">       <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"built_in\">len</span>(s)):</span><br><span class=\"line\">           <span class=\"keyword\">if</span> s[i] == c:</span><br><span class=\"line\">               result[i] = <span class=\"number\">0</span></span><br><span class=\"line\">               que.appendleft(i)</span><br><span class=\"line\">       <span class=\"comment\">#进行BFS逻辑</span></span><br><span class=\"line\">       <span class=\"keyword\">while</span> <span class=\"built_in\">len</span>(que):</span><br><span class=\"line\">           <span class=\"comment\">#取出当前队头元素</span></span><br><span class=\"line\">           t = que.pop()</span><br><span class=\"line\">           <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> (-<span class=\"number\">1</span>,<span class=\"number\">1</span>):</span><br><span class=\"line\">               index = t+i</span><br><span class=\"line\">               <span class=\"comment\">#在位置不越界的情况下，如果该位置没被访问过，就将改位置的result值置为reslut[t] + 1</span></span><br><span class=\"line\">               <span class=\"comment\">#并将该节点入队</span></span><br><span class=\"line\">               <span class=\"keyword\">if</span> index&gt;=<span class=\"number\">0</span> <span class=\"keyword\">and</span> index &lt; <span class=\"built_in\">len</span>(s) <span class=\"keyword\">and</span> result[index]==-<span class=\"number\">1</span>:</span><br><span class=\"line\">                   result[index] = result[t] + <span class=\"number\">1</span></span><br><span class=\"line\">                   que.appendleft(index)</span><br><span class=\"line\">       <span class=\"keyword\">return</span> result </span><br></pre></td></tr></table></figure>\n<h4 id=\"388-文件的最长绝对路径\"><a class=\"anchor\" href=\"#388-文件的最长绝对路径\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvbG9uZ2VzdC1hYnNvbHV0ZS1maWxlLXBhdGgv\">388. 文件的最长绝对路径</span></h4>\n<p>难度中等 215</p>\n<p>假设有一个同时存储文件和目录的文件系统。下图展示了文件系统的一个示例：</p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2020/08/28/mdir.jpg\" alt=\"img\"></p>\n<p>这里将  <code>dir</code>  作为根目录中的唯一目录。 <code>dir</code>  包含两个子目录  <code>subdir1</code>  和  <code>subdir2</code>  。 <code>subdir1</code>  包含文件  <code>file1.ext</code>  和子目录  <code>subsubdir1</code> ； <code>subdir2</code>  包含子目录  <code>subsubdir2</code> ，该子目录下包含文件  <code>file2.ext</code>  。</p>\n<p>在文本格式中，如下所示 (⟶表示制表符)：</p>\n<figure class=\"highlight mipsasm\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">dir</span></span><br><span class=\"line\"><span class=\"keyword\"></span>⟶ <span class=\"keyword\">subdir1</span></span><br><span class=\"line\"><span class=\"keyword\"></span>⟶ ⟶ file1.<span class=\"keyword\">ext</span></span><br><span class=\"line\"><span class=\"keyword\"></span>⟶ ⟶ <span class=\"keyword\">subsubdir1</span></span><br><span class=\"line\"><span class=\"keyword\"></span>⟶ <span class=\"keyword\">subdir2</span></span><br><span class=\"line\"><span class=\"keyword\"></span>⟶ ⟶ <span class=\"keyword\">subsubdir2</span></span><br><span class=\"line\"><span class=\"keyword\"></span>⟶ ⟶ ⟶ file2.<span class=\"keyword\">ext</span></span><br></pre></td></tr></table></figure>\n<p>如果是代码表示，上面的文件系统可以写为  <code>&quot;dir\\n\\tsubdir1\\n\\t\\tfile1.ext\\n\\t\\tsubsubdir1\\n\\tsubdir2\\n\\t\\tsubsubdir2\\n\\t\\t\\tfile2.ext&quot;</code>  。 <code>'\\n'</code>  和  <code>'\\t'</code>  分别是换行符和制表符。</p>\n<p>文件系统中的每个文件和文件夹都有一个唯一的 <strong>绝对路径</strong> ，即必须打开才能到达文件 / 目录所在位置的目录顺序，所有路径用  <code>'/'</code>  连接。上面例子中，指向  <code>file2.ext</code>  的 <strong>绝对路径</strong> 是  <code>&quot;dir/subdir2/subsubdir2/file2.ext&quot;</code>  。每个目录名由字母、数字和 / 或空格组成，每个文件名遵循  <code>name.extension</code>  的格式，其中  <code>name</code>  和  <code>extension</code>  由字母、数字和 / 或空格组成。</p>\n<p>给定一个以上述格式表示文件系统的字符串  <code>input</code>  ，返回文件系统中 <em>指向 <strong>文件</strong> 的 <strong>最长绝对路径</strong> 的长度</em> 。 如果系统中没有文件，返回  <code>0</code> 。</p>\n<p><strong>示例 1：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2020/08/28/dir1.jpg\" alt=\"img\"></p>\n<figure class=\"highlight lsl\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：input = <span class=\"string\">&quot;dir<span class=\"subst\">\\n</span><span class=\"subst\">\\t</span>subdir1<span class=\"subst\">\\n</span><span class=\"subst\">\\t</span>subdir2<span class=\"subst\">\\n</span><span class=\"subst\">\\t</span><span class=\"subst\">\\t</span>file.ext&quot;</span></span><br><span class=\"line\">输出：<span class=\"number\">20</span></span><br><span class=\"line\">解释：只有一个文件，绝对路径为 <span class=\"string\">&quot;dir/subdir2/file.ext&quot;</span> ，路径长度 <span class=\"number\">20</span></span><br></pre></td></tr></table></figure>\n<p>解法一：栈</p>\n<ul>\n<li>用一个栈去存储遍历过的路径，因为只要长度，所以栈中只保存文件路径的长度信息，栈中元素的个数即表示该路径的深度；而栈顶元素则表示该路径的长度</li>\n<li>每遍历到一个 “文件”，首先得到该 &quot;文件&quot; 的路径深度，即它前面的制表符的个数；再得到该 “文件” 名称的长度以及该 “文件” 是否是一个文件，然后与栈顶比较\n<ul>\n<li>如果当前遍历到的路径深度小于该 “文件” 的路径深度，那么当前路径肯定是该 “文件” 的上级路径</li>\n<li>如果当前遍历到的路径深度大于等于该 “文件” 的路径深度，那么当前的路径肯定不是该 “文件” 的上级路径，所以得不断地弹出栈顶元素，直到栈顶元素所表示的路径深度小于该 “文件” 的路径深度，此时才能将该 “文件” 的绝对路径长度找到</li>\n<li>如果当前找到的 “文件” 是真正的文件的话，就更新当前见过的文件绝对路径的最大值，遍历完成之后的路径长度即为最终结果</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">lengthLongestPath</span>(<span class=\"params\">self, <span class=\"built_in\">input</span>: <span class=\"built_in\">str</span></span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">        len_input = <span class=\"built_in\">len</span>(<span class=\"built_in\">input</span>)</span><br><span class=\"line\">        i = <span class=\"number\">0</span> </span><br><span class=\"line\">        result = <span class=\"number\">0</span> </span><br><span class=\"line\">        stack = []</span><br><span class=\"line\">        <span class=\"keyword\">while</span> i&lt;len_input:</span><br><span class=\"line\">            <span class=\"comment\">#先计算当前文件的深度</span></span><br><span class=\"line\">            depth = <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span> i &lt; len_input <span class=\"keyword\">and</span> <span class=\"built_in\">input</span>[i]==<span class=\"string\">&#x27;\\t&#x27;</span>:</span><br><span class=\"line\">                depth +=<span class=\"number\">1</span></span><br><span class=\"line\">                i+=<span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"comment\">#再计算当前文件名的长度</span></span><br><span class=\"line\">            file_length,is_file = <span class=\"number\">0</span> , <span class=\"literal\">False</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span> i &lt; len_input <span class=\"keyword\">and</span> <span class=\"built_in\">input</span>[i] !=<span class=\"string\">&#x27;\\n&#x27;</span>:</span><br><span class=\"line\">                <span class=\"comment\">#检查该名称是否是文件</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span>  <span class=\"built_in\">input</span>[i] == <span class=\"string\">&#x27;.&#x27;</span>:</span><br><span class=\"line\">                    is_file = <span class=\"literal\">True</span></span><br><span class=\"line\">                file_length+=<span class=\"number\">1</span></span><br><span class=\"line\">                i+=<span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"comment\">#跳过换行符</span></span><br><span class=\"line\">            i+=<span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"comment\">#如果当前文件的深度小于等于当前路径的深度，就一直弹出栈中的最后一个目录，直到栈顶目录是该文件的上级为止</span></span><br><span class=\"line\">            <span class=\"keyword\">while</span> <span class=\"built_in\">len</span>(stack)&gt;=depth:</span><br><span class=\"line\">                    stack.pop()</span><br><span class=\"line\">            <span class=\"comment\">#经过上述操作之后，栈顶目录即为该文件的上级目录</span></span><br><span class=\"line\">            <span class=\"comment\">#如果此时栈不空的话</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"built_in\">len</span>(stack):</span><br><span class=\"line\">                stack.append(stack[-<span class=\"number\">1</span>]+file_length+<span class=\"number\">1</span>)</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                stack.append(file_length)</span><br><span class=\"line\">            <span class=\"comment\">#如果当前路径是文件的话，就做路径长度更新操作</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> is_file:</span><br><span class=\"line\">                result = <span class=\"built_in\">max</span>(result,stack[-<span class=\"number\">1</span>])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result</span><br></pre></td></tr></table></figure>\n<h4 id=\"396-旋转函数\"><a class=\"anchor\" href=\"#396-旋转函数\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvcm90YXRlLWZ1bmN0aW9uLw==\">396. 旋转函数</span></h4>\n<p>难度中等 115</p>\n<p>给定一个长度为  <code>n</code>  的整数数组  <code>nums</code>  。</p>\n<p>假设  <code>arrk</code>  是数组  <code>nums</code>  顺时针旋转  <code>k</code>  个位置后的数组，我们定义  <code>nums</code>  的 <strong>旋转函数</strong>  <code>F</code>  为：</p>\n<ul>\n<li><code>F(k) = 0 * arrk[0] + 1 * arrk[1] + ... + (n - 1) * arrk[n - 1]</code></li>\n</ul>\n<p>返回 <em> <code>F(0), F(1), ..., F(n-1)</code>  中的最大值</em> 。</p>\n<p>生成的测试用例让答案符合 <strong>32 位</strong> 整数。</p>\n<p><strong>示例 1:</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: nums = [4,3,2,6]</span><br><span class=\"line\">输出: 26</span><br><span class=\"line\">解释:</span><br><span class=\"line\">F(0) = (0 * 4) + (1 * 3) + (2 * 2) + (3 * 6) =<span class=\"number\"> 0 </span>+<span class=\"number\"> 3 </span>+<span class=\"number\"> 4 </span>+<span class=\"number\"> 18 </span>= 25</span><br><span class=\"line\">F(1) = (0 * 6) + (1 * 4) + (2 * 3) + (3 * 2) =<span class=\"number\"> 0 </span>+<span class=\"number\"> 4 </span>+<span class=\"number\"> 6 </span>+<span class=\"number\"> 6 </span>= 16</span><br><span class=\"line\">F(2) = (0 * 2) + (1 * 6) + (2 * 4) + (3 * 3) =<span class=\"number\"> 0 </span>+<span class=\"number\"> 6 </span>+<span class=\"number\"> 8 </span>+<span class=\"number\"> 9 </span>= 23</span><br><span class=\"line\">F(3) = (0 * 3) + (1 * 2) + (2 * 6) + (3 * 4) =<span class=\"number\"> 0 </span>+<span class=\"number\"> 2 </span>+<span class=\"number\"> 12 </span>+<span class=\"number\"> 12 </span>= 26</span><br><span class=\"line\">所以 F(0), F(1), F(2), F(3) 中的最大值是 F(3) =<span class=\"number\"> 26 </span>。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2:</strong></p>\n<figure class=\"highlight makefile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">输入: nums = [100]</span></span><br><span class=\"line\"><span class=\"section\">输出: 0</span></span><br></pre></td></tr></table></figure>\n<p>题解：迭代</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">maxRotateFunction</span>(<span class=\"params\">self, nums: <span class=\"type\">List</span>[<span class=\"built_in\">int</span>]</span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\"><span class=\"comment\">#可以知道F(k+1)  =  (k+1) * nums[0] + (k+2)*nums[1] +....(n-1)*nums[n-k-2]+0*nums[n-k-1]+1*nums[n-k]+....+(k)*nums[n-1] </span></span><br><span class=\"line\"><span class=\"comment\"># F(k)  =  k * nums[0] + (k+1)*nums[1] +....(n-1)*nums[n-k-1]+0*nums[n-k]+1*nums[n-k+1]+....+(k-1)*nums[n-1] </span></span><br><span class=\"line\"><span class=\"comment\">#可知：F(k+1)-F(k)=Sum(nums)-n*nums[n-k-1]</span></span><br><span class=\"line\"><span class=\"comment\">#由此迭代公式可以求出F(1)~F(k)的值</span></span><br><span class=\"line\">        length = <span class=\"built_in\">len</span>(nums)</span><br><span class=\"line\">        result = <span class=\"number\">0</span></span><br><span class=\"line\">        nums_sum = <span class=\"built_in\">sum</span>(nums)</span><br><span class=\"line\">        num=[<span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(length):</span><br><span class=\"line\">            num[<span class=\"number\">0</span>]+=i*nums[i]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">1</span>,length):</span><br><span class=\"line\">            num.append(num[-<span class=\"number\">1</span>]+nums_sum-length*nums[length-k])</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">max</span>(num)</span><br><span class=\"line\">                </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"47-全排列-ii\"><a class=\"anchor\" href=\"#47-全排列-ii\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvcGVybXV0YXRpb25zLWlpLw==\">47. 全排列 II</span></h4>\n<p>难度中等 1032</p>\n<p>给定一个可包含重复数字的序列  <code>nums</code>  ，<em><strong>按任意顺序</strong></em> 返回所有不重复的全排列。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = <span class=\"comment\">[1,1,2]</span></span><br><span class=\"line\">输出：</span><br><span class=\"line\"><span class=\"comment\">[<span class=\"comment\">[1,1,2]</span>,</span></span><br><span class=\"line\"><span class=\"comment\"> <span class=\"comment\">[1,2,1]</span>,</span></span><br><span class=\"line\"><span class=\"comment\"> <span class=\"comment\">[2,1,1]</span>]</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = <span class=\"comment\">[1,2,3]</span></span><br><span class=\"line\">输出：<span class=\"comment\">[<span class=\"comment\">[1,2,3]</span>,<span class=\"comment\">[1,3,2]</span>,<span class=\"comment\">[2,1,3]</span>,<span class=\"comment\">[2,3,1]</span>,<span class=\"comment\">[3,1,2]</span>,<span class=\"comment\">[3,2,1]</span>]</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">permuteUnique</span>(<span class=\"params\">self, nums: <span class=\"type\">List</span>[<span class=\"built_in\">int</span>]</span>) -&gt; <span class=\"type\">List</span>[<span class=\"type\">List</span>[<span class=\"built_in\">int</span>]]:</span><br><span class=\"line\">        <span class=\"keyword\">def</span> <span class=\"title function_\">dfs</span>(<span class=\"params\">nums:<span class=\"built_in\">list</span>,n:<span class=\"built_in\">int</span>,used:<span class=\"built_in\">list</span>,result:<span class=\"built_in\">list</span>,path:<span class=\"built_in\">list</span></span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> n == <span class=\"built_in\">len</span>(nums):</span><br><span class=\"line\">                result.append(path[:])</span><br><span class=\"line\">                <span class=\"keyword\">return</span> </span><br><span class=\"line\">            <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"built_in\">len</span>(nums)):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> i&gt;<span class=\"number\">0</span> <span class=\"keyword\">and</span> nums[i] == nums[i-<span class=\"number\">1</span>] <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> used[i-<span class=\"number\">1</span>]:</span><br><span class=\"line\">                    <span class=\"keyword\">continue</span></span><br><span class=\"line\">                <span class=\"comment\">#如果该位置没有没访问过，就直接加入</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> used[i]:</span><br><span class=\"line\">                    path.append(nums[i])</span><br><span class=\"line\">                    used[i] = <span class=\"literal\">True</span></span><br><span class=\"line\">                    dfs(nums,n+<span class=\"number\">1</span>,used,result,path)</span><br><span class=\"line\">                    <span class=\"comment\">#回溯</span></span><br><span class=\"line\">                    path.pop()</span><br><span class=\"line\">                    used[i]  =  <span class=\"literal\">False</span></span><br><span class=\"line\">        used = [<span class=\"literal\">False</span>]*<span class=\"built_in\">len</span>(nums)</span><br><span class=\"line\">        result = []</span><br><span class=\"line\">        path = []</span><br><span class=\"line\">        nums.sort()</span><br><span class=\"line\">        dfs(nums,<span class=\"number\">0</span>,used,result,path)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result</span><br></pre></td></tr></table></figure>\n<h4 id=\"587-安装栅栏\"><a class=\"anchor\" href=\"#587-安装栅栏\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvZXJlY3QtdGhlLWZlbmNlLw==\">587. 安装栅栏</span></h4>\n<p>难度困难 102</p>\n<p>在一个二维的花园中，有一些用 (x, y) 坐标表示的树。由于安装费用十分昂贵，你的任务是先用<strong>最短</strong>的绳子围起所有的树。只有当所有的树都被绳子包围时，花园才能围好栅栏。你需要找到正好位于栅栏边界上的树的坐标。</p>\n<p><strong>示例 1:</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: <span class=\"comment\">[<span class=\"comment\">[1,1]</span>,<span class=\"comment\">[2,2]</span>,<span class=\"comment\">[2,0]</span>,<span class=\"comment\">[2,4]</span>,<span class=\"comment\">[3,3]</span>,<span class=\"comment\">[4,2]</span>]</span></span><br><span class=\"line\">输出: <span class=\"comment\">[<span class=\"comment\">[1,1]</span>,<span class=\"comment\">[2,0]</span>,<span class=\"comment\">[4,2]</span>,<span class=\"comment\">[3,3]</span>,<span class=\"comment\">[2,4]</span>]</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 2:</strong></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: <span class=\"string\">[[1,2],[2,2],[4,2]]</span></span><br><span class=\"line\">输出: <span class=\"string\">[[1,2],[2,2],[4,2]]</span></span><br><span class=\"line\">解释:</span><br><span class=\"line\"></span><br><span class=\"line\">即使树都在一条直线上，你也需要先用绳子包围它们。</span><br></pre></td></tr></table></figure>\n<p>分析：凸包问题</p>\n<p>解法一：Jarvis 算法</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">        <span class=\"comment\">#计算叉积（非严格意义上的），如果大于零说明r在pq向量的左侧</span></span><br><span class=\"line\">        <span class=\"comment\">#如果除了pq两点，其他的r点都在pq向量的左侧，就将pq添加进凸包</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">cross</span>(<span class=\"params\">p:<span class=\"built_in\">list</span>,q:<span class=\"built_in\">list</span>,r:<span class=\"built_in\">list</span></span>):</span><br><span class=\"line\">    <span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">    :param p: [p0,p1]</span></span><br><span class=\"line\"><span class=\"string\">    :param q: [q0,q1]</span></span><br><span class=\"line\"><span class=\"string\">    :param r: [r0,r1]</span></span><br><span class=\"line\"><span class=\"string\">    :return: q0-p0  r0-q0</span></span><br><span class=\"line\"><span class=\"string\">             q1-p1  r1-q1</span></span><br><span class=\"line\"><span class=\"string\">    &quot;&quot;&quot;</span></span><br><span class=\"line\">    result = (r[<span class=\"number\">1</span>]-q[<span class=\"number\">1</span>])*(q[<span class=\"number\">0</span>]-p[<span class=\"number\">0</span>])-(r[<span class=\"number\">0</span>]-q[<span class=\"number\">0</span>])*(q[<span class=\"number\">1</span>]-p[<span class=\"number\">1</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result</span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\">    trees = [[<span class=\"number\">3</span>,<span class=\"number\">0</span>],[<span class=\"number\">4</span>,<span class=\"number\">0</span>],[<span class=\"number\">5</span>,<span class=\"number\">0</span>],[<span class=\"number\">6</span>,<span class=\"number\">1</span>],[<span class=\"number\">7</span>,<span class=\"number\">2</span>],[<span class=\"number\">7</span>,<span class=\"number\">3</span>],[<span class=\"number\">7</span>,<span class=\"number\">4</span>],[<span class=\"number\">6</span>,<span class=\"number\">5</span>],[<span class=\"number\">5</span>,<span class=\"number\">5</span>],[<span class=\"number\">4</span>,<span class=\"number\">5</span>],[<span class=\"number\">3</span>,<span class=\"number\">5</span>],[<span class=\"number\">2</span>,<span class=\"number\">5</span>],[<span class=\"number\">1</span>,<span class=\"number\">4</span>],[<span class=\"number\">1</span>,<span class=\"number\">3</span>],[<span class=\"number\">1</span>,<span class=\"number\">2</span>],[<span class=\"number\">2</span>,<span class=\"number\">1</span>],[<span class=\"number\">4</span>,<span class=\"number\">2</span>],[<span class=\"number\">0</span>,<span class=\"number\">3</span>]]</span><br><span class=\"line\">    result = []</span><br><span class=\"line\">    length = <span class=\"built_in\">len</span>(trees)</span><br><span class=\"line\">    <span class=\"comment\"># 找到最左边的点</span></span><br><span class=\"line\">    left_max = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(length):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> trees[i][<span class=\"number\">0</span>] &lt; trees[left_max][<span class=\"number\">0</span>]:</span><br><span class=\"line\">            left_max = i</span><br><span class=\"line\">    <span class=\"comment\"># 将最左边的点，加入到结果数组中</span></span><br><span class=\"line\">    result.append(trees[left_max])</span><br><span class=\"line\">    V = [<span class=\"literal\">True</span> <span class=\"keyword\">if</span> i == left_max <span class=\"keyword\">else</span> <span class=\"literal\">False</span> <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(length)]</span><br><span class=\"line\">    p = left_max</span><br><span class=\"line\">    <span class=\"keyword\">while</span> <span class=\"literal\">True</span>:</span><br><span class=\"line\">        q = (p + <span class=\"number\">1</span>) % length</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(length):</span><br><span class=\"line\">            <span class=\"comment\">#暂时先不管是否是已找到的边界上的点，只要右侧还有点，说明该边界不是最终的边界</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> cross(trees[p], trees[q], trees[i])&lt;<span class=\"number\">0</span>:</span><br><span class=\"line\">                q = i</span><br><span class=\"line\">        <span class=\"comment\">#寻找是否在一条直线的，可以一次性加入</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(length):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> V[i] <span class=\"keyword\">and</span> i!=q <span class=\"keyword\">and</span> cross(trees[p],trees[q],trees[i])==<span class=\"number\">0</span>:</span><br><span class=\"line\">                result.append(trees[i])</span><br><span class=\"line\">                V[i] = <span class=\"literal\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 添加</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> V[q]:</span><br><span class=\"line\">            result.append(trees[q])</span><br><span class=\"line\">            V[q] = <span class=\"literal\">True</span></span><br><span class=\"line\">        p = q</span><br><span class=\"line\">        <span class=\"keyword\">if</span> p == left_max:</span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br><span class=\"line\">    <span class=\"built_in\">print</span>(result)</span><br></pre></td></tr></table></figure>\n<p>解法二：Graham 算法</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> functools <span class=\"keyword\">import</span> *</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">如果r点是在pq向量的左侧，则返回值大于零</span></span><br><span class=\"line\"><span class=\"string\">如果r点是在pq向量的右侧，则返回值小于零</span></span><br><span class=\"line\"><span class=\"string\">如果r点是在pq向量上，则返回值等于零</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\">trees = []</span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">cross</span>(<span class=\"params\">p:<span class=\"built_in\">list</span>,q:<span class=\"built_in\">list</span>,r:<span class=\"built_in\">list</span></span>):</span><br><span class=\"line\">   <span class=\"keyword\">return</span> (q[<span class=\"number\">0</span>]-p[<span class=\"number\">0</span>])*(r[<span class=\"number\">1</span>]-q[<span class=\"number\">1</span>])-(r[<span class=\"number\">0</span>]-q[<span class=\"number\">0</span>])*(q[<span class=\"number\">1</span>]-p[<span class=\"number\">1</span>])</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">返回p、q两点之间的距离</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">distance</span>(<span class=\"params\">p:<span class=\"built_in\">list</span>,q:<span class=\"built_in\">list</span></span>):</span><br><span class=\"line\">    <span class=\"keyword\">return</span> (q[<span class=\"number\">0</span>]-p[<span class=\"number\">0</span>])**<span class=\"number\">2</span> + (q[<span class=\"number\">1</span>]-p[<span class=\"number\">1</span>])**<span class=\"number\">2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">比较函数，将个点以第一个点为原点，按照极角大小从小到大排序（即按照顺时针）</span></span><br><span class=\"line\"><span class=\"string\">如果极角大小相等，就按照距离原点的距离从小到大进行排序</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">cmp</span>(<span class=\"params\">a:<span class=\"built_in\">list</span>,b:<span class=\"built_in\">list</span></span>):</span><br><span class=\"line\">    <span class=\"keyword\">if</span> cross(trees[<span class=\"number\">0</span>],a,b)&gt;<span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> -<span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">elif</span> cross(trees[<span class=\"number\">0</span>],a,b)&lt;<span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> distance(trees[<span class=\"number\">0</span>],a)&lt;distance(trees[<span class=\"number\">0</span>],b):</span><br><span class=\"line\">            <span class=\"keyword\">return</span> -<span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\">    trees = [[<span class=\"number\">3</span>,<span class=\"number\">0</span>],[<span class=\"number\">4</span>,<span class=\"number\">0</span>],[<span class=\"number\">5</span>,<span class=\"number\">0</span>],[<span class=\"number\">6</span>,<span class=\"number\">1</span>],[<span class=\"number\">7</span>,<span class=\"number\">2</span>],[<span class=\"number\">7</span>,<span class=\"number\">3</span>],[<span class=\"number\">7</span>,<span class=\"number\">4</span>],[<span class=\"number\">6</span>,<span class=\"number\">5</span>],[<span class=\"number\">5</span>,<span class=\"number\">5</span>],[<span class=\"number\">4</span>,<span class=\"number\">5</span>],[<span class=\"number\">3</span>,<span class=\"number\">5</span>],[<span class=\"number\">2</span>,<span class=\"number\">5</span>],[<span class=\"number\">1</span>,<span class=\"number\">4</span>],[<span class=\"number\">1</span>,<span class=\"number\">3</span>],[<span class=\"number\">1</span>,<span class=\"number\">2</span>],[<span class=\"number\">2</span>,<span class=\"number\">1</span>],[<span class=\"number\">4</span>,<span class=\"number\">2</span>],[<span class=\"number\">0</span>,<span class=\"number\">3</span>]]</span><br><span class=\"line\">    length = <span class=\"built_in\">len</span>(trees)</span><br><span class=\"line\">    <span class=\"comment\">#首先应该找到y值最小的这个点（因为这个点肯定是在边界上的）</span></span><br><span class=\"line\">    bottom = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(length):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> trees[i][<span class=\"number\">1</span>]&lt; trees[bottom][<span class=\"number\">1</span>]:</span><br><span class=\"line\">            bottom = i</span><br><span class=\"line\">    <span class=\"comment\">#找到之后交换两者的位置，再将剩下的点，以该点为原点，按照比较准则进行排序</span></span><br><span class=\"line\">    trees[<span class=\"number\">0</span>],trees[bottom] = trees[bottom],trees[<span class=\"number\">0</span>]</span><br><span class=\"line\">    trees[<span class=\"number\">1</span>:] = <span class=\"built_in\">sorted</span>(trees[<span class=\"number\">1</span>:],key=cmp_to_key(cmp))</span><br><span class=\"line\">    <span class=\"comment\">#对最后一个如果相等的边界掉转</span></span><br><span class=\"line\">    i = length -<span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> i&gt;<span class=\"number\">1</span> <span class=\"keyword\">and</span> cross(trees[<span class=\"number\">0</span>],trees[i],trees[i-<span class=\"number\">1</span>])==<span class=\"number\">0</span>:</span><br><span class=\"line\">        i-=<span class=\"number\">1</span></span><br><span class=\"line\">    trees[i:] = trees[-<span class=\"number\">1</span>:i-<span class=\"number\">1</span>:-<span class=\"number\">1</span>]</span><br><span class=\"line\">    <span class=\"comment\">#建立一个栈，先把前两个入栈，然后在进行调动</span></span><br><span class=\"line\">    stack = []</span><br><span class=\"line\">    stack.append(trees[<span class=\"number\">0</span>])</span><br><span class=\"line\">    stack.append(trees[<span class=\"number\">1</span>])</span><br><span class=\"line\">    <span class=\"comment\">#从下标为2的点开始</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">2</span>,length):</span><br><span class=\"line\">        <span class=\"comment\">#先将不符合条件的栈顶元素弹出</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> <span class=\"built_in\">len</span>(stack)&gt;<span class=\"number\">1</span> <span class=\"keyword\">and</span> cross(stack[-<span class=\"number\">2</span>],stack[-<span class=\"number\">1</span>],trees[i])&lt;<span class=\"number\">0</span>:</span><br><span class=\"line\">            stack.pop()</span><br><span class=\"line\">        stack.append(trees[i])</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(stack)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>解法三：Andrew 算法</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">如果r点是在pq向量的左侧，则返回值大于零</span></span><br><span class=\"line\"><span class=\"string\">如果r点是在pq向量的右侧，则返回值小于零</span></span><br><span class=\"line\"><span class=\"string\">如果r点是在pq向量上，则返回值等于零</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">cross</span>(<span class=\"params\">p:<span class=\"built_in\">list</span>,q:<span class=\"built_in\">list</span>,r:<span class=\"built_in\">list</span></span>):</span><br><span class=\"line\">   <span class=\"keyword\">return</span> (q[<span class=\"number\">0</span>]-p[<span class=\"number\">0</span>])*(r[<span class=\"number\">1</span>]-q[<span class=\"number\">1</span>])-(r[<span class=\"number\">0</span>]-q[<span class=\"number\">0</span>])*(q[<span class=\"number\">1</span>]-p[<span class=\"number\">1</span>])</span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\">    trees = [[<span class=\"number\">1</span>,<span class=\"number\">2</span>],[<span class=\"number\">2</span>,<span class=\"number\">2</span>],[<span class=\"number\">4</span>,<span class=\"number\">2</span>],[<span class=\"number\">5</span>,<span class=\"number\">2</span>],[<span class=\"number\">6</span>,<span class=\"number\">2</span>],[<span class=\"number\">7</span>,<span class=\"number\">2</span>]]</span><br><span class=\"line\">    length = <span class=\"built_in\">len</span>(trees)</span><br><span class=\"line\">    <span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">    首先应该按照x坐标大小从大到小进行排序，如果x坐标一样，就按照y坐标从小到大进行排序</span></span><br><span class=\"line\"><span class=\"string\">    得到拍完须知后的数组之后，则第一个和最后一个肯定在最终的边界上，因此可以从第一个开始</span></span><br><span class=\"line\"><span class=\"string\">    找下凸壳，从最后一个开始找上凸壳，合在一起就是整个边界</span></span><br><span class=\"line\"><span class=\"string\">    &quot;&quot;&quot;</span></span><br><span class=\"line\">    trees.sort()</span><br><span class=\"line\">    result = [<span class=\"number\">0</span>]</span><br><span class=\"line\">    used = [<span class=\"literal\">False</span>]*length</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">#找下凸壳</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">1</span>,length):</span><br><span class=\"line\">        <span class=\"keyword\">while</span> <span class=\"built_in\">len</span>(result)&gt;<span class=\"number\">1</span> <span class=\"keyword\">and</span> cross(trees[result[-<span class=\"number\">2</span>]], trees[result[-<span class=\"number\">1</span>]], trees[i]) &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            used[result.pop()] = <span class=\"literal\">False</span></span><br><span class=\"line\">        used[i] = <span class=\"literal\">True</span></span><br><span class=\"line\">        result.append(i)</span><br><span class=\"line\">    m = <span class=\"built_in\">len</span>(result)</span><br><span class=\"line\">    <span class=\"comment\">#寻找上凸壳，因为最后肯定会将第一个点加入，所以第一个点就参与了两次，最后弹出就可以了</span></span><br><span class=\"line\">    <span class=\"comment\">#寻找上凸壳的时候，应该从后往前进行遍历，找的点肯定不会在之前的下凸壳上（即两个壳只在结束和开始位置相交）</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(length-<span class=\"number\">2</span>,-<span class=\"number\">1</span>,-<span class=\"number\">1</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> used[i]:</span><br><span class=\"line\">            <span class=\"keyword\">while</span> <span class=\"built_in\">len</span>(result) &gt; m  <span class=\"keyword\">and</span> cross(trees[result[-<span class=\"number\">2</span>]],trees[result[-<span class=\"number\">1</span>]],trees[i])&lt;<span class=\"number\">0</span>:</span><br><span class=\"line\">                used[result.pop()] = <span class=\"literal\">False</span></span><br><span class=\"line\">            used[i] = <span class=\"literal\">True</span></span><br><span class=\"line\">            result.append(i)</span><br><span class=\"line\">    <span class=\"comment\">#因为第一个既参与了上凸壳的寻找，也参与了下凸壳的寻找，所以最后要弹出最后一个点</span></span><br><span class=\"line\">    result.pop()</span><br><span class=\"line\">    <span class=\"built_in\">print</span>([trees[i] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> result])</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"560-和为-k-的子数组\"><a class=\"anchor\" href=\"#560-和为-k-的子数组\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvc3ViYXJyYXktc3VtLWVxdWFscy1rLw==\">560. 和为 K 的子数组</span></h4>\n<p>难度中等 1451</p>\n<p>给你一个整数数组  <code>nums</code>  和一个整数  <code>k</code>  ，请你统计并返回 <em>该数组中和为  <code>k</code>  的子数组的个数</em> 。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight fix\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">输入：nums </span>=<span class=\"string\"> [1,1,1], k = 2</span></span><br><span class=\"line\"><span class=\"string\">输出：2</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight fix\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">输入：nums </span>=<span class=\"string\"> [1,2,3], k = 3</span></span><br><span class=\"line\"><span class=\"string\">输出：2</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= nums.length &lt;= 2 * 104</code></li>\n<li><code>-1000 &lt;= nums[i] &lt;= 1000</code></li>\n<li><code>-107 &lt;= k &lt;= 107</code></li>\n</ul>\n<p>题解：前缀和 + 哈希表</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">subarraySum</span>(<span class=\"params\">self, nums: <span class=\"type\">List</span>[<span class=\"built_in\">int</span>], k: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">        <span class=\"comment\">#前缀和+哈希表</span></span><br><span class=\"line\">        pre_count = <span class=\"built_in\">dict</span>()</span><br><span class=\"line\">        pre_count[<span class=\"number\">0</span>] = <span class=\"number\">1</span></span><br><span class=\"line\">        pre = <span class=\"number\">0</span> </span><br><span class=\"line\">        count = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"built_in\">len</span>(nums)):</span><br><span class=\"line\">            <span class=\"comment\">#更新此时的前缀和  map集合</span></span><br><span class=\"line\">            pre+=nums[i]</span><br><span class=\"line\">            pre_count[pre] = pre_count.get(pre,<span class=\"number\">0</span>) + <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"comment\">#查找以i结尾的子数组和为k的个数</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> k!=<span class=\"number\">0</span>:</span><br><span class=\"line\">               count += pre_count.get(pre-k,<span class=\"number\">0</span>)</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                count += (pre_count.get(pre,<span class=\"number\">0</span>)-<span class=\"number\">1</span>)</span><br><span class=\"line\">            </span><br><span class=\"line\">        <span class=\"keyword\">return</span> count</span><br></pre></td></tr></table></figure>\n<h4 id=\"417-太平洋大西洋水流问题\"><a class=\"anchor\" href=\"#417-太平洋大西洋水流问题\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvcGFjaWZpYy1hdGxhbnRpYy13YXRlci1mbG93Lw==\">417. 太平洋大西洋水流问题</span></h4>\n<p>难度中等 417</p>\n<p>有一个  <code>m × n</code>  的矩形岛屿，与 <strong>太平洋</strong> 和 <strong>大西洋</strong> 相邻。 <strong>“太平洋”</strong> 处于大陆的左边界和上边界，而 <strong>“大西洋”</strong> 处于大陆的右边界和下边界。</p>\n<p>这个岛被分割成一个由若干方形单元格组成的网格。给定一个  <code>m x n</code>  的整数矩阵  <code>heights</code>  ，  <code>heights[r][c]</code>  表示坐标  <code>(r, c)</code>  上单元格 <strong>高于海平面的高度</strong> 。</p>\n<p>岛上雨水较多，如果相邻单元格的高度 <strong>小于或等于</strong> 当前单元格的高度，雨水可以直接向北、南、东、西流向相邻单元格。水可以从海洋附近的任何单元格流入海洋。</p>\n<p>返回 <em>网格坐标  <code>result</code>  的 <strong>2D 列表</strong> ，其中  <code>result[i] = [ri, ci]</code>  表示雨水可以从单元格  <code>(ri, ci)</code>  流向 <strong>太平洋和大西洋</strong></em> 。</p>\n<p><strong>示例 1：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2021/06/08/waterflow-grid.jpg\" alt=\"img\"></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: heights = <span class=\"comment\">[<span class=\"comment\">[1,2,2,3,5]</span>,<span class=\"comment\">[3,2,3,4,4]</span>,<span class=\"comment\">[2,4,5,3,1]</span>,<span class=\"comment\">[6,7,1,4,5]</span>,<span class=\"comment\">[5,1,1,2,4]</span>]</span></span><br><span class=\"line\">输出: <span class=\"comment\">[<span class=\"comment\">[0,4]</span>,<span class=\"comment\">[1,3]</span>,<span class=\"comment\">[1,4]</span>,<span class=\"comment\">[2,2]</span>,<span class=\"comment\">[3,0]</span>,<span class=\"comment\">[3,1]</span>,<span class=\"comment\">[4,0]</span>]</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: heights = <span class=\"string\">[[2,1],[1,2]]</span></span><br><span class=\"line\">输出: <span class=\"string\">[[0,0],[0,1],[1,0],[1,1]]</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>m == heights.length</code></li>\n<li><code>n == heights[r].length</code></li>\n<li><code>1 &lt;= m, n &lt;= 200</code></li>\n<li><code>0 &lt;= heights[r][c] &lt;= 105</code></li>\n</ul>\n<p>题解：深度优先搜索</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 判断在某一位置水是否可以流向太平洋和大西洋</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">Pacific_Atlantic</span>(<span class=\"params\">heights: <span class=\"built_in\">list</span>, m: <span class=\"built_in\">int</span>, n: <span class=\"built_in\">int</span>, i: <span class=\"built_in\">int</span>, j: <span class=\"built_in\">int</span>, result: <span class=\"built_in\">list</span>,V:<span class=\"built_in\">list</span></span>):</span><br><span class=\"line\">    <span class=\"keyword\">if</span> i &lt; <span class=\"number\">0</span> <span class=\"keyword\">or</span> j &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">        result[<span class=\"number\">0</span>] = <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> i &gt; m-<span class=\"number\">1</span> <span class=\"keyword\">or</span> j &gt; n-<span class=\"number\">1</span>:</span><br><span class=\"line\">        result[<span class=\"number\">1</span>] = <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    V[i][j] = <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> i == <span class=\"number\">0</span> <span class=\"keyword\">or</span> heights[i - <span class=\"number\">1</span>][j] &lt;= heights[i][j] <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> V[i-<span class=\"number\">1</span>][j]:</span><br><span class=\"line\">        Pacific_Atlantic(heights, m, n, i - <span class=\"number\">1</span>, j, result,V)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> j == <span class=\"number\">0</span> <span class=\"keyword\">or</span> heights[i][j - <span class=\"number\">1</span>] &lt;= heights[i][j] <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> V[i][j-<span class=\"number\">1</span>]:</span><br><span class=\"line\">        Pacific_Atlantic(heights, m, n, i, j - <span class=\"number\">1</span>, result,V)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> i == m-<span class=\"number\">1</span> <span class=\"keyword\">or</span> heights[i + <span class=\"number\">1</span>][j] &lt;= heights[i][j] <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> V[i+<span class=\"number\">1</span>][j]:</span><br><span class=\"line\">        Pacific_Atlantic(heights, m, n, i + <span class=\"number\">1</span>, j, result,V)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> j == n-<span class=\"number\">1</span> <span class=\"keyword\">or</span> heights[i][j + <span class=\"number\">1</span>] &lt;= heights[i][j] <span class=\"keyword\">and</span> <span class=\"keyword\">not</span> V[i][j+<span class=\"number\">1</span>]:</span><br><span class=\"line\">        Pacific_Atlantic(heights, m , n, i, j + <span class=\"number\">1</span>, result,V)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&#x27;__main__&#x27;</span>:</span><br><span class=\"line\">    heights = [[<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">5</span>],[<span class=\"number\">3</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">4</span>],[<span class=\"number\">2</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>,<span class=\"number\">3</span>,<span class=\"number\">1</span>],[<span class=\"number\">6</span>,<span class=\"number\">7</span>,<span class=\"number\">1</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>],[<span class=\"number\">5</span>,<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">4</span>]]</span><br><span class=\"line\">    m = <span class=\"built_in\">len</span>(heights)</span><br><span class=\"line\">    n = <span class=\"built_in\">len</span>(heights[<span class=\"number\">0</span>])</span><br><span class=\"line\">    result = []</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(m):</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(n):</span><br><span class=\"line\">            t = [<span class=\"literal\">False</span>] * <span class=\"number\">2</span></span><br><span class=\"line\">            V = [[<span class=\"literal\">False</span>] * (n + <span class=\"number\">1</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(m + <span class=\"number\">1</span>)]</span><br><span class=\"line\">            Pacific_Atlantic(heights, m, n, i, j, t,V)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> t[<span class=\"number\">0</span>] <span class=\"keyword\">and</span> t[<span class=\"number\">1</span>]:</span><br><span class=\"line\">                result.append([i, j])</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(result)</span><br></pre></td></tr></table></figure>\n<h4 id=\"96-不同的二叉搜索树\"><a class=\"anchor\" href=\"#96-不同的二叉搜索树\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvdW5pcXVlLWJpbmFyeS1zZWFyY2gtdHJlZXMv\">96. 不同的二叉搜索树</span></h4>\n<p>难度中等 1720</p>\n<p>给你一个整数  <code>n</code>  ，求恰由  <code>n</code>  个节点组成且节点值从  <code>1</code>  到  <code>n</code>  互不相同的 <strong>二叉搜索树</strong> 有多少种？返回满足题意的二叉搜索树的种数。</p>\n<p><strong>示例 1：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2021/01/18/uniquebstn3.jpg\" alt=\"img\"></p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：n <span class=\"operator\">=</span> <span class=\"number\">3</span></span><br><span class=\"line\">输出：<span class=\"number\">5</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：n <span class=\"operator\">=</span> <span class=\"number\">1</span></span><br><span class=\"line\">输出：<span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= n &lt;= 19</code></li>\n</ul>\n<p>题解：动态规划</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"201-数字范围按位与\"><a class=\"anchor\" href=\"#201-数字范围按位与\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvYml0d2lzZS1hbmQtb2YtbnVtYmVycy1yYW5nZS8=\">201. 数字范围按位与</span></h4>\n<p>难度中等 376</p>\n<p>给你两个整数  <code>left</code>  和  <code>right</code>  ，表示区间  <code>[left, right]</code>  ，返回此区间内所有数字 <strong>按位与</strong> 的结果（包含  <code>left</code>  、 <code>right</code>  端点）。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight coq\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：<span class=\"built_in\">left</span> = <span class=\"number\">5</span>, <span class=\"built_in\">right</span> = <span class=\"number\">7</span></span><br><span class=\"line\">输出：<span class=\"number\">4</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight coq\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：<span class=\"built_in\">left</span> = <span class=\"number\">0</span>, <span class=\"built_in\">right</span> = <span class=\"number\">0</span></span><br><span class=\"line\">输出：<span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight coq\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：<span class=\"built_in\">left</span> = <span class=\"number\">1</span>, <span class=\"built_in\">right</span> = <span class=\"number\">2147483647</span></span><br><span class=\"line\">输出：<span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<p>题解：概述</p>\n<p>移位操作直到两个数相等，此时两个数就是 [m,n] 之间所有数的公共前缀</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">rangeBitwiseAnd</span>(<span class=\"params\">self, left: <span class=\"built_in\">int</span>, right: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">        <span class=\"comment\">#寻找公共前缀</span></span><br><span class=\"line\">        <span class=\"comment\">#因为是找公共前缀，所以就找其中最不相同的两个，就是第一个和最后一个就可以了</span></span><br><span class=\"line\">        <span class=\"comment\">#记录次数，（即最后结果中后面零的个数）</span></span><br><span class=\"line\">        result = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> left !=right:</span><br><span class=\"line\">            <span class=\"comment\">#向右移一位</span></span><br><span class=\"line\">            left &gt;&gt;= <span class=\"number\">1</span></span><br><span class=\"line\">            right &gt;&gt;= <span class=\"number\">1</span></span><br><span class=\"line\">            result +=<span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"comment\">#将前缀移到原来的位置上</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> left&lt;&lt;result</span><br></pre></td></tr></table></figure>\n<p>N&amp;(N-1) ：能够去除一个数二进制形式上，最后一位 1</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">rangeBitwiseAnd</span>(<span class=\"params\">self, left: <span class=\"built_in\">int</span>, right: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">        <span class=\"keyword\">while</span> right&gt;left:</span><br><span class=\"line\">            right = (right-<span class=\"number\">1</span>)&amp;right</span><br><span class=\"line\">        <span class=\"keyword\">return</span> right</span><br><span class=\"line\">        </span><br></pre></td></tr></table></figure>\n<h4 id=\"909-蛇梯棋\"><a class=\"anchor\" href=\"#909-蛇梯棋\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvc25ha2VzLWFuZC1sYWRkZXJzLw==\">909. 蛇梯棋</span></h4>\n<p>难度中等</p>\n<p>给你一个大小为  <code>n x n</code>  的整数矩阵  <code>board</code>  ，方格按从  <code>1</code>  到  <code>n2</code>  编号，编号遵循 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS8lRTclODklOUIlRTglODAlOTUlRTUlQkMlOEYlRTglQkQlQUMlRTglQTElOEMlRTQlQjklQTYlRTUlODYlOTklRTYlQjMlOTUvMTcxOTU3ODY=\">转行交替方式</span> ，<strong>从左下角开始</strong> （即，从  <code>board[n - 1][0]</code>  开始）每一行交替方向。</p>\n<p>玩家从棋盘上的方格  <code>1</code>  （总是在最后一行、第一列）开始出发。</p>\n<p>每一回合，玩家需要从当前方格  <code>curr</code>  开始出发，按下述要求前进：</p>\n<ul>\n<li>\n<p>选定目标方格</p>\n<figure class=\"highlight autoit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">next</span></span><br></pre></td></tr></table></figure>\n<p>，目标方格的编号符合范围</p>\n<figure class=\"highlight scheme\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[<span class=\"name\">curr</span> + <span class=\"number\">1</span>, min(<span class=\"name\">curr</span> + <span class=\"number\">6</span>, n2)]</span><br></pre></td></tr></table></figure>\n<p>。</p>\n<ul>\n<li>该选择模拟了掷 <strong>六面体骰子</strong> 的情景，无论棋盘大小如何，玩家最多只能有 6 个目的地。</li>\n</ul>\n</li>\n<li>\n<p>传送玩家：如果目标方格  <code>next</code>  处存在蛇或梯子，那么玩家会传送到蛇或梯子的目的地。否则，玩家传送到目标方格  <code>next</code>  。</p>\n</li>\n<li>\n<p>当玩家到达编号  <code>n2</code>  的方格时，游戏结束。</p>\n</li>\n</ul>\n<p><code>r</code>  行  <code>c</code>  列的棋盘，按前述方法编号，棋盘格中可能存在 “蛇” 或 “梯子”；如果  <code>board[r][c] != -1</code> ，那个蛇或梯子的目的地将会是  <code>board[r][c]</code> 。编号为  <code>1</code>  和  <code>n2</code>  的方格上没有蛇或梯子。</p>\n<p>注意，玩家在每回合的前进过程中最多只能爬过蛇或梯子一次：就算目的地是另一条蛇或梯子的起点，玩家也 <strong>不能</strong> 继续移动。</p>\n<ul>\n<li>举个例子，假设棋盘是  <code>[[-1,4],[-1,3]]</code>  ，第一次移动，玩家的目标方格是  <code>2</code>  。那么这个玩家将会顺着梯子到达方格  <code>3</code>  ，但 <strong>不能</strong> 顺着方格  <code>3</code>  上的梯子前往方格  <code>4</code>  。</li>\n</ul>\n<p>返回达到编号为  <code>n2</code>  的方格所需的最少移动次数，如果不可能，则返回  <code>-1</code> 。</p>\n<p><strong>示例 1：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2018/09/23/snakes.png\" alt=\"img\"></p>\n<figure class=\"highlight subunit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：board = [[<span class=\"string\">-1</span>,<span class=\"string\">-1</span>,<span class=\"string\">-1</span>,<span class=\"string\">-1</span>,<span class=\"string\">-1</span>,<span class=\"string\">-1</span>],[<span class=\"string\">-1</span>,<span class=\"string\">-1</span>,<span class=\"string\">-1</span>,<span class=\"string\">-1</span>,<span class=\"string\">-1</span>,<span class=\"string\">-1</span>],[<span class=\"string\">-1</span>,<span class=\"string\">-1</span>,<span class=\"string\">-1</span>,<span class=\"string\">-1</span>,<span class=\"string\">-1</span>,<span class=\"string\">-1</span>],[<span class=\"string\">-1</span>,35,<span class=\"string\">-1</span>,<span class=\"string\">-1</span>,13,<span class=\"string\">-1</span>],[<span class=\"string\">-1</span>,<span class=\"string\">-1</span>,<span class=\"string\">-1</span>,<span class=\"string\">-1</span>,<span class=\"string\">-1</span>,<span class=\"string\">-1</span>],[<span class=\"string\">-1</span>,15,<span class=\"string\">-1</span>,<span class=\"string\">-1</span>,<span class=\"string\">-1</span>,<span class=\"string\">-1</span>]]</span><br><span class=\"line\">输出：4</span><br><span class=\"line\">解释：</span><br><span class=\"line\">首先，从方格 1 [第 5 行，第 0 列] 开始。 </span><br><span class=\"line\">先决定移动到方格 2 ，并必须爬过梯子移动到到方格 15 。</span><br><span class=\"line\">然后决定移动到方格 17 [第 3 行，第 4 列]，必须爬过蛇到方格 13 。</span><br><span class=\"line\">接着决定移动到方格 14 ，且必须通过梯子移动到方格 35 。 </span><br><span class=\"line\">最后决定移动到方格 36 , 游戏结束。 </span><br><span class=\"line\">可以证明需要至少 4 次移动才能到达最后一个方格，所以答案是 4 。 </span><br></pre></td></tr></table></figure>\n<p>我们可以将棋盘抽象成一个包含 N^2 个节点的有向图，对于每个节点 x，若 x+i (1≤i≤6) 上没有蛇或梯子，则连一条从 x 到 x+i 的有向边；否则记蛇梯的目的地为 y，连一条从 x 到 y 的有向边。如此转换后，原问题等价于在这张有向图上求出从 1 到 N^2 的最短路长度。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">snakesAndLadders</span>(<span class=\"params\">self, board: <span class=\"type\">List</span>[<span class=\"type\">List</span>[<span class=\"built_in\">int</span>]]</span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">        n = <span class=\"built_in\">len</span>(board)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">def</span> <span class=\"title function_\">id2rc</span>(<span class=\"params\">idx: <span class=\"built_in\">int</span></span>) -&gt; (<span class=\"built_in\">int</span>, <span class=\"built_in\">int</span>):</span><br><span class=\"line\">            r, c = (idx - <span class=\"number\">1</span>) // n, (idx - <span class=\"number\">1</span>) % n</span><br><span class=\"line\">            <span class=\"keyword\">if</span> r % <span class=\"number\">2</span> == <span class=\"number\">1</span>:</span><br><span class=\"line\">                c = n - <span class=\"number\">1</span> - c</span><br><span class=\"line\">            <span class=\"keyword\">return</span> n - <span class=\"number\">1</span> - r, c</span><br><span class=\"line\">        </span><br><span class=\"line\">        vis = <span class=\"built_in\">set</span>()</span><br><span class=\"line\">        q = deque([(<span class=\"number\">1</span>, <span class=\"number\">0</span>)])</span><br><span class=\"line\">        <span class=\"keyword\">while</span> q:</span><br><span class=\"line\">            idx, step = q.popleft()</span><br><span class=\"line\">            <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">1</span>, <span class=\"number\">6</span> + <span class=\"number\">1</span>):</span><br><span class=\"line\">                idx_nxt = idx + i</span><br><span class=\"line\">                <span class=\"keyword\">if</span> idx_nxt &gt; n * n:   <span class=\"comment\"># 超出边界</span></span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">                </span><br><span class=\"line\">                x_nxt, y_nxt = id2rc(idx_nxt)   <span class=\"comment\"># 得到下一步的行列</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> board[x_nxt][y_nxt] &gt; <span class=\"number\">0</span>:   <span class=\"comment\"># 存在蛇或梯子</span></span><br><span class=\"line\">                    idx_nxt = board[x_nxt][y_nxt]</span><br><span class=\"line\">                <span class=\"keyword\">if</span> idx_nxt == n * n:   <span class=\"comment\"># 到达终点</span></span><br><span class=\"line\">                    <span class=\"keyword\">return</span> step + <span class=\"number\">1</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> idx_nxt <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> vis:</span><br><span class=\"line\">                    vis.add(idx_nxt)</span><br><span class=\"line\">                    q.append((idx_nxt, step + <span class=\"number\">1</span>))   <span class=\"comment\"># 扩展新状态</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">return</span> -<span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"591-标签验证器\"><a class=\"anchor\" href=\"#591-标签验证器\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvdGFnLXZhbGlkYXRvci8=\">591. 标签验证器</span></h4>\n<p>难度困难 43</p>\n<p>给定一个表示代码片段的字符串，你需要实现一个验证器来解析这段代码，并返回它是否合法。合法的代码片段需要遵守以下的所有规则：</p>\n<ol>\n<li>代码必须被<strong>合法的闭合标签</strong>包围。否则，代码是无效的。</li>\n<li><strong>闭合标签</strong>（不一定合法）要严格符合格式： <code>&lt;TAG_NAME&gt;TAG_CONTENT&lt;/TAG_NAME&gt;</code> 。其中， <code>&lt;TAG_NAME&gt;</code>  是起始标签， <code>&lt;/TAG_NAME&gt;</code>  是结束标签。起始和结束标签中的 TAG_NAME 应当相同。当且仅当 TAG_NAME 和 TAG_CONTENT 都是合法的，闭合标签才是<strong>合法的</strong>。</li>\n<li><strong>合法的</strong>  <code>TAG_NAME</code>  仅含有<strong>大写字母</strong>，长度在范围 [1,9] 之间。否则，该  <code>TAG_NAME</code>  是<strong>不合法的</strong>。</li>\n<li><strong>合法的</strong>  <code>TAG_CONTENT</code>  可以包含其他<strong>合法的闭合标签</strong>，<strong>cdata</strong> （请参考规则 7）和任意字符（注意参考规则 1）<strong>除了</strong>不匹配的 <code>&lt;</code> 、不匹配的起始和结束标签、不匹配的或带有不合法 TAG_NAME 的闭合标签。否则， <code>TAG_CONTENT</code>  是<strong>不合法的</strong>。</li>\n<li>一个起始标签，如果没有具有相同 TAG_NAME 的结束标签与之匹配，是不合法的。反之亦然。不过，你也需要考虑标签嵌套的问题。</li>\n<li>一个 <code>&lt;</code> ，如果你找不到一个后续的 <code>&gt;</code>  与之匹配，是不合法的。并且当你找到一个 <code>&lt;</code>  或 <code>&lt;/</code>  时，所有直到下一个 <code>&gt;</code>  的前的字符，都应当被解析为 TAG_NAME（不一定合法）。</li>\n<li>cdata 有如下格式： <code>&lt;![CDATA[CDATA_CONTENT]]&gt;</code> 。 <code>CDATA_CONTENT</code>  的范围被定义成  <code>&lt;![CDATA[</code>  和<strong>后续的第一个</strong>  <code>]]&gt;</code>  之间的字符。</li>\n<li><code>CDATA_CONTENT</code>  可以包含<strong>任意字符</strong>。cdata 的功能是阻止验证器解析 <code>CDATA_CONTENT</code> ，所以即使其中有一些字符可以被解析为标签（无论合法还是不合法），也应该将它们视为<strong>常规字符</strong>。</li>\n</ol>\n<p><strong>合法代码的例子:</strong></p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: &quot;<span class=\"tag\">&lt;<span class=\"name\">DIV</span>&gt;</span>This is the first line &lt;![CDATA[&lt;div&gt;]]&gt;<span class=\"tag\">&lt;/<span class=\"name\">DIV</span>&gt;</span>&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">输出: True</span><br><span class=\"line\"></span><br><span class=\"line\">解释: </span><br><span class=\"line\"></span><br><span class=\"line\">代码被包含在了闭合的标签内： <span class=\"tag\">&lt;<span class=\"name\">DIV</span>&gt;</span> 和 <span class=\"tag\">&lt;/<span class=\"name\">DIV</span>&gt;</span> 。</span><br><span class=\"line\"></span><br><span class=\"line\">TAG_NAME 是合法的，TAG_CONTENT 包含了一些字符和 cdata 。 </span><br><span class=\"line\"></span><br><span class=\"line\">即使 CDATA_CONTENT 含有不匹配的起始标签和不合法的 TAG_NAME，它应该被视为普通的文本，而不是标签。</span><br><span class=\"line\"></span><br><span class=\"line\">所以 TAG_CONTENT 是合法的，因此代码是合法的。最终返回True。</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">输入: &quot;<span class=\"tag\">&lt;<span class=\"name\">DIV</span>&gt;</span>&gt;&gt;  ![cdata[]] &lt;![CDATA[&lt;div&gt;]&gt;]]&gt;]]&gt;&gt;]<span class=\"tag\">&lt;/<span class=\"name\">DIV</span>&gt;</span>&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">输出: True</span><br><span class=\"line\"></span><br><span class=\"line\">解释:</span><br><span class=\"line\"></span><br><span class=\"line\">我们首先将代码分割为： start_tag|tag_content|end_tag 。</span><br><span class=\"line\"></span><br><span class=\"line\">start_tag -&gt; &quot;<span class=\"tag\">&lt;<span class=\"name\">DIV</span>&gt;</span>&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">end_tag -&gt; &quot;<span class=\"tag\">&lt;/<span class=\"name\">DIV</span>&gt;</span>&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">tag_content 也可被分割为： text1|cdata|text2 。</span><br><span class=\"line\"></span><br><span class=\"line\">text1 -&gt; &quot;&gt;&gt;  ![cdata[]] &quot;</span><br><span class=\"line\"></span><br><span class=\"line\">cdata -&gt; &quot;&lt;![CDATA[&lt;div&gt;]&gt;]]&gt;&quot; ，其中 CDATA_CONTENT 为 &quot;<span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>]&gt;&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">text2 -&gt; &quot;]]&gt;&gt;]&quot;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">start_tag 不是 &quot;<span class=\"tag\">&lt;<span class=\"name\">DIV</span>&gt;</span>&gt;&gt;&quot; 的原因参照规则 6 。</span><br><span class=\"line\">cdata 不是 &quot;&lt;![CDATA[&lt;div&gt;]&gt;]]&gt;]]&gt;&quot; 的原因参照规则 7 。</span><br></pre></td></tr></table></figure>\n<p><strong>不合法代码的例子:</strong></p>\n<figure class=\"highlight bnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: &quot;<span class=\"attribute\">&lt;A&gt;</span>  <span class=\"attribute\">&lt;B&gt;</span> <span class=\"attribute\">&lt;/A&gt;</span>   <span class=\"attribute\">&lt;/B&gt;</span>&quot;</span><br><span class=\"line\">输出: False</span><br><span class=\"line\">解释: 不合法。如果 &quot;<span class=\"attribute\">&lt;A&gt;</span>&quot; 是闭合的，那么 &quot;<span class=\"attribute\">&lt;B&gt;</span>&quot; 一定是不匹配的，反之亦然。</span><br><span class=\"line\"></span><br><span class=\"line\">输入: &quot;<span class=\"attribute\">&lt;DIV&gt;</span>  div tag is not closed  <span class=\"attribute\">&lt;DIV&gt;</span>&quot;</span><br><span class=\"line\">输出: False</span><br><span class=\"line\"></span><br><span class=\"line\">输入: &quot;<span class=\"attribute\">&lt;DIV&gt;</span>  unmatched <span class=\"attribute\">&lt;  &lt;/DIV&gt;</span>&quot;</span><br><span class=\"line\">输出: False</span><br><span class=\"line\"></span><br><span class=\"line\">输入: &quot;<span class=\"attribute\">&lt;DIV&gt;</span> closed tags with invalid tag name  <span class=\"attribute\">&lt;b&gt;</span>123<span class=\"attribute\">&lt;/b&gt;</span> <span class=\"attribute\">&lt;/DIV&gt;</span>&quot;</span><br><span class=\"line\">输出: False</span><br><span class=\"line\"></span><br><span class=\"line\">输入: &quot;<span class=\"attribute\">&lt;DIV&gt;</span> unmatched tags with invalid tag name  <span class=\"attribute\">&lt;/1234567890&gt;</span> and <span class=\"attribute\">&lt;CDATA[[]]&gt;</span>  <span class=\"attribute\">&lt;/DIV&gt;</span>&quot;</span><br><span class=\"line\">输出: False</span><br><span class=\"line\"></span><br><span class=\"line\">输入: &quot;<span class=\"attribute\">&lt;DIV&gt;</span>  unmatched start tag <span class=\"attribute\">&lt;B&gt;</span>  and unmatched end tag <span class=\"attribute\">&lt;/C&gt;</span>  <span class=\"attribute\">&lt;/DIV&gt;</span>&quot;</span><br><span class=\"line\">输出: False</span><br></pre></td></tr></table></figure>\n<p><strong>注意:</strong></p>\n<ol>\n<li>为简明起见，你可以假设输入的代码（包括提到的<strong>任意字符</strong>）只包含 <code>数字</code> ，字母， <code>'&lt;'</code> , <code>'&gt;'</code> , <code>'/'</code> , <code>'!'</code> , <code>'['</code> , <code>']'</code>  和 <code>' '</code> 。</li>\n</ol>\n<h5 id=\"栈-字符串遍历\"><a class=\"anchor\" href=\"#栈-字符串遍历\">#</a> 栈 + 字符串遍历</h5>\n<p>思路与算法</p>\n<p>本题是一道解析字符串的题目，涉及到标签的闭合。由于标签具有「最先开始的标签最后结束」的特性，因此我们可以考虑使用一个栈存储当前开放的标签。除此之外，我们还需要考虑 \\text {cdata} cdata 以及一般的字符，二者都可以使用遍历 + 判断的方法直接进行验证。</p>\n<p>我们可以对字符串 } code 进行一次遍历。在遍历的过程中，根据遍历到位置 ii 的当前字符，采取对应的判断：</p>\n<p>如果当前的字符为 &lt;，那么需要考虑下面的四种情况：</p>\n<ul>\n<li>\n<p>如果下一个字符为 /，那么说明我们遇到了一个结束标签。我们需要定位下一个 &gt; 的位置 j，此时 code [i+2…j−1] 就是该结束标签的名称。我们需要判断该名称与当前栈顶的名称是否匹配，如果匹配，说明名称的标签已经闭合，我们需要将当前栈顶的名称弹出。同时根据规则 1，我们需要保证整个 code 被闭合标签包围，因此如果栈中已经没有标签，但是 j 并不是 code 的末尾，那么说明后续还会有字符，它们不被闭合标签包围。</p>\n</li>\n<li>\n<p>如果下一个字符为！，那么说明我们遇到了一个 cdata，我们需要继续往后读 77 个字符，判断其是否为 [CDATA [。在这之后，我们定位下一个]]&gt; 的位置 j，此时 code [i+9…j−1] 就是 cdata 中的内容，它不需要被解析，所以我们也不必进行任何验证。需要注意的是，根据规则 1，栈中需要存在至少一个开放的标签。</p>\n</li>\n<li>\n<p>如果下一个字符为大写字母，那么说明我们遇到了一个开始标签。我们需要定位下一个 &gt; 的位置 j，此时 code [i+2…j−1] 就是该开始标签的名称。我们需要判断该名称是否恰好由 1 至 9 个大写字母组成，如果是，说明该标签合法，我们需要将该名称放入栈顶。</p>\n</li>\n<li>\n<p>除此之外，如果不存在下一个字符，或者下一个字符不属于上述三种情况，那么 code 是不合法的。</p>\n</li>\n</ul>\n<p>如果当前的字符为其它字符，那么根据规则 1，栈中需要存在至少一个开放的标签。</p>\n<p>在遍历完成后，我们还需要保证此时栈中没有任何（还没有结束的）标签。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">isValid</span>(<span class=\"params\">self, code: <span class=\"built_in\">str</span></span>) -&gt; <span class=\"built_in\">bool</span>:</span><br><span class=\"line\">        tags = []</span><br><span class=\"line\">        i, n = <span class=\"number\">0</span>, <span class=\"built_in\">len</span>(code)</span><br><span class=\"line\">        <span class=\"keyword\">while</span> i &lt; n:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> code[i] != <span class=\"string\">&quot;&lt;&quot;</span>:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> tags:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">                i += <span class=\"number\">1</span></span><br><span class=\"line\">                <span class=\"keyword\">continue</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> i == n - <span class=\"number\">1</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> code[i + <span class=\"number\">1</span>] == <span class=\"string\">&quot;/&quot;</span>:</span><br><span class=\"line\">                j = code.find(<span class=\"string\">&quot;&gt;&quot;</span>, i)</span><br><span class=\"line\">                <span class=\"keyword\">if</span> j == -<span class=\"number\">1</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">                tagname = code[i + <span class=\"number\">2</span>: j]</span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> tags <span class=\"keyword\">or</span> tags[-<span class=\"number\">1</span>] != tagname:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">                tags.pop()</span><br><span class=\"line\">                i = j + <span class=\"number\">1</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> tags <span class=\"keyword\">and</span> i != n:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">            <span class=\"keyword\">elif</span> code[i + <span class=\"number\">1</span>] == <span class=\"string\">&quot;!&quot;</span>:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> tags:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">                cdata = code[i + <span class=\"number\">2</span>: i + <span class=\"number\">9</span>]</span><br><span class=\"line\">                <span class=\"keyword\">if</span> cdata != <span class=\"string\">&quot;[CDATA[&quot;</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">                j = code.find(<span class=\"string\">&quot;]]&gt;&quot;</span>, i)</span><br><span class=\"line\">                <span class=\"keyword\">if</span> j == -<span class=\"number\">1</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">                i = j + <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                j = code.find(<span class=\"string\">&quot;&gt;&quot;</span>, i)</span><br><span class=\"line\">                <span class=\"keyword\">if</span> j == -<span class=\"number\">1</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">                tagname = code[i + <span class=\"number\">1</span>: j]</span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> <span class=\"number\">1</span> &lt;= <span class=\"built_in\">len</span>(tagname) &lt;= <span class=\"number\">9</span> <span class=\"keyword\">or</span> <span class=\"keyword\">not</span> <span class=\"built_in\">all</span>(ch.isupper() <span class=\"keyword\">for</span> ch <span class=\"keyword\">in</span> tagname):</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">                tags.append(tagname)</span><br><span class=\"line\">                i = j + <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">not</span> tags</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"713-乘积小于-k-的子数组\"><a class=\"anchor\" href=\"#713-乘积小于-k-的子数组\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvc3ViYXJyYXktcHJvZHVjdC1sZXNzLXRoYW4tay8=\">713. 乘积小于 K 的子数组</span></h4>\n<p>难度中等 420 收藏分享切换为英文接收动态反馈</p>\n<p>给你一个整数数组  <code>nums</code>  和一个整数  <code>k</code>  ，请你返回子数组内所有元素的乘积严格小于  <code>k</code>  的连续子数组的数目。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = <span class=\"comment\">[10,5,2,6]</span>, k = 100</span><br><span class=\"line\">输出：8</span><br><span class=\"line\">解释：8 个乘积小于 100 的子数组分别为：<span class=\"comment\">[10]</span>、<span class=\"comment\">[5]</span>、<span class=\"comment\">[2]</span>,、<span class=\"comment\">[6]</span>、<span class=\"comment\">[10,5]</span>、<span class=\"comment\">[5,2]</span>、<span class=\"comment\">[2,6]</span>、<span class=\"comment\">[5,2,6]</span>。</span><br><span class=\"line\">需要注意的是 <span class=\"comment\">[10,5,2]</span> 并不是乘积小于 100 的子数组。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight fix\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">输入：nums </span>=<span class=\"string\"> [1,2,3], k = 0</span></span><br><span class=\"line\"><span class=\"string\">输出：0</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示:</strong></p>\n<ul>\n<li><code>1 &lt;= nums.length &lt;= 3 * 104</code></li>\n<li><code>1 &lt;= nums[i] &lt;= 1000</code></li>\n<li><code>0 &lt;= k &lt;= 106</code></li>\n</ul>\n<p>方法一：二分查找</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nums = [<span class=\"number\">10</span>,<span class=\"number\">5</span>,<span class=\"number\">2</span>,<span class=\"number\">6</span>], k = <span class=\"number\">100</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> k == <span class=\"number\">0</span>:</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">ans, n = <span class=\"number\">0</span>, <span class=\"built_in\">len</span>(nums)</span><br><span class=\"line\">logPrefix = [<span class=\"number\">0</span>] * (n + <span class=\"number\">1</span>)</span><br><span class=\"line\"><span class=\"keyword\">for</span> i, num <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(nums):</span><br><span class=\"line\">    logPrefix[i + <span class=\"number\">1</span>] = logPrefix[i] + log(num)</span><br><span class=\"line\">logK = log(k)</span><br><span class=\"line\"><span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">1</span>, n + <span class=\"number\">1</span>):</span><br><span class=\"line\">    l = bisect_right(logPrefix, logPrefix[j] - logK + <span class=\"number\">1e-10</span>, <span class=\"number\">0</span>, j)</span><br><span class=\"line\">    ans += j - l</span><br><span class=\"line\"><span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<p>方法二：滑动窗口</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#滑动窗口，找到以每一个位置结尾的字数租的个数，相加就得出结果</span></span><br><span class=\"line\">        length = <span class=\"built_in\">len</span>(nums)</span><br><span class=\"line\">        left , right = <span class=\"number\">0</span>,<span class=\"number\">0</span></span><br><span class=\"line\">        conProduct = <span class=\"number\">1</span></span><br><span class=\"line\">        result = <span class=\"number\">0</span> </span><br><span class=\"line\">        <span class=\"keyword\">if</span> k&lt;=<span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> right &lt; length:</span><br><span class=\"line\">            conProduct*=nums[right]</span><br><span class=\"line\">            <span class=\"keyword\">while</span> conProduct &gt;=k:</span><br><span class=\"line\">                conProduct /=nums[left]</span><br><span class=\"line\">                left+=<span class=\"number\">1</span></span><br><span class=\"line\">            result += right -left +<span class=\"number\">1</span></span><br><span class=\"line\">            right +=<span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> result</span><br></pre></td></tr></table></figure>\n<h4 id=\"48-旋转图像\"><a class=\"anchor\" href=\"#48-旋转图像\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvcm90YXRlLWltYWdlLw==\">48. 旋转图像</span></h4>\n<p>难度中等 1276</p>\n<p>给定一个 <em>n</em> × <em>n</em> 的二维矩阵  <code>matrix</code>  表示一个图像。请你将图像顺时针旋转 90 度。</p>\n<p>你必须在 **<span class=\"exturl\" data-url=\"aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS8lRTUlOEUlOUYlRTUlOUMlQjAlRTclQUUlOTclRTYlQjMlOTU=\"> 原地</span> ** 旋转图像，这意味着你需要直接修改输入的二维矩阵。<strong>请不要</strong> 使用另一个矩阵来旋转图像。</p>\n<p><strong>示例 1：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2020/08/28/mat1.jpg\" alt=\"img\"></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：matrix = <span class=\"string\">[[1,2,3],[4,5,6],[7,8,9]]</span></span><br><span class=\"line\">输出：<span class=\"string\">[[7,4,1],[8,5,2],[9,6,3]]</span></span><br></pre></td></tr></table></figure>\n<p>题解：就是宏观调度</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"437-路径总和-iii\"><a class=\"anchor\" href=\"#437-路径总和-iii\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvcGF0aC1zdW0taWlpLw==\">437. 路径总和 III</span></h4>\n<p>难度中等 1325</p>\n<p>给定一个二叉树的根节点  <code>root</code>  ，和一个整数  <code>targetSum</code>  ，求该二叉树里节点值之和等于  <code>targetSum</code>  的 <strong>路径</strong> 的数目。</p>\n<p><strong>路径</strong> 不需要从根节点开始，也不需要在叶子节点结束，但是路径方向必须是向下的（只能从父节点到子节点）。</p>\n<p><strong>示例 1：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2021/04/09/pathsum3-1-tree.jpg\" alt=\"img\"></p>\n<figure class=\"highlight nix\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：<span class=\"attr\">root</span> = [<span class=\"number\">10</span>,<span class=\"number\">5</span>,-<span class=\"number\">3</span>,<span class=\"number\">3</span>,<span class=\"number\">2</span>,<span class=\"literal\">null</span>,<span class=\"number\">11</span>,<span class=\"number\">3</span>,-<span class=\"number\">2</span>,<span class=\"literal\">null</span>,<span class=\"number\">1</span>], <span class=\"attr\">targetSum</span> = <span class=\"number\">8</span></span><br><span class=\"line\">输出：<span class=\"number\">3</span></span><br><span class=\"line\">解释：和等于 <span class=\"number\">8</span> 的路径有 <span class=\"number\">3</span> 条，如图所示。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight nix\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：<span class=\"attr\">root</span> = [<span class=\"number\">5</span>,<span class=\"number\">4</span>,<span class=\"number\">8</span>,<span class=\"number\">11</span>,<span class=\"literal\">null</span>,<span class=\"number\">13</span>,<span class=\"number\">4</span>,<span class=\"number\">7</span>,<span class=\"number\">2</span>,<span class=\"literal\">null</span>,<span class=\"literal\">null</span>,<span class=\"number\">5</span>,<span class=\"number\">1</span>], <span class=\"attr\">targetSum</span> = <span class=\"number\">22</span></span><br><span class=\"line\">输出：<span class=\"number\">3</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示:</strong></p>\n<ul>\n<li>二叉树的节点个数的范围是  <code>[0,1000]</code></li>\n<li><code>-109 &lt;= Node.val &lt;= 109</code></li>\n<li><code>-1000 &lt;= targetSum &lt;= 1000</code></li>\n</ul>\n<p>深度优先搜索</p>\n<p>我们首先想到的解法是穷举所有的可能，我们访问每一个节点 node，检测以 node 为起始节点且向下延深的路径有多少种。我们递归遍历每一个节点的所有可能的路径，然后将这些路径数目加起来即为返回结果。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Definition for a binary tree node.</span></span><br><span class=\"line\"><span class=\"comment\"># class TreeNode:</span></span><br><span class=\"line\"><span class=\"comment\">#     def __init__(self, val=0, left=None, right=None):</span></span><br><span class=\"line\"><span class=\"comment\">#         self.val = val</span></span><br><span class=\"line\"><span class=\"comment\">#         self.left = left</span></span><br><span class=\"line\"><span class=\"comment\">#         self.right = right</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">pathSum</span>(<span class=\"params\">self, root: <span class=\"type\">Optional</span>[TreeNode], targetSum: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">        <span class=\"comment\">#先解决以每一个节点为起始节点时，路径和等于目标值的个数，然后遍历所有节点</span></span><br><span class=\"line\">        <span class=\"comment\">#依次求出所有节点为起始节点时的路径数，然后依次加和，就是最终结果</span></span><br><span class=\"line\">        <span class=\"keyword\">def</span> <span class=\"title function_\">path_sum</span>(<span class=\"params\">root:<span class=\"type\">Optional</span>[TreeNode],target:<span class=\"built_in\">int</span></span>):</span><br><span class=\"line\">            result = <span class=\"number\">0</span></span><br><span class=\"line\">            <span class=\"comment\">#深度优先遍历</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> root != <span class=\"literal\">None</span>:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> root.val == target:</span><br><span class=\"line\">                    result+=<span class=\"number\">1</span></span><br><span class=\"line\">                result += path_sum(root.left,target-root.val)</span><br><span class=\"line\">                result += path_sum(root.right,target-root.val)</span><br><span class=\"line\">            <span class=\"keyword\">return</span> result</span><br><span class=\"line\">        <span class=\"keyword\">def</span> <span class=\"title function_\">dfs</span>(<span class=\"params\">root:<span class=\"type\">Optional</span>[TreeNode],target:<span class=\"built_in\">int</span></span>):</span><br><span class=\"line\">            result = <span class=\"number\">0</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> root != <span class=\"literal\">None</span>:</span><br><span class=\"line\">                <span class=\"comment\">#先求头结点，然后左右节点</span></span><br><span class=\"line\">                result += path_sum(root,target)</span><br><span class=\"line\">                result += dfs(root.left,target)</span><br><span class=\"line\">                result += dfs(root.right,target)</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">return</span> result</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dfs(root,targetSum)</span><br></pre></td></tr></table></figure>\n<h4 id=\"691-贴纸拼词\"><a class=\"anchor\" href=\"#691-贴纸拼词\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9zdGlja2Vycy10by1zcGVsbC13b3JkLw==\">691. 贴纸拼词</span></h4>\n<p>难度困难 137</p>\n<p>我们有  <code>n</code>  种不同的贴纸。每个贴纸上都有一个小写的英文单词。</p>\n<p>您想要拼写出给定的字符串  <code>target</code>  ，方法是从收集的贴纸中切割单个字母并重新排列它们。如果你愿意，你可以多次使用每个贴纸，每个贴纸的数量是无限的。</p>\n<p>返回你需要拼出  <code>target</code>  的最小贴纸数量。如果任务不可能，则返回  <code>-1</code>  。</p>\n<p>** 注意：** 在所有的测试用例中，所有的单词都是从  <code>1000</code>  个最常见的美国英语单词中随机选择的，并且  <code>target</code>  被选择为两个随机单词的连接。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入： stickers = [<span class=\"string\">&quot;with&quot;</span>,<span class=\"string\">&quot;example&quot;</span>,<span class=\"string\">&quot;science&quot;</span>], <span class=\"keyword\">target</span> = <span class=\"string\">&quot;thehat&quot;</span></span><br><span class=\"line\">输出：<span class=\"number\">3</span></span><br><span class=\"line\">解释：</span><br><span class=\"line\">我们可以使用 <span class=\"number\">2</span> 个 <span class=\"string\">&quot;with&quot;</span> 贴纸，和 <span class=\"number\">1</span> 个 <span class=\"string\">&quot;example&quot;</span> 贴纸。</span><br><span class=\"line\">把贴纸上的字母剪下来并重新排列后，就可以形成目标 “thehat“ 了。</span><br><span class=\"line\">此外，这是形成目标字符串所需的最小贴纸数量。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2:</strong></p>\n<figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：stickers = [<span class=\"string\">&quot;notice&quot;</span>,<span class=\"string\">&quot;possible&quot;</span>], <span class=\"keyword\">target</span> = <span class=\"string\">&quot;basicbasic&quot;</span></span><br><span class=\"line\">输出：<span class=\"number\">-1</span></span><br><span class=\"line\">解释：我们不能通过剪切给定贴纸的字母来形成目标“basicbasic”。</span><br></pre></td></tr></table></figure>\n<p>题解：记忆化搜索 + 状态压缩</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">minStickers</span>(<span class=\"params\">self, stickers: <span class=\"type\">List</span>[<span class=\"built_in\">str</span>], target: <span class=\"built_in\">str</span></span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">        m = <span class=\"built_in\">len</span>(target)</span><br><span class=\"line\">        <span class=\"keyword\">def</span> <span class=\"title function_\">dp</span>(<span class=\"params\">mask:<span class=\"built_in\">int</span>,res:<span class=\"built_in\">list</span></span>):</span><br><span class=\"line\">            <span class=\"comment\">#说明此时字符串已经分配完毕</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> mask == <span class=\"number\">0</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"number\">0</span> </span><br><span class=\"line\">            result = m+<span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"comment\">#针对于当前状态，遍历所有贴纸，寻找一个贴纸</span></span><br><span class=\"line\">            <span class=\"comment\">#当前状态去掉与贴纸的最大交集之后的状态最小的那个</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> sticker <span class=\"keyword\">in</span> stickers:</span><br><span class=\"line\">                left = mask</span><br><span class=\"line\">                cnt = Counter(sticker)</span><br><span class=\"line\">                <span class=\"comment\">#找到该贴纸与当前状态的最大交集剩下的状态</span></span><br><span class=\"line\">                <span class=\"keyword\">for</span> index,item <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(target):</span><br><span class=\"line\">                    <span class=\"comment\">#如果当前位置的字符存在于当前状态，并且当前位置的字符在sticker中还能找到</span></span><br><span class=\"line\">    </span><br><span class=\"line\">                    <span class=\"keyword\">if</span> left&gt;&gt;index &amp; <span class=\"number\">1</span> <span class=\"keyword\">and</span> cnt[item]:</span><br><span class=\"line\">                        <span class=\"comment\">#更新状态，把当前位置的字符从状态的中去掉</span></span><br><span class=\"line\">                        left ^= <span class=\"number\">1</span>&lt;&lt;index </span><br><span class=\"line\">                        <span class=\"comment\">#并将贴纸中用过的字符去掉</span></span><br><span class=\"line\">                        cnt[item]-=<span class=\"number\">1</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> left&lt;mask:</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> res[left]!=-<span class=\"number\">1</span>:</span><br><span class=\"line\">                        result = <span class=\"built_in\">min</span>(result,res[left]+<span class=\"number\">1</span>)</span><br><span class=\"line\">                    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                        res[left] = dp(left,res)</span><br><span class=\"line\">                        result = <span class=\"built_in\">min</span>(result,res[left]+<span class=\"number\">1</span>)</span><br><span class=\"line\">                <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                    res[left] = result</span><br><span class=\"line\">            <span class=\"keyword\">return</span> result</span><br><span class=\"line\">        res = [-<span class=\"number\">1</span>]*(<span class=\"number\">2</span>**m)</span><br><span class=\"line\">        result =  dp(<span class=\"number\">2</span>**m-<span class=\"number\">1</span>,res)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result <span class=\"keyword\">if</span> result&lt;=m <span class=\"keyword\">else</span> -<span class=\"number\">1</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"812-最大三角形面积\"><a class=\"anchor\" href=\"#812-最大三角形面积\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9sYXJnZXN0LXRyaWFuZ2xlLWFyZWEv\">812. 最大三角形面积</span></h4>\n<p>难度简单 117</p>\n<p>给定包含多个点的集合，从其中取三个点组成三角形，返回能组成的最大三角形的面积。</p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">示例:</span><br><span class=\"line\">输入: points = <span class=\"comment\">[<span class=\"comment\">[0,0]</span>,<span class=\"comment\">[0,1]</span>,<span class=\"comment\">[1,0]</span>,<span class=\"comment\">[0,2]</span>,<span class=\"comment\">[2,0]</span>]</span></span><br><span class=\"line\">输出: 2</span><br><span class=\"line\">解释: </span><br><span class=\"line\">这五个点如下图所示。组成的橙色三角形是最大的，面积为2。</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"https://s3-lc-upload.s3.amazonaws.com/uploads/2018/04/04/1027.png\" alt=\"img\"></p>\n<p><strong>注意:</strong></p>\n<ul>\n<li><code>3 &lt;= points.length &lt;= 50</code> .</li>\n<li>不存在重复的点。</li>\n<li><code>-50 &lt;= points[i][j] &lt;= 50</code> .</li>\n<li>结果误差值在  <code>10^-6</code>  以内都认为是正确答案。</li>\n</ul>\n<p>凸包</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">    求凸包，因为可以知道最大的三角形的顶点肯定在凸包上，所以就不用所有顶点都遍历一遍，只用遍历凸包上的顶点就可以了</span></span><br><span class=\"line\"><span class=\"string\">    1.每次可以选取凸包上的两个顶点，找到第三个顶点的</span></span><br><span class=\"line\"><span class=\"string\">    2.一点底边的两个顶点确定下来，在凸包上的第三个顶点遍历的过程中，三角形的面积先增大，再减小，所以针对于同一个底边，很容易就能搜索到极值点</span></span><br><span class=\"line\"><span class=\"string\">    &quot;&quot;&quot;</span></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">getConvexHull</span>(<span class=\"params\">self, points: <span class=\"type\">List</span>[<span class=\"type\">List</span>[<span class=\"built_in\">int</span>]]</span>) -&gt; <span class=\"type\">List</span>[<span class=\"type\">List</span>[<span class=\"built_in\">int</span>]]:</span><br><span class=\"line\">        <span class=\"keyword\">def</span> <span class=\"title function_\">cross</span>(<span class=\"params\">p: <span class=\"type\">List</span>[<span class=\"built_in\">int</span>], q: <span class=\"type\">List</span>[<span class=\"built_in\">int</span>], r: <span class=\"type\">List</span>[<span class=\"built_in\">int</span>]</span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> (q[<span class=\"number\">0</span>] - p[<span class=\"number\">0</span>]) * (r[<span class=\"number\">1</span>] - q[<span class=\"number\">1</span>]) - (q[<span class=\"number\">1</span>] - p[<span class=\"number\">1</span>]) * (r[<span class=\"number\">0</span>] - q[<span class=\"number\">0</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">        n = <span class=\"built_in\">len</span>(points)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> n &lt; <span class=\"number\">4</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> points</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 按照 x 从小到大排序，如果 x 相同，则按照 y 从小到大排序</span></span><br><span class=\"line\">        points.sort()</span><br><span class=\"line\"></span><br><span class=\"line\">        hull = []</span><br><span class=\"line\">        <span class=\"comment\"># 求凸包的下半部分</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, p <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(points):</span><br><span class=\"line\">            <span class=\"keyword\">while</span> <span class=\"built_in\">len</span>(hull) &gt; <span class=\"number\">1</span> <span class=\"keyword\">and</span> cross(hull[-<span class=\"number\">2</span>], hull[-<span class=\"number\">1</span>], p) &lt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">                hull.pop()</span><br><span class=\"line\">            hull.append(p)</span><br><span class=\"line\">        <span class=\"comment\"># 求凸包的上半部分</span></span><br><span class=\"line\">        m = <span class=\"built_in\">len</span>(hull)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(n - <span class=\"number\">2</span>, -<span class=\"number\">1</span>, -<span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">while</span> <span class=\"built_in\">len</span>(hull) &gt; m <span class=\"keyword\">and</span> cross(hull[-<span class=\"number\">2</span>], hull[-<span class=\"number\">1</span>], points[i]) &lt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">                hull.pop()</span><br><span class=\"line\">            hull.append(points[i])</span><br><span class=\"line\">        hull.pop()  <span class=\"comment\"># hull[0] 同时参与凸包的上半部分检测，因此需去掉重复的 hull[0]</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> hull</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">largestTriangleArea</span>(<span class=\"params\">self, points: <span class=\"type\">List</span>[<span class=\"type\">List</span>[<span class=\"built_in\">int</span>]]</span>) -&gt; <span class=\"built_in\">float</span>:</span><br><span class=\"line\">        <span class=\"keyword\">def</span> <span class=\"title function_\">triangleArea</span>(<span class=\"params\">x1: <span class=\"built_in\">int</span>, y1: <span class=\"built_in\">int</span>, x2: <span class=\"built_in\">int</span>, y2: <span class=\"built_in\">int</span>, x3: <span class=\"built_in\">int</span>, y3: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"built_in\">float</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"built_in\">abs</span>(x1 * y2 + x2 * y3 + x3 * y1 - x1 * y3 - x2 * y1 - x3 * y2) / <span class=\"number\">2</span></span><br><span class=\"line\"></span><br><span class=\"line\">        convexHull = <span class=\"variable language_\">self</span>.getConvexHull(points)</span><br><span class=\"line\">        ans, n = <span class=\"number\">0</span>, <span class=\"built_in\">len</span>(convexHull)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i, p <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(convexHull):</span><br><span class=\"line\">            k = i + <span class=\"number\">2</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(i + <span class=\"number\">1</span>, n - <span class=\"number\">1</span>):</span><br><span class=\"line\">                q = convexHull[j]</span><br><span class=\"line\">                <span class=\"keyword\">while</span> k + <span class=\"number\">1</span> &lt; n:</span><br><span class=\"line\">                    curArea = triangleArea(p[<span class=\"number\">0</span>], p[<span class=\"number\">1</span>], q[<span class=\"number\">0</span>], q[<span class=\"number\">1</span>], convexHull[k][<span class=\"number\">0</span>], convexHull[k][<span class=\"number\">1</span>])</span><br><span class=\"line\">                    nextArea = triangleArea(p[<span class=\"number\">0</span>], p[<span class=\"number\">1</span>], q[<span class=\"number\">0</span>], q[<span class=\"number\">1</span>], convexHull[k + <span class=\"number\">1</span>][<span class=\"number\">0</span>], convexHull[k + <span class=\"number\">1</span>][<span class=\"number\">1</span>])</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> curArea &gt;= nextArea:</span><br><span class=\"line\">                        <span class=\"keyword\">break</span></span><br><span class=\"line\">                    k += <span class=\"number\">1</span></span><br><span class=\"line\">                ans = <span class=\"built_in\">max</span>(ans, triangleArea(p[<span class=\"number\">0</span>], p[<span class=\"number\">1</span>], q[<span class=\"number\">0</span>], q[<span class=\"number\">1</span>], convexHull[k][<span class=\"number\">0</span>], convexHull[k][<span class=\"number\">1</span>]))</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h4 id=\"813-最大平均值和的分组\"><a class=\"anchor\" href=\"#813-最大平均值和的分组\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9sYXJnZXN0LXN1bS1vZi1hdmVyYWdlcy8=\">813. 最大平均值和的分组</span></h4>\n<p>难度中等 218</p>\n<p>给定数组  <code>nums</code>  和一个整数  <code>k</code>  。我们将给定的数组  <code>nums</code>  分成 <strong>最多</strong>  <code>k</code>  个相邻的非空子数组 。 <strong>分数</strong> 由每个子数组内的平均值的总和构成。</p>\n<p>注意我们必须使用  <code>nums</code>  数组中的每一个数进行分组，并且分数不一定需要是整数。</p>\n<p>返回我们所能得到的最大 <strong>分数</strong> 是多少。答案误差在  <code>10-6</code>  内被视为是正确的。</p>\n<p><strong>示例 1:</strong></p>\n<figure class=\"highlight prolog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: nums = [<span class=\"number\">9</span>,<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">9</span>], k = <span class=\"number\">3</span></span><br><span class=\"line\">输出: <span class=\"number\">20.00000</span></span><br><span class=\"line\">解释: </span><br><span class=\"line\">nums 的最优分组是[<span class=\"number\">9</span>], [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>], [<span class=\"number\">9</span>]. 得到的分数是 <span class=\"number\">9</span> + (<span class=\"number\">1</span> + <span class=\"number\">2</span> + <span class=\"number\">3</span>) / <span class=\"number\">3</span> + <span class=\"number\">9</span> = <span class=\"number\">20.</span> </span><br><span class=\"line\">我们也可以把 nums 分成[<span class=\"number\">9</span>, <span class=\"number\">1</span>], [<span class=\"number\">2</span>], [<span class=\"number\">3</span>, <span class=\"number\">9</span>]. </span><br><span class=\"line\">这样的分组得到的分数为 <span class=\"number\">5</span> + <span class=\"number\">2</span> + <span class=\"number\">6</span> = <span class=\"number\">13</span>, 但不是最大值.</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2:</strong></p>\n<figure class=\"highlight dns\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: nums = [<span class=\"number\">1,2,3,4</span>,<span class=\"number\">5</span>,<span class=\"number\">6</span>,<span class=\"number\">7</span>], k = <span class=\"number\">4</span></span><br><span class=\"line\">输出: <span class=\"number\">20.50000</span></span><br></pre></td></tr></table></figure>\n<p>动态规划：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">largestSumOfAverages</span>(<span class=\"params\">self, nums: <span class=\"type\">List</span>[<span class=\"built_in\">int</span>], k: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"built_in\">float</span>:</span><br><span class=\"line\">        <span class=\"comment\">#动态规划</span></span><br><span class=\"line\">        <span class=\"comment\">#计算平均值</span></span><br><span class=\"line\">        <span class=\"keyword\">def</span> <span class=\"title function_\">avg</span>(<span class=\"params\">nums:<span class=\"built_in\">list</span>,start:<span class=\"built_in\">int</span>,end:<span class=\"built_in\">int</span></span>):</span><br><span class=\"line\">            sum_t = <span class=\"number\">0</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(start,end+<span class=\"number\">1</span>):</span><br><span class=\"line\">                sum_t += nums[i]</span><br><span class=\"line\">            <span class=\"keyword\">return</span> sum_t/(end-start+<span class=\"number\">1</span>)</span><br><span class=\"line\">        result  = [[<span class=\"number\">0</span>]*(k+<span class=\"number\">1</span>) <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"built_in\">len</span>(nums))]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">1</span>,k+<span class=\"number\">1</span>):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"built_in\">len</span>(nums)):</span><br><span class=\"line\">                <span class=\"keyword\">if</span>  j == <span class=\"number\">1</span>:</span><br><span class=\"line\">                    result[i][j] = avg(nums,<span class=\"number\">0</span>,i)</span><br><span class=\"line\">                <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                    t = <span class=\"number\">0</span> </span><br><span class=\"line\">                    <span class=\"keyword\">while</span> t &lt; i:</span><br><span class=\"line\">                        result[i][j] = <span class=\"built_in\">max</span>(result[i][j],result[t][j-<span class=\"number\">1</span>]+avg(nums,t+<span class=\"number\">1</span>,i))</span><br><span class=\"line\">                        t+=<span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> result[-<span class=\"number\">1</span>][k]</span><br></pre></td></tr></table></figure>\n<h4 id=\"668-乘法表中第k小的数\"><a class=\"anchor\" href=\"#668-乘法表中第k小的数\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9rdGgtc21hbGxlc3QtbnVtYmVyLWluLW11bHRpcGxpY2F0aW9uLXRhYmxlLw==\">668. 乘法表中第 k 小的数</span></h4>\n<p>难度困难 252</p>\n<p>几乎每一个人都用 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS8lRTQlQjklOTglRTYlQjMlOTUlRTglQTElQTg=\">乘法表</span>。但是你能在乘法表中快速找到第 <code>k</code>  小的数字吗？</p>\n<p>给定高度 <code>m</code>  、宽度 <code>n</code>  的一张  <code>m * n</code>  的乘法表，以及正整数 <code>k</code> ，你需要返回表中第 <code>k</code>  小的数字。</p>\n<p><strong>例 1：</strong></p>\n<figure class=\"highlight makefile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">输入: m = 3, n = 3, k = 5</span></span><br><span class=\"line\"><span class=\"section\">输出: 3</span></span><br><span class=\"line\"><span class=\"section\">解释: </span></span><br><span class=\"line\"><span class=\"section\">乘法表:</span></span><br><span class=\"line\">1\t2\t3</span><br><span class=\"line\">2\t4\t6</span><br><span class=\"line\">3\t6\t9</span><br><span class=\"line\"></span><br><span class=\"line\">第5小的数字是 3 (1, 2, 2, 3, 3).</span><br></pre></td></tr></table></figure>\n<p><strong>例 2：</strong></p>\n<figure class=\"highlight makefile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">输入: m = 2, n = 3, k = 6</span></span><br><span class=\"line\"><span class=\"section\">输出: 6</span></span><br><span class=\"line\"><span class=\"section\">解释: </span></span><br><span class=\"line\"><span class=\"section\">乘法表:</span></span><br><span class=\"line\">1\t2\t3</span><br><span class=\"line\">2\t4\t6</span><br><span class=\"line\"></span><br><span class=\"line\">第6小的数字是 6 (1, 2, 2, 3, 4, 6).</span><br></pre></td></tr></table></figure>\n<p><img data-src=\"https://github.com/zhihao-a/blog-img%5Cimage-20220518150230230.png\" alt=\"image-20220518150230230\"></p>\n<h4 id=\"464-我能赢吗\"><a class=\"anchor\" href=\"#464-我能赢吗\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9jYW4taS13aW4v\">464. 我能赢吗</span></h4>\n<p>难度中等 341</p>\n<p>在 “100 game” 这个游戏中，两名玩家轮流选择从  <code>1</code>  到  <code>10</code>  的任意整数，累计整数和，先使得累计整数和 <strong>达到或超过</strong> 100 的玩家，即为胜者。</p>\n<p>如果我们将游戏规则改为 “玩家 <strong>不能</strong> 重复使用整数” 呢？</p>\n<p>例如，两个玩家可以轮流从公共整数池中抽取从 1 到 15 的整数（不放回），直到累计整数和 &gt;= 100。</p>\n<p>给定两个整数  <code>maxChoosableInteger</code>  （整数池中可选择的最大数）和  <code>desiredTotal</code> （累计和），若先出手的玩家是否能稳赢则返回  <code>true</code>  ，否则返回  <code>false</code>  。假设两位玩家游戏时都表现 <strong>最佳</strong> 。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：maxChoosableInteger = 10, desiredTotal = 11</span><br><span class=\"line\">输出：false</span><br><span class=\"line\">解释：</span><br><span class=\"line\">无论第一个玩家选择哪个整数，他都会失败。</span><br><span class=\"line\">第一个玩家可以选择从<span class=\"number\"> 1 </span>到<span class=\"number\"> 10 </span>的整数。</span><br><span class=\"line\">如果第一个玩家选择 1，那么第二个玩家只能选择从<span class=\"number\"> 2 </span>到<span class=\"number\"> 10 </span>的整数。</span><br><span class=\"line\">第二个玩家可以通过选择整数 10（那么累积和为<span class=\"number\"> 11 </span>&gt;= desiredTotal），从而取得胜利.</span><br><span class=\"line\">同样地，第一个玩家选择任意其他整数，第二个玩家都会赢。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2:</strong></p>\n<figure class=\"highlight nix\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：<span class=\"attr\">maxChoosableInteger</span> = <span class=\"number\">10</span>, <span class=\"attr\">desiredTotal</span> = <span class=\"number\">0</span></span><br><span class=\"line\">输出：<span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 3:</strong></p>\n<figure class=\"highlight nix\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：<span class=\"attr\">maxChoosableInteger</span> = <span class=\"number\">10</span>, <span class=\"attr\">desiredTotal</span> = <span class=\"number\">1</span></span><br><span class=\"line\">输出：<span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示:</strong></p>\n<ul>\n<li><code>1 &lt;= maxChoosableInteger &lt;= 20</code></li>\n<li><code>0 &lt;= desiredTotal &lt;= 300</code></li>\n</ul>\n<p>题解：</p>\n<p>边界情况，当所有数字选完仍无法到达 desiredTotal 时，两个人都无法获胜，返回 False，当所有数字的和大于等于 desiredTotal 时，其中一方能获得胜利</p>\n<p>在某方行动时，可以有以下举措</p>\n<p>​      ① 遍历当前剩余数字， 如果能在剩余的的数中，找到一个能使当前累加和达到题目要求，就直接返回 True</p>\n<p>​      ② 如果① 不能满足，就找一个数，使得对方在去掉这个数的下一个状态不能获胜，也可以宣布自己获胜</p>\n<p>如果两种方案都没有可行的，就直接宣布自己不可能获胜</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">canIWin</span>(<span class=\"params\">self, maxChoosableInteger: <span class=\"built_in\">int</span>, desiredTotal: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"built_in\">bool</span>:</span><br><span class=\"line\"><span class=\"meta\">        @cache</span></span><br><span class=\"line\">        <span class=\"keyword\">def</span> <span class=\"title function_\">dfs</span>(<span class=\"params\">usedNumbers: <span class=\"built_in\">int</span>, currentTotal: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"built_in\">bool</span>:</span><br><span class=\"line\">            <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(maxChoosableInteger):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (usedNumbers &gt;&gt; i) &amp; <span class=\"number\">1</span> == <span class=\"number\">0</span>:</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> currentTotal + i + <span class=\"number\">1</span> &gt;= desiredTotal <span class=\"keyword\">or</span> <span class=\"keyword\">not</span> dfs(usedNumbers | (<span class=\"number\">1</span> &lt;&lt; i), currentTotal + i + <span class=\"number\">1</span>):</span><br><span class=\"line\">                        <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"number\">1</span> + maxChoosableInteger) * maxChoosableInteger // <span class=\"number\">2</span> &gt;= desiredTotal <span class=\"keyword\">and</span> dfs(<span class=\"number\">0</span>, <span class=\"number\">0</span>)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"675-为高尔夫比赛砍树\"><a class=\"anchor\" href=\"#675-为高尔夫比赛砍树\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9jdXQtb2ZmLXRyZWVzLWZvci1nb2xmLWV2ZW50Lw==\">675. 为高尔夫比赛砍树</span></h4>\n<p>难度困难 121</p>\n<p>你被请来给一个要举办高尔夫比赛的树林砍树。树林由一个  <code>m x n</code>  的矩阵表示， 在这个矩阵中：</p>\n<ul>\n<li><code>0</code>  表示障碍，无法触碰</li>\n<li><code>1</code>  表示地面，可以行走</li>\n<li><code>比 1 大的数</code>  表示有树的单元格，可以行走，数值表示树的高度</li>\n</ul>\n<p>每一步，你都可以向上、下、左、右四个方向之一移动一个单位，如果你站的地方有一棵树，那么你可以决定是否要砍倒它。</p>\n<p>你需要按照树的高度从低向高砍掉所有的树，每砍过一颗树，该单元格的值变为  <code>1</code> （即变为地面）。</p>\n<p>你将从  <code>(0, 0)</code>  点开始工作，返回你砍完所有树需要走的最小步数。 如果你无法砍完所有的树，返回  <code>-1</code>  。</p>\n<p>可以保证的是，没有两棵树的高度是相同的，并且你至少需要砍倒一棵树。</p>\n<p><strong>示例 1：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2020/11/26/trees1.jpg\" alt=\"img\"></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：forest = <span class=\"string\">[[1,2,3],[0,0,4],[7,6,5]]</span></span><br><span class=\"line\">输出：<span class=\"number\">6</span></span><br><span class=\"line\">解释：沿着上面的路径，你可以用 <span class=\"number\">6</span> 步，按从最矮到最高的顺序砍掉这些树。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2020/11/26/trees2.jpg\" alt=\"img\"></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：forest = <span class=\"string\">[[1,2,3],[0,0,0],[7,6,5]]</span></span><br><span class=\"line\">输出：<span class=\"number\">-1</span></span><br><span class=\"line\">解释：由于中间一行被障碍阻塞，无法访问最下面一行中的树。</span><br></pre></td></tr></table></figure>\n<p>题目要求从 (0, 0) 开始并按照树的高度大小进行砍树并求出最小步数，假设所有树按照从高度从小到大的排序顺序为 t,t,t3,t,. ,tn，设 d (x,y) 表示从 x 到 y 之间的步数，设 to= (0,0) , 则可推出砍树的总的步数为 total = 求和 d (t,ti+ 1)，若使得 total 最小，只需满足所有的 d (i,i + 1) 都为最小，即可使得 total 最小，该题即转为求相邻树的两点之间的最短距离。</p>\n<p>题解：广度优先搜索</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">cutOffTree</span>(<span class=\"params\">self, forest: <span class=\"type\">List</span>[<span class=\"type\">List</span>[<span class=\"built_in\">int</span>]]</span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">        <span class=\"comment\">#广度优先搜索</span></span><br><span class=\"line\">        <span class=\"keyword\">def</span> <span class=\"title function_\">bfs</span>(<span class=\"params\">start_x:<span class=\"built_in\">int</span>,start_y:<span class=\"built_in\">int</span>,end_x:<span class=\"built_in\">int</span>,end_y</span>):</span><br><span class=\"line\">            m,n = <span class=\"built_in\">len</span>(forest),<span class=\"built_in\">len</span>(forest[<span class=\"number\">0</span>])</span><br><span class=\"line\">            que = deque()</span><br><span class=\"line\">            que.append((start_x,start_y,<span class=\"number\">0</span>))</span><br><span class=\"line\">            vis = &#123;(start_x,start_y)&#125;</span><br><span class=\"line\">            <span class=\"keyword\">while</span> que:</span><br><span class=\"line\">                con_x , con_y , step = que.popleft()</span><br><span class=\"line\">                <span class=\"keyword\">if</span> con_x == end_x <span class=\"keyword\">and</span> con_y == end_y:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> step</span><br><span class=\"line\">                <span class=\"keyword\">for</span> x,y <span class=\"keyword\">in</span> ((con_x,con_y-<span class=\"number\">1</span>),(con_x,con_y+<span class=\"number\">1</span>),(con_x+<span class=\"number\">1</span>,con_y),(con_x-<span class=\"number\">1</span>,con_y)):</span><br><span class=\"line\">                    <span class=\"comment\">#如果该点不是障碍，并且没被访问过，就访问该点</span></span><br><span class=\"line\">                    <span class=\"keyword\">if</span> <span class=\"number\">0</span> &lt;= x &lt; m <span class=\"keyword\">and</span> <span class=\"number\">0</span> &lt;= y &lt; n <span class=\"keyword\">and</span> forest[x][y] <span class=\"keyword\">and</span> (x,y) <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> vis:</span><br><span class=\"line\">                        vis.add((x,y))</span><br><span class=\"line\">                        que.append((x,y,step+<span class=\"number\">1</span>))</span><br><span class=\"line\">            <span class=\"keyword\">return</span> -<span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"comment\">#1.先将该树林中的树按照高度从低到高进行排列</span></span><br><span class=\"line\">        data = []</span><br><span class=\"line\">        m ,n  = <span class=\"built_in\">len</span>(forest),<span class=\"built_in\">len</span>(forest[<span class=\"number\">0</span>])</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(m):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(n):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> forest[i][j]&gt;<span class=\"number\">1</span>:</span><br><span class=\"line\">                    data.append([i,j,forest[i][j]])</span><br><span class=\"line\">        data.sort(key = <span class=\"keyword\">lambda</span> x :x[<span class=\"number\">2</span>])</span><br><span class=\"line\">        <span class=\"comment\">#2.然后求解每两个相邻的树之间的最小路径长度，这样加和起来就是最小路径长度</span></span><br><span class=\"line\">        start_x,start_y = <span class=\"number\">0</span>,<span class=\"number\">0</span></span><br><span class=\"line\">        result = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> x,y,_ <span class=\"keyword\">in</span> data:</span><br><span class=\"line\">            d = bfs(start_x,start_y,x,y)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> d &lt; <span class=\"number\">0</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> -<span class=\"number\">1</span></span><br><span class=\"line\">            result += d</span><br><span class=\"line\">            start_x ,start_y = x,y</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result</span><br></pre></td></tr></table></figure>\n<h4 id=\"1022-从根到叶的二进制数之和\"><a class=\"anchor\" href=\"#1022-从根到叶的二进制数之和\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9zdW0tb2Ytcm9vdC10by1sZWFmLWJpbmFyeS1udW1iZXJzLw==\">1022. 从根到叶的二进制数之和</span></h4>\n<p>难度简单 156</p>\n<p>给出一棵二叉树，其上每个结点的值都是  <code>0</code>  或  <code>1</code>  。每一条从根到叶的路径都代表一个从最高有效位开始的二进制数。</p>\n<ul>\n<li>例如，如果路径为  <code>0 -&gt; 1 -&gt; 1 -&gt; 0 -&gt; 1</code> ，那么它表示二进制数  <code>01101</code> ，也就是  <code>13</code>  。</li>\n</ul>\n<p>对树上的每一片叶子，我们都要找出从根到该叶子的路径所表示的数字。</p>\n<p>返回这些数字之和。题目数据保证答案是一个 <strong>32 位</strong> 整数。</p>\n<p><strong>示例 1：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2019/04/04/sum-of-root-to-leaf-binary-numbers.png\" alt=\"img\"></p>\n<figure class=\"highlight gcode\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：root = [<span class=\"number\">1</span>,<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">0</span>,<span class=\"number\">1</span>]</span><br><span class=\"line\">输出：<span class=\"number\">22</span></span><br><span class=\"line\">解释：<span class=\"comment\">(100)</span> + <span class=\"comment\">(101)</span> + <span class=\"comment\">(110)</span> + <span class=\"comment\">(111)</span> = <span class=\"number\">4</span> + <span class=\"number\">5</span> + <span class=\"number\">6</span> + <span class=\"number\">7</span> = <span class=\"number\">22</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：root <span class=\"operator\">=</span> [<span class=\"number\">0</span>]</span><br><span class=\"line\">输出：<span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li>树中的节点数在  <code>[1, 1000]</code>  范围内</li>\n<li><code>Node.val</code>  仅为  <code>0</code>  或  <code>1</code></li>\n</ul>\n<p>题解一：后序遍历</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Definition for a binary tree node.</span></span><br><span class=\"line\"><span class=\"comment\"># class TreeNode:</span></span><br><span class=\"line\"><span class=\"comment\">#     def __init__(self, val=0, left=None, right=None):</span></span><br><span class=\"line\"><span class=\"comment\">#         self.val = val</span></span><br><span class=\"line\"><span class=\"comment\">#         self.left = left</span></span><br><span class=\"line\"><span class=\"comment\">#         self.right = right</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">sumRootToLeaf</span>(<span class=\"params\">self, root: <span class=\"type\">Optional</span>[TreeNode]</span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">        <span class=\"keyword\">def</span> <span class=\"title function_\">dfs</span>(<span class=\"params\">node: <span class=\"type\">Optional</span>[TreeNode], val: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> node <span class=\"keyword\">is</span> <span class=\"literal\">None</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">            val = (val &lt;&lt; <span class=\"number\">1</span>) | node.val</span><br><span class=\"line\">            <span class=\"keyword\">if</span> node.left <span class=\"keyword\">is</span> <span class=\"literal\">None</span> <span class=\"keyword\">and</span> node.right <span class=\"keyword\">is</span> <span class=\"literal\">None</span>:</span><br><span class=\"line\">                <span class=\"keyword\">return</span> val</span><br><span class=\"line\">            <span class=\"keyword\">return</span> dfs(node.left, val) + dfs(node.right, val)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> dfs(root, <span class=\"number\">0</span>)</span><br></pre></td></tr></table></figure>\n<p>题解二：中序遍历 + 回退 + 栈</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">sumRootToLeaf</span>(<span class=\"params\">self, root: <span class=\"type\">Optional</span>[TreeNode]</span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">        ans = val = <span class=\"number\">0</span></span><br><span class=\"line\">        st = []</span><br><span class=\"line\">        pre = <span class=\"literal\">None</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> root <span class=\"keyword\">or</span> st:</span><br><span class=\"line\">            <span class=\"keyword\">while</span> root:</span><br><span class=\"line\">                val = (val &lt;&lt; <span class=\"number\">1</span>) | root.val</span><br><span class=\"line\">                st.append(root)</span><br><span class=\"line\">                root = root.left</span><br><span class=\"line\">            root = st[-<span class=\"number\">1</span>]</span><br><span class=\"line\">            <span class=\"comment\">#回退的几种可能情况</span></span><br><span class=\"line\">            <span class=\"comment\">#1.当前节点已经是叶子节点的时候，要先记录一个结果，然后在进行回退</span></span><br><span class=\"line\">            <span class=\"comment\">#2.当前节点的右子树已经遍历过了，因为中序遍历是左根右的顺序，所以该节点已经遍历完成，回退        </span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> root.right <span class=\"keyword\">is</span> <span class=\"literal\">None</span> <span class=\"keyword\">or</span> root.right == pre:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> root.left <span class=\"keyword\">is</span> <span class=\"literal\">None</span> <span class=\"keyword\">and</span> root.right <span class=\"keyword\">is</span> <span class=\"literal\">None</span>:</span><br><span class=\"line\">                    ans += val</span><br><span class=\"line\">                val &gt;&gt;= <span class=\"number\">1</span></span><br><span class=\"line\">                st.pop()</span><br><span class=\"line\">                pre = root</span><br><span class=\"line\">                root = <span class=\"literal\">None</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                root = root.right</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans</span><br></pre></td></tr></table></figure>\n<h4 id=\"剑指-offer-ii-114-外星文字典\"><a class=\"anchor\" href=\"#剑指-offer-ii-114-外星文字典\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9KZjFKdVQv\">剑指 Offer II 114. 外星文字典</span></h4>\n<p>难度困难 45</p>\n<p>现有一种使用英语字母的外星文语言，这门语言的字母顺序与英语顺序不同。</p>\n<p>给定一个字符串列表  <code>words</code>  ，作为这门语言的词典， <code>words</code>  中的字符串已经 <strong>按这门新语言的字母顺序进行了排序</strong> 。</p>\n<p>请你根据该词典还原出此语言中已知的字母顺序，并 <strong>按字母递增顺序</strong> 排列。若不存在合法字母顺序，返回  <code>&quot;&quot;</code>  。若存在多种可能的合法字母顺序，返回其中 <strong>任意一种</strong> 顺序即可。</p>\n<p>字符串  <code>s</code>  <strong>字典顺序小于</strong> 字符串  <code>t</code>  有两种情况：</p>\n<ul>\n<li>在第一个不同字母处，如果  <code>s</code>  中的字母在这门外星语言的字母顺序中位于  <code>t</code>  中字母之前，那么  <code>s</code>  的字典顺序小于  <code>t</code>  。</li>\n<li>如果前面  <code>min(s.length, t.length)</code>  字母都相同，那么  <code>s.length &lt; t.length</code>  时， <code>s</code>  的字典顺序也小于  <code>t</code>  。</li>\n</ul>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：<span class=\"built_in\">words</span> = [<span class=\"string\">&quot;wrt&quot;</span>,<span class=\"string\">&quot;wrf&quot;</span>,<span class=\"string\">&quot;er&quot;</span>,<span class=\"string\">&quot;ett&quot;</span>,<span class=\"string\">&quot;rftt&quot;</span>]</span><br><span class=\"line\">输出：<span class=\"string\">&quot;wertf&quot;</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：<span class=\"built_in\">words</span> = [<span class=\"string\">&quot;z&quot;</span>,<span class=\"string\">&quot;x&quot;</span>]</span><br><span class=\"line\">输出：<span class=\"string\">&quot;zx&quot;</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：<span class=\"built_in\">words</span> = [<span class=\"string\">&quot;z&quot;</span>,<span class=\"string\">&quot;x&quot;</span>,<span class=\"string\">&quot;z&quot;</span>]</span><br><span class=\"line\">输出：<span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">解释：不存在合法字母顺序，因此返回 <span class=\"string\">&quot;&quot;</span> 。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= words.length &lt;= 100</code></li>\n<li><code>1 &lt;= words[i].length &lt;= 100</code></li>\n<li><code>words[i]</code>  仅由小写英文字母组成</li>\n</ul>\n<p>拓扑排序 + 深度优先搜索</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">alienOrder</span>(<span class=\"params\">self, words: <span class=\"type\">List</span>[<span class=\"built_in\">str</span>]</span>) -&gt; <span class=\"built_in\">str</span>:</span><br><span class=\"line\">        g = &#123;&#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> words[<span class=\"number\">0</span>]:</span><br><span class=\"line\">            g[c] = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> s, t <span class=\"keyword\">in</span> pairwise(words):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> t:</span><br><span class=\"line\">                g.setdefault(c, [])</span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"keyword\">for</span> u, v <span class=\"keyword\">in</span> <span class=\"built_in\">zip</span>(s, t):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> u != v:</span><br><span class=\"line\">                    g[u].append(v)</span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"built_in\">len</span>(s) &gt; <span class=\"built_in\">len</span>(t):</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        VISITING, VISITED = <span class=\"number\">1</span>, <span class=\"number\">2</span></span><br><span class=\"line\">        states = &#123;&#125;</span><br><span class=\"line\">        order = []</span><br><span class=\"line\">        <span class=\"keyword\">def</span> <span class=\"title function_\">dfs</span>(<span class=\"params\">u: <span class=\"built_in\">str</span></span>) -&gt; <span class=\"built_in\">bool</span>:</span><br><span class=\"line\">            states[u] = VISITING</span><br><span class=\"line\">            <span class=\"keyword\">for</span> v <span class=\"keyword\">in</span> g[u]:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> v <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> states:</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> dfs(v):</span><br><span class=\"line\">                        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">                <span class=\"keyword\">elif</span> states[v] == VISITING:</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\">            order.append(u)</span><br><span class=\"line\">            states[u] = VISITED</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>.join(<span class=\"built_in\">reversed</span>(order)) <span class=\"keyword\">if</span> <span class=\"built_in\">all</span>(dfs(u) <span class=\"keyword\">for</span> u <span class=\"keyword\">in</span> g <span class=\"keyword\">if</span> u <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> states) <span class=\"keyword\">else</span> <span class=\"string\">&quot;&quot;</span></span><br></pre></td></tr></table></figure>\n<p>拓扑排序 + 广度优先搜索</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">alienOrder</span>(<span class=\"params\">self, words: <span class=\"type\">List</span>[<span class=\"built_in\">str</span>]</span>) -&gt; <span class=\"built_in\">str</span>:</span><br><span class=\"line\">        g = defaultdict(<span class=\"built_in\">list</span>)</span><br><span class=\"line\">        inDeg = &#123;c: <span class=\"number\">0</span> <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> words[<span class=\"number\">0</span>]&#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> s, t <span class=\"keyword\">in</span> pairwise(words):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> t:</span><br><span class=\"line\">                inDeg.setdefault(c, <span class=\"number\">0</span>)</span><br><span class=\"line\">            <span class=\"keyword\">for</span> u, v <span class=\"keyword\">in</span> <span class=\"built_in\">zip</span>(s, t):</span><br><span class=\"line\">                <span class=\"keyword\">if</span> u != v:</span><br><span class=\"line\">                    g[u].append(v)</span><br><span class=\"line\">                    inDeg[v] += <span class=\"number\">1</span></span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"built_in\">len</span>(s) &gt; <span class=\"built_in\">len</span>(t):</span><br><span class=\"line\">                    <span class=\"keyword\">return</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        q = [u <span class=\"keyword\">for</span> u, d <span class=\"keyword\">in</span> inDeg.items() <span class=\"keyword\">if</span> d == <span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> u <span class=\"keyword\">in</span> q:</span><br><span class=\"line\">            <span class=\"keyword\">for</span> v <span class=\"keyword\">in</span> g[u]:</span><br><span class=\"line\">                inDeg[v] -= <span class=\"number\">1</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> inDeg[v] == <span class=\"number\">0</span>:</span><br><span class=\"line\">                    q.append(v)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span>.join(q) <span class=\"keyword\">if</span> <span class=\"built_in\">len</span>(q) == <span class=\"built_in\">len</span>(inDeg) <span class=\"keyword\">else</span> <span class=\"string\">&quot;&quot;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"450-删除二叉搜索树中的节点\"><a class=\"anchor\" href=\"#450-删除二叉搜索树中的节点\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9kZWxldGUtbm9kZS1pbi1hLWJzdC8=\">450. 删除二叉搜索树中的节点</span></h4>\n<p>难度中等 788</p>\n<p>给定一个二叉搜索树的根节点 <strong>root</strong> 和一个值 <strong>key</strong>，删除二叉搜索树中的 <strong>key</strong> 对应的节点，并保证二叉搜索树的性质不变。返回二叉搜索树（有可能被更新）的根节点的引用。</p>\n<p>一般来说，删除节点可分为两个步骤：</p>\n<ol>\n<li>首先找到需要删除的节点；</li>\n<li>如果找到了，删除它。</li>\n</ol>\n<p><strong>示例 1:</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2020/09/04/del_node_1.jpg\" alt=\"img\"></p>\n<figure class=\"highlight processing\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：root = [<span class=\"number\">5</span>,<span class=\"number\">3</span>,<span class=\"number\">6</span>,<span class=\"number\">2</span>,<span class=\"number\">4</span>,<span class=\"literal\">null</span>,<span class=\"number\">7</span>], <span class=\"built_in\">key</span> = <span class=\"number\">3</span></span><br><span class=\"line\">输出：[<span class=\"number\">5</span>,<span class=\"number\">4</span>,<span class=\"number\">6</span>,<span class=\"number\">2</span>,<span class=\"literal\">null</span>,<span class=\"literal\">null</span>,<span class=\"number\">7</span>]</span><br><span class=\"line\">解释：给定需要删除的节点值是 <span class=\"number\">3</span>，所以我们首先找到 <span class=\"number\">3</span> 这个节点，然后删除它。</span><br><span class=\"line\">一个正确的答案是 [<span class=\"number\">5</span>,<span class=\"number\">4</span>,<span class=\"number\">6</span>,<span class=\"number\">2</span>,<span class=\"literal\">null</span>,<span class=\"literal\">null</span>,<span class=\"number\">7</span>], 如下图所示。</span><br><span class=\"line\">另一个正确答案是 [<span class=\"number\">5</span>,<span class=\"number\">2</span>,<span class=\"number\">6</span>,<span class=\"literal\">null</span>,<span class=\"number\">4</span>,<span class=\"literal\">null</span>,<span class=\"number\">7</span>]。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2:</strong></p>\n<figure class=\"highlight makefile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">输入: root = [5,3,6,2,4,null,7], key = 0</span></span><br><span class=\"line\"><span class=\"section\">输出: [5,3,6,2,4,null,7]</span></span><br><span class=\"line\"><span class=\"section\">解释: 二叉树不包含值为 0 的节点</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 3:</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入: root = <span class=\"comment\">[]</span>, key = 0</span><br><span class=\"line\">输出: <span class=\"comment\">[]</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示:</strong></p>\n<ul>\n<li>节点数的范围  <code>[0, 104]</code> .</li>\n<li><code>-105 &lt;= Node.val &lt;= 105</code></li>\n<li>节点值唯一</li>\n<li><code>root</code>  是合法的二叉搜索树</li>\n<li><code>-105 &lt;= key &lt;= 105</code></li>\n</ul>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Definition for a binary tree node.</span></span><br><span class=\"line\"><span class=\"comment\"># class TreeNode:</span></span><br><span class=\"line\"><span class=\"comment\">#     def __init__(self, val=0, left=None, right=None):</span></span><br><span class=\"line\"><span class=\"comment\">#         self.val = val</span></span><br><span class=\"line\"><span class=\"comment\">#         self.left = left</span></span><br><span class=\"line\"><span class=\"comment\">#         self.right = right</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">deleteNode</span>(<span class=\"params\">self, root: <span class=\"type\">Optional</span>[TreeNode], key: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"type\">Optional</span>[TreeNode]:</span><br><span class=\"line\">        <span class=\"comment\"># 方法一迭代寻找</span></span><br><span class=\"line\">        <span class=\"comment\"># def search(root:Optional[TreeNode],key:int):</span></span><br><span class=\"line\">        <span class=\"comment\">#     if root!=None:</span></span><br><span class=\"line\">        <span class=\"comment\">#         if root.val &gt; key:</span></span><br><span class=\"line\">        <span class=\"comment\">#             return search(root.left,key)</span></span><br><span class=\"line\">        <span class=\"comment\">#         elif root.val &lt; key:</span></span><br><span class=\"line\">        <span class=\"comment\">#             return search(root.right,key)</span></span><br><span class=\"line\">        <span class=\"comment\">#         else:</span></span><br><span class=\"line\">        <span class=\"comment\">#             return root</span></span><br><span class=\"line\">        <span class=\"comment\">#     return None</span></span><br><span class=\"line\">        <span class=\"comment\"># target = search(root,key)</span></span><br><span class=\"line\">        <span class=\"comment\"># if not target:</span></span><br><span class=\"line\">        <span class=\"comment\">#     return root</span></span><br><span class=\"line\">        <span class=\"comment\"># if not target.left and not target.right:</span></span><br><span class=\"line\">        <span class=\"comment\">#     if target == root:</span></span><br><span class=\"line\">        <span class=\"comment\">#         return None</span></span><br><span class=\"line\">        <span class=\"comment\">#     target = None</span></span><br><span class=\"line\">        <span class=\"comment\"># elif target.right and not target.left:</span></span><br><span class=\"line\">        <span class=\"comment\">#     target.val = target.right.val</span></span><br><span class=\"line\">        <span class=\"comment\">#     target.left = target.right.left</span></span><br><span class=\"line\">        <span class=\"comment\">#     target.right = target.right.right</span></span><br><span class=\"line\">        <span class=\"comment\"># elif target.left and not target.right:</span></span><br><span class=\"line\">        <span class=\"comment\">#     target.val = target.left.val</span></span><br><span class=\"line\">        <span class=\"comment\">#     target.left = target.left.left</span></span><br><span class=\"line\">        <span class=\"comment\">#     target.right = target.left.right</span></span><br><span class=\"line\">        <span class=\"comment\"># else:</span></span><br><span class=\"line\">        <span class=\"comment\">#     pre = target</span></span><br><span class=\"line\">        <span class=\"comment\">#     p = target.right</span></span><br><span class=\"line\">        <span class=\"comment\">#     while p.left:</span></span><br><span class=\"line\">        <span class=\"comment\">#         pre = p</span></span><br><span class=\"line\">        <span class=\"comment\">#         p = p.left</span></span><br><span class=\"line\">        <span class=\"comment\">#     target.val = p.val</span></span><br><span class=\"line\">        <span class=\"comment\">#     if pre == target:</span></span><br><span class=\"line\">        <span class=\"comment\">#         pre.right = p.right</span></span><br><span class=\"line\">        <span class=\"comment\">#     else:</span></span><br><span class=\"line\">        <span class=\"comment\">#         pre.left = p.right</span></span><br><span class=\"line\">        <span class=\"comment\"># return root</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 方法二（题解）</span></span><br><span class=\"line\">        <span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">        大致思路就是递归，不断地寻找以root(函数迭代过程中的根节点)为根节点，删除指定元素，返回的树</span></span><br><span class=\"line\"><span class=\"string\">        &quot;&quot;&quot;</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> root <span class=\"keyword\">is</span> <span class=\"literal\">None</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">None</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> root.val &gt; key:</span><br><span class=\"line\">            root.left = <span class=\"variable language_\">self</span>.deleteNode(root.left, key)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> root.val &lt; key:</span><br><span class=\"line\">            root.right = <span class=\"variable language_\">self</span>.deleteNode(root.right, key)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> root.left <span class=\"keyword\">is</span> <span class=\"literal\">None</span> <span class=\"keyword\">or</span> root.right <span class=\"keyword\">is</span> <span class=\"literal\">None</span>:</span><br><span class=\"line\">            root = root.left <span class=\"keyword\">if</span> root.left <span class=\"keyword\">else</span> root.right</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            successor = root.right</span><br><span class=\"line\">            <span class=\"keyword\">while</span> successor.left:</span><br><span class=\"line\">                successor = successor.left</span><br><span class=\"line\">            successor.right = <span class=\"variable language_\">self</span>.deleteNode(root.right, successor.val)</span><br><span class=\"line\">            successor.left = root.left</span><br><span class=\"line\">            <span class=\"keyword\">return</span> successor</span><br><span class=\"line\">        <span class=\"keyword\">return</span> root</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"875-爱吃香蕉的珂珂\"><a class=\"anchor\" href=\"#875-爱吃香蕉的珂珂\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9rb2tvLWVhdGluZy1iYW5hbmFzLw==\">875. 爱吃香蕉的珂珂</span></h4>\n<p>难度中等 319</p>\n<p>珂珂喜欢吃香蕉。这里有  <code>n</code>  堆香蕉，第  <code>i</code>  堆中有  <code>piles[i]</code>  根香蕉。警卫已经离开了，将在  <code>h</code>  小时后回来。</p>\n<p>珂珂可以决定她吃香蕉的速度  <code>k</code>  （单位：根 / 小时）。每个小时，她将会选择一堆香蕉，从中吃掉  <code>k</code>  根。如果这堆香蕉少于  <code>k</code>  根，她将吃掉这堆的所有香蕉，然后这一小时内不会再吃更多的香蕉。</p>\n<p>珂珂喜欢慢慢吃，但仍然想在警卫回来前吃掉所有的香蕉。</p>\n<p>返回她可以在  <code>h</code>  小时内吃掉所有香蕉的最小速度  <code>k</code> （ <code>k</code>  为整数）。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight dns\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：piles = [<span class=\"number\">3,6,7,11</span>], h = <span class=\"number\">8</span></span><br><span class=\"line\">输出：<span class=\"number\">4</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight accesslog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：piles = <span class=\"string\">[30,11,23,4,20]</span>, h = <span class=\"number\">5</span></span><br><span class=\"line\">输出：<span class=\"number\">30</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight accesslog\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：piles = <span class=\"string\">[30,11,23,4,20]</span>, h = <span class=\"number\">6</span></span><br><span class=\"line\">输出：<span class=\"number\">23</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= piles.length &lt;= 104</code></li>\n<li><code>piles.length &lt;= h &lt;= 109</code></li>\n<li><code>1 &lt;= piles[i] &lt;= 109</code></li>\n</ul>\n<p>二分查找</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">如果珂珂在 hh 小时内吃掉所有香蕉的最小速度是每小时 kk 个香蕉，则当吃香蕉的速度大于每小时 kk 个香蕉时一定可以在 hh 小时内吃掉所有香蕉，当吃香蕉的速度小于每小时 kk 个香蕉时一定不能在 hh 小时内吃掉所有香蕉。</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">由于吃香蕉的速度和是否可以在规定时间内吃掉所有香蕉之间存在单调性，因此可以使用二分查找的方法得到最小速度 kk。</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">由于每小时都要吃香蕉，即每小时至少吃 11 个香蕉，因此二分查找的下界是 11；由于每小时最多吃一堆香蕉，即每小时吃的香蕉数目不会超过最多的一堆中的香蕉数目，因此二分查找的上界是最多的一堆中的香蕉数目。</span></span><br><span class=\"line\"><span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">minEatingSpeed</span>(<span class=\"params\">self, piles: <span class=\"type\">List</span>[<span class=\"built_in\">int</span>], h: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">        max_num = <span class=\"built_in\">max</span>(piles)</span><br><span class=\"line\">        left,right = <span class=\"number\">1</span>,max_num</span><br><span class=\"line\">        time = <span class=\"number\">0</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> left &lt; right:</span><br><span class=\"line\">            mid = left  + (right-left)//<span class=\"number\">2</span></span><br><span class=\"line\">            time = <span class=\"built_in\">sum</span>(<span class=\"built_in\">list</span>(<span class=\"built_in\">map</span>(<span class=\"keyword\">lambda</span> x: x//mid + <span class=\"number\">1</span> <span class=\"keyword\">if</span> x%mid!=<span class=\"number\">0</span> <span class=\"keyword\">else</span> x/mid,piles)))</span><br><span class=\"line\">            <span class=\"keyword\">if</span> time &lt;= h:</span><br><span class=\"line\">                right = mid</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                left = mid + <span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> left</span><br><span class=\"line\">        </span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h4 id=\"926-将字符串翻转到单调递增\"><a class=\"anchor\" href=\"#926-将字符串翻转到单调递增\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9mbGlwLXN0cmluZy10by1tb25vdG9uZS1pbmNyZWFzaW5nLw==\">926. 将字符串翻转到单调递增</span></h4>\n<p>难度中等 168</p>\n<p>如果一个二进制字符串，是以一些  <code>0</code> （可能没有  <code>0</code> ）后面跟着一些  <code>1</code> （也可能没有  <code>1</code> ）的形式组成的，那么该字符串是 <strong>单调递增</strong> 的。</p>\n<p>给你一个二进制字符串  <code>s</code> ，你可以将任何  <code>0</code>  翻转为  <code>1</code>  或者将  <code>1</code>  翻转为  <code>0</code>  。</p>\n<p>返回使  <code>s</code>  单调递增的最小翻转次数。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：s <span class=\"operator\">=</span> <span class=\"string\">&quot;00110&quot;</span></span><br><span class=\"line\">输出：<span class=\"number\">1</span></span><br><span class=\"line\">解释：翻转最后一位得到 <span class=\"number\">00111</span>.</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：s <span class=\"operator\">=</span> <span class=\"string\">&quot;010110&quot;</span></span><br><span class=\"line\">输出：<span class=\"number\">2</span></span><br><span class=\"line\">解释：翻转得到 <span class=\"number\">011111</span>，或者是 <span class=\"number\">000111</span>。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：s <span class=\"operator\">=</span> <span class=\"string\">&quot;00011000&quot;</span></span><br><span class=\"line\">输出：<span class=\"number\">2</span></span><br><span class=\"line\">解释：翻转得到 <span class=\"number\">00000000</span>。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= s.length &lt;= 105</code></li>\n<li><code>s[i]</code>  为  <code>'0'</code>  或  <code>'1'</code></li>\n</ul>\n<p>预处理 + 动态规划</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">minFlipsMonoIncr</span>(<span class=\"params\">self, s: <span class=\"built_in\">str</span></span>) -&gt; <span class=\"built_in\">int</span>:</span><br><span class=\"line\">        <span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">        统计一下每个位置左边的1的个数和右边0的个数</span></span><br><span class=\"line\"><span class=\"string\">        相加就是以该位置为分界线上的0或者1，整个数组需要的翻转次数</span></span><br><span class=\"line\"><span class=\"string\">        然后遍历求得最小的翻转次数</span></span><br><span class=\"line\"><span class=\"string\">        &quot;&quot;&quot;</span></span><br><span class=\"line\">        length = <span class=\"built_in\">len</span>(s)</span><br><span class=\"line\">        num1 = [<span class=\"number\">0</span>]*length</span><br><span class=\"line\">        num0 = [<span class=\"number\">0</span>]*length</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">1</span>,length):</span><br><span class=\"line\">            num1[i] = num1[i-<span class=\"number\">1</span>] + <span class=\"number\">1</span> <span class=\"keyword\">if</span> s[i-<span class=\"number\">1</span>]==<span class=\"string\">&quot;1&quot;</span>  <span class=\"keyword\">else</span> num1[i-<span class=\"number\">1</span>]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(length-<span class=\"number\">2</span>,-<span class=\"number\">1</span>,-<span class=\"number\">1</span>):</span><br><span class=\"line\">            num0[i] = num0[i+<span class=\"number\">1</span>] + <span class=\"number\">1</span> <span class=\"keyword\">if</span> s[i+<span class=\"number\">1</span>]==<span class=\"string\">&quot;0&quot;</span>  <span class=\"keyword\">else</span> num0[i+<span class=\"number\">1</span>]</span><br><span class=\"line\">        result = <span class=\"built_in\">float</span>(<span class=\"string\">&quot;inf&quot;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(length):</span><br><span class=\"line\">            result = <span class=\"built_in\">min</span>(result,num1[i]+num0[i])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result</span><br></pre></td></tr></table></figure>\n<h4 id=\"498-对角线遍历\"><a class=\"anchor\" href=\"#498-对角线遍历\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9kaWFnb25hbC10cmF2ZXJzZS8=\">498. 对角线遍历</span></h4>\n<p>难度中等 314</p>\n<p>给你一个大小为  <code>m x n</code>  的矩阵  <code>mat</code>  ，请以对角线遍历的顺序，用一个数组返回这个矩阵中的所有元素。</p>\n<p><strong>示例 1：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2021/04/10/diag1-grid.jpg\" alt=\"img\"></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：mat = <span class=\"comment\">[<span class=\"comment\">[1,2,3]</span>,<span class=\"comment\">[4,5,6]</span>,<span class=\"comment\">[7,8,9]</span>]</span></span><br><span class=\"line\">输出：<span class=\"comment\">[1,2,4,7,5,3,6,8,9]</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：mat = <span class=\"string\">[[1,2],[3,4]]</span></span><br><span class=\"line\">输出：[<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>]</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>m == mat.length</code></li>\n<li><code>n == mat[i].length</code></li>\n<li><code>1 &lt;= m, n &lt;= 104</code></li>\n<li><code>1 &lt;= m * n &lt;= 104</code></li>\n<li><code>-105 &lt;= mat[i][j] &lt;= 105</code></li>\n</ul>\n<p>题解：宏观调度</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">findDiagonalOrder</span>(<span class=\"params\">self, mat: <span class=\"type\">List</span>[<span class=\"type\">List</span>[<span class=\"built_in\">int</span>]]</span>) -&gt; <span class=\"type\">List</span>[<span class=\"built_in\">int</span>]:  </span><br><span class=\"line\">        result = []</span><br><span class=\"line\">        <span class=\"comment\">#打印函数</span></span><br><span class=\"line\">         <span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">           每次只用关心两个对角点的连线怎么打印就好了</span></span><br><span class=\"line\"><span class=\"string\">         &quot;&quot;&quot;</span></span><br><span class=\"line\">        <span class=\"keyword\">def</span> <span class=\"title function_\">Print</span>(<span class=\"params\">right_row:<span class=\"built_in\">int</span>,right_col:<span class=\"built_in\">int</span>,left_row:<span class=\"built_in\">int</span>,left_col:<span class=\"built_in\">int</span>,f:<span class=\"built_in\">bool</span></span>):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> f:</span><br><span class=\"line\">                <span class=\"keyword\">while</span> left_row &gt; right_row - <span class=\"number\">1</span>:</span><br><span class=\"line\">                    result.append(mat[left_row][left_col])</span><br><span class=\"line\">                    left_row -= <span class=\"number\">1</span></span><br><span class=\"line\">                    left_col += <span class=\"number\">1</span></span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                <span class=\"keyword\">while</span> right_row &lt; left_row + <span class=\"number\">1</span>:</span><br><span class=\"line\">                    result.append(mat[right_row][right_col])</span><br><span class=\"line\">                    right_row += <span class=\"number\">1</span></span><br><span class=\"line\">                    right_col -= <span class=\"number\">1</span></span><br><span class=\"line\">        m = <span class=\"built_in\">len</span>(mat)</span><br><span class=\"line\">        n = <span class=\"built_in\">len</span>(mat[<span class=\"number\">0</span>])</span><br><span class=\"line\">        left_row,left_col,right_row,right_col = <span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span></span><br><span class=\"line\">        f = <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> left_row &gt;= right_row:</span><br><span class=\"line\">            Print(right_row,right_col,left_row,left_col,f)</span><br><span class=\"line\">            <span class=\"comment\">#移动两个对角点左边的点首先选择向下移动，再向右移动</span></span><br><span class=\"line\">            <span class=\"comment\">#右上角的点首先选择向右移动，然后移动右边界之后，再向下移动</span></span><br><span class=\"line\">            left_col = left_col <span class=\"keyword\">if</span> left_row &lt; m - <span class=\"number\">1</span> <span class=\"keyword\">else</span> left_col + <span class=\"number\">1</span></span><br><span class=\"line\">            left_row = left_row + <span class=\"number\">1</span> <span class=\"keyword\">if</span> left_row &lt; m - <span class=\"number\">1</span> <span class=\"keyword\">else</span> left_row</span><br><span class=\"line\">            right_row = right_row <span class=\"keyword\">if</span> right_col &lt; n - <span class=\"number\">1</span> <span class=\"keyword\">else</span> right_row + <span class=\"number\">1</span></span><br><span class=\"line\">            right_col = right_col + <span class=\"number\">1</span> <span class=\"keyword\">if</span> right_col &lt; n - <span class=\"number\">1</span> <span class=\"keyword\">else</span> right_col</span><br><span class=\"line\">            f = <span class=\"keyword\">not</span> f</span><br><span class=\"line\">        <span class=\"keyword\">return</span> result</span><br><span class=\"line\"></span><br><span class=\"line\">                    </span><br></pre></td></tr></table></figure>\n<h4 id=\"2368-受限条件下可到达节点的数目\"><a class=\"anchor\" href=\"#2368-受限条件下可到达节点的数目\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9yZWFjaGFibGUtbm9kZXMtd2l0aC1yZXN0cmljdGlvbnMv\">2368. 受限条件下可到达节点的数目</span></h4>\n<p>现有一棵由  <code>n</code>  个节点组成的无向树，节点编号从  <code>0</code>  到  <code>n - 1</code>  ，共有  <code>n - 1</code>  条边。</p>\n<p>给你一个二维整数数组  <code>edges</code>  ，长度为  <code>n - 1</code>  ，其中  <code>edges[i] = [ai, bi]</code>  表示树中节点  <code>ai</code>  和  <code>bi</code>  之间存在一条边。另给你一个整数数组  <code>restricted</code>  表示 <strong>受限</strong> 节点。</p>\n<p>在不访问受限节点的前提下，返回你可以从节点  <code>0</code>  到达的 <strong>最多</strong> 节点数目 *。*</p>\n<p>注意，节点  <code>0</code>  <strong>不</strong> 会标记为受限节点。</p>\n<p><strong>示例 1：</strong></p>\n<p><img data-src=\"https://assets.leetcode.com/uploads/2022/06/15/ex1drawio.png\" alt=\"img\"></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：n = 7, edges = <span class=\"comment\">[<span class=\"comment\">[0,1]</span>,<span class=\"comment\">[1,2]</span>,<span class=\"comment\">[3,1]</span>,<span class=\"comment\">[4,0]</span>,<span class=\"comment\">[0,5]</span>,<span class=\"comment\">[5,6]</span>]</span>, restricted = <span class=\"comment\">[4,5]</span></span><br><span class=\"line\">输出：4</span><br><span class=\"line\">解释：上图所示正是这棵树。</span><br><span class=\"line\">在不访问受限节点的前提下，只有节点 <span class=\"comment\">[0,1,2,3]</span> 可以从节点 0 到达。</span><br></pre></td></tr></table></figure>\n<p>方法：深度优先搜索（dfs）</p>\n<p>大致思路：首先将给到的边的信息，转化并保存成便于处理的形式 A [i] = [ a,b,c] ，(某个节点的后续节点的形式)，然后通过深度优先搜索（或者是广度优先搜索 bfs），进行遍历，通过跳过受限节点的形式，记录能够遍历得到的节点的个数，即（从 0 节点开始能够到达的节点的个数）</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;unordered_set&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;functional&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">test</span><span class=\"params\">(<span class=\"type\">int</span> a, <span class=\"type\">int</span> b)</span></span>&#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">reachableNodes</span><span class=\"params\">(<span class=\"type\">int</span> n, vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; edges, vector&lt;<span class=\"type\">int</span>&gt;&amp; restricted)</span> </span>&#123; </span><br><span class=\"line\">       <span class=\"comment\">// 重新构造一个受限点的列表，便于查找，因为isrestricted[i]==1 就表示i点为受限点</span></span><br><span class=\"line\">       <span class=\"comment\">// 这样构造更容易查找</span></span><br><span class=\"line\">       <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">isrestricted</span><span class=\"params\">(n)</span></span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span> x : restricted) &#123;</span><br><span class=\"line\">            isrestricted[x] = <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt; <span class=\"built_in\">g</span>(n);</span><br><span class=\"line\">        <span class=\"comment\">// 因为是无向树，所以就是存成无向图的形式</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span> &amp;v : edges) &#123;</span><br><span class=\"line\">            g[v[<span class=\"number\">0</span>]].<span class=\"built_in\">push_back</span>(v[<span class=\"number\">1</span>]);</span><br><span class=\"line\">            g[v[<span class=\"number\">1</span>]].<span class=\"built_in\">push_back</span>(v[<span class=\"number\">0</span>]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">int</span> cnt = <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        function&lt;<span class=\"type\">void</span>(<span class=\"type\">int</span>, <span class=\"type\">int</span>)&gt; dfs = [&amp;](<span class=\"type\">int</span> x, <span class=\"type\">int</span> f) &#123;</span><br><span class=\"line\">            cnt++;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span> &amp;y : g[x]) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// y!=f 保证不转圈</span></span><br><span class=\"line\">                <span class=\"comment\">// !isrestricted[y] 保证该点不是受限点</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (y != f &amp;&amp; !isrestricted[y]) &#123;</span><br><span class=\"line\">                    <span class=\"built_in\">dfs</span>(y, x);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        <span class=\"built_in\">dfs</span>(<span class=\"number\">0</span>, <span class=\"number\">-1</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> cnt;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"2575-找出字符串的可整除数组\"><a class=\"anchor\" href=\"#2575-找出字符串的可整除数组\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9maW5kLXRoZS1kaXZpc2liaWxpdHktYXJyYXktb2YtYS1zdHJpbmcv\">2575. 找出字符串的可整除数组</span></h4>\n<p>给你一个下标从 <strong>0</strong> 开始的字符串  <code>word</code>  ，长度为  <code>n</code>  ，由从  <code>0</code>  到  <code>9</code>  的数字组成。另给你一个正整数  <code>m</code>  。</p>\n<p><code>word</code>  的 <strong>可整除数组</strong>  <code>div</code>  是一个长度为  <code>n</code>  的整数数组，并满足：</p>\n<ul>\n<li>如果  <code>word[0,...,i]</code>  所表示的 <strong>数值</strong> 能被  <code>m</code>  整除， <code>div[i] = 1</code></li>\n<li>否则， <code>div[i] = 0</code></li>\n</ul>\n<p>返回  <code>word</code>  的可整除数组。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：<span class=\"built_in\">word</span> = <span class=\"string\">&quot;998244353&quot;</span>, m = <span class=\"number\">3</span></span><br><span class=\"line\">输出：[<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>]</span><br><span class=\"line\">解释：仅有 <span class=\"number\">4</span> 个前缀可以被 <span class=\"number\">3</span> 整除：<span class=\"string\">&quot;9&quot;</span>、<span class=\"string\">&quot;99&quot;</span>、<span class=\"string\">&quot;998244&quot;</span> 和 <span class=\"string\">&quot;9982443&quot;</span> 。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：<span class=\"built_in\">word</span> = <span class=\"string\">&quot;1010&quot;</span>, m = <span class=\"number\">10</span></span><br><span class=\"line\">输出：[<span class=\"number\">0</span>,<span class=\"number\">1</span>,<span class=\"number\">0</span>,<span class=\"number\">1</span>]</span><br><span class=\"line\">解释：仅有 <span class=\"number\">2</span> 个前缀可以被 <span class=\"number\">10</span> 整除：<span class=\"string\">&quot;10&quot;</span> 和 <span class=\"string\">&quot;1010&quot;</span> 。</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"comment\">// 动态规划</span></span><br><span class=\"line\"><span class=\"comment\">// vector&lt;int&gt; divisibilityArray(string word, int m) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//       int length = word.size();</span></span><br><span class=\"line\"><span class=\"comment\">//       vector&lt;int&gt; dp(length,0);</span></span><br><span class=\"line\"><span class=\"comment\">//       if(int(word[0])%m==0)&#123;</span></span><br><span class=\"line\"><span class=\"comment\">//         dp[0] = 1;</span></span><br><span class=\"line\"><span class=\"comment\">//       &#125;</span></span><br><span class=\"line\"><span class=\"comment\">//       for(int i = 1;i&lt;length;i++)&#123;</span></span><br><span class=\"line\"><span class=\"comment\">//          for(int j = i;j &gt; 0;j--)&#123;</span></span><br><span class=\"line\"><span class=\"comment\">//            int a =  stoi(word.substr(j,i));</span></span><br><span class=\"line\"><span class=\"comment\">//            cout &lt;&lt; a &lt;&lt; endl;</span></span><br><span class=\"line\"><span class=\"comment\">//              if(dp[j-1] &amp;&amp; a%m==0 )&#123;</span></span><br><span class=\"line\"><span class=\"comment\">//                 // cout &lt;&lt; word.substr(0,j-1) &lt;&lt; a &lt;&lt;endl;</span></span><br><span class=\"line\"><span class=\"comment\">//                 dp[i] = 1;</span></span><br><span class=\"line\"><span class=\"comment\">//                 break;</span></span><br><span class=\"line\"><span class=\"comment\">//              &#125;</span></span><br><span class=\"line\"><span class=\"comment\">//          &#125;</span></span><br><span class=\"line\"><span class=\"comment\">//       &#125;</span></span><br><span class=\"line\"><span class=\"comment\">//       return dp;</span></span><br><span class=\"line\"><span class=\"comment\">// &#125;</span></span><br><span class=\"line\"><span class=\"comment\">// 根据整数整除的规律 (a*10 + b) mod m  == ((a mod m) *10 + b) mod m</span></span><br><span class=\"line\"><span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">divisibilityArray</span><span class=\"params\">(string word, <span class=\"type\">int</span> m)</span> </span>&#123;</span><br><span class=\"line\">      vector&lt;<span class=\"type\">int</span>&gt; res;</span><br><span class=\"line\">        <span class=\"type\">long</span> <span class=\"type\">long</span> cur = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">char</span>&amp; c : word) &#123;</span><br><span class=\"line\">            cur = (cur * <span class=\"number\">10</span> + (c - <span class=\"string\">&#x27;0&#x27;</span>)) % m;</span><br><span class=\"line\">            res.<span class=\"built_in\">push_back</span>(cur == <span class=\"number\">0</span> ? <span class=\"number\">1</span> : <span class=\"number\">0</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">      string word = <span class=\"string\">&quot;998244353&quot;</span>;</span><br><span class=\"line\">      <span class=\"type\">int</span> m = <span class=\"number\">3</span>;</span><br><span class=\"line\">      vector&lt;<span class=\"type\">int</span>&gt; result = <span class=\"built_in\">divisibilityArray</span>(word,m);</span><br><span class=\"line\">      cout &lt;&lt; <span class=\"built_in\">stoi</span>(word.<span class=\"built_in\">substr</span>(<span class=\"number\">1</span>,<span class=\"number\">3</span>)) &lt;&lt; word.<span class=\"built_in\">substr</span>(<span class=\"number\">1</span>,<span class=\"number\">3</span>) &lt;&lt;endl;</span><br><span class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> &amp;w:result)&#123;</span><br><span class=\"line\">        cout &lt;&lt; w &lt;&lt; <span class=\"string\">&quot; &quot;</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      cout &lt;&lt; endl;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"2834-找出美丽数组的最小和\"><a class=\"anchor\" href=\"#2834-找出美丽数组的最小和\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9maW5kLXRoZS1taW5pbXVtLXBvc3NpYmxlLXN1bS1vZi1hLWJlYXV0aWZ1bC1hcnJheS8=\">2834. 找出美丽数组的最小和</span></h4>\n<p>给你两个正整数： <code>n</code>  和  <code>target</code>  。</p>\n<p>如果数组  <code>nums</code>  满足下述条件，则称其为 <strong>美丽数组</strong> 。</p>\n<ul>\n<li><code>nums.length == n</code> .</li>\n<li><code>nums</code>  由两两互不相同的正整数组成。</li>\n<li>在范围  <code>[0, n-1]</code>  内，<strong>不存在</strong> 两个 <strong>不同</strong> 下标  <code>i</code>  和  <code>j</code>  ，使得  <code>nums[i] + nums[j] == target</code>  。</li>\n</ul>\n<p>返回符合条件的美丽数组所可能具备的 <strong>最小</strong> 和，并对结果进行取模  <code>109 + 7</code> 。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：n = <span class=\"number\">2</span>, target = <span class=\"number\">3</span></span><br><span class=\"line\">输出：<span class=\"number\">4</span></span><br><span class=\"line\">解释：nums = <span class=\"selector-attr\">[1,3]</span> 是美丽数组。</span><br><span class=\"line\">- nums 的长度为 n = <span class=\"number\">2</span> 。</span><br><span class=\"line\">- nums 由两两互不相同的正整数组成。</span><br><span class=\"line\">- 不存在两个不同下标 <span class=\"selector-tag\">i</span> 和 j ，使得 nums<span class=\"selector-attr\">[i]</span> + nums<span class=\"selector-attr\">[j]</span> == <span class=\"number\">3</span> 。</span><br><span class=\"line\">可以证明 <span class=\"number\">4</span> 是符合条件的美丽数组所可能具备的最小和。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：n = <span class=\"number\">3</span>, target = <span class=\"number\">3</span></span><br><span class=\"line\">输出：<span class=\"number\">8</span></span><br><span class=\"line\">解释：</span><br><span class=\"line\">nums = <span class=\"selector-attr\">[1,3,4]</span> 是美丽数组。 </span><br><span class=\"line\">- nums 的长度为 n = <span class=\"number\">3</span> 。 </span><br><span class=\"line\">- nums 由两两互不相同的正整数组成。 </span><br><span class=\"line\">- 不存在两个不同下标 <span class=\"selector-tag\">i</span> 和 j ，使得 nums<span class=\"selector-attr\">[i]</span> + nums<span class=\"selector-attr\">[j]</span> == <span class=\"number\">3</span> 。</span><br><span class=\"line\">可以证明 <span class=\"number\">8</span> 是符合条件的美丽数组所可能具备的最小和。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight aspectj\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：n = <span class=\"number\">1</span>, <span class=\"keyword\">target</span> = <span class=\"number\">1</span></span><br><span class=\"line\">输出：<span class=\"number\">1</span></span><br><span class=\"line\">解释：nums = [<span class=\"number\">1</span>] 是美丽数组。</span><br></pre></td></tr></table></figure>\n<p>思路：贪心思想，目标是找到的美丽数组之和最小，所以从最小的数 1, 开始寻找，直到找到 n 个，这样找到的数组之和肯定是最小的，但是为了满足 nums [i] + nums [j] != target (任意 i!=j) 所以 [0,target] 范围内，只能找 [1,2,3,…target//2]，因为  1 + target -1 == target 、 2 + target -2 == target， …   由于对称相加等于 target 所以只能取 target//2 以左（因为要达到最小），如果还不够 n 个，就从 target 、target + 1、… 往后取</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">minimumPossibleSum</span><span class=\"params\">(<span class=\"type\">int</span> n, <span class=\"type\">int</span> target)</span> </span>&#123;</span><br><span class=\"line\">   <span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">    思路：贪心思想，目标是找到的美丽数组之和最小，所以从最小的数1,</span></span><br><span class=\"line\"><span class=\"comment\">    开始寻找，直到找到n个，这样找到的数组之和肯定是最小的</span></span><br><span class=\"line\"><span class=\"comment\">    但是为了满足 nums[i] + nums[j] != target (任意i!=j)</span></span><br><span class=\"line\"><span class=\"comment\">    所以[0,target] 范围内，只能找[1,2,3,.....target//2]</span></span><br><span class=\"line\"><span class=\"comment\">    因为  1 + target -1 == target 、 2 + target -2 == target</span></span><br><span class=\"line\"><span class=\"comment\">    ....   由于对称相加等于target 所以只能取 target//2 以左（因为要达到最小）</span></span><br><span class=\"line\"><span class=\"comment\">    如果还不够 n 个，就从target 、target + 1、.... 往后取  </span></span><br><span class=\"line\"><span class=\"comment\">    */</span> </span><br><span class=\"line\">     <span class=\"type\">int</span> k = target/<span class=\"number\">2</span>;</span><br><span class=\"line\">     <span class=\"type\">int</span> mod = <span class=\"number\">1e9</span><span class=\"number\">+7</span>;</span><br><span class=\"line\">     <span class=\"keyword\">if</span>(k&gt;= n)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"type\">long</span> <span class=\"type\">long</span>)(<span class=\"number\">1</span> + n)*n/<span class=\"number\">2</span> % mod;   <span class=\"comment\">// 等差数列求和</span></span><br><span class=\"line\">     &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        <span class=\"built_in\">return</span> ((<span class=\"type\">long</span> <span class=\"type\">long</span>)(k + <span class=\"number\">1</span>)*k/<span class=\"number\">2</span> + ((<span class=\"type\">long</span> <span class=\"type\">long</span>)target + n - k - <span class=\"number\">1</span> + target)*(n - k)/<span class=\"number\">2</span> ) % mod;  <span class=\"comment\">// 两个等差数列求和</span></span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    cout &lt;&lt; <span class=\"built_in\">minimumPossibleSum</span>(<span class=\"number\">1000000000</span>,<span class=\"number\">1000000000</span>) &lt;&lt;endl; <span class=\"comment\">// 750000042</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"299-猜数字游戏\"><a class=\"anchor\" href=\"#299-猜数字游戏\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9idWxscy1hbmQtY293cy8=\">299. 猜数字游戏</span></h4>\n<p>你在和朋友一起玩 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS8lRTclOEMlOUMlRTYlOTUlQjAlRTUlQUQlOTcvODMyMDA/ZnJvbXRpdGxlPUJ1bGxzK2FuZCtDb3dzJmFtcDtmcm9taWQ9MTIwMDM0ODgmYW1wO2ZyPWFsYWRkaW4=\">猜数字（Bulls and Cows）</span>游戏，该游戏规则如下：</p>\n<p>写出一个秘密数字，并请朋友猜这个数字是多少。朋友每猜测一次，你就会给他一个包含下述信息的提示：</p>\n<ul>\n<li>猜测数字中有多少位属于数字和确切位置都猜对了（称为 “Bulls”，公牛），</li>\n<li>有多少位属于数字猜对了但是位置不对（称为 “Cows”，奶牛）。也就是说，这次猜测中有多少位非公牛数字可以通过重新排列转换成公牛数字。</li>\n</ul>\n<p>给你一个秘密数字  <code>secret</code>  和朋友猜测的数字  <code>guess</code>  ，请你返回对朋友这次猜测的提示。</p>\n<p>提示的格式为  <code>&quot;xAyB&quot;</code>  ， <code>x</code>  是公牛个数，  <code>y</code>  是奶牛个数， <code>A</code>  表示公牛， <code>B</code>  表示奶牛。</p>\n<p>请注意秘密数字和朋友猜测的数字都可能含有重复数字。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight 1c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：secret <span class=\"punctuation\">=</span> <span class=\"string\">&quot;1807&quot;</span><span class=\"punctuation\">,</span> guess <span class=\"punctuation\">=</span> <span class=\"string\">&quot;7810&quot;</span></span><br><span class=\"line\">输出：<span class=\"string\">&quot;1A3B&quot;</span></span><br><span class=\"line\">解释：数字和位置都对（公牛）用 &#x27;|&#x27; 连接，数字猜对位置不对（奶牛）的采用斜体加粗标识。</span><br><span class=\"line\"><span class=\"string\">&quot;1807&quot;</span></span><br><span class=\"line\">  <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">&quot;7810&quot;</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight smalltalk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：secret = <span class=\"comment\">&quot;1123&quot;</span>, guess = <span class=\"comment\">&quot;0111&quot;</span></span><br><span class=\"line\">输出：<span class=\"comment\">&quot;1A1B&quot;</span></span><br><span class=\"line\">解释：数字和位置都对（公牛）用 <span class=\"string\">&#x27;|&#x27;</span> 连接，数字猜对位置不对（奶牛）的采用斜体加粗标识。</span><br><span class=\"line\"><span class=\"comment\">&quot;1123&quot;</span>        <span class=\"comment\">&quot;1123&quot;</span></span><br><span class=\"line\">  |      or     |</span><br><span class=\"line\"><span class=\"comment\">&quot;0111&quot;</span>        <span class=\"comment\">&quot;0111&quot;</span></span><br><span class=\"line\">注意，两个不匹配的 <span class=\"number\">1</span> 中，只有一个会算作奶牛（数字猜对位置不对）。通过重新排列非公牛数字，其中仅有一个 <span class=\"number\">1</span> 可以成为公牛数字。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= secret.length, guess.length &lt;= 1000</code></li>\n<li><code>secret.length == guess.length</code></li>\n<li><code>secret</code>  和  <code>guess</code>  仅由数字组成</li>\n</ul>\n<p>解法一：用字典进行保存</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;unordered_map&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"function\">string <span class=\"title\">getHint</span><span class=\"params\">(string secret, string guess)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> length = secret.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">    unordered_map&lt;string,<span class=\"type\">int</span>&gt; secret_map;</span><br><span class=\"line\">    unordered_map&lt;string,<span class=\"type\">int</span>&gt; guess_map;</span><br><span class=\"line\">    <span class=\"type\">int</span> x=<span class=\"number\">0</span>,y=<span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;length;i++)&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(secret[i]==guess[i]) x++;</span><br><span class=\"line\">      <span class=\"keyword\">else</span></span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">             secret_map[<span class=\"built_in\">to_string</span>(secret[i])]++;  </span><br><span class=\"line\">             guess_map[<span class=\"built_in\">to_string</span>(guess[i])]++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">auto</span> &amp;[key,value]:secret_map)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(secret_map[key]&gt;guess_map[key])&#123;</span><br><span class=\"line\">            y+=guess_map[key];</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            y+=value;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"built_in\">to_string</span>(x) + <span class=\"string\">&quot;A&quot;</span> + <span class=\"built_in\">to_string</span>(y) + <span class=\"string\">&quot;B&quot;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//string secret = &quot;1807&quot;, guess = &quot;7810&quot;;</span></span><br><span class=\"line\">        string secret = <span class=\"string\">&quot;1123&quot;</span>, guess = <span class=\"string\">&quot;0111&quot;</span>;</span><br><span class=\"line\">        cout &lt;&lt; <span class=\"built_in\">getHint</span>(secret,guess) &lt;&lt;endl;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>解法二：还是解法一的思路，但是优化了内存，并且直接使用数组进行保存</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">string <span class=\"title\">getHint</span><span class=\"params\">(string secret, string guess)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">//定义两个全零数组</span></span><br><span class=\"line\">           <span class=\"type\">int</span> m_a[<span class=\"number\">10</span>] = &#123;<span class=\"number\">0</span>&#125;, m_b[<span class=\"number\">10</span>] = &#123;<span class=\"number\">0</span>&#125;;</span><br><span class=\"line\">        <span class=\"type\">int</span> a = <span class=\"number\">0</span>, b = <span class=\"number\">0</span>, n = secret.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">            <span class=\"comment\">//记录两个字符串中的数字分别出现的次数</span></span><br><span class=\"line\">            m_a[secret[i] - <span class=\"string\">&#x27;0&#x27;</span>]++;</span><br><span class=\"line\">            m_b[guess[i] - <span class=\"string\">&#x27;0&#x27;</span>]++;</span><br><span class=\"line\">            <span class=\"comment\">// 如果出现值和位置都对的，直接记录</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(secret[i] == guess[i]) a++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 记录一样的数字的次数的交集个数，然后减去位置相同的情况，就是值相同，而位置不同的个数</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">10</span>; i++) b += <span class=\"built_in\">min</span>(m_a[i], m_b[i]);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"built_in\">to_string</span>(a) + <span class=\"string\">&#x27;A&#x27;</span> + <span class=\"built_in\">to_string</span>(b - a) + <span class=\"string\">&#x27;B&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//     int A=0,B=0;</span></span><br><span class=\"line\">    <span class=\"comment\">//     set&lt;int&gt; flag;</span></span><br><span class=\"line\">    <span class=\"comment\">//  //先遍历一次，找到数字和位置都对的个数</span></span><br><span class=\"line\">    <span class=\"comment\">//   for(int i=0;i&lt;secret.length();i++)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//       if(secret[i]==guess[i])&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//           A++;</span></span><br><span class=\"line\">    <span class=\"comment\">//           // 利用集合来记录数字和位置都对的下标位置</span></span><br><span class=\"line\">    <span class=\"comment\">//           flag.insert(i);</span></span><br><span class=\"line\">    <span class=\"comment\">//       &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//   &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//   //定义一个multiset存储guess</span></span><br><span class=\"line\">    <span class=\"comment\">//   multiset&lt;char&gt; g;</span></span><br><span class=\"line\">    <span class=\"comment\">//   for(int i=0;i&lt;guess.length();i++)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//       g.insert(guess[i]);</span></span><br><span class=\"line\">    <span class=\"comment\">//   &#125;</span></span><br><span class=\"line\">      </span><br><span class=\"line\">    <span class=\"comment\">//  //排除数字和位置都对的位置，对其他位置进行检索</span></span><br><span class=\"line\">    <span class=\"comment\">//  for(int i=0;i&lt;secret.length();i++)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//      //如果当前位置已经对了，就跳过</span></span><br><span class=\"line\">    <span class=\"comment\">//      if((flag.find(i))!=flag.end())&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//          continue;</span></span><br><span class=\"line\">    <span class=\"comment\">//      &#125;</span></span><br><span class=\"line\">         </span><br><span class=\"line\">    <span class=\"comment\">//      if(g.find(secret[i])!=g.end())&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//          B++;</span></span><br><span class=\"line\">    <span class=\"comment\">//          g.earse(g.find(secret[i]),g.find(secret[i])+1);</span></span><br><span class=\"line\">    <span class=\"comment\">//      &#125;  </span></span><br><span class=\"line\">    <span class=\"comment\">//  &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//  return A+&quot;A&quot;+B+&quot;B&quot;;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"2386-找出数组的第-k-大和\"><a class=\"anchor\" href=\"#2386-找出数组的第-k-大和\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9maW5kLXRoZS1rLXN1bS1vZi1hbi1hcnJheS8=\">2386. 找出数组的第 K 大和</span></h4>\n<p>困难</p>\n<p>给你一个整数数组  <code>nums</code>  和一个 <strong>正</strong> 整数  <code>k</code>  。你可以选择数组的任一 <strong>子序列</strong> 并且对其全部元素求和。</p>\n<p>数组的 <strong>第 k 大和</strong> 定义为：可以获得的第  <code>k</code>  个 <strong>最大</strong> 子序列和（子序列和允许出现重复）</p>\n<p>返回数组的 <strong>第 k 大和</strong> 。</p>\n<p>子序列是一个可以由其他数组删除某些或不删除元素排生而来的数组，且派生过程不改变剩余元素的顺序。</p>\n<p>** 注意：** 空子序列的和视作  <code>0</code>  。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight subunit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = [2,4,<span class=\"string\">-2</span>], k = 5</span><br><span class=\"line\">输出：2</span><br><span class=\"line\">解释：所有可能获得的子序列和列出如下，按递减顺序排列：</span><br><span class=\"line\">- 6、4、4、2、2、0、0、<span class=\"string\">-2</span></span><br><span class=\"line\">数组的第 5 大和是 2 。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight subunit\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = [1,<span class=\"string\">-2</span>,3,4,<span class=\"string\">-10</span>,12], k = 16</span><br><span class=\"line\">输出：10</span><br><span class=\"line\">解释：数组的第 16 大和是 10 。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>n == nums.length</code></li>\n<li><code>1 &lt;= n &lt;= 105</code></li>\n<li><code>-109 &lt;= nums[i] &lt;= 109</code></li>\n<li><code>1 &lt;= k &lt;= min(2000, 2n)</code></li>\n</ul>\n<p>解法：优先队列</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;vector&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;queue&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;algorithm&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 如果都是非负数的话</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">long</span> <span class=\"type\">long</span>  <span class=\"title\">sum_k</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt; nums,<span class=\"type\">int</span> k)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> length =nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">    priority_queue&lt;pair&lt;<span class=\"type\">int</span> ,<span class=\"type\">int</span>&gt;,vector&lt;pair&lt;<span class=\"type\">int</span>,<span class=\"type\">int</span>&gt;&gt;,greater&lt;&gt;&gt; pq;</span><br><span class=\"line\">    <span class=\"comment\">//首先将（0,-1）加进去</span></span><br><span class=\"line\">    <span class=\"built_in\">sort</span>(nums.<span class=\"built_in\">begin</span>(),nums.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">    pq.<span class=\"built_in\">push</span>(&#123;nums[<span class=\"number\">0</span>],<span class=\"number\">0</span>&#125;);</span><br><span class=\"line\">    <span class=\"type\">long</span> <span class=\"type\">long</span> res = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j=<span class=\"number\">1</span>; j&lt;k; j++)&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 取出当前堆顶</span></span><br><span class=\"line\">        <span class=\"keyword\">auto</span> [t,i] = pq.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">        pq.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">        res = t;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(i == length <span class=\"number\">-1</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        pq.<span class=\"built_in\">push</span>(&#123;t + nums[i<span class=\"number\">+1</span>],i<span class=\"number\">+1</span>&#125;);</span><br><span class=\"line\">        pq.<span class=\"built_in\">push</span>(&#123;t + nums[i<span class=\"number\">+1</span>]-nums[i],i<span class=\"number\">+1</span>&#125;);        </span><br><span class=\"line\">    &#125;  </span><br><span class=\"line\">    <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">long</span> <span class=\"type\">long</span> <span class=\"title\">kSum</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt; &amp; nums, <span class=\"type\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">       <span class=\"type\">int</span> length =nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">       <span class=\"type\">long</span> <span class=\"type\">long</span> result = <span class=\"number\">0</span>;</span><br><span class=\"line\">       <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;length;i++)&#123;</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(nums[i]&gt;<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">             result += nums[i];</span><br><span class=\"line\">          &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">             nums[i] = -nums[i];</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> result - <span class=\"built_in\">sum_k</span>(nums,k);</span><br><span class=\"line\">       </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; nums = &#123;<span class=\"number\">2</span>,<span class=\"number\">4</span>,<span class=\"number\">-2</span>&#125;; </span><br><span class=\"line\">    <span class=\"type\">int</span> k = <span class=\"number\">5</span> ;</span><br><span class=\"line\">    cout &lt;&lt; <span class=\"built_in\">kSum</span>(nums,k) &lt;&lt; endl; </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"1553-吃掉-n-个橘子的最少天数\"><a class=\"anchor\" href=\"#1553-吃掉-n-个橘子的最少天数\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9taW5pbXVtLW51bWJlci1vZi1kYXlzLXRvLWVhdC1uLW9yYW5nZXMv\">1553. 吃掉 N 个橘子的最少天数</span></h4>\n<p>厨房里总共有  <code>n</code>  个橘子，你决定每一天选择如下方式之一吃这些橘子：</p>\n<ul>\n<li>吃掉一个橘子。</li>\n<li>如果剩余橘子数  <code>n</code>  能被 2 整除，那么你可以吃掉  <code>n/2</code>  个橘子。</li>\n<li>如果剩余橘子数  <code>n</code>  能被 3 整除，那么你可以吃掉  <code>2*(n/3)</code>  个橘子。</li>\n</ul>\n<p>每天你只能从以上 3 种方案中选择一种方案。</p>\n<p>请你返回吃掉所有  <code>n</code>  个橘子的最少天数。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：n = 10</span><br><span class=\"line\">输出：4</span><br><span class=\"line\">解释：你总共有<span class=\"number\"> 10 </span>个橘子。</span><br><span class=\"line\">第<span class=\"number\"> 1 </span>天：吃<span class=\"number\"> 1 </span>个橘子，剩余橘子数<span class=\"number\"> 10 </span>-<span class=\"number\"> 1 </span>= 9。</span><br><span class=\"line\">第<span class=\"number\"> 2 </span>天：吃<span class=\"number\"> 6 </span>个橘子，剩余橘子数<span class=\"number\"> 9 </span>- 2*(9/3) =<span class=\"number\"> 9 </span>-<span class=\"number\"> 6 </span>= 3。（9 可以被<span class=\"number\"> 3 </span>整除）</span><br><span class=\"line\">第<span class=\"number\"> 3 </span>天：吃<span class=\"number\"> 2 </span>个橘子，剩余橘子数<span class=\"number\"> 3 </span>- 2*(3/3) =<span class=\"number\"> 3 </span>-<span class=\"number\"> 2 </span>= 1。</span><br><span class=\"line\">第<span class=\"number\"> 4 </span>天：吃掉最后<span class=\"number\"> 1 </span>个橘子，剩余橘子数<span class=\"number\"> 1 </span>-<span class=\"number\"> 1 </span>= 0。</span><br><span class=\"line\">你需要至少<span class=\"number\"> 4 </span>天吃掉<span class=\"number\"> 10 </span>个橘子。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：n = 6</span><br><span class=\"line\">输出：3</span><br><span class=\"line\">解释：你总共有<span class=\"number\"> 6 </span>个橘子。</span><br><span class=\"line\">第<span class=\"number\"> 1 </span>天：吃<span class=\"number\"> 3 </span>个橘子，剩余橘子数<span class=\"number\"> 6 </span>- 6/2 =<span class=\"number\"> 6 </span>-<span class=\"number\"> 3 </span>= 3。（6 可以被<span class=\"number\"> 2 </span>整除）</span><br><span class=\"line\">第<span class=\"number\"> 2 </span>天：吃<span class=\"number\"> 2 </span>个橘子，剩余橘子数<span class=\"number\"> 3 </span>- 2*(3/3) =<span class=\"number\"> 3 </span>-<span class=\"number\"> 2 </span>= 1。（3 可以被<span class=\"number\"> 3 </span>整除）</span><br><span class=\"line\">第<span class=\"number\"> 3 </span>天：吃掉剩余<span class=\"number\"> 1 </span>个橘子，剩余橘子数<span class=\"number\"> 1 </span>-<span class=\"number\"> 1 </span>= 0。</span><br><span class=\"line\">你至少需要<span class=\"number\"> 3 </span>天吃掉<span class=\"number\"> 6 </span>个橘子。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：n <span class=\"operator\">=</span> <span class=\"number\">1</span></span><br><span class=\"line\">输出：<span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 4：</strong></p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：n <span class=\"operator\">=</span> <span class=\"number\">56</span></span><br><span class=\"line\">输出：<span class=\"number\">6</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= n &lt;= 2*10^9</code></li>\n</ul>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20240512201903900.png\" alt=\"image-20240512201903900\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">minDays</span><span class=\"params\">(<span class=\"type\">int</span> n)</span> </span>&#123;</span><br><span class=\"line\">   <span class=\"comment\">//   vector&lt;int&gt; dp(n+1,-1);</span></span><br><span class=\"line\">   <span class=\"comment\">//   function&lt;int(int)&gt; days = [&amp;](int num)-&gt;int&#123;</span></span><br><span class=\"line\">   <span class=\"comment\">//     if(num==0)&#123;</span></span><br><span class=\"line\">   <span class=\"comment\">//         return 0;</span></span><br><span class=\"line\">   <span class=\"comment\">//     &#125;</span></span><br><span class=\"line\">   <span class=\"comment\">//     if(dp[num]!=-1)&#123;</span></span><br><span class=\"line\">   <span class=\"comment\">//         return dp[num];</span></span><br><span class=\"line\">   <span class=\"comment\">//     &#125;</span></span><br><span class=\"line\">   <span class=\"comment\">//     int D = INT_MAX;</span></span><br><span class=\"line\">   <span class=\"comment\">//     dp[num-1] = days(num-1);</span></span><br><span class=\"line\">   <span class=\"comment\">//     D = min(D,1 + dp[num-1]);</span></span><br><span class=\"line\">   <span class=\"comment\">//     if(num%2 == 0)&#123;</span></span><br><span class=\"line\">   <span class=\"comment\">//         dp[num/2] = days(num/2);</span></span><br><span class=\"line\">   <span class=\"comment\">//         D = min(D,1 + dp[num/2]);</span></span><br><span class=\"line\">   <span class=\"comment\">//     &#125;</span></span><br><span class=\"line\">   <span class=\"comment\">//     if(num%3 == 0)&#123;</span></span><br><span class=\"line\">   <span class=\"comment\">//         dp[num/3] = days(num/3);</span></span><br><span class=\"line\">   <span class=\"comment\">//         D = min(D, 1 + dp[num/3]);</span></span><br><span class=\"line\">   <span class=\"comment\">//     &#125;</span></span><br><span class=\"line\">   <span class=\"comment\">//     dp[num] = D;</span></span><br><span class=\"line\">   <span class=\"comment\">//     return dp[num];</span></span><br><span class=\"line\">   <span class=\"comment\">//   &#125;;</span></span><br><span class=\"line\">   <span class=\"comment\">//   return days(n);</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">// vector&lt;int&gt; dp(n+1,INT_MAX);</span></span><br><span class=\"line\">   <span class=\"comment\">// dp[0] = 0;</span></span><br><span class=\"line\">   <span class=\"comment\">// dp[1] = 1;</span></span><br><span class=\"line\">   <span class=\"comment\">// for(int i = 2;i&lt;n+1;i++)&#123;</span></span><br><span class=\"line\">   <span class=\"comment\">//     dp[i] = min(dp[i] , dp[i-1] + 1);</span></span><br><span class=\"line\">   <span class=\"comment\">//     if(i%2==0)&#123;</span></span><br><span class=\"line\">   <span class=\"comment\">//         dp[i] = min(dp[i],dp[i/2] + 1);</span></span><br><span class=\"line\">   <span class=\"comment\">//     &#125;</span></span><br><span class=\"line\">   <span class=\"comment\">//     if(i%3==0)&#123;</span></span><br><span class=\"line\">   <span class=\"comment\">//         dp[i] = min(dp[i],dp[i/3] + 1);</span></span><br><span class=\"line\">   <span class=\"comment\">//     &#125;</span></span><br><span class=\"line\">   <span class=\"comment\">// &#125;</span></span><br><span class=\"line\">   <span class=\"comment\">// return dp[n];</span></span><br><span class=\"line\">   <span class=\"comment\">//vector&lt;int&gt;  memo(n+1,-1);</span></span><br><span class=\"line\">  <span class=\"comment\">// 只有下面的这个可以通过</span></span><br><span class=\"line\">   <span class=\"keyword\">if</span> (n &lt; <span class=\"number\">2</span>) &#123;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> n;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   </span><br><span class=\"line\">   <span class=\"keyword\">return</span>  <span class=\"built_in\">min</span>(<span class=\"built_in\">minDays</span>(n &gt;&gt; <span class=\"number\">1</span>) + <span class=\"number\">1</span> + (n &amp; <span class=\"number\">1</span>), <span class=\"built_in\">minDays</span>(n / <span class=\"number\">3</span>) + <span class=\"number\">1</span> + n % <span class=\"number\">3</span>);</span><br><span class=\"line\">   </span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"2589-完成所有任务的最少时间\"><a class=\"anchor\" href=\"#2589-完成所有任务的最少时间\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9taW5pbXVtLXRpbWUtdG8tY29tcGxldGUtYWxsLXRhc2tzLw==\">2589. 完成所有任务的最少时间</span></h4>\n<p>你有一台电脑，它可以 <strong>同时</strong> 运行无数个任务。给你一个二维整数数组  <code>tasks</code>  ，其中  <code>tasks[i] = [starti, endi, durationi]</code>  表示第  <code>i</code>  个任务需要在 <strong>闭区间</strong> 时间段  <code>[starti, endi]</code>  内运行  <code>durationi</code>  个整数时间点（但不需要连续）。</p>\n<p>当电脑需要运行任务时，你可以打开电脑，如果空闲时，你可以将电脑关闭。</p>\n<p>请你返回完成所有任务的情况下，电脑最少需要运行多少秒。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：tasks = <span class=\"comment\">[<span class=\"comment\">[2,3,1]</span>,<span class=\"comment\">[4,5,1]</span>,<span class=\"comment\">[1,5,2]</span>]</span></span><br><span class=\"line\">输出：2</span><br><span class=\"line\">解释：</span><br><span class=\"line\">- 第一个任务在闭区间 <span class=\"comment\">[2, 2]</span> 运行。</span><br><span class=\"line\">- 第二个任务在闭区间 <span class=\"comment\">[5, 5]</span> 运行。</span><br><span class=\"line\">- 第三个任务在闭区间 <span class=\"comment\">[2, 2]</span> 和 <span class=\"comment\">[5, 5]</span> 运行。</span><br><span class=\"line\">电脑总共运行 2 个整数时间点。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：tasks = <span class=\"comment\">[<span class=\"comment\">[1,3,2]</span>,<span class=\"comment\">[2,5,3]</span>,<span class=\"comment\">[5,6,2]</span>]</span></span><br><span class=\"line\">输出：4</span><br><span class=\"line\">解释：</span><br><span class=\"line\">- 第一个任务在闭区间 <span class=\"comment\">[2, 3]</span> 运行</span><br><span class=\"line\">- 第二个任务在闭区间 <span class=\"comment\">[2, 3]</span> 和 <span class=\"comment\">[5, 5]</span> 运行。</span><br><span class=\"line\">- 第三个任务在闭区间 <span class=\"comment\">[5, 6]</span> 运行。</span><br><span class=\"line\">电脑总共运行 4 个整数时间点。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= tasks.length &lt;= 2000</code></li>\n<li><code>tasks[i].length == 3</code></li>\n<li><code>1 &lt;= starti, endi &lt;= 2000</code></li>\n<li><code>1 &lt;= durationi &lt;= endi - starti + 1 </code></li>\n</ul>\n<p><strong>贪心思想</strong></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">findMinimumTime</span><span class=\"params\">(vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; tasks)</span> </span>&#123;</span><br><span class=\"line\">   <span class=\"comment\">// 首先，先根据任务的结束时间 end 从小到大进行排序</span></span><br><span class=\"line\">   <span class=\"built_in\">sort</span>(tasks.<span class=\"built_in\">begin</span>(),tasks.<span class=\"built_in\">end</span>(),[&amp;](<span class=\"type\">const</span> vector&lt;<span class=\"type\">int</span>&gt; &amp;t1,<span class=\"type\">const</span> vector&lt;<span class=\"type\">int</span>&gt; &amp;t2)-&gt;<span class=\"type\">bool</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> t1[<span class=\"number\">1</span>] &lt; t2[<span class=\"number\">1</span>];</span><br><span class=\"line\">   &#125;);</span><br><span class=\"line\">   <span class=\"type\">int</span> n = tasks.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">   <span class=\"comment\">// 排完序之后，用 run 数组去记录当前某一个时间点是否已经有任务在运行，该任务的目的就是尽可能的将</span></span><br><span class=\"line\">   <span class=\"comment\">// 新任务都安排在已经存在的任务点上面，根据一种贪心的思想去使得更多的任务点并行</span></span><br><span class=\"line\">   <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt;  <span class=\"title\">run</span><span class=\"params\">(tasks[n<span class=\"number\">-1</span>][<span class=\"number\">1</span>] + <span class=\"number\">1</span>)</span></span>;</span><br><span class=\"line\">   <span class=\"type\">int</span> ressult = <span class=\"number\">0</span> ;</span><br><span class=\"line\">   <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i = <span class=\"number\">0</span>;i&lt;n;i++)&#123;</span><br><span class=\"line\">         <span class=\"comment\">// 按照已经排好序的数组，从前到后依次取出每一个任务的信息</span></span><br><span class=\"line\">         <span class=\"type\">int</span> start = tasks[i][<span class=\"number\">0</span>] ,end = tasks[i][<span class=\"number\">1</span>] ,duration = tasks[i][<span class=\"number\">2</span>];</span><br><span class=\"line\">         </span><br><span class=\"line\">         <span class=\"comment\">// 查找 在该任务范围内已经存在的任务时间点数，然后将任务尽可能的安排在上面，得到剩下的任务数</span></span><br><span class=\"line\">         duration -= <span class=\"built_in\">accumulate</span>(run.<span class=\"built_in\">begin</span>() + start ,run.<span class=\"built_in\">begin</span>() + end  + <span class=\"number\">1</span> ,<span class=\"number\">0</span>);</span><br><span class=\"line\">          </span><br><span class=\"line\">         <span class=\"comment\">// 将剩下的作为新增的时间点，加到最后的结果上</span></span><br><span class=\"line\">         result += <span class=\"built_in\">max</span>(duration,<span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">         <span class=\"comment\">// 然后 将已经安排到之前已经存在的任务时间点上之后剩下的任务，从右到左安排在 该任务指定的时间点上面</span></span><br><span class=\"line\">         <span class=\"comment\">// 为啥要从左到右呢 ？ 就是为了更方便于后面的任务合并上来，尽可能的安排在更靠近下一个区间，导致后面的任务有更多的机会合并在已经存在的任务点上</span></span><br><span class=\"line\">         <span class=\"keyword\">for</span>(<span class=\"type\">int</span> j = end;j&gt;=<span class=\"number\">0</span> &amp;&amp; duration&gt;<span class=\"number\">0</span>;j--)&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 要找此时没有分配任务的时间点，因为有任务的时间点，已经分配过了，单个时间段的任务是不可重叠的</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(run[j] == <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">                duration--;</span><br><span class=\"line\">                run[j] = <span class=\"number\">1</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">         &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">     </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"1542-找出最长的超赞子字符串\"><a class=\"anchor\" href=\"#1542-找出最长的超赞子字符串\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9maW5kLWxvbmdlc3QtYXdlc29tZS1zdWJzdHJpbmcv\">1542. 找出最长的超赞子字符串</span></h4>\n<p>给你一个字符串  <code>s</code>  。请返回  <code>s</code>  中最长的 <strong>超赞子字符串</strong> 的长度。</p>\n<p>「超赞子字符串」需满足满足下述两个条件：</p>\n<ul>\n<li>该字符串是  <code>s</code>  的一个非空子字符串</li>\n<li>进行任意次数的字符交换后，该字符串可以变成一个回文字符串</li>\n</ul>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：s <span class=\"operator\">=</span> <span class=\"string\">&quot;3242415&quot;</span></span><br><span class=\"line\">输出：<span class=\"number\">5</span></span><br><span class=\"line\">解释：<span class=\"string\">&quot;24241&quot;</span> 是最长的超赞子字符串，交换其中的字符后，可以得到回文 <span class=\"string\">&quot;24142&quot;</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：s <span class=\"operator\">=</span> <span class=\"string\">&quot;12345678&quot;</span></span><br><span class=\"line\">输出：<span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：s <span class=\"operator\">=</span> <span class=\"string\">&quot;213123&quot;</span></span><br><span class=\"line\">输出：<span class=\"number\">6</span></span><br><span class=\"line\">解释：<span class=\"string\">&quot;213123&quot;</span> 是最长的超赞子字符串，交换其中的字符后，可以得到回文 <span class=\"string\">&quot;231132&quot;</span></span><br></pre></td></tr></table></figure>\n<p><strong>示例 4：</strong></p>\n<figure class=\"highlight abnf\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：s <span class=\"operator\">=</span> <span class=\"string\">&quot;00&quot;</span></span><br><span class=\"line\">输出：<span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= s.length &lt;= 10^5</code></li>\n<li><code>s</code>  仅由数字组成</li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">longestAwesome</span><span class=\"params\">(string s)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> n = s.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        unordered_map&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt; prefix = &#123;&#123;<span class=\"number\">0</span>, <span class=\"number\">-1</span>&#125;&#125;;</span><br><span class=\"line\">        <span class=\"type\">int</span> ans = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"type\">int</span> sequence = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt; n; ++j) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> digit = s[j] - <span class=\"string\">&#x27;0&#x27;</span>;</span><br><span class=\"line\">            <span class=\"comment\">// 不断地更新 t[0,j] ，即状态压缩之后的代表[0,j]范围内0-9每一个数字出现的奇偶性 0-偶数，1-奇数</span></span><br><span class=\"line\">            sequence ^= (<span class=\"number\">1</span> &lt;&lt; digit);</span><br><span class=\"line\">            <span class=\"comment\">// 因为如果s[i,j]是一个可以经过任意交换后，形成回文子字符串，那么t[0,i-1](i&lt;j)和t[0,j]的至多会有一个二进制位不同</span></span><br><span class=\"line\">            <span class=\"comment\">// 因为如果这个s[i,j]满足回文性质的话，至多只有一个数字出现的次数为奇数，其他都是偶数，而根据前缀和的性质，s[i,j]</span></span><br><span class=\"line\">            <span class=\"comment\">// 中，某一个数字出现的次数，是s[0,j] - s[0,i-1] 所以s[i,j] 是偶数的情况只有两种 即，偶数-偶数 或者 奇数-奇数</span></span><br><span class=\"line\">            <span class=\"comment\">// 至多有一个相同，也可能相同 ，即s[i,j] 中都是出现偶数次</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 在这里就是寻找之前记录的状态 t[0,i] 中是否存在一样的，如果存在一样的，就说明存在一个 i(i&lt;j) 使得s[i+1,j] 满足条件 </span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (prefix.<span class=\"built_in\">count</span>(sequence)) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 不断更新结果</span></span><br><span class=\"line\">                ans = <span class=\"built_in\">max</span>(ans, j - prefix[sequence]);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 不存在的话，就记录当前的 t[0,j]</span></span><br><span class=\"line\">                prefix[sequence] = j;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 遍历每一个数位，通过翻转各个位置，找到之前已经记录过的 i(i&lt;j) 与当前的状态 t[0,j] 是否存在一个位置不一样的情况</span></span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> k = <span class=\"number\">0</span>; k &lt; <span class=\"number\">10</span>; ++k) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (prefix.<span class=\"built_in\">count</span>(sequence ^ (<span class=\"number\">1</span> &lt;&lt; k))) &#123;</span><br><span class=\"line\">                    <span class=\"comment\">// 如果存在的话，就更新此时的结果</span></span><br><span class=\"line\">                    ans = <span class=\"built_in\">max</span>(ans, j - prefix[sequence ^ (<span class=\"number\">1</span> &lt;&lt; k)]);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ans;</span><br><span class=\"line\"></span><br><span class=\"line\">       </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"3072-将元素分配到两个数组中-ii\"><a class=\"anchor\" href=\"#3072-将元素分配到两个数组中-ii\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9kaXN0cmlidXRlLWVsZW1lbnRzLWludG8tdHdvLWFycmF5cy1paS8=\">3072. 将元素分配到两个数组中 II</span></h4>\n<p>给你一个下标从 <strong>1</strong> 开始、长度为  <code>n</code>  的整数数组  <code>nums</code>  。</p>\n<p>现定义函数  <code>greaterCount</code>  ，使得  <code>greaterCount(arr, val)</code>  返回数组  <code>arr</code>  中 <strong>严格大于</strong>  <code>val</code>  的元素数量。</p>\n<p>你需要使用  <code>n</code>  次操作，将  <code>nums</code>  的所有元素分配到两个数组  <code>arr1</code>  和  <code>arr2</code>  中。在第一次操作中，将  <code>nums[1]</code>  追加到  <code>arr1</code>  。在第二次操作中，将  <code>nums[2]</code>  追加到  <code>arr2</code>  。之后，在第  <code>i</code>  次操作中：</p>\n<ul>\n<li>如果  <code>greaterCount(arr1, nums[i]) &gt; greaterCount(arr2, nums[i])</code>  ，将  <code>nums[i]</code>  追加到  <code>arr1</code>  。</li>\n<li>如果  <code>greaterCount(arr1, nums[i]) &lt; greaterCount(arr2, nums[i])</code>  ，将  <code>nums[i]</code>  追加到  <code>arr2</code>  。</li>\n<li>如果  <code>greaterCount(arr1, nums[i]) == greaterCount(arr2, nums[i])</code>  ，将  <code>nums[i]</code>  追加到元素数量较少的数组中。</li>\n<li>如果仍然相等，那么将  <code>nums[i]</code>  追加到  <code>arr1</code>  。</li>\n</ul>\n<p>连接数组  <code>arr1</code>  和  <code>arr2</code>  形成数组  <code>result</code>  。例如，如果  <code>arr1 == [1,2,3]</code>  且  <code>arr2 == [4,5,6]</code>  ，那么  <code>result = [1,2,3,4,5,6]</code>  。</p>\n<p>返回整数数组  <code>result</code>  。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = <span class=\"comment\">[2,1,3,3]</span></span><br><span class=\"line\">输出：<span class=\"comment\">[2,3,1,3]</span></span><br><span class=\"line\">解释：在前两次操作后，arr1 = <span class=\"comment\">[2]</span> ，arr2 = <span class=\"comment\">[1]</span> 。</span><br><span class=\"line\">在第 3 次操作中，两个数组中大于 3 的元素数量都是零，并且长度相等，因此，将 nums<span class=\"comment\">[3]</span> 追加到 arr1 。</span><br><span class=\"line\">在第 4 次操作中，两个数组中大于 3 的元素数量都是零，但 arr2 的长度较小，因此，将 nums<span class=\"comment\">[4]</span> 追加到 arr2 。</span><br><span class=\"line\">在 4 次操作后，arr1 = <span class=\"comment\">[2,3]</span> ，arr2 = <span class=\"comment\">[1,3]</span> 。</span><br><span class=\"line\">因此，连接形成的数组 result 是 <span class=\"comment\">[2,3,1,3]</span> 。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = <span class=\"comment\">[5,14,3,1,2]</span></span><br><span class=\"line\">输出：<span class=\"comment\">[5,3,1,2,14]</span></span><br><span class=\"line\">解释：在前两次操作后，arr1 = <span class=\"comment\">[5]</span> ，arr2 = <span class=\"comment\">[14]</span> 。</span><br><span class=\"line\">在第 3 次操作中，两个数组中大于 3 的元素数量都是一，并且长度相等，因此，将 nums<span class=\"comment\">[3]</span> 追加到 arr1 。</span><br><span class=\"line\">在第 4 次操作中，arr1 中大于 1 的元素数量大于 arr2 中的数量（2 &gt; 1），因此，将 nums<span class=\"comment\">[4]</span> 追加到 arr1 。</span><br><span class=\"line\">在第 5 次操作中，arr1 中大于 2 的元素数量大于 arr2 中的数量（2 &gt; 1），因此，将 nums<span class=\"comment\">[5]</span> 追加到 arr1 。</span><br><span class=\"line\">在 5 次操作后，arr1 = <span class=\"comment\">[5,3,1,2]</span> ，arr2 = <span class=\"comment\">[14]</span> 。</span><br><span class=\"line\">因此，连接形成的数组 result 是 <span class=\"comment\">[5,3,1,2,14]</span> 。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：nums = <span class=\"comment\">[3,3,3,3]</span></span><br><span class=\"line\">输出：<span class=\"comment\">[3,3,3,3]</span></span><br><span class=\"line\">解释：在 4 次操作后，arr1 = <span class=\"comment\">[3,3]</span> ，arr2 = <span class=\"comment\">[3,3]</span> 。</span><br><span class=\"line\">因此，连接形成的数组 result 是 <span class=\"comment\">[3,3,3,3]</span> 。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>3 &lt;= n &lt;= 105</code></li>\n<li><code>1 &lt;= nums[i] &lt;= 109</code></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">BinaryIndexedTree</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">private</span>:</span><br><span class=\"line\">    vector&lt;<span class=\"type\">int</span>&gt; tree;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"built_in\">BinaryIndexedTree</span>(<span class=\"type\">int</span> n) : <span class=\"built_in\">tree</span>(n + <span class=\"number\">1</span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">add</span><span class=\"params\">(<span class=\"type\">int</span> i)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (i &lt; tree.<span class=\"built_in\">size</span>()) &#123;</span><br><span class=\"line\">            tree[i] += <span class=\"number\">1</span>;</span><br><span class=\"line\">            i += i &amp; -i;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">get</span><span class=\"params\">(<span class=\"type\">int</span> i)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> res = <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"keyword\">while</span> (i &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            res += tree[i];</span><br><span class=\"line\">            i &amp;= i - <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">resultArray</span><span class=\"params\">(vector&lt;<span class=\"type\">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//    function&lt;int(vector&lt;int&gt; ,int)&gt; greaterCount = [&amp;](vector&lt;int&gt; vec,int val)-&gt;int&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//         int left = 0 ,right =  vec.size();</span></span><br><span class=\"line\">    <span class=\"comment\">//         int mid;</span></span><br><span class=\"line\">    <span class=\"comment\">//         while(left&lt;right)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//             mid = (left + right)&gt;&gt;1;</span></span><br><span class=\"line\">    <span class=\"comment\">//             if(vec[mid]&gt;val)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 right = mid;</span></span><br><span class=\"line\">    <span class=\"comment\">//             &#125;else&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 left = mid + 1;</span></span><br><span class=\"line\">    <span class=\"comment\">//             &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//         &#125; </span></span><br><span class=\"line\">    <span class=\"comment\">//         return left;</span></span><br><span class=\"line\">    <span class=\"comment\">//    &#125;;</span></span><br><span class=\"line\">    <span class=\"comment\">//    vector&lt;int&gt; arr1;</span></span><br><span class=\"line\">    <span class=\"comment\">//    vector&lt;int&gt; arr2;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//    vector&lt;int&gt; arr1_seq;</span></span><br><span class=\"line\">    <span class=\"comment\">//    vector&lt;int&gt; arr2_seq;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//    for(int i = 0;i&lt;nums.size();i++)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//      if(i == 0)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//          arr1.emplace_back(nums[i]);</span></span><br><span class=\"line\">    <span class=\"comment\">//          arr1_seq.emplace_back(nums[i]);</span></span><br><span class=\"line\">    <span class=\"comment\">//      &#125;else if(i==1)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//         arr2.emplace_back(nums[i]);</span></span><br><span class=\"line\">    <span class=\"comment\">//         arr2_seq.emplace_back(nums[i]);</span></span><br><span class=\"line\">    <span class=\"comment\">//      &#125;else&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//         int index1 = greaterCount(arr1_seq,nums[i]);</span></span><br><span class=\"line\">    <span class=\"comment\">//         int index2 = greaterCount(arr2_seq,nums[i]);</span></span><br><span class=\"line\">    <span class=\"comment\">//         if(arr1.size()-index1 &gt; arr2.size() - index2)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//             arr1.emplace_back(nums[i]);</span></span><br><span class=\"line\">    <span class=\"comment\">//             arr1_seq.emplace_back(nums[i]);</span></span><br><span class=\"line\">    <span class=\"comment\">//             // 移到排好序的位置</span></span><br><span class=\"line\">    <span class=\"comment\">//             int k = arr1_seq.size()-1;</span></span><br><span class=\"line\">    <span class=\"comment\">//             while(k&gt;index1)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 arr1_seq[k] = arr1_seq[k-1];</span></span><br><span class=\"line\">    <span class=\"comment\">//                 k--;</span></span><br><span class=\"line\">    <span class=\"comment\">//             &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//             arr1_seq[k] = nums[i];</span></span><br><span class=\"line\">    <span class=\"comment\">//         &#125;else if (arr1.size()-index1 &lt; arr2.size() - index2)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//             arr2.emplace_back(nums[i]);</span></span><br><span class=\"line\">    <span class=\"comment\">//             arr2_seq.emplace_back(nums[i]);</span></span><br><span class=\"line\">    <span class=\"comment\">//             // 移到排好序的位置</span></span><br><span class=\"line\">    <span class=\"comment\">//             int k = arr2_seq.size()-1;</span></span><br><span class=\"line\">    <span class=\"comment\">//             while(k&gt;index2)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 arr2_seq[k] = arr2_seq[k-1];</span></span><br><span class=\"line\">    <span class=\"comment\">//                 k--;</span></span><br><span class=\"line\">    <span class=\"comment\">//             &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//             arr2_seq[k] = nums[i];</span></span><br><span class=\"line\">    <span class=\"comment\">//         &#125;else&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//             if(arr1.size()&lt;=arr2.size())&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                arr1.emplace_back(nums[i]);</span></span><br><span class=\"line\">    <span class=\"comment\">//                arr1_seq.emplace_back(nums[i]);</span></span><br><span class=\"line\">    <span class=\"comment\">//                // 移到排好序的位置</span></span><br><span class=\"line\">    <span class=\"comment\">//                int k = arr1_seq.size()-1;</span></span><br><span class=\"line\">    <span class=\"comment\">//                while(k&gt;index1)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 arr1_seq[k] = arr1_seq[k-1];</span></span><br><span class=\"line\">    <span class=\"comment\">//                 k--;</span></span><br><span class=\"line\">    <span class=\"comment\">//                &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//                arr1_seq[k] = nums[i];</span></span><br><span class=\"line\">    <span class=\"comment\">//             &#125;else if(arr1.size()&gt;arr2.size())&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 arr2.emplace_back(nums[i]);</span></span><br><span class=\"line\">    <span class=\"comment\">//                 arr2_seq.emplace_back(nums[i]);</span></span><br><span class=\"line\">    <span class=\"comment\">//                 // 移到排好序的位置</span></span><br><span class=\"line\">    <span class=\"comment\">//                 int k = arr2_seq.size()-1;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 while(k&gt;index2)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//                     arr2_seq[k] = arr2_seq[k-1];</span></span><br><span class=\"line\">    <span class=\"comment\">//                     k--;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//                 arr2_seq[k] = nums[i];</span></span><br><span class=\"line\">    <span class=\"comment\">//             &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//         &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//      &#125;</span></span><br><span class=\"line\">    <span class=\"comment\">//    &#125; </span></span><br><span class=\"line\">    <span class=\"comment\">//    for(auto &amp;t:arr1)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//     cout &lt;&lt; t &lt;&lt; &quot; &quot;;</span></span><br><span class=\"line\">    <span class=\"comment\">//    &#125;cout &lt;&lt;endl;</span></span><br><span class=\"line\">    <span class=\"comment\">//    for(auto &amp;t:arr2)&#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//     cout &lt;&lt;t &lt;&lt; &quot; &quot;;</span></span><br><span class=\"line\">    <span class=\"comment\">//    &#125;cout &lt;&lt; endl;</span></span><br><span class=\"line\">    <span class=\"comment\">//   arr1.insert(arr1.end(),arr2.begin(),arr2.end());</span></span><br><span class=\"line\">    <span class=\"comment\">//   return arr1;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">int</span> n = nums.<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; sortedNums = nums;</span><br><span class=\"line\">        <span class=\"built_in\">sort</span>(sortedNums.<span class=\"built_in\">begin</span>(), sortedNums.<span class=\"built_in\">end</span>());</span><br><span class=\"line\">        unordered_map&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt; index;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; n; ++i) &#123;</span><br><span class=\"line\">            index[sortedNums[i]] = i + <span class=\"number\">1</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; arr1 = &#123;nums[<span class=\"number\">0</span>]&#125;;</span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; arr2 = &#123;nums[<span class=\"number\">1</span>]&#125;;</span><br><span class=\"line\">        <span class=\"function\">BinaryIndexedTree <span class=\"title\">tree1</span><span class=\"params\">(n)</span>, <span class=\"title\">tree2</span><span class=\"params\">(n)</span></span>;</span><br><span class=\"line\">        tree<span class=\"number\">1.</span><span class=\"built_in\">add</span>(index[nums[<span class=\"number\">0</span>]]);</span><br><span class=\"line\">        tree<span class=\"number\">2.</span><span class=\"built_in\">add</span>(index[nums[<span class=\"number\">1</span>]]);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">2</span>; i &lt; n; ++i) &#123;</span><br><span class=\"line\">            <span class=\"type\">int</span> count1 = arr<span class=\"number\">1.</span><span class=\"built_in\">size</span>() - tree<span class=\"number\">1.</span><span class=\"built_in\">get</span>(index[nums[i]]);</span><br><span class=\"line\">            <span class=\"type\">int</span> count2 = arr<span class=\"number\">2.</span><span class=\"built_in\">size</span>() - tree<span class=\"number\">2.</span><span class=\"built_in\">get</span>(index[nums[i]]);</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (count1 &gt; count2 || (count1 == count2 &amp;&amp; arr<span class=\"number\">1.</span><span class=\"built_in\">size</span>() &lt;= arr<span class=\"number\">2.</span><span class=\"built_in\">size</span>())) &#123;</span><br><span class=\"line\">                arr<span class=\"number\">1.</span><span class=\"built_in\">push_back</span>(nums[i]);</span><br><span class=\"line\">                tree<span class=\"number\">1.</span><span class=\"built_in\">add</span>(index[nums[i]]);</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                arr<span class=\"number\">2.</span><span class=\"built_in\">push_back</span>(nums[i]);</span><br><span class=\"line\">                tree<span class=\"number\">2.</span><span class=\"built_in\">add</span>(index[nums[i]]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        arr<span class=\"number\">1.</span><span class=\"built_in\">insert</span>(arr<span class=\"number\">1.</span><span class=\"built_in\">end</span>(), arr<span class=\"number\">2.</span><span class=\"built_in\">begin</span>(), arr<span class=\"number\">2.</span><span class=\"built_in\">end</span>());</span><br><span class=\"line\">        <span class=\"keyword\">return</span> arr1;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"2813-子序列最大优雅度\"><a class=\"anchor\" href=\"#2813-子序列最大优雅度\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9tYXhpbXVtLWVsZWdhbmNlLW9mLWEtay1sZW5ndGgtc3Vic2VxdWVuY2Uv\">2813. 子序列最大优雅度</span></h4>\n<p>给你一个长度为  <code>n</code>  的二维整数数组  <code>items</code>  和一个整数  <code>k</code>  。</p>\n<p><code>items[i] = [profiti, categoryi]</code> ，其中  <code>profiti</code>  和  <code>categoryi</code>  分别表示第  <code>i</code>  个项目的利润和类别。</p>\n<p>现定义  <code>items</code>  的 <strong>子序列</strong> 的 <strong>优雅度</strong> 可以用  <code>total_profit + distinct_categories2</code>  计算，其中  <code>total_profit</code>  是子序列中所有项目的利润总和， <code>distinct_categories</code>  是所选子序列所含的所有类别中不同类别的数量。</p>\n<p>你的任务是从  <code>items</code>  所有长度为  <code>k</code>  的子序列中，找出 <strong>最大优雅度</strong> 。</p>\n<p>用整数形式表示并返回  <code>items</code>  中所有长度恰好为  <code>k</code>  的子序列的最大优雅度。</p>\n<p>** 注意：** 数组的子序列是经由原数组删除一些元素（可能不删除）而产生的新数组，且删除不改变其余元素相对顺序。</p>\n<p><strong>示例 1：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：items = <span class=\"comment\">[<span class=\"comment\">[3,2]</span>,<span class=\"comment\">[5,1]</span>,<span class=\"comment\">[10,1]</span>]</span>, k = 2</span><br><span class=\"line\">输出：17</span><br><span class=\"line\">解释：</span><br><span class=\"line\">在这个例子中，我们需要选出长度为 2 的子序列。</span><br><span class=\"line\">其中一种方案是 items<span class=\"comment\">[0]</span> = <span class=\"comment\">[3,2]</span> 和 items<span class=\"comment\">[2]</span> = <span class=\"comment\">[10,1]</span> 。</span><br><span class=\"line\">子序列的总利润为 3 + 10 = 13 ，子序列包含 2 种不同类别 <span class=\"comment\">[2,1]</span> 。</span><br><span class=\"line\">因此，优雅度为 13 + 22 = 17 ，可以证明 17 是可以获得的最大优雅度。 </span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<figure class=\"highlight inform7\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：items = <span class=\"comment\">[<span class=\"comment\">[3,1]</span>,<span class=\"comment\">[3,1]</span>,<span class=\"comment\">[2,2]</span>,<span class=\"comment\">[5,3]</span>]</span>, k = 3</span><br><span class=\"line\">输出：19</span><br><span class=\"line\">解释：</span><br><span class=\"line\">在这个例子中，我们需要选出长度为 3 的子序列。 </span><br><span class=\"line\">其中一种方案是 items<span class=\"comment\">[0]</span> = <span class=\"comment\">[3,1]</span> ，items<span class=\"comment\">[2]</span> = <span class=\"comment\">[2,2]</span> 和 items<span class=\"comment\">[3]</span> = <span class=\"comment\">[5,3]</span> 。</span><br><span class=\"line\">子序列的总利润为 3 + 2 + 5 = 10 ，子序列包含 3 种不同类别 <span class=\"comment\">[1, 2, 3]</span> 。 </span><br><span class=\"line\">因此，优雅度为 10 + 32 = 19 ，可以证明 19 是可以获得的最大优雅度。</span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<figure class=\"highlight tap\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：items = [[1,1],[2,1],[3,1]], k = 3</span><br><span class=\"line\">输出：7</span><br><span class=\"line\">解释：</span><br><span class=\"line\">在这个例子中，我们需要选出长度为<span class=\"number\"> 3 </span>的子序列。</span><br><span class=\"line\">我们需要选中所有项目。</span><br><span class=\"line\">子序列的总利润为<span class=\"number\"> 1 </span>+<span class=\"number\"> 2 </span>+<span class=\"number\"> 3 </span>= 6，子序列包含<span class=\"number\"> 1 </span>种不同类别 [1] 。</span><br><span class=\"line\">因此，最大优雅度为<span class=\"number\"> 6 </span>+<span class=\"number\"> 12 </span>=<span class=\"number\"> 7 </span>。</span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>1 &lt;= items.length == n &lt;= 105</code></li>\n<li><code>items[i].length == 2</code></li>\n<li><code>items[i][0] == profiti</code></li>\n<li><code>items[i][1] == categoryi</code></li>\n<li><code>1 &lt;= profiti &lt;= 109</code></li>\n<li><code>1 &lt;= categoryi &lt;= n </code></li>\n<li><code>1 &lt;= k &lt;= n</code></li>\n</ul>\n<p><img data-src=\"E:%5Ctypora%E5%9B%BE%E7%89%87%5Cimage-20240613120203217.png\" alt=\"image-20240613120203217\"></p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">long</span> <span class=\"type\">long</span> <span class=\"title\">findMaximumElegance</span><span class=\"params\">(vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; items, <span class=\"type\">int</span> k)</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 思路：就是先按照利润从大到小进行排序，之后选出利润最大的前 k 个 任务</span></span><br><span class=\"line\">        <span class=\"comment\">// 然后就是从后续任务中选择一个任务 ，替换前面的其中一个任务</span></span><br><span class=\"line\">        <span class=\"comment\">// 但是替换的情况只有一种能够让总体优雅度增大，因为利润总和肯定会减小，只有让类别总数更大，才有可能会让总体优雅度更大</span></span><br><span class=\"line\">        <span class=\"comment\">// 那么只有一种情况，就是被替换掉的类别在当前序列中出现过两次以上，并且将要替换的类别也不能在其中出现过，而且当前替换的话，不用回溯，因为之后替换肯定不会</span></span><br><span class=\"line\">        <span class=\"comment\">// 比当前替换形成的优雅度更大，因为依次替换的收益只有类别增大一，但是越早替换利益损失就会越小</span></span><br><span class=\"line\">        <span class=\"comment\">// 从前到后遍历，依次进行替换，找到优雅度最大的那一组</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 首先，按照利益从大到小进行排序</span></span><br><span class=\"line\">        <span class=\"built_in\">sort</span>(items.<span class=\"built_in\">begin</span>(), items.<span class=\"built_in\">end</span>(), [&amp;](<span class=\"type\">const</span> vector&lt;<span class=\"type\">int</span>&gt; &amp;item1, <span class=\"type\">const</span> vector&lt;<span class=\"type\">int</span>&gt; &amp;item2) -&gt; <span class=\"type\">bool</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> item1[<span class=\"number\">0</span>] &gt; item2[<span class=\"number\">0</span>];</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 记录出现过的类别，以供后续进行替换，或者记录出现次数的时候进行查询是否出现过当前类别</span></span><br><span class=\"line\">        unordered_set&lt;<span class=\"type\">int</span>&gt; categorySet;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"type\">long</span> <span class=\"type\">long</span> res = <span class=\"number\">0</span>, profit = <span class=\"number\">0</span>;</span><br><span class=\"line\">        stack&lt;<span class=\"type\">int</span>&gt; st;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; items.<span class=\"built_in\">size</span>(); i++) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 前 k 个 任务，此时利益是最大的，剩下就是在增大类别总数（减小利益）的情况下</span></span><br><span class=\"line\">            <span class=\"comment\">//  看看能否提高优雅度</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (i &lt; k) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">                profit += items[i][<span class=\"number\">0</span>];</span><br><span class=\"line\">                <span class=\"comment\">// 如果没有之前没有出现过这个类别，那么直接记录出现过</span></span><br><span class=\"line\">                <span class=\"keyword\">if</span> (categorySet.<span class=\"built_in\">count</span>(items[i][<span class=\"number\">1</span>]) == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">                    categorySet.<span class=\"built_in\">insert</span>(items[i][<span class=\"number\">1</span>]);</span><br><span class=\"line\">                &#125; </span><br><span class=\"line\">                <span class=\"comment\">// 否则就认为是第二次以上出现，那么就将这个类别加入到多次出现的栈中</span></span><br><span class=\"line\">                <span class=\"comment\">// 以此来维护多次出现的类别，并且因为是从左到右遍历的，栈顶永远是利益较小的一个</span></span><br><span class=\"line\">                <span class=\"comment\">// 替换的时候就是秉承着利益损失最小的宗旨，拿着符合条件的任务中利益最小的那个进行替换</span></span><br><span class=\"line\">                <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">                    st.<span class=\"built_in\">push</span>(items[i][<span class=\"number\">0</span>]);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">                <span class=\"comment\">// 前 k 个任务之后，开始按照制定的准则进行替换</span></span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (categorySet.<span class=\"built_in\">count</span>(items[i][<span class=\"number\">1</span>]) == <span class=\"number\">0</span> &amp;&amp; !st.<span class=\"built_in\">empty</span>()) &#123;</span><br><span class=\"line\">                <span class=\"comment\">// 更新利益值</span></span><br><span class=\"line\">                profit += items[i][<span class=\"number\">0</span>] - st.<span class=\"built_in\">top</span>();</span><br><span class=\"line\">                st.<span class=\"built_in\">pop</span>();</span><br><span class=\"line\">                <span class=\"comment\">// 因为是新类别，所以就是直接加入进去就行了，因为每次替换都不可能替换已经存在的类别，</span></span><br><span class=\"line\">                <span class=\"comment\">// 这样不可能有任何收益</span></span><br><span class=\"line\">                categorySet.<span class=\"built_in\">insert</span>(items[i][<span class=\"number\">1</span>]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"comment\">// 更新当前结果，选择最大的</span></span><br><span class=\"line\">            res = <span class=\"built_in\">max</span>(res, (<span class=\"type\">long</span> <span class=\"type\">long</span>)(profit + categorySet.<span class=\"built_in\">size</span>() * categorySet.<span class=\"built_in\">size</span>()));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h4 id=\"2713-矩阵中严格递增的单元格数\"><a class=\"anchor\" href=\"#2713-矩阵中严格递增的单元格数\">#</a> <span class=\"exturl\" data-url=\"aHR0cHM6Ly9sZWV0Y29kZS5jbi9wcm9ibGVtcy9tYXhpbXVtLXN0cmljdGx5LWluY3JlYXNpbmctY2VsbHMtaW4tYS1tYXRyaXgv\">2713. 矩阵中严格递增的单元格数</span></h4>\n<p>给你一个下标从 <strong>1</strong> 开始、大小为  <code>m x n</code>  的整数矩阵  <code>mat</code> ，你可以选择任一单元格作为 <strong>起始单元格</strong> 。</p>\n<p>从起始单元格出发，你可以移动到 <strong>同一行或同一列</strong> 中的任何其他单元格，但前提是目标单元格的值 <strong>严格大于</strong> 当前单元格的值。</p>\n<p>你可以多次重复这一过程，从一个单元格移动到另一个单元格，直到无法再进行任何移动。</p>\n<p>请你找出从某个单元开始访问矩阵所能访问的 <strong>单元格的最大数量</strong> 。</p>\n<p>返回一个表示可访问单元格最大数量的整数。</p>\n<p><strong>示例 1：</strong></p>\n<p><strong><img data-src=\"https://assets.leetcode.com/uploads/2023/04/23/diag1drawio.png\" alt=\"img\"></strong></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：mat = <span class=\"string\">[[3,1],[3,4]]</span></span><br><span class=\"line\">输出：<span class=\"number\">2</span></span><br><span class=\"line\">解释：上图展示了从第 <span class=\"number\">1</span> 行、第 <span class=\"number\">2</span> 列的单元格开始，可以访问 <span class=\"number\">2</span> 个单元格。可以证明，无论从哪个单元格开始，最多只能访问 <span class=\"number\">2</span> 个单元格，因此答案是 <span class=\"number\">2</span> 。 </span><br></pre></td></tr></table></figure>\n<p><strong>示例 2：</strong></p>\n<p><strong><img data-src=\"https://assets.leetcode.com/uploads/2023/04/23/diag3drawio.png\" alt=\"img\"></strong></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：mat = <span class=\"string\">[[1,1],[1,1]]</span></span><br><span class=\"line\">输出：<span class=\"number\">1</span></span><br><span class=\"line\">解释：由于目标单元格必须严格大于当前单元格，在本示例中只能访问 <span class=\"number\">1</span> 个单元格。 </span><br></pre></td></tr></table></figure>\n<p><strong>示例 3：</strong></p>\n<p><strong><img data-src=\"https://assets.leetcode.com/uploads/2023/04/23/diag4drawio.png\" alt=\"img\"></strong></p>\n<figure class=\"highlight lua\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">输入：mat = <span class=\"string\">[[3,1,6],[-9,5,7]]</span></span><br><span class=\"line\">输出：<span class=\"number\">4</span></span><br><span class=\"line\">解释：上图展示了从第 <span class=\"number\">2</span> 行、第 <span class=\"number\">1</span> 列的单元格开始，可以访问 <span class=\"number\">4</span> 个单元格。可以证明，无论从哪个单元格开始，最多只能访问 <span class=\"number\">4</span> 个单元格，因此答案是 <span class=\"number\">4</span> 。  </span><br></pre></td></tr></table></figure>\n<p><strong>提示：</strong></p>\n<ul>\n<li><code>m == mat.length </code></li>\n<li><code>n == mat[i].length </code></li>\n<li><code>1 &lt;= m, n &lt;= 105</code></li>\n<li><code>1 &lt;= m * n &lt;= 105</code></li>\n<li><code>-105 &lt;= mat[i][j] &lt;= 105</code></li>\n</ul>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">public</span>:</span><br><span class=\"line\">    <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">maxIncreasingCells</span><span class=\"params\">(vector&lt;vector&lt;<span class=\"type\">int</span>&gt;&gt;&amp; mat)</span> </span>&#123;</span><br><span class=\"line\">         <span class=\"type\">int</span> m = mat.<span class=\"built_in\">size</span>(), n = mat[<span class=\"number\">0</span>].<span class=\"built_in\">size</span>();</span><br><span class=\"line\">        map&lt;<span class=\"type\">int</span>, vector&lt;pair&lt;<span class=\"type\">int</span>, <span class=\"type\">int</span>&gt;&gt;&gt; mp;</span><br><span class=\"line\">        <span class=\"function\">vector&lt;<span class=\"type\">int</span>&gt; <span class=\"title\">row</span><span class=\"params\">(m)</span>, <span class=\"title\">col</span><span class=\"params\">(n)</span></span>;</span><br><span class=\"line\">        <span class=\"comment\">// 首先，就是将数值按照顺序，从低到高进行归类整理，能够精确定位到每一个相同值的坐标</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; m; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> j = <span class=\"number\">0</span>; j &lt; n; j++) &#123;</span><br><span class=\"line\">                mp[mat[i][j]].<span class=\"built_in\">push_back</span>(&#123;i, j&#125;);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        vector&lt;<span class=\"type\">int</span>&gt; res; <span class=\"comment\">// 存放相同数值的答案，便于后续更新 row 和 col</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span> &amp;[_, pos] : mp) &#123;</span><br><span class=\"line\">            res.<span class=\"built_in\">clear</span>();</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">auto</span> &amp;[x, y] : pos) &#123;</span><br><span class=\"line\">                res.<span class=\"built_in\">push_back</span>(<span class=\"built_in\">max</span>(row[x], col[y]) + <span class=\"number\">1</span>);   <span class=\"comment\">// 迭代公式，就是去选择行列中的最大的步数，然后加一</span></span><br><span class=\"line\">                                                          </span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; pos.<span class=\"built_in\">size</span>(); i++) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">auto</span> &amp;[x, y] = pos[i];</span><br><span class=\"line\">                row[x] = <span class=\"built_in\">max</span>(row[x], res[i]);  <span class=\"comment\">// 更新这一行每一个位置中的最大的那个</span></span><br><span class=\"line\">                col[y] = <span class=\"built_in\">max</span>(col[y], res[i]);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">return</span> *<span class=\"built_in\">max_element</span>(row.<span class=\"built_in\">begin</span>(), row.<span class=\"built_in\">end</span>());</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"洛谷题解\"><a class=\"anchor\" href=\"#洛谷题解\">#</a> 洛谷题解</h2>\n<h4 id=\"p004-方格取数\"><a class=\"anchor\" href=\"#p004-方格取数\">#</a> P004 方格取数</h4>\n<h5 id=\"题目描述\"><a class=\"anchor\" href=\"#题目描述\">#</a> 题目描述</h5>\n<p>设有 N 的方格图 N≤9，我们将其中的某些方格中填入正整数，而其他的方格中则放入数字 0。如下图所示（见样例）:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">A</span><br><span class=\"line\"> 0  0  0  0  0  0  0  0</span><br><span class=\"line\"> 0  0 13  0  0  6  0  0</span><br><span class=\"line\"> 0  0  0  0  7  0  0  0</span><br><span class=\"line\"> 0  0  0 14  0  0  0  0</span><br><span class=\"line\"> 0 21  0  0  0  4  0  0</span><br><span class=\"line\"> 0  0 15  0  0  0  0  0</span><br><span class=\"line\"> 0 14  0  0  0  0  0  0</span><br><span class=\"line\"> 0  0  0  0  0  0  0  0</span><br><span class=\"line\">                         B</span><br></pre></td></tr></table></figure>\n<p>某人从图的左上角的 A 点出发，可以向下行走，也可以向右走，直到到达右下角的 B 点。在走过的路上，他可以取走方格中的数（取走后的方格中将变为数字 0）<br>\n此人从 A 点到 B 点共走两次，试找出 2 条这样的路径，使得取得的数之和为最大。</p>\n<h5 id=\"输入格式\"><a class=\"anchor\" href=\"#输入格式\">#</a> 输入格式</h5>\n<p>输入的第一行为一个整数 N（表示 N 的方格图），接下来的每行有三个整数，前两个表示位置，第三个数为该位置上所放的数。一行单独的 0 表示输入结束。</p>\n<h5 id=\"输出格式\"><a class=\"anchor\" href=\"#输出格式\">#</a> 输出格式</h5>\n<p>只需输出一个整数，表示 22 条路径上取得的最大的和。</p>\n<h5 id=\"输入输出样例\"><a class=\"anchor\" href=\"#输入输出样例\">#</a> 输入输出样例</h5>\n<h6 id=\"输入-1\"><a class=\"anchor\" href=\"#输入-1\">#</a> <strong>输入 #1</strong></h6>\n<figure class=\"highlight basic\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"number\">8</span></span><br><span class=\"line\"><span class=\"symbol\">2 </span><span class=\"number\">3</span> <span class=\"number\">13</span></span><br><span class=\"line\"><span class=\"symbol\">2 </span><span class=\"number\">6</span>  <span class=\"number\">6</span></span><br><span class=\"line\"><span class=\"symbol\">3 </span><span class=\"number\">5</span>  <span class=\"number\">7</span></span><br><span class=\"line\"><span class=\"symbol\">4 </span><span class=\"number\">4</span> <span class=\"number\">14</span></span><br><span class=\"line\"><span class=\"symbol\">5 </span><span class=\"number\">2</span> <span class=\"number\">21</span></span><br><span class=\"line\"><span class=\"symbol\">5 </span><span class=\"number\">6</span>  <span class=\"number\">4</span></span><br><span class=\"line\"><span class=\"symbol\">6 </span><span class=\"number\">3</span> <span class=\"number\">15</span></span><br><span class=\"line\"><span class=\"symbol\">7 </span><span class=\"number\">2</span> <span class=\"number\">14</span></span><br><span class=\"line\"><span class=\"symbol\">0 </span><span class=\"number\">0</span>  <span class=\"number\">0</span></span><br></pre></td></tr></table></figure>\n<h6 id=\"输出-1\"><a class=\"anchor\" href=\"#输出-1\">#</a> <strong>输出 #1</strong></h6>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">67</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//方格取数~深搜  </span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span><span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\">    <span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\">    <span class=\"type\">int</span> N=<span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> s[<span class=\"number\">15</span>][<span class=\"number\">15</span>],f[<span class=\"number\">11</span>][<span class=\"number\">11</span>][<span class=\"number\">11</span>][<span class=\"number\">11</span>];</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">dfs</span><span class=\"params\">(<span class=\"type\">int</span> x,<span class=\"type\">int</span> y,<span class=\"type\">int</span> x2,<span class=\"type\">int</span> y2)</span><span class=\"comment\">//两种方案同时执行，表示当第一种方案走到x,y,第二种方案走到x2,y2时到终点取得的最大数 </span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//如果这种情况已经被记录过了，直接返回，节省时间 </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (f[x][y][x2][y2]!=<span class=\"number\">-1</span>) <span class=\"keyword\">return</span> f[x][y][x2][y2];</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//如果两种方案都走到了终点，返回结束 </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (x==N&amp;&amp;y==N&amp;&amp;x2==N&amp;&amp;y2==N) <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"type\">int</span> M=<span class=\"number\">0</span>;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//如果两种方案都不在最后一列，就都往下走，统计取得的数，如果有重复，就减去一部分 </span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (x&lt;N&amp;&amp;x2&lt;N) M=<span class=\"built_in\">max</span>(M,<span class=\"built_in\">dfs</span>(x<span class=\"number\">+1</span>,y,x2<span class=\"number\">+1</span>,y2)+s[x<span class=\"number\">+1</span>][y]+s[x2<span class=\"number\">+1</span>][y2]-s[x<span class=\"number\">+1</span>][y]*(x<span class=\"number\">+1</span>==x2<span class=\"number\">+1</span>&amp;&amp;y==y2));</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//如果第一种方案不在最后一行，第二种方案不在最后一列，第一种就向下走，第二种就向右走， </span></span><br><span class=\"line\">    <span class=\"comment\">//统计取得的数，如果有重复，就减去一部分</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (x&lt;N&amp;&amp;y2&lt;N) M=<span class=\"built_in\">max</span>(M,<span class=\"built_in\">dfs</span>(x<span class=\"number\">+1</span>,y,x2,y2<span class=\"number\">+1</span>)+s[x<span class=\"number\">+1</span>][y]+s[x2][y2<span class=\"number\">+1</span>]-s[x<span class=\"number\">+1</span>][y]*(x<span class=\"number\">+1</span>==x2&amp;&amp;y==y2<span class=\"number\">+1</span>));</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//如果第一种方案不在最后一列，第二种方案不在最后一行，第一种就向右走，第二种就向下走， </span></span><br><span class=\"line\">    <span class=\"comment\">//统计取得的数，如果有重复，就减去一部分</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (y&lt;N&amp;&amp;x2&lt;N) M=<span class=\"built_in\">max</span>(M,<span class=\"built_in\">dfs</span>(x,y<span class=\"number\">+1</span>,x2<span class=\"number\">+1</span>,y2)+s[x][y<span class=\"number\">+1</span>]+s[x2<span class=\"number\">+1</span>][y2]-s[x][y<span class=\"number\">+1</span>]*(x==x2<span class=\"number\">+1</span>&amp;&amp;y<span class=\"number\">+1</span>==y2));</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//如果第一种方案和第二种方案都不在最后一列，就都向右走，统计取得的数，如果有重复，就减去一部分</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (y&lt;N&amp;&amp;y2&lt;N) M=<span class=\"built_in\">max</span>(M,<span class=\"built_in\">dfs</span>(x,y<span class=\"number\">+1</span>,x2,y2<span class=\"number\">+1</span>)+s[x][y<span class=\"number\">+1</span>]+s[x2][y2<span class=\"number\">+1</span>]-s[x][y<span class=\"number\">+1</span>]*(x==x2&amp;&amp;y<span class=\"number\">+1</span>==y2<span class=\"number\">+1</span>));</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//对最后那个 s[x][y+1]*(x==x2&amp;&amp;y+1==y2+1))的解释：这个是用来判断两种方案是不是走到了同一格的</span></span><br><span class=\"line\">    <span class=\"comment\">//如果是真，就返回1，否则返回0，如果是1的话，理所当然的可以减去s[x][y+1]*1,否则减去s[x][y+1]*0相当于不减</span></span><br><span class=\"line\">    <span class=\"comment\">//记录这种情况 </span></span><br><span class=\"line\">    </span><br><span class=\"line\">    f[x][y][x2][y2]=M;</span><br><span class=\"line\">   <span class=\"comment\">//返回最大值 </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> M;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    cin&gt;&gt;N;</span><br><span class=\"line\">    <span class=\"comment\">//将记录数组初始化成-1，因为可能出现取的数为0的情况，如果直接判断f[x][y][x2][y2]!=0（见dfs第一行）</span></span><br><span class=\"line\">    <span class=\"comment\">//可能出现死循环而导致超时，细节问题 </span></span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> a=<span class=\"number\">0</span>;a&lt;=N;a++)</span><br><span class=\"line\">      <span class=\"keyword\">for</span>(<span class=\"type\">int</span> b=<span class=\"number\">0</span>;b&lt;=N;b++)</span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"type\">int</span> c=<span class=\"number\">0</span>;c&lt;=N;c++)</span><br><span class=\"line\">          <span class=\"keyword\">for</span>(<span class=\"type\">int</span> d=<span class=\"number\">0</span>;d&lt;=N;d++) f[a][b][c][d]=<span class=\"number\">-1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(;;)<span class=\"comment\">//读入 </span></span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> t1=<span class=\"number\">0</span>,t2=<span class=\"number\">0</span>,t3=<span class=\"number\">0</span>;</span><br><span class=\"line\">        cin&gt;&gt;t1&gt;&gt;t2&gt;&gt;t3;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(t1==<span class=\"number\">0</span>&amp;&amp;t2==<span class=\"number\">0</span>&amp;&amp;t3==<span class=\"number\">0</span>) <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        s[t1][t2]=t3;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    cout&lt;&lt;<span class=\"built_in\">dfs</span>(<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"number\">1</span>)+s[<span class=\"number\">1</span>][<span class=\"number\">1</span>];<span class=\"comment\">//输出，因为dfs中没有考虑第一格，即s[1][1]，所以最后要加一下 </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"p1020导弹拦截\"><a class=\"anchor\" href=\"#p1020导弹拦截\">#</a> P1020 导弹拦截</h4>\n<h5 id=\"题目描述-2\"><a class=\"anchor\" href=\"#题目描述-2\">#</a> 题目描述</h5>\n<p>某国为了防御敌国的导弹袭击，发展出一种导弹拦截系统。但是这种导弹拦截系统有一个缺陷：虽然它的第一发炮弹能够到达任意的高度，但是以后每一发炮弹都不能高于前一发的高度。某天，雷达捕捉到敌国的导弹来袭。由于该系统还在试用阶段，所以只有一套系统，因此有可能不能拦截所有的导弹。</p>\n<p>输入导弹依次飞来的高度（雷达给出的高度数据是 \\le 50000≤50000 的正整数），计算这套系统最多能拦截多少导弹，如果要拦截所有导弹最少要配备多少套这种导弹拦截系统。</p>\n<h5 id=\"输入格式-2\"><a class=\"anchor\" href=\"#输入格式-2\">#</a> 输入格式</h5>\n<p>11 行，若干个整数（个数 \\le 100000≤100000）</p>\n<p>NOIP 原题数据规模不超过 2000。</p>\n<h5 id=\"输出格式-2\"><a class=\"anchor\" href=\"#输出格式-2\">#</a> 输出格式</h5>\n<p>22 行，每行一个整数，第一个数字表示这套系统最多能拦截多少导弹，第二个数字表示如果要拦截所有导弹最少要配备多少套这种导弹拦截系统。</p>\n<h5 id=\"输入输出样例-2\"><a class=\"anchor\" href=\"#输入输出样例-2\">#</a> 输入输出样例</h5>\n<p><strong>输入 #1</strong> 复制</p>\n<figure class=\"highlight basic\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">389 </span><span class=\"number\">207</span> <span class=\"number\">155</span> <span class=\"number\">300</span> <span class=\"number\">299</span> <span class=\"number\">170</span> <span class=\"number\">158</span> <span class=\"number\">65</span></span><br></pre></td></tr></table></figure>\n<p><strong>输出 #1</strong> 复制</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">6</span><br><span class=\"line\">2</span><br></pre></td></tr></table></figure>\n<p>这题是道线性的动态规划，可以双重循环，时间复杂度为 O (N²)。数据量为 n≤100000，那么这样做肯定超时。于是我就想用单重循环，可是没想出方法。因为这题要瞻前顾后，没有状态转移方程，单重循环肯定是搞不定的。</p>\n<p>看下面的提示与说明，n 方 100 分，nlogn200 分。什么算法的时间复杂度是 logn 呢？我立刻想到了二分。</p>\n<p>我们建立一个数组 dp，存放前 i 个导弹拦截最多时，所拦截的每个导弹的高度。例如样例中所给的 389 207 155 300 299 170 158 65，我们从第一个导弹开始。第一个是 389，把 389 存入数组 dp，即 dp [1]=389。定义变量 s 记录数组中数的个数。开始时 s=1，数组中只有 1 个数。</p>\n<p>第二个是 207，用 207 与 389 比较，207≤389，可以拦截，所以将 207 存入数组。此时，数组中有 2 个数。</p>\n<p>第三个是 155，用 155 与 207 比较，155≤207，可以拦截，故将 155 存入数组。此时，数组中有 3 个数。</p>\n<p>第四个是 300，用 300 与 155 比较，300＞155，不能拦截。但我们不能确保拦截 155 而不拦截 300 是最优的，所以不能弃之。我们在 dp 数组中找，找到比它小的数中最大的那个，用 300 替换之。注意：在找的过程中，不能从 dp [1] 到 dp [s] 逐个去找，那样又变成双重循环，会超时。由于 dp 数组中的数是非升序排列，所以我们可以用二分。定义 l=1，r=s，每次找 dp [(l+r)/2]，与 300 比较。发现 207 是比它小的数中最大的一个，于是我们用 300 替换 207。</p>\n<p>有人会问：“这样做可行吗？” 我们看，用 300 替换 207，相当于拦截完 389 后直接拦截 300。s 表示的含义不仅仅是数组中数的个数，更是拦截导弹的数量的最大值。每来一个导弹，我们都把它放在最优的位置。用 300 替换 207，表面上是替换，实际上是将 300 安排到最优的位置上。因为 207 现在已经没用了。一方面，300 比它大，新来的导弹接到 300 之后肯定优于接到 207 之后。另一方面，300-207-155 这个序列仍然存在，想要延续这个序列，我们只关心谁接到 155 之后，跟 207 没有关系了。</p>\n<p>接下来是第五个数 299，299＞155，用二分查找。结果是用 299 替换 155。</p>\n<p>第六个数是 170, 此时 dp 的最后一个数是 299，因为 155 被它换掉了。170≤299，所以 s++，将 170 存入数组。此时数组中有 4 个数。</p>\n<p>接下来 158 和 65 存入数组，最终 s=6，故答案是 6。</p>\n<p>部分代码如下：</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">daodan</span><span class=\"params\">(<span class=\"type\">int</span> n, <span class=\"type\">int</span> a[])</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> dp[<span class=\"number\">100001</span>] ;</span><br><span class=\"line\">\tdp[<span class=\"number\">0</span>] = <span class=\"number\">100000</span> ;</span><br><span class=\"line\">\tdp[<span class=\"number\">1</span>] = a[<span class=\"number\">1</span>] ;<span class=\"comment\">//先将第一个数存入数组 </span></span><br><span class=\"line\">\t<span class=\"type\">int</span> i, j, s=<span class=\"number\">1</span>, l, r, mid, ans ;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(i=<span class=\"number\">2</span>;i&lt;=n;i++)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[i]&lt;=dp[s])<span class=\"comment\">//如果比它小，则直接存入 </span></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t    s++ ;</span><br><span class=\"line\">\t\t    dp[s] = a[i] ;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tl = <span class=\"number\">0</span> ;</span><br><span class=\"line\">\t\t\tr = s ;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">while</span>(l&lt;=r)<span class=\"comment\">//如果比它大，则进行二分 </span></span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tmid = (l+r)/<span class=\"number\">2</span> ;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(dp[mid]&gt;=a[i])</span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\tans = mid ;</span><br><span class=\"line\">\t\t\t\t\tl = mid + <span class=\"number\">1</span> ;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\t\t\tr = mid - <span class=\"number\">1</span> ;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\tdp[ans<span class=\"number\">+1</span>] = a[i] ;</span><br><span class=\"line\">\t    &#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> s ;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>我们再说第二问，拦截所有导弹需要多少次。</p>\n<p>其实这问比第一问简单多了。如果你把第一问当成做第二问的基础，那就错了。第二问不需要知道每次如何拦截最优，只需要知道拦截多少次。</p>\n<p>这就像一笔画问题，如果让你一笔画完成一个图案，你需要考虑怎么走。但如果给你一个一笔画完不成的图案，问你需要几笔走完，你只需要数奇点的个数就可以了。</p>\n<p>这问的思路很简单，只要导弹能拦截，就拦截这个导弹。我们定义一个变量 b，记录已经拦截的导弹的数量。当 b==n 时循环结束。每次循环时，从第一个导弹逐个往后找，拦截过的做个标记，不找拦截过的。每找完一遍，ans++。整个循环结束后，输出 ans 就行了。</p>\n<p>这样做可行的原因是，所有的导弹都要拦截，用哪个导弹拦截系统都是一样的，导弹拦截系统的数目不会变。</p>\n<p>部分代码如下：</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">s = <span class=\"number\">0</span> ;</span><br><span class=\"line\">ans = <span class=\"number\">0</span> ;</span><br><span class=\"line\"><span class=\"keyword\">while</span>(s&lt;n)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\tmaxs = <span class=\"number\">100000</span> ;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(i=<span class=\"number\">1</span>;i&lt;=n;i++)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[i]&lt;=maxs &amp;&amp; a[i]&gt;=<span class=\"number\">0</span>)<span class=\"comment\">//拦截过的不找</span></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\ts++ ;</span><br><span class=\"line\">\t\t\tmaxs = a[i] ;</span><br><span class=\"line\">\t\t\ta[i] = <span class=\"number\">-1</span> ;<span class=\"comment\">//标记已经拦截过</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tans++ ;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>解决本题的想法是优化时间复杂度。做第一问时，如果双重循环找，会做很多无用功。于是我们改进一下，用二分做，建立一个数组，存最优序列。做第二问时，不用考虑每次最优的拦截方法，只需记录次数。</p>\n<p>完整的代码如下：</p>\n<figure class=\"highlight cpp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;cstdlib&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;algorithm&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">daodan</span><span class=\"params\">(<span class=\"type\">int</span> n, <span class=\"type\">int</span> a[])</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> dp[<span class=\"number\">100001</span>] ;</span><br><span class=\"line\">\tdp[<span class=\"number\">0</span>] = <span class=\"number\">100000</span> ;</span><br><span class=\"line\">\tdp[<span class=\"number\">1</span>] = a[<span class=\"number\">1</span>] ;</span><br><span class=\"line\">\t<span class=\"type\">int</span> i, j, s=<span class=\"number\">1</span>, l, r, mid, ans ;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(i=<span class=\"number\">2</span>;i&lt;=n;i++)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span>(a[i]&lt;=dp[s])</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\ts++ ;</span><br><span class=\"line\">\t\t\tdp[s] = a[i] ;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tl = <span class=\"number\">0</span> ;</span><br><span class=\"line\">\t\t\tr = s ;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">while</span>(l&lt;=r)</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tmid = (l+r)/<span class=\"number\">2</span> ;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">if</span>(dp[mid]&gt;=a[i])</span><br><span class=\"line\">\t\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\t\tans = mid ;</span><br><span class=\"line\">\t\t\t\t\tl = mid + <span class=\"number\">1</span> ;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\t\t\tr = mid - <span class=\"number\">1</span> ;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\tdp[ans<span class=\"number\">+1</span>] = a[i] ;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> s ;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">int</span> n=<span class=\"number\">1</span>, a[<span class=\"number\">100001</span>], s=<span class=\"number\">0</span>, i, maxs, ans=<span class=\"number\">0</span> ;</span><br><span class=\"line\">\t<span class=\"type\">char</span> c ;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(cin &gt;&gt; a[n])</span><br><span class=\"line\">\t    n++ ;</span><br><span class=\"line\">\tn-- ;</span><br><span class=\"line\">\tcout &lt;&lt; <span class=\"built_in\">daodan</span>(n,a) &lt;&lt; endl ;</span><br><span class=\"line\">\t<span class=\"keyword\">while</span>(s&lt;n)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tmaxs = <span class=\"number\">100000</span> ;</span><br><span class=\"line\">\t\t<span class=\"keyword\">for</span>(i=<span class=\"number\">1</span>;i&lt;=n;i++)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span>(a[i]&lt;=maxs &amp;&amp; a[i]&gt;=<span class=\"number\">0</span>)</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\ts++ ;</span><br><span class=\"line\">\t\t\t\tmaxs = a[i] ;</span><br><span class=\"line\">\t\t\t\ta[i] = <span class=\"number\">-1</span> ;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tans++ ;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout &lt;&lt; ans &lt;&lt; endl ;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span> ;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>小程序</p>\n",
            "tags": [
                "刷题汇总"
            ]
        },
        {
            "id": "https://zhihao-a.github.io/2023/12/17/%E7%AE%97%E6%B3%95%E5%8E%9F%E5%9E%8B/",
            "url": "https://zhihao-a.github.io/2023/12/17/%E7%AE%97%E6%B3%95%E5%8E%9F%E5%9E%8B/",
            "title": "算法原型",
            "date_published": "2023-12-17T05:11:47.000Z",
            "content_html": "<h5 id=\"前缀树\"><a class=\"anchor\" href=\"#前缀树\">#</a> 前缀树</h5>\n<p>路径上存储字符串的值，节点上存储相关信息</p>\n<figure class=\"highlight fortran\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">pass</span>:   表示该节点经过了多少次</span><br><span class=\"line\"><span class=\"keyword\">end</span>： 表示该节点结尾的字符串有多少个</span><br><span class=\"line\">arr（数组）:记录该节点是否有通过某个字符的边，有就复用，没有就重新添加</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">struct</span> <span class=\"title class_\">Trie</span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> pass;    <span class=\"comment\">// 表示该节点被经过了多少次，可以表示以某一字符串为前缀的字符串有多少个</span></span><br><span class=\"line\">    <span class=\"type\">int</span> end;   <span class=\"comment\">// 表示以该节点结尾的字符串有多少个</span></span><br><span class=\"line\">    <span class=\"type\">int</span>* arr;   <span class=\"comment\">// 记录该节点是否有通过某个字符的边，有就复用，没有就重新添加，可以用合适的数组类型替代，比如哈希表，集合</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>N 皇后问题用位运算进行解决</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220327092435882.png\" alt=\"image-20220327092435882\"></p>\n<h5 id=\"并查集\"><a class=\"anchor\" href=\"#并查集\">#</a> 并查集</h5>\n<p>作用：</p>\n<ul>\n<li>方便判断两个元素是否属于同一个集合</li>\n<li>方便将两个集合合并</li>\n</ul>\n<p>维护三张表</p>\n<ul>\n<li>\n<p>每一个元素的信息和对应的 ID (即对应的的标识)</p>\n</li>\n<li>\n<p>每一个元素和对应的父节点</p>\n</li>\n<li>\n<p>每一个集合的代表结点以及对应的集合大小（随时更新）</p>\n</li>\n</ul>\n<h5 id=\"manacher算法\"><a class=\"anchor\" href=\"#manacher算法\">#</a> Manacher 算法</h5>\n<p>参考：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9zZWdtZW50ZmF1bHQuY29tL2EvMTE5MDAwMDAwMzkxNDIyOA==\">https://segmentfault.com/a/1190000003914228</span></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220327160410939.png\" alt=\"image-20220327160410939\"></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#Python</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">manacher</span>(<span class=\"params\">s</span>):</span><br><span class=\"line\">    <span class=\"comment\">#预处理</span></span><br><span class=\"line\">    s=<span class=\"string\">&#x27;#&#x27;</span>+<span class=\"string\">&#x27;#&#x27;</span>.join(s)+<span class=\"string\">&#x27;#&#x27;</span></span><br><span class=\"line\">    RL=[<span class=\"number\">0</span>]*<span class=\"built_in\">len</span>(s)</span><br><span class=\"line\">    MaxRight=<span class=\"number\">0</span></span><br><span class=\"line\">    pos=<span class=\"number\">0</span></span><br><span class=\"line\">    MaxLen=<span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"built_in\">len</span>(s)):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> i&lt;MaxRight:</span><br><span class=\"line\">            RL[i]=<span class=\"built_in\">min</span>(RL[<span class=\"number\">2</span>*pos-i], MaxRight-i)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            RL[i]=<span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"comment\">#尝试扩展，注意处理边界</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> i-RL[i]&gt;=<span class=\"number\">0</span> <span class=\"keyword\">and</span> i+RL[i]&lt;<span class=\"built_in\">len</span>(s) <span class=\"keyword\">and</span> s[i-RL[i]]==s[i+RL[i]]:</span><br><span class=\"line\">            RL[i]+=<span class=\"number\">1</span></span><br><span class=\"line\">        <span class=\"comment\">#更新MaxRight,pos</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> RL[i]+i-<span class=\"number\">1</span>&gt;MaxRight:</span><br><span class=\"line\">            MaxRight=RL[i]+i-<span class=\"number\">1</span></span><br><span class=\"line\">            pos=i</span><br><span class=\"line\">        <span class=\"comment\">#更新最长回文串的长度</span></span><br><span class=\"line\">        MaxLen=<span class=\"built_in\">max</span>(MaxLen, RL[i])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> MaxLen-<span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"滑动窗口维持窗口内的最大值\"><a class=\"anchor\" href=\"#滑动窗口维持窗口内的最大值\">#</a> 滑动窗口维持窗口内的最大值</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220327162409287.png\" alt=\"image-20220327162409287\"> 维持两个窗口边界</p>\n<ul>\n<li>L        窗口左边界</li>\n<li>R        窗口右边界</li>\n<li>移动的原则，只能向右移动，并且始终保持 L 小于等于 R</li>\n</ul>\n<p>解决办法</p>\n<ul>\n<li>利用双端队列，记录数组下标\n<ul>\n<li>当 R 向右移动时，检查进入窗口的元素与队列右端元素的大小\n<ul>\n<li>进入窗口的元素大，就依次从右侧弹出队尾元素，直到满足队尾元素大于当前进入窗口的元素，然后将进入窗口元素的下标从右侧入队</li>\n<li>队尾元素大，直接从右侧入队</li>\n</ul>\n</li>\n<li>当 L 向右移动时，检查出窗口元素与当前左侧队头的元素的下标是否一致\n<ul>\n<li>一致，就弹出</li>\n<li>不一致，不作操作</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>最终双端队列中维持的左侧队头就是当前窗口中的最大值</li>\n<li>最小值相同的道理</li>\n</ul>\n<h5 id=\"单调栈问题\"><a class=\"anchor\" href=\"#单调栈问题\">#</a> 单调栈问题</h5>\n<p>求出数组中每一个位置上左右两边距离当前位置上元素最近的、且比当前元素大（小）的位置</p>\n<p>解决办法</p>\n<ul>\n<li>利用单调栈，依次遍历数组中的每一个值，并且维持单调栈的单调性\n<ul>\n<li>如果当前入栈的元素比栈顶元素大（小），就弹出当前栈顶元素，而且当前栈顶元素的结果就是栈中下面的元素（左边最近）、将要入栈的元素（右边最近）</li>\n<li>依次弹出比当前将要入栈元素小的栈顶元素，并且按照规则记录结果，直到栈顶元素大于将要入栈的元素</li>\n<li>最后检查栈中剩余元素，依次弹出栈顶元素，按照规则记录结果</li>\n</ul>\n</li>\n</ul>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220327222415269.png\" alt=\"image-20220327222415269\"></p>\n<h5 id=\"morris遍历\"><a class=\"anchor\" href=\"#morris遍历\">#</a> Morris 遍历</h5>\n<p>Morris 遍历算法是另一种遍历二叉树的方法，它能将非递归的中序遍历空间复杂度降为 O (1)。</p>\n<ul>\n<li>时间复杂度：O (n) ，其中 n 为二叉搜索树的节点个数，Morris 遍历中每个节点会被访问两次，因此总时间复杂度为 O ( 2 n )。</li>\n</ul>\n<p>M o r r i s 遍历算法整体步骤如下（假设当前遍历到的节点为 x ）：</p>\n<p>如果 x x<em>x</em> 无左孩子，先将 x 的值加入答案数组，再访问 x x<em>x</em> 的右孩子，即 x = x . right x = x.\\textit {right}<em>x</em>=<em>x</em>.<em>right</em>。<br>\n如果 x x<em>x</em> 有左孩子，则找到 x 左子树上最右的节点（即左子树中序遍历的最后一个节点，x 在中序遍历中的前驱节点），我们记为 predecessor 。根据 predecessor 的右孩子是否为空，进行如下操作。<br>\n如果 predecessor 的右孩子为空，则将其右孩子指向 x ，然后访问 x 的左孩子，即 x = x.left。<br>\n如果 predecessor 的右孩子不为空，则此时其右孩子指向 x ，说明我们已经遍历完 x x<em>x</em> 的左子树，我们将 predecessor  的右孩子置空，将 x 的值加入答案数组，然后访问 x  的右孩子，即 x = x.right。<br>\n重复上述操作，直至访问完整棵树。</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220327225028335.png\" alt=\"image-20220327225028335\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220327232434922.png\" alt=\"image-20220327232434922\"></p>\n<p>Morris 遍历出前序序列</p>\n<ul>\n<li>有左子树的节点会被访问两次，而没有左子树的节点会被访问一次</li>\n<li>所以按照有左子树的节点第一次访问就打印（处理），没有左子树的节点直接打印（处理）</li>\n</ul>\n<p>Morris 遍历出中序序列</p>\n<ul>\n<li>按照有左子树的节点第二次访问时打印（处理）, 没有做紫薯的节点直接打印（处理）</li>\n</ul>\n<p>Morris 遍历出后序序列</p>\n<h5 id=\"堆\"><a class=\"anchor\" href=\"#堆\">#</a> 堆</h5>\n<p>一、堆的理解</p>\n<p>1、堆是在程序运行时，而不是在程序编译时，请求操作系统分配给自己某个大小的内存空间。即动态分配内存，对其访问和对一般内存的访问没有区别。</p>\n<p>2、堆是指程序运行时申请的动态内存，而栈只是指一种使用堆的方法 (即先进后出)。栈是先进后出的，但是于堆而言却没有这个特性，两者都是存放临时数据的地方。 对于堆，我们可以随心所欲的进行增加变量和删除变量，不要遵循任何次序，只要你喜欢。</p>\n<p>3、对于一个堆 heap 来说，它最小的元素总是它的根节点，即 heap [0]</p>\n<p>二、堆的概念</p>\n<p>堆是一个二叉树，其中每个父节点的值都小于或等于其所有子节点的值。整个堆的最小元素总是位于二叉树的根节点。python 的 heapq 模块提供了对堆的支持。堆数据结构最重要的特征是 heap [0] 永远是最小的元素</p>\n<p>例如，在一亿个数中选出前 100 个最大值？<br>\n首先使用一个大小为 100 的数组，读入前 100 个数，建立小顶堆，而后依次读入余下的数，若小于堆顶则舍弃，否则用该数取代堆顶并重新调整堆，待数据读取完毕，堆中 100 个数即为所求。</p>\n<p>应用：</p>\n<ol start=\"347\">\n<li>前 K 个高频元素</li>\n</ol>\n<p>给你一个整数数组 nums 和一个整数 k ，请你返回其中出现频率前 k 高的元素。你可以按 任意顺序 返回答案。</p>\n<p>示例 1:</p>\n<p>输入: nums = [1,1,1,2,2,3], k = 2<br>\n 输出: [1,2]</p>\n<p>示例 2:</p>\n<p>输入: nums = [1], k = 1<br>\n 输出: [1]</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 时间复杂度：O(nlogk)</span></span><br><span class=\"line\"><span class=\"comment\"># 空间复杂度：O(n)</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> heapq</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Solution</span>:</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">topKFrequent</span>(<span class=\"params\">self, nums: <span class=\"type\">List</span>[<span class=\"built_in\">int</span>], k: <span class=\"built_in\">int</span></span>) -&gt; <span class=\"type\">List</span>[<span class=\"built_in\">int</span>]:</span><br><span class=\"line\">        <span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">            整体思路：哈希 + 最小堆</span></span><br><span class=\"line\"><span class=\"string\">        &quot;&quot;&quot;</span></span><br><span class=\"line\">        <span class=\"comment\"># 使用map统计元素出现频率</span></span><br><span class=\"line\">        mp = &#123;&#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> data <span class=\"keyword\">in</span> nums:</span><br><span class=\"line\">            mp[data] = mp.get(data, <span class=\"number\">0</span>) + <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 定义一个小顶堆，大小为k</span></span><br><span class=\"line\">        pri_que = [] </span><br><span class=\"line\">        <span class=\"comment\"># 用固定大小为k的小顶堆，扫面所有频率的数值</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> key,value <span class=\"keyword\">in</span> mp.items():</span><br><span class=\"line\">            heapq.heappush(pri_que, (value,key))   <span class=\"comment\">#默认以第一个元素值为标准建立堆</span></span><br><span class=\"line\">             <span class=\"comment\">#如果堆的大小大于了K，则队列弹出，保证堆的大小一直为k</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"built_in\">len</span>(pri_que) &gt; k: </span><br><span class=\"line\">                heapq.heappop(pri_que)</span><br><span class=\"line\">        </span><br><span class=\"line\">        res = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(k):</span><br><span class=\"line\">            res.append(heapq.heappop(pri_que)[<span class=\"number\">1</span>])</span><br><span class=\"line\">        <span class=\"keyword\">return</span> res</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"kmp算法实现\"><a class=\"anchor\" href=\"#kmp算法实现\">#</a> KMP 算法实现</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;string&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">struct</span> </span><br><span class=\"line\">&#123;</span><br><span class=\"line\">     string str;</span><br><span class=\"line\">    <span class=\"type\">int</span> length;</span><br><span class=\"line\">&#125;sstring;</span><br><span class=\"line\"><span class=\"comment\">//初始化</span></span><br><span class=\"line\"> <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">Init</span><span class=\"params\">(sstring &amp;S,string s)</span></span>&#123;</span><br><span class=\"line\">     S.str=<span class=\"string\">&quot; &quot;</span>+s;</span><br><span class=\"line\">     S.length=S.str.<span class=\"built_in\">length</span>();</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"><span class=\"comment\">//计算next数组</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">get_next</span><span class=\"params\">(sstring T,<span class=\"type\">int</span> *next)</span></span></span><br><span class=\"line\"><span class=\"function\">  </span>&#123;</span><br><span class=\"line\">     <span class=\"type\">int</span> i=<span class=\"number\">1</span>,j=<span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"comment\">// next = new int (100);</span></span><br><span class=\"line\">      next[<span class=\"number\">1</span>]=<span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"keyword\">while</span>(i&lt;T.length<span class=\"number\">-1</span>)&#123;</span><br><span class=\"line\">         <span class=\"keyword\">if</span>(j==<span class=\"number\">0</span>||T.str.<span class=\"built_in\">at</span>(i)==T.str.<span class=\"built_in\">at</span>(j))&#123;++i;++j;next[i]=j;&#125;</span><br><span class=\"line\">          <span class=\"keyword\">else</span> j=next[j];</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"comment\">// 计算nextval数组</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">get_nextval</span><span class=\"params\">(sstring T,<span class=\"type\">int</span>* nextval)</span></span>&#123;</span><br><span class=\"line\">      <span class=\"type\">int</span> i=<span class=\"number\">1</span>,j=<span class=\"number\">0</span>;</span><br><span class=\"line\">     <span class=\"comment\">// nextval=new int(T.length+1);</span></span><br><span class=\"line\">      nextval[<span class=\"number\">1</span>]=<span class=\"number\">0</span>;</span><br><span class=\"line\">      <span class=\"keyword\">while</span>(i&lt;T.length<span class=\"number\">-1</span>)&#123;</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(j==<span class=\"number\">0</span>||T.str.<span class=\"built_in\">at</span>(i)==T.str.<span class=\"built_in\">at</span>(j))</span><br><span class=\"line\">          &#123;      ++i;++j;</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(T.str.<span class=\"built_in\">at</span>(i)!=T.str.<span class=\"built_in\">at</span>(j)) nextval[i]=j;</span><br><span class=\"line\">          <span class=\"keyword\">else</span> nextval[i]=nextval[j];</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          <span class=\"keyword\">else</span> j=nextval[j];</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"> <span class=\"comment\">// kMP算法实现</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">Index_kMP</span><span class=\"params\">(sstring S,sstring T,<span class=\"type\">int</span> pos,<span class=\"type\">int</span> next[])</span></span>&#123;</span><br><span class=\"line\">      <span class=\"type\">int</span> i=pos,j=<span class=\"number\">1</span>;</span><br><span class=\"line\">      <span class=\"keyword\">while</span>(i&lt;=S.length<span class=\"number\">-1</span>&amp;&amp;j&lt;=T.length<span class=\"number\">-1</span>)</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">          <span class=\"keyword\">if</span>(j==<span class=\"number\">0</span>||S.str.<span class=\"built_in\">at</span>(i)==T.str.<span class=\"built_in\">at</span>(j))&#123;++i;++j;&#125;</span><br><span class=\"line\">          <span class=\"keyword\">else</span> j=next[j];</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span>(j&gt;T.length<span class=\"number\">-1</span>)<span class=\"keyword\">return</span> i-T.length<span class=\"number\">+1</span>;</span><br><span class=\"line\">      <span class=\"keyword\">else</span> <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">    sstring ss ,t1,t2;</span><br><span class=\"line\">    <span class=\"built_in\">Init</span>(ss,<span class=\"string\">&quot;aab&quot;</span>);</span><br><span class=\"line\">    <span class=\"built_in\">Init</span>(t1,<span class=\"string\">&quot;ababaaababaa&quot;</span>);</span><br><span class=\"line\">    <span class=\"built_in\">Init</span>(t2,<span class=\"string\">&quot;ababaabab&quot;</span>);</span><br><span class=\"line\">    <span class=\"type\">int</span> *next=<span class=\"keyword\">new</span> <span class=\"type\">int</span>[<span class=\"number\">100</span>];</span><br><span class=\"line\">    <span class=\"type\">int</span> *nextval=<span class=\"keyword\">new</span> <span class=\"type\">int</span>[<span class=\"number\">100</span>];</span><br><span class=\"line\">    <span class=\"built_in\">get_next</span>(t1,next);</span><br><span class=\"line\">    <span class=\"built_in\">get_nextval</span>(t2,nextval);</span><br><span class=\"line\">   <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;t<span class=\"number\">1.l</span>ength;i++)</span><br><span class=\"line\">        cout&lt;&lt;next[i];</span><br><span class=\"line\">    cout&lt;&lt;endl;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">1</span>;i&lt;t<span class=\"number\">2.l</span>ength;i++)</span><br><span class=\"line\">         cout&lt;&lt;nextval[i];</span><br><span class=\"line\">    cout&lt;&lt;endl;</span><br><span class=\"line\">    cout&lt;&lt;<span class=\"built_in\">Index_kMP</span>(t1,ss,<span class=\"number\">1</span>,nextval);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"结构体指针操作\"><a class=\"anchor\" href=\"#结构体指针操作\">#</a> 结构体指针操作</h5>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">struct</span> <span class=\"title class_\">L</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"type\">char</span> data;</span><br><span class=\"line\">    L *leftChild;</span><br><span class=\"line\">    L *rightChild;</span><br><span class=\"line\">&#125;*Li;</span><br><span class=\"line\"> <span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">Init</span><span class=\"params\">(L &amp;R,<span class=\"type\">char</span> i)</span></span></span><br><span class=\"line\"><span class=\"function\"> </span>&#123;</span><br><span class=\"line\">     </span><br><span class=\"line\">     R.data=i;</span><br><span class=\"line\">     R.leftChild=<span class=\"literal\">NULL</span>;</span><br><span class=\"line\">     R.rightChild =<span class=\"literal\">NULL</span>;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    L l ;     <span class=\"comment\">// 指针结构体变量指向自己的属性时，只能用-&gt;,</span></span><br><span class=\"line\">              <span class=\"comment\">// 结构体变量指向自己的属性时，只能用.操作，而且只有指针变量才可以进行new运算</span></span><br><span class=\"line\">              <span class=\"comment\">// 不管任何类型的变量，在传参时为了保证实参与形参变化一致可以用&amp;进行引用，这样还是一个地址空间，只不过换了一个名字</span></span><br><span class=\"line\">    <span class=\"built_in\">Init</span>(l,<span class=\"string\">&#x27;A&#x27;</span>);</span><br><span class=\"line\">    cout&lt;&lt;l.data&lt;&lt;endl;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"有序数组中上中位数的寻找\"><a class=\"anchor\" href=\"#有序数组中上中位数的寻找\">#</a> 有序数组中上中位数的寻找</h5>\n<p>有两个长度相同的有序数组 A、B，能否在比较次数尽可能少的情况下，找到数组 A、B 合在一起之后的上中位数</p>\n<p>上中位数：就是数组长度为偶数时，计算中位数时需要中间两个数的平均数代替，上中位数就是这两个数中间的那个</p>\n<p>当两长度相同的有序数组长度为偶数时</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220416093735057.png\" alt=\"image-20220416093735057\"></p>\n<p>当两长度相同的有序数组长度为奇数时</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220416094056427.png\" alt=\"image-20220416094056427\"></p>\n<h6 id=\"推论\"><a class=\"anchor\" href=\"#推论\">#</a> 推论：</h6>\n<p>在两个有序数组中，寻找第 K 个数</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> </span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;iostream&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;string.h&gt;</span></span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">include</span> <span class=\"string\">&lt;stdlib.h&gt;</span></span></span><br><span class=\"line\"><span class=\"keyword\">using</span> <span class=\"keyword\">namespace</span> std;</span><br><span class=\"line\"><span class=\"comment\">//Notice ： K &gt; 0</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">FindKthElm</span><span class=\"params\">(<span class=\"type\">int</span> A[], <span class=\"type\">int</span> aBeg, <span class=\"type\">int</span> aEnd, <span class=\"type\">int</span> B[], <span class=\"type\">int</span> bBeg, <span class=\"type\">int</span> bEnd, <span class=\"type\">int</span> k)</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (aBeg &gt; aEnd)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> B[bBeg + k - <span class=\"number\">1</span>];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (bBeg &gt; bEnd)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> A[aBeg + k - <span class=\"number\">1</span>];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">//取中间位置</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> aMid = aBeg + (aEnd - aBeg)/<span class=\"number\">2</span>;\t</span><br><span class=\"line\">\t<span class=\"type\">int</span> bMid = bBeg + (bEnd - bBeg)/<span class=\"number\">2</span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">//从A和B的开始位置到两个数组中间位置的元素个数</span></span><br><span class=\"line\">\t<span class=\"type\">int</span> halfLen = aMid - aBeg + bMid - bBeg + <span class=\"number\">2</span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">if</span> (A[aMid] &lt; B[bMid])</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (halfLen &gt; k)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 此时在合并的数组中A[aBeg...aMid]和元素一定在B[bMid]的左侧，</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 即此时第k大的元素一定比B[bMid]这个元素小（严格来说不大于）</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 故以后没有必要搜索 B[bMid...bEnd]这些元素</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"built_in\">FindKthElm</span>(A, aBeg, aEnd, B, bBeg, bMid - <span class=\"number\">1</span>, k);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 此时在合并的数组中A[aBeg...aMid]元素一定在B[bMid]的左侧，</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 所以前K个元素中一定包含A[aBeg...aMid]（可以使用反证法来证明这点）。</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 但是无法判断A[amid+1...aEnd]与B[bBeg...bEnd]之间的关系，帮需要对他们进行判断</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\">// 此时K就剩下除去A[aBeg...aMid]这些元素，个数为k - (aMid - aBeg + 1)</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"built_in\">FindKthElm</span>(A, aMid + <span class=\"number\">1</span>, aEnd, B, bBeg, bEnd, k - (aMid - aBeg + <span class=\"number\">1</span>));</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"comment\">//注释与上面相似</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (halfLen &gt; k)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"built_in\">FindKthElm</span>(A, aBeg, aMid - <span class=\"number\">1</span>, B, bBeg, bEnd, k);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"built_in\">FindKthElm</span>(A, aBeg, aEnd, B, bMid + <span class=\"number\">1</span>, bEnd, k - (bMid - bBeg + <span class=\"number\">1</span>));</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">int</span> <span class=\"title\">main</span><span class=\"params\">()</span></span></span><br><span class=\"line\"><span class=\"function\"></span>&#123;</span><br><span class=\"line\">\t<span class=\"type\">const</span> <span class=\"type\">int</span> ALen = <span class=\"number\">11</span>;</span><br><span class=\"line\">\t<span class=\"type\">const</span> <span class=\"type\">int</span> BLen = <span class=\"number\">5</span>;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"type\">int</span> apos = <span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"type\">int</span> bpos = <span class=\"number\">0</span>;</span><br><span class=\"line\">\t<span class=\"type\">int</span> A[ALen];</span><br><span class=\"line\">\t<span class=\"type\">int</span> B[ALen];</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">//生成两个递增数组A 和 B</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt;= ALen + BLen; ++i)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (apos &gt;= ALen)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tB[bpos++] = i;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (bpos &gt;= BLen)</span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\tA[apos++] = i;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t&#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">if</span> (<span class=\"built_in\">rand</span>()%<span class=\"number\">2</span> == <span class=\"number\">1</span>)</span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tA[apos++] = i;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">else</span></span><br><span class=\"line\">\t\t\t&#123;</span><br><span class=\"line\">\t\t\t\tB[bpos++] = i;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">//输出A和B的内容</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; ALen; ++i)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tcout &lt;&lt;A[i] &lt;&lt;<span class=\"string\">&quot; &quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout &lt;&lt;endl;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">0</span>; i &lt; BLen; ++i)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tcout &lt;&lt;B[i] &lt;&lt;<span class=\"string\">&quot; &quot;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tcout &lt;&lt;endl;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"comment\">//验证每个K是不是正解</span></span><br><span class=\"line\">\t<span class=\"keyword\">for</span> (<span class=\"type\">int</span> i = <span class=\"number\">1</span>; i &lt;= ALen + BLen; ++i)</span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\tcout &lt;&lt; i &lt;&lt;<span class=\"string\">&quot; : &quot;</span>&lt;&lt;<span class=\"built_in\">FindKthElm</span>(A, <span class=\"number\">0</span> , ALen - <span class=\"number\">1</span>, B, <span class=\"number\">0</span> , BLen - <span class=\"number\">1</span>, i)&lt;&lt;endl;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"约瑟夫环\"><a class=\"anchor\" href=\"#约瑟夫环\">#</a> 约瑟夫环</h5>\n<h5 id=\"二叉树最大宽度\"><a class=\"anchor\" href=\"#二叉树最大宽度\">#</a> 二叉树最大宽度</h5>\n<h5 id=\"二叉树中某两个节点的最低公共祖先\"><a class=\"anchor\" href=\"#二叉树中某两个节点的最低公共祖先\">#</a> 二叉树中某两个节点的最低公共祖先</h5>\n",
            "tags": [
                "算法原型汇总"
            ]
        },
        {
            "id": "https://zhihao-a.github.io/2023/12/17/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/",
            "url": "https://zhihao-a.github.io/2023/12/17/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%A4%8D%E4%B9%A0/",
            "title": "数据结构复习",
            "date_published": "2023-12-17T05:10:54.000Z",
            "content_html": "<p>栈</p>\n<ul>\n<li>\n<p>定义</p>\n<p>栈（stack）是只允许在一端进行插入或删除操作的线性表</p>\n</li>\n<li>\n<p>基本操作</p>\n<ul>\n<li>初始化</li>\n<li>进栈</li>\n<li>出栈</li>\n<li>读栈顶元素</li>\n<li>销毁栈</li>\n<li>判断栈是否为空</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"存储结构\"><a class=\"anchor\" href=\"#存储结构\">#</a> 存储结构</h5>\n<h6 id=\"顺序栈\"><a class=\"anchor\" href=\"#顺序栈\">#</a> 顺序栈</h6>\n  <img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322085757849.png\" alt=\"image-20220322085757849\" style=\"zoom:200%;\" />\n<ul>\n<li>\n<p>顺序栈的定义</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322084751454.png\" alt=\"image-20220322084751454\"></p>\n</li>\n<li>\n<p>初始化栈</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322084902078.png\" alt=\"image-20220322084902078\"></p>\n</li>\n<li>\n<p>判断栈是否为空</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322084957654.png\" alt=\"image-20220322084957654\"></p>\n</li>\n<li>\n<p>新元素入栈 <img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322085037306.png\" alt=\"image-20220322085037306\"></p>\n</li>\n<li>\n<p>出栈<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322085223969.png\" alt=\"image-20220322085223969\"></p>\n</li>\n<li>\n<p>读取栈顶元素 <img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322085359572.png\" alt=\"image-20220322085359572\"></p>\n</li>\n</ul>\n<h6 id=\"链栈\"><a class=\"anchor\" href=\"#链栈\">#</a> 链栈</h6>\n<p>​     <img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322085952864.png\" alt=\"image-20220322085952864\"></p>\n<ul>\n<li>链栈的定义</li>\n</ul>\n<h4 id=\"队列\"><a class=\"anchor\" href=\"#队列\">#</a> 队列</h4>\n<ul>\n<li>\n<p>定义</p>\n<p>队列是只允许在一端进行插入，在另一端删除的线性表</p>\n</li>\n<li>\n<p>基本操作</p>\n<ul>\n<li>初始化</li>\n<li>销毁队列</li>\n<li>入队</li>\n<li>出队</li>\n<li>读队头元素</li>\n</ul>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322090510999.png\" alt=\"image-20220322090510999\"></p>\n</li>\n</ul>\n<h5 id=\"存储结构-2\"><a class=\"anchor\" href=\"#存储结构-2\">#</a> 存储结构</h5>\n<h6 id=\"顺序队列\"><a class=\"anchor\" href=\"#顺序队列\">#</a> 顺序队列</h6>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322091952350.png\" alt=\"image-20220322091952350\"></p>\n<ul>\n<li>\n<p>定义</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">struct</span>&#123;</span><br><span class=\"line\">   Elemtype data[MaxSize];</span><br><span class=\"line\">   <span class=\"type\">int</span> front,     <span class=\"comment\">// 头指针</span></span><br><span class=\"line\">       rear;     <span class=\"comment\">// 尾指针</span></span><br><span class=\"line\">&#125;SqQueue;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>初始化</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">InitQueue</span><span class=\"params\">(SqQueue &amp;Q)</span></span>&#123;</span><br><span class=\"line\">    Q.rear = Q.front =<span class=\"number\">0</span>;  <span class=\"comment\">// 初始化将对头指针和队尾指针都置为零</span></span><br><span class=\"line\">            </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>判断队列是否为空</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 判断队列是否为空</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">QueueEmpty</span><span class=\"params\">(SqQueue Q)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(Q.rear == Q.front)</span><br><span class=\"line\">       <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    <span class=\"keyword\">else</span></span><br><span class=\"line\">       <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>入队</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 入队</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">EnQueue</span><span class=\"params\">(SqQueue &amp;Q,Elemtype x)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>((Q.rear<span class=\"number\">+1</span>)%MaxSize == Q.front) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;  <span class=\"comment\">// 判断队是否是满的</span></span><br><span class=\"line\">    Q.data[Q.rear] = x;</span><br><span class=\"line\">    Q.rear = (Q.rear<span class=\"number\">+1</span>)%MaxSize;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>出队</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 出队</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">DeQueue</span><span class=\"params\">(SqQueue &amp;Q,Elemtype &amp;x)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(Q.rear == Q.front) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// 判断队是否为空</span></span><br><span class=\"line\">    x = Q.data[Q.front];</span><br><span class=\"line\">    Q.front  = (Q.front<span class=\"number\">+1</span>)%MaxSize;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>读取队头元素</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 读取队头元素</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">GetHead</span><span class=\"params\">(SqQueue Q,Elemtype &amp;x)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(Q.rear == Q.front) <span class=\"keyword\">return</span> <span class=\"literal\">false</span>; <span class=\"comment\">// 判断队是否为空</span></span><br><span class=\"line\">    x = Q.data[Q.front];</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h6 id=\"链队\"><a class=\"anchor\" href=\"#链队\">#</a> 链队</h6>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322093349498.png\" alt=\"image-20220322093349498\"></p>\n<p>带头结点</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322092220498.png\" alt=\"image-20220322092220498\"></p>\n<p>不带头结点<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322092541162.png\" alt=\"image-20220322092541162\"></p>\n<ul>\n<li>\n<p>定义</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">struct</span> <span class=\"title class_\">LinkNode</span>&#123;</span><br><span class=\"line\">   Elemtype data;</span><br><span class=\"line\">   LinkNode *next;</span><br><span class=\"line\">&#125;LinkNode;</span><br><span class=\"line\"><span class=\"comment\">// 存储队列的队头指针 和队尾指针</span></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> <span class=\"keyword\">struct</span>&#123;</span><br><span class=\"line\">    LinkNode *front,*rear;</span><br><span class=\"line\">&#125;LinkQueue;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>初始化</p>\n<ul>\n<li>\n<p>带头结点</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 初始化队列（带头结点）</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">InitQueue</span><span class=\"params\">(LinkQueue &amp;Q)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 初始化时，front rear都指向头结点</span></span><br><span class=\"line\">    Q.front = Q.rear = <span class=\"keyword\">new</span> LinkNode;</span><br><span class=\"line\">    Q.front-&gt;next = <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>不带头结点</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 初始化队列（不带头节点）</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">InitQueue2</span><span class=\"params\">(LinkQueue &amp;Q)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 初始化时 front rear 都指向NULL</span></span><br><span class=\"line\">    Q.front = <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">    Q.rear = <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li>\n<p>判断队列是否为空</p>\n<ul>\n<li>\n<p>带头结点</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 判断队列是否为空(带头结点)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">IsEmpty</span><span class=\"params\">(LinkQueue Q)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(Q.front == Q.rear)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>不带头结点</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 判断队列是否为空（不带头结点）</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">IsEmpty2</span><span class=\"params\">(LinkQueue Q)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(Q.front == <span class=\"literal\">NULL</span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li>\n<p>入队</p>\n<ul>\n<li>\n<p>带头结点</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 新元素入队 （带头结点）</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">EnQueue</span><span class=\"params\">(LinkQueue &amp;Q,Elemtype x)</span></span>&#123;</span><br><span class=\"line\">    LinkNode* q = <span class=\"keyword\">new</span> LinkNode;</span><br><span class=\"line\">    q-&gt;data = x;</span><br><span class=\"line\">    q-&gt;next = <span class=\"literal\">NULL</span>;</span><br><span class=\"line\">    Q.rear-&gt;next = q;   <span class=\"comment\">// 将新节点插入到rear之后</span></span><br><span class=\"line\">    Q.rear = q;         <span class=\"comment\">// 修改队尾指针</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>不带头结点</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 新元素入队（不带头结点）</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">void</span> <span class=\"title\">EnQueue2</span><span class=\"params\">(LinkQueue &amp;Q,Elemtype x)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 判断是不是第一个节点</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(Q.front == <span class=\"literal\">NULL</span>)&#123;</span><br><span class=\"line\">        Q.front = Q.rear = <span class=\"keyword\">new</span> LinkNode;</span><br><span class=\"line\">        Q.front-&gt;data = x;</span><br><span class=\"line\">        Q.front-&gt;next = <span class=\"literal\">NULL</span>; </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    LinkNode* q = <span class=\"keyword\">new</span>  LinkNode;</span><br><span class=\"line\">    q-&gt;data = x;</span><br><span class=\"line\">    q-&gt;next =<span class=\"literal\">NULL</span>;</span><br><span class=\"line\">    Q.rear-&gt;next = q;   <span class=\"comment\">// 将新节点加入到队尾指针后面</span></span><br><span class=\"line\">    Q.rear = q;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li>\n<p>出队</p>\n<ul>\n<li>\n<p>带头结点</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 出队(带头结点)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">DeQueue</span><span class=\"params\">(LinkQueue &amp;Q,Elemtype &amp;x)</span></span>&#123;</span><br><span class=\"line\">   <span class=\"comment\">// 判断队列是否为空</span></span><br><span class=\"line\">   <span class=\"keyword\">if</span>(Q.front == Q.rear)</span><br><span class=\"line\">       <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    LinkNode* q = Q.front-&gt;next;   <span class=\"comment\">// 获取头结点的后继节点</span></span><br><span class=\"line\">    x = q-&gt;data;</span><br><span class=\"line\">    Q.front-&gt;next = q-&gt;next;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(Q.rear == q)&#123;</span><br><span class=\"line\">        Q.rear = Q.front;    <span class=\"comment\">// 判断是否是最后的一个元素，如果</span></span><br><span class=\"line\">                             <span class=\"comment\">// 是的话，就将队尾指针重新指向队头指针</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> q;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>不带头结点</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 出队 （不带头结点）</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"type\">bool</span> <span class=\"title\">DeQueue2</span><span class=\"params\">(LinkQueue &amp;Q, Elemtype &amp;x)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//判断队列是否为空</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(Q.front==<span class=\"literal\">NULL</span>)   </span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">    LinkNode* q = Q.front;</span><br><span class=\"line\">    x = q-&gt;data;</span><br><span class=\"line\">    Q.front = q-&gt;next;</span><br><span class=\"line\">    <span class=\"comment\">// 判断删除的是否是最后一个节点</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (q == Q.rear)</span><br><span class=\"line\">        Q.rear = Q.front;</span><br><span class=\"line\">    <span class=\"keyword\">delete</span> q;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li>\n<p>获取队头元素</p>\n<ul>\n<li>\n<p>带头结点</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 获取队头元素(带头结点)</span></span><br><span class=\"line\"><span class=\"function\">Elemtype  <span class=\"title\">getHead</span><span class=\"params\">(LinkQueue Q)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 判断队列是否为空，如果为空默认返回0</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(Q.front == Q.rear)</span><br><span class=\"line\">         <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"comment\">// 队列不为空，就返回队头元素的值</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> Q.front-&gt;next-&gt;data;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>不带头结点</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 获取队头元素(不带头结点)</span></span><br><span class=\"line\"><span class=\"function\">Elemtype  <span class=\"title\">getHead2</span><span class=\"params\">(LinkQueue Q)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 判断队列是否为空，如果为空默认返回0</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(Q.front == <span class=\"literal\">NULL</span>)</span><br><span class=\"line\">         <span class=\"keyword\">return</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"comment\">// 队列不为空，就返回队头元素的值</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> Q.front-&gt;data;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n</ul>\n<p>​</p>\n<h4 id=\"特殊矩阵的压缩存储\"><a class=\"anchor\" href=\"#特殊矩阵的压缩存储\">#</a> 特殊矩阵的压缩存储</h4>\n<ul>\n<li>\n<p>数组的存储结构</p>\n<ul>\n<li>\n<p>一维数组</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220321082602673.png\" alt=\"image-20220321082602673\"></p>\n</li>\n<li>\n<p>二维数组</p>\n</li>\n<li>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220321083037351.png\" alt=\"image-20220321083037351\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220321083111179.png\" alt=\"image-20220321083111179\"></p>\n</li>\n</ul>\n</li>\n<li>\n<p>特殊矩阵</p>\n<ul>\n<li>对称矩阵：对方阵中的任意一个元素，有 ai,j = aj,i\n<ul>\n<li>压缩：只存储主对角线 + 下三角区（或主对角线 + 上三角区）</li>\n</ul>\n</li>\n<li>三角矩阵：上三角区全为常量（下三角矩阵）或下三角区全为常量（上三角矩阵）\n<ul>\n<li>压缩：安航优先、列优先规则依次存储非常量区域，并在最后一个位置存放常量 c</li>\n</ul>\n</li>\n<li>三对角矩阵：当 | i-j|&gt;1 时，有 ai,j = 0 （1&lt;=i,j&lt;=n）\n<ul>\n<li>压缩：按行优先 / 列优先规则依次存储带状区域</li>\n</ul>\n</li>\n<li>稀疏矩阵：非零元素远远小于矩阵元素的个数\n<ul>\n<li>压缩：只存储非零元素\n<ul>\n<li>顺序存储：顺序存储三元组 &lt;行，列，值&gt;</li>\n<li>链式存储：十字链表法</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"串\"><a class=\"anchor\" href=\"#串\">#</a> 串</h4>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220321105716565.png\" alt=\"image-20220321105716565\"></p>\n<ul>\n<li>\n<p>存储结构</p>\n<ul>\n<li>\n<p>顺序存储</p>\n<ul>\n<li>静态数组</li>\n<li><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220321130151279.png\" alt=\"image-20220321130151279\"></li>\n<li>动态数组</li>\n<li><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220321130206010.png\" alt=\"image-20220321130206010\"></li>\n</ul>\n</li>\n<li>\n<p>链式存储                        <img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220321130436669.png\" alt=\"image-20220321130436669\"></p>\n<p>​    这种存储方式存储密度较低，所以常用以下方式来存储<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220321130505031.png\" alt=\"image-20220321130505031\"></p>\n</li>\n<li>\n<p>基于顺序存储实现基本操作</p>\n<ul>\n<li>\n<p>求子串</p>\n<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220321130832096.png\" alt=\"image-20220321130832096\" style=\"zoom:200%;\" />\n</li>\n<li>\n<p>比较两个串的大小</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220321130933226.png\" alt=\"image-20220321130933226\"></p>\n</li>\n<li>\n<p>定位子串</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220321131027808.png\" alt=\"image-20220321131027808\"></p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"二叉树\"><a class=\"anchor\" href=\"#二叉树\">#</a> 二叉树</h4>\n<h5 id=\"线索二叉树\"><a class=\"anchor\" href=\"#线索二叉树\">#</a> 线索二叉树</h5>\n<h5 id=\"image-20220322140015546image-20220322143502732image-20220322143609197\"><a class=\"anchor\" href=\"#image-20220322140015546image-20220322143502732image-20220322143609197\">#</a> <img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322140015546.png\" alt=\"image-20220322140015546\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322143502732.png\" alt=\"image-20220322143502732\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322143609197.png\" alt=\"image-20220322143609197\"></h5>\n<h6 id=\"中序线索化\"><a class=\"anchor\" href=\"#中序线索化\">#</a> 中序线索化 =</h6>\n<ul>\n<li>\n<p>定义</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322131711402.png\" alt=\"image-20220322131711402\"></p>\n</li>\n<li>\n<p>线索化</p>\n</li>\n<li>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322131657005.png\" alt=\"image-20220322131657005\"></p>\n</li>\n<li>\n<p>教材版</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322132343185.png\" alt=\"image-20220322132343185\"></p>\n</li>\n<li>\n<p>处理最后一个节点</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322135229664.png\" alt=\"image-20220322135229664\"></p>\n</li>\n<li>\n<p>寻找后继<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322140748127.png\" alt=\"image-20220322140748127\" style=\"zoom:200%;\" /></p>\n</li>\n<li>\n<p>寻找前驱<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322141359193.png\" alt=\"image-20220322141359193\"></p>\n</li>\n<li>\n<p>进行中序遍历<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322141149507.png\" alt=\"image-20220322141149507\"></p>\n</li>\n<li>\n<p>进行逆向中序遍历<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322141449103.png\" alt=\"image-20220322141449103\"></p>\n</li>\n</ul>\n<h6 id=\"先序线索化\"><a class=\"anchor\" href=\"#先序线索化\">#</a> 先序线索化</h6>\n<ul>\n<li>\n<p>定义</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322131711402.png\" alt=\"image-20220322131711402\"></p>\n</li>\n<li>\n<p>线索化</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322134708767.png\" alt=\"image-20220322134708767\"></p>\n</li>\n<li>\n<p>处理最后一个节点</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322134708767.png\" alt=\"image-20220322134708767\"></p>\n<p>注意：先序线索化会出现转圈的现象，所以应该在遍历左孩子之前，判断当前指针是否已经执行前驱指针。若已经指向，则不会遍历当前根的左子树；如果没有指向，再遍历左子树</p>\n</li>\n<li>\n<p>寻找后继<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322141927351.png\" alt=\"image-20220322141927351\"></p>\n</li>\n<li>\n<p>寻找前驱<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322142145724.png\" alt=\"image-20220322142145724\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322142632331.png\" alt=\"image-20220322142632331\"></p>\n</li>\n<li>\n<p>先序遍历</p>\n</li>\n<li>\n<p>逆向先序遍历</p>\n</li>\n</ul>\n<h6 id=\"后序线索化\"><a class=\"anchor\" href=\"#后序线索化\">#</a> 后序线索化</h6>\n<ul>\n<li>\n<p>定义</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322131711402.png\" alt=\"image-20220322131711402\"></p>\n</li>\n<li>\n<p>线索化</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322135825769.png\" alt=\"image-20220322135825769\"></p>\n<p>​        教材上</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322135937961.png\" alt=\"image-20220322135937961\"></p>\n</li>\n<li>\n<p>最后一个节点</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322135841721.png\" alt=\"image-20220322135841721\"></p>\n</li>\n<li>\n<p>寻找前驱<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322143006580.png\" alt=\"image-20220322143006580\"></p>\n</li>\n<li>\n<p>寻找后继<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322143106816.png\" alt=\"image-20220322143106816\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322143418284.png\" alt=\"image-20220322143418284\"></p>\n</li>\n<li>\n<p>后序遍历</p>\n</li>\n<li>\n<p>逆向后序遍历</p>\n</li>\n</ul>\n<h5 id=\"树的存储结构-image-20220322161735312\"><a class=\"anchor\" href=\"#树的存储结构-image-20220322161735312\">#</a> 树的存储结构   <img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322161735312.png\" alt=\"image-20220322161735312\"></h5>\n<h6 id=\"双亲表示法\"><a class=\"anchor\" href=\"#双亲表示法\">#</a> 双亲表示法</h6>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322162435396.png\" alt=\"image-20220322162435396\"></p>\n<ul>\n<li>\n<p>定义</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322161956311.png\" alt=\"image-20220322161956311\"></p>\n</li>\n</ul>\n<h6 id=\"孩子表示法\"><a class=\"anchor\" href=\"#孩子表示法\">#</a> 孩子表示法</h6>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322162328142.png\" alt=\"image-20220322162328142\"></p>\n<ul>\n<li>\n<p>定义</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322162409728.png\" alt=\"image-20220322162409728\"></p>\n</li>\n</ul>\n<h6 id=\"孩子兄弟表示法\"><a class=\"anchor\" href=\"#孩子兄弟表示法\">#</a> 孩子兄弟表示法</h6>\n<ul>\n<li>\n<p>定义</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322162623901.png\" alt=\"image-20220322162623901\"></p>\n</li>\n</ul>\n<h5 id=\"树的遍历\"><a class=\"anchor\" href=\"#树的遍历\">#</a> 树的遍历</h5>\n<h6 id=\"先根遍历-对应二叉树的先序遍历-深度优先遍历\"><a class=\"anchor\" href=\"#先根遍历-对应二叉树的先序遍历-深度优先遍历\">#</a> 先根遍历    ======》  对应二叉树的先序遍历 （深度优先遍历）</h6>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322163838880.png\" alt=\"image-20220322163838880\"></p>\n<h6 id=\"层次遍历广度优先遍历\"><a class=\"anchor\" href=\"#层次遍历广度优先遍历\">#</a> 层次遍历（广度优先遍历）</h6>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323104436649.png\" alt=\"image-20220323104436649\"></p>\n<h6 id=\"后根遍历-对应二叉树的中序遍历深度优先遍历\"><a class=\"anchor\" href=\"#后根遍历-对应二叉树的中序遍历深度优先遍历\">#</a> 后根遍历    ======》 对应二叉树的中序遍历（深度优先遍历）</h6>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220322164007985.png\" alt=\"image-20220322164007985\"></p>\n<h5 id=\"森林的遍历\"><a class=\"anchor\" href=\"#森林的遍历\">#</a> 森林的遍历</h5>\n<h6 id=\"先序遍历-对应二叉树的先序遍历\"><a class=\"anchor\" href=\"#先序遍历-对应二叉树的先序遍历\">#</a> 先序遍历 ====》对应二叉树的先序遍历</h6>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323104805712.png\" alt=\"image-20220323104805712\"></p>\n<p>总结：依次对各个子树进行先序遍历</p>\n<h6 id=\"中序遍历-对应二叉树的中序遍历\"><a class=\"anchor\" href=\"#中序遍历-对应二叉树的中序遍历\">#</a> 中序遍历 ====》对应二叉树的中序遍历</h6>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323105127496.png\" alt=\"image-20220323105127496\"></p>\n<p>总结：依次对各个子树进行后根遍历</p>\n<h5 id=\"二叉排序树\"><a class=\"anchor\" href=\"#二叉排序树\">#</a> 二叉排序树</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323142530000.png\" alt=\"image-20220323142530000\"></p>\n<ul>\n<li>\n<p>定义</p>\n<p>又称为二叉查找树（BST），一棵二叉树或者是空二叉树，或者是具有如下性质的二叉树：</p>\n<p>​          左子树上所有节点的关键字均小于根节点的关键字；</p>\n<p>​          右子树上所有节点的关键字均大于根节点的关键字；</p>\n<p>​           左子树和右子树各是一颗二叉排序树</p>\n</li>\n<li>\n<p>二叉排序树的查找</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323111154603.png\" alt=\"image-20220323111154603\"></p>\n</li>\n<li>\n<p>二叉排序树的插入</p>\n<ul>\n<li>\n<p>递归插入       空间复杂度为 O (H)     H 为二叉树高度</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323112742524.png\" alt=\"image-20220323112742524\"></p>\n</li>\n<li>\n<p>非递归插入</p>\n</li>\n</ul>\n<p>二叉树的构造</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323113309699.png\" alt=\"image-20220323113309699\"></p>\n<p>注意：</p>\n <img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323113348120.png\" alt=\"image-20220323113348120\" style=\"zoom:150%;\" />\n</li>\n<li>\n<p>二叉排序树的删除</p>\n<ul>\n<li>若删除节点 Z 是叶节点，则直接删除，不会破坏二叉排序树的性质</li>\n<li>若节点 z 只有一颗左子树或者右子树，则让 z 的子树成为 z 父节点的子树，替代 z 的位置</li>\n<li>若节点 z 有左、 右两颗子树，则令 z 的直接后继（或直接前驱）替代 Z，然后从二叉排序树中去这个直接后继（或直接前驱），这样就成了第一或者第二种情况</li>\n</ul>\n</li>\n<li>\n<p>查找效率</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323141600476.png\" alt=\"image-20220323141600476\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323142501402.png\" alt=\"image-20220323142501402\"></p>\n<p>二叉树的查找效率取决于二叉树的高度</p>\n<p>最好情况：平均查找长度 = O (log2n)</p>\n<p>最坏情况：平均查找长度 = O (n)</p>\n</li>\n</ul>\n<h5 id=\"平衡二叉树\"><a class=\"anchor\" href=\"#平衡二叉树\">#</a> 平衡二叉树</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323150520728.png\" alt=\"image-20220323150520728\"></p>\n<h6 id=\"定义\"><a class=\"anchor\" href=\"#定义\">#</a> 定义</h6>\n<p>简称平衡树（AVL 树）----- 树上任一结点的左子树和右子树的高度之差不超过 1</p>\n<p>结点的平衡因子 = 左子树高 - 右子树高</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323142920613.png\" alt=\"image-20220323142920613\"></p>\n<h6 id=\"调整最小不平衡子树\"><a class=\"anchor\" href=\"#调整最小不平衡子树\">#</a> 调整最小不平衡子树</h6>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323143128769.png\" alt=\"image-20220323143128769\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323145205879.png\" alt=\"image-20220323145205879\"></p>\n<ul>\n<li>\n<p>LL 型</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323143709513.png\" alt=\"image-20220323143709513\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323144054951.png\" alt=\"image-20220323144054951\"></p>\n</li>\n<li>\n<p>RR 型</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323143903292.png\" alt=\"image-20220323143903292\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323144117377.png\" alt=\"image-20220323144117377\"></p>\n</li>\n<li>\n<p>LR 型</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323144811320.png\" alt=\"image-20220323144811320\"></p>\n<p>具体操作步骤：</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323144844183.png\" alt=\"image-20220323144844183\"></p>\n</li>\n<li>\n<p>RL 型</p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323144935495.png\" alt=\"image-20220323144935495\"></p>\n</li>\n</ul>\n<h6 id=\"查找效率分析\"><a class=\"anchor\" href=\"#查找效率分析\">#</a> 查找效率分析</h6>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323150406589.png\" alt=\"image-20220323150406589\"></p>\n<h5 id=\"哈夫曼树\"><a class=\"anchor\" href=\"#哈夫曼树\">#</a> 哈夫曼树</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323152638270.png\" alt=\"image-20220323152638270\"></p>\n<h6 id=\"定义-2\"><a class=\"anchor\" href=\"#定义-2\">#</a> 定义</h6>\n<ul>\n<li>相关概念</li>\n</ul>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323151335767.png\" alt=\"image-20220323151335767\"></p>\n<ul>\n<li>\n<p>哈夫曼树的相关定义</p>\n<p>在含有 n 个带权叶节点的二叉树中 ，其中带权路径长度（WPL）最小的二叉树称为哈夫曼树，也称为最优二叉树</p>\n</li>\n</ul>\n<h6 id=\"哈夫曼树的构造\"><a class=\"anchor\" href=\"#哈夫曼树的构造\">#</a> 哈夫曼树的构造</h6>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220323151925504.png\" alt=\"image-20220323151925504\"></p>\n<h4 id=\"图\"><a class=\"anchor\" href=\"#图\">#</a> 图</h4>\n<h5 id=\"图的基本概念\"><a class=\"anchor\" href=\"#图的基本概念\">#</a> 图的基本概念</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220324083250477.png\" alt=\"image-20220324083250477\"></p>\n<h5 id=\"图的存储\"><a class=\"anchor\" href=\"#图的存储\">#</a> 图的存储</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220324100228493.png\" alt=\"image-20220324100228493\"></p>\n<h6 id=\"邻接矩阵\"><a class=\"anchor\" href=\"#邻接矩阵\">#</a> 邻接矩阵</h6>\n<p>适合存储稠密图，空间复杂度较高，不适合存储稀疏图</p>\n<h6 id=\"邻接表\"><a class=\"anchor\" href=\"#邻接表\">#</a> 邻接表</h6>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220324100400189.png\" alt=\"image-20220324100400189\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220324100412441.png\" alt=\"image-20220324100412441\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220324100438412.png\" alt=\"image-20220324100438412\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220324100616426.png\" alt=\"image-20220324100616426\"></p>\n<h6 id=\"十字链表存储有向图\"><a class=\"anchor\" href=\"#十字链表存储有向图\">#</a> 十字链表（存储有向图）</h6>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220324095540101.png\" alt=\"image-20220324095540101\"></p>\n<h6 id=\"临接多重表存储无向图\"><a class=\"anchor\" href=\"#临接多重表存储无向图\">#</a> 临接多重表（存储无向图）</h6>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220324095724169.png\" alt=\"image-20220324095724169\"></p>\n<h4 id=\"树\"><a class=\"anchor\" href=\"#树\">#</a> 树</h4>\n<h5 id=\"树的定义和基本术语\"><a class=\"anchor\" href=\"#树的定义和基本术语\">#</a> 树的定义和基本术语</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717105111141.png\" alt=\"image-20220717105111141\"></p>\n<p><img data-src=\"E:%5Ctypora%5Ctypora%E5%9B%BE%E7%89%87%5Cimage-20220717105252963.png\" alt=\"image-20220717105252963\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717105946167.png\" alt=\"image-20220717105946167\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717110229176.png\" alt=\"image-20220717110229176\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717110342157.png\" alt=\"image-20220717110342157\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717110442668.png\" alt=\"image-20220717110442668\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717110530683.png\" alt=\"image-20220717110530683\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717110602207.png\" alt=\"image-20220717110602207\"></p>\n<h5 id=\"树的常考性质\"><a class=\"anchor\" href=\"#树的常考性质\">#</a> 树的常考性质</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717110645698.png\" alt=\"image-20220717110645698\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717125529107.png\" alt=\"image-20220717125529107\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717125611315.png\" alt=\"image-20220717125611315\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717125646988.png\" alt=\"image-20220717125646988\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717125746877.png\" alt=\"image-20220717125746877\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717125852871.png\" alt=\"image-20220717125852871\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717125921373.png\" alt=\"image-20220717125921373\"></p>\n<h5 id=\"二叉树的定义和基本术语\"><a class=\"anchor\" href=\"#二叉树的定义和基本术语\">#</a> 二叉树的定义和基本术语</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717130003302.png\" alt=\"image-20220717130003302\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717130107863.png\" alt=\"image-20220717130107863\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717130411171.png\" alt=\"image-20220717130411171\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717130438901.png\" alt=\"image-20220717130438901\"></p>\n<p><img data-src=\"E:%5Ctypora%5Ctypora%E5%9B%BE%E7%89%87%5Cimage-20220717134231515.png\" alt=\"image-20220717134231515\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717134342682.png\" alt=\"image-20220717134342682\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717134354614.png\" alt=\"image-20220717134354614\"></p>\n<h5 id=\"二叉树的性质\"><a class=\"anchor\" href=\"#二叉树的性质\">#</a> 二叉树的性质</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717135037590.png\" alt=\"image-20220717135037590\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717141950592.png\" alt=\"image-20220717141950592\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717142044164.png\" alt=\"image-20220717142044164\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717142148044.png\" alt=\"image-20220717142148044\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717142426451.png\" alt=\"image-20220717142426451\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717142621594.png\" alt=\"image-20220717142621594\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717142637065.png\" alt=\"image-20220717142637065\"></p>\n<h5 id=\"二叉树的存储结构\"><a class=\"anchor\" href=\"#二叉树的存储结构\">#</a> 二叉树的存储结构</h5>\n<p><img data-src=\"E:%5Ctypora%5Ctypora%E5%9B%BE%E7%89%87%5Cimage-20220717142857868.png\" alt=\"image-20220717142857868\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717143029307.png\" alt=\"image-20220717143029307\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717144308362.png\" alt=\"image-20220717144308362\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717144343606.png\" alt=\"image-20220717144343606\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717171051446.png\" alt=\"image-20220717171051446\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717171139111.png\" alt=\"image-20220717171139111\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717171236962.png\" alt=\"image-20220717171236962\"></p>\n<h5 id=\"二叉树的先中后序遍历\"><a class=\"anchor\" href=\"#二叉树的先中后序遍历\">#</a> 二叉树的先中后序遍历</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717171457609.png\" alt=\"image-20220717171457609\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717171443629.png\" alt=\"image-20220717171443629\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717171746546.png\" alt=\"image-20220717171746546\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717171914794.png\" alt=\"image-20220717171914794\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717172029167.png\" alt=\"image-20220717172029167\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717172655018.png\" alt=\"image-20220717172655018\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717172749527.png\" alt=\"image-20220717172749527\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717172824843.png\" alt=\"image-20220717172824843\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717172948138.png\" alt=\"image-20220717172948138\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717173018732.png\" alt=\"image-20220717173018732\"></p>\n<h5 id=\"二叉树的层序遍历\"><a class=\"anchor\" href=\"#二叉树的层序遍历\">#</a> 二叉树的层序遍历</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717173145250.png\" alt=\"image-20220717173145250\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717173315867.png\" alt=\"image-20220717173315867\"></p>\n<h5 id=\"由遍历序列构造二叉树\"><a class=\"anchor\" href=\"#由遍历序列构造二叉树\">#</a> 由遍历序列构造二叉树</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717173518229.png\" alt=\"image-20220717173518229\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717173545844.png\" alt=\"image-20220717173545844\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717173615267.png\" alt=\"image-20220717173615267\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717173629154.png\" alt=\"image-20220717173629154\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717173716539.png\" alt=\"image-20220717173716539\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717173931277.png\" alt=\"image-20220717173931277\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717174112203.png\" alt=\"image-20220717174112203\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717174307533.png\" alt=\"image-20220717174307533\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717174502577.png\" alt=\"image-20220717174502577\"></p>\n<h5 id=\"线索二叉树的概念\"><a class=\"anchor\" href=\"#线索二叉树的概念\">#</a> 线索二叉树的概念</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717174747407.png\" alt=\"image-20220717174747407\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717175109482.png\" alt=\"image-20220717175109482\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717175337380.png\" alt=\"image-20220717175337380\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717175458207.png\" alt=\"image-20220717175458207\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717175641663.png\" alt=\"image-20220717175641663\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717175738005.png\" alt=\"image-20220717175738005\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717175808431.png\" alt=\"image-20220717175808431\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717175949330.png\" alt=\"image-20220717175949330\"></p>\n<p><img data-src=\"E:%5Ctypora%5Ctypora%E5%9B%BE%E7%89%87%5Cimage-20220717180039423.png\" alt=\"image-20220717180039423\"></p>\n<h5 id=\"二叉树的线索化\"><a class=\"anchor\" href=\"#二叉树的线索化\">#</a> 二叉树的线索化</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717180318978.png\" alt=\"image-20220717180318978\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717180709205.png\" alt=\"image-20220717180709205\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717181025434.png\" alt=\"image-20220717181025434\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717181224471.png\" alt=\"image-20220717181224471\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717181457807.png\" alt=\"image-20220717181457807\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717181545132.png\" alt=\"image-20220717181545132\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717181614692.png\" alt=\"image-20220717181614692\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717181711483.png\" alt=\"image-20220717181711483\"></p>\n<h5 id=\"线索二叉树中找前驱后继\"><a class=\"anchor\" href=\"#线索二叉树中找前驱后继\">#</a> 线索二叉树中找前驱后继</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717182344639.png\" alt=\"image-20220717182344639\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717182612348.png\" alt=\"image-20220717182612348\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717182727585.png\" alt=\"image-20220717182727585\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717182828142.png\" alt=\"image-20220717182828142\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717183339349.png\" alt=\"image-20220717183339349\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717183537695.png\" alt=\"image-20220717183537695\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717183634678.png\" alt=\"image-20220717183634678\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717184029972.png\" alt=\"image-20220717184029972\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717184049891.png\" alt=\"image-20220717184049891\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717184156321.png\" alt=\"image-20220717184156321\"></p>\n<h5 id=\"树的存储结构\"><a class=\"anchor\" href=\"#树的存储结构\">#</a> 树的存储结构</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717184238012.png\" alt=\"image-20220717184238012\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717210040431.png\" alt=\"image-20220717210040431\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220717210210873.png\" alt=\"image-20220717210210873\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719091715901.png\" alt=\"image-20220719091715901\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719091755915.png\" alt=\"image-20220719091755915\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719091855162.png\" alt=\"image-20220719091855162\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719092023596.png\" alt=\"image-20220719092023596\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719092148611.png\" alt=\"image-20220719092148611\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719092230599.png\" alt=\"image-20220719092230599\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719092341014.png\" alt=\"image-20220719092341014\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719092435787.png\" alt=\"image-20220719092435787\"></p>\n<h5 id=\"树和森林的-遍历\"><a class=\"anchor\" href=\"#树和森林的-遍历\">#</a> 树和森林的 遍历</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719092710589.png\" alt=\"image-20220719092710589\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719093002519.png\" alt=\"image-20220719093002519\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719093023619.png\" alt=\"image-20220719093023619\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719093104517.png\" alt=\"image-20220719093104517\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719093151998.png\" alt=\"image-20220719093151998\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719093217075.png\" alt=\"image-20220719093217075\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719093238118.png\" alt=\"image-20220719093238118\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719093256387.png\" alt=\"image-20220719093256387\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719093315613.png\" alt=\"image-20220719093315613\"></p>\n<h5 id=\"二叉排序树bst\"><a class=\"anchor\" href=\"#二叉排序树bst\">#</a> 二叉排序树 BST</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719093539708.png\" alt=\"image-20220719093539708\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719093623374.png\" alt=\"image-20220719093623374\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719093732890.png\" alt=\"image-20220719093732890\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719093804422.png\" alt=\"image-20220719093804422\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719093853522.png\" alt=\"image-20220719093853522\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719093940499.png\" alt=\"image-20220719093940499\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719094037895.png\" alt=\"image-20220719094037895\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719094059087.png\" alt=\"image-20220719094059087\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719094212359.png\" alt=\"image-20220719094212359\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719094300704.png\" alt=\"image-20220719094300704\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719094414135.png\" alt=\"image-20220719094414135\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719094542587.png\" alt=\"image-20220719094542587\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719094554948.png\" alt=\"image-20220719094554948\"></p>\n<h5 id=\"平衡二叉树avl\"><a class=\"anchor\" href=\"#平衡二叉树avl\">#</a> 平衡二叉树 AVL</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719094629317.png\" alt=\"image-20220719094629317\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719094753346.png\" alt=\"image-20220719094753346\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719094829547.png\" alt=\"image-20220719094829547\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719094907840.png\" alt=\"image-20220719094907840\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719094920611.png\" alt=\"image-20220719094920611\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719095107316.png\" alt=\"image-20220719095107316\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719095143118.png\" alt=\"image-20220719095143118\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719095253823.png\" alt=\"image-20220719095253823\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719095418668.png\" alt=\"image-20220719095418668\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719095543667.png\" alt=\"image-20220719095543667\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719095625114.png\" alt=\"image-20220719095625114\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719095713202.png\" alt=\"image-20220719095713202\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719095745087.png\" alt=\"image-20220719095745087\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719095920932.png\" alt=\"image-20220719095920932\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719095937157.png\" alt=\"image-20220719095937157\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719100029951.png\" alt=\"image-20220719100029951\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719100104178.png\" alt=\"image-20220719100104178\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719100120569.png\" alt=\"image-20220719100120569\"></p>\n<h5 id=\"哈夫曼树-2\"><a class=\"anchor\" href=\"#哈夫曼树-2\">#</a> 哈夫曼树</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719100210729.png\" alt=\"image-20220719100210729\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719100243182.png\" alt=\"image-20220719100243182\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719100308922.png\" alt=\"image-20220719100308922\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719100348455.png\" alt=\"image-20220719100348455\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719100424840.png\" alt=\"image-20220719100424840\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719100526065.png\" alt=\"image-20220719100526065\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719100608684.png\" alt=\"image-20220719100608684\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719100705857.png\" alt=\"image-20220719100705857\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719100724152.png\" alt=\"image-20220719100724152\"></p>\n<h4 id=\"图-2\"><a class=\"anchor\" href=\"#图-2\">#</a> 图</h4>\n<h5 id=\"图的基本概念-2\"><a class=\"anchor\" href=\"#图的基本概念-2\">#</a> 图的基本概念</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719100838713.png\" alt=\"image-20220719100838713\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719100914696.png\" alt=\"image-20220719100914696\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719100932645.png\" alt=\"image-20220719100932645\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719101022812.png\" alt=\"image-20220719101022812\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719101146294.png\" alt=\"image-20220719101146294\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719101239802.png\" alt=\"image-20220719101239802\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719101343034.png\" alt=\"image-20220719101343034\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719101417700.png\" alt=\"image-20220719101417700\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719101505890.png\" alt=\"image-20220719101505890\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719110334521.png\" alt=\"image-20220719110334521\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719110403764.png\" alt=\"image-20220719110403764\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719110448007.png\" alt=\"image-20220719110448007\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719110523123.png\" alt=\"image-20220719110523123\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719110614596.png\" alt=\"image-20220719110614596\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719110633090.png\" alt=\"image-20220719110633090\"></p>\n<h5 id=\"邻接矩阵法\"><a class=\"anchor\" href=\"#邻接矩阵法\">#</a> 邻接矩阵法</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719110754524.png\" alt=\"image-20220719110754524\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719110831980.png\" alt=\"image-20220719110831980\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719110854350.png\" alt=\"image-20220719110854350\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719110935680.png\" alt=\"image-20220719110935680\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719110947021.png\" alt=\"image-20220719110947021\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719111037552.png\" alt=\"image-20220719111037552\"></p>\n<h5 id=\"邻接表法\"><a class=\"anchor\" href=\"#邻接表法\">#</a> 邻接表法</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719111253281.png\" alt=\"image-20220719111253281\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719111327961.png\" alt=\"image-20220719111327961\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719111426691.png\" alt=\"image-20220719111426691\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719111449067.png\" alt=\"image-20220719111449067\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719111527639.png\" alt=\"image-20220719111527639\"></p>\n<h5 id=\"图的基本操作\"><a class=\"anchor\" href=\"#图的基本操作\">#</a> 图的基本操作</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719121008854.png\" alt=\"image-20220719121008854\"></p>\n<h5 id=\"广度优先遍历bfs\"><a class=\"anchor\" href=\"#广度优先遍历bfs\">#</a> 广度优先遍历 BFS</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719211550880.png\" alt=\"image-20220719211550880\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719211938084.png\" alt=\"image-20220719211938084\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719212104773.png\" alt=\"image-20220719212104773\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719212210198.png\" alt=\"image-20220719212210198\"></p>\n<p><img data-src=\"E:%5Ctypora%5Ctypora%E5%9B%BE%E7%89%87%5Cimage-20220719212236832.png\" alt=\"image-20220719212236832\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719212538052.png\" alt=\"image-20220719212538052\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719212707771.png\" alt=\"image-20220719212707771\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719212735543.png\" alt=\"image-20220719212735543\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719212822015.png\" alt=\"image-20220719212822015\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719212844778.png\" alt=\"image-20220719212844778\"></p>\n<h5 id=\"深度优先遍历dfs\"><a class=\"anchor\" href=\"#深度优先遍历dfs\">#</a> 深度优先遍历 DFS</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719213014873.png\" alt=\"image-20220719213014873\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719213148608.png\" alt=\"image-20220719213148608\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719213225815.png\" alt=\"image-20220719213225815\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719213254105.png\" alt=\"image-20220719213254105\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719213406731.png\" alt=\"image-20220719213406731\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719213455438.png\" alt=\"image-20220719213455438\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719213526693.png\" alt=\"image-20220719213526693\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719213712624.png\" alt=\"image-20220719213712624\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719213731106.png\" alt=\"image-20220719213731106\"></p>\n<h5 id=\"最小生成树\"><a class=\"anchor\" href=\"#最小生成树\">#</a> 最小生成树</h5>\n<h5 id=\"最短路径问题bfs算法\"><a class=\"anchor\" href=\"#最短路径问题bfs算法\">#</a> 最短路径问题 BFS 算法</h5>\n<h5 id=\"最短路径问题dijkstra算法\"><a class=\"anchor\" href=\"#最短路径问题dijkstra算法\">#</a> 最短路径问题 Dijkstra 算法</h5>\n<h5 id=\"最短路径问题floyd算法\"><a class=\"anchor\" href=\"#最短路径问题floyd算法\">#</a> 最短路径问题 Floyd 算法</h5>\n<h5 id=\"有向无环图表达式\"><a class=\"anchor\" href=\"#有向无环图表达式\">#</a> 有向无环图表达式</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719121350308.png\" alt=\"image-20220719121350308\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719121558619.png\" alt=\"image-20220719121558619\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719121614459.png\" alt=\"image-20220719121614459\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719121647318.png\" alt=\"image-20220719121647318\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719121900399.png\" alt=\"image-20220719121900399\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719122027567.png\" alt=\"image-20220719122027567\"></p>\n<h5 id=\"拓扑排序\"><a class=\"anchor\" href=\"#拓扑排序\">#</a> 拓扑排序</h5>\n<h5 id=\"关键路径\"><a class=\"anchor\" href=\"#关键路径\">#</a> 关键路径</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719214802873.png\" alt=\"image-20220719214802873\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719214840735.png\" alt=\"image-20220719214840735\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719215010865.png\" alt=\"image-20220719215010865\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719215423462.png\" alt=\"image-20220719215423462\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719215450760.png\" alt=\"image-20220719215450760\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719215531773.png\" alt=\"image-20220719215531773\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719215625835.png\" alt=\"image-20220719215625835\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719215830529.png\" alt=\"image-20220719215830529\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719220115806.png\" alt=\"image-20220719220115806\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719220331187.png\" alt=\"image-20220719220331187\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719220635104.png\" alt=\"image-20220719220635104\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719220753820.png\" alt=\"image-20220719220753820\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719220823313.png\" alt=\"image-20220719220823313\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719220943055.png\" alt=\"image-20220719220943055\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719221046381.png\" alt=\"image-20220719221046381\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220719221105864.png\" alt=\"image-20220719221105864\"></p>\n<h4 id=\"查找\"><a class=\"anchor\" href=\"#查找\">#</a> 查找</h4>\n<h5 id=\"查找的基本概念\"><a class=\"anchor\" href=\"#查找的基本概念\">#</a> 查找的基本概念</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630142504302.png\" alt=\"image-20220630142504302\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630142614043.png\" alt=\"image-20220630142614043\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630142701478.png\" alt=\"image-20220630142701478\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630142800715.png\" alt=\"image-20220630142800715\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630142904284.png\" alt=\"image-20220630142904284\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630142950719.png\" alt=\"image-20220630142950719\"></p>\n<h5 id=\"顺序查找\"><a class=\"anchor\" href=\"#顺序查找\">#</a> 顺序查找</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630143018340.png\" alt=\"image-20220630143018340\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630143059828.png\" alt=\"image-20220630143059828\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630143312899.png\" alt=\"image-20220630143312899\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630143551196.png\" alt=\"image-20220630143551196\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630143730233.png\" alt=\"image-20220630143730233\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630164007341.png\" alt=\"image-20220630164007341\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630164103953.png\" alt=\"image-20220630164103953\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630164223584.png\" alt=\"image-20220630164223584\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630164247980.png\" alt=\"image-20220630164247980\"></p>\n<h5 id=\"折半查找\"><a class=\"anchor\" href=\"#折半查找\">#</a> 折半查找</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630164330274.png\" alt=\"image-20220630164330274\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630164528566.png\" alt=\"image-20220630164528566\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630164606987.png\" alt=\"image-20220630164606987\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630164643551.png\" alt=\"image-20220630164643551\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630164713212.png\" alt=\"image-20220630164713212\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630164931335.png\" alt=\"image-20220630164931335\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630165137596.png\" alt=\"image-20220630165137596\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630165253950.png\" alt=\"image-20220630165253950\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630165414620.png\" alt=\"image-20220630165414620\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630165503409.png\" alt=\"image-20220630165503409\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630165554637.png\" alt=\"image-20220630165554637\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630165709591.png\" alt=\"image-20220630165709591\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630165742771.png\" alt=\"image-20220630165742771\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630165824468.png\" alt=\"image-20220630165824468\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630165909428.png\" alt=\"image-20220630165909428\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630165936496.png\" alt=\"image-20220630165936496\"></p>\n<h5 id=\"分块查找\"><a class=\"anchor\" href=\"#分块查找\">#</a> 分块查找</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630170022236.png\" alt=\"image-20220630170022236\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630170144885.png\" alt=\"image-20220630170144885\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630170351905.png\" alt=\"image-20220630170351905\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630170704587.png\" alt=\"image-20220630170704587\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630170743463.png\" alt=\"image-20220630170743463\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630171116576.png\" alt=\"image-20220630171116576\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630171515606.png\" alt=\"image-20220630171515606\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630171607371.png\" alt=\"image-20220630171607371\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630171740309.png\" alt=\"image-20220630171740309\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630172109169.png\" alt=\"image-20220630172109169\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630172124282.png\" alt=\"image-20220630172124282\"></p>\n<h5 id=\"b树\"><a class=\"anchor\" href=\"#b树\">#</a> B 树</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630172412570.png\" alt=\"image-20220630172412570\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630172559037.png\" alt=\"image-20220630172559037\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630172703778.png\" alt=\"image-20220630172703778\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630172815953.png\" alt=\"image-20220630172815953\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630173049977.png\" alt=\"image-20220630173049977\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630173115652.png\" alt=\"image-20220630173115652\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630173302487.png\" alt=\"image-20220630173302487\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630173628708.png\" alt=\"image-20220630173628708\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630173723868.png\" alt=\"image-20220630173723868\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630173823066.png\" alt=\"image-20220630173823066\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630174121047.png\" alt=\"image-20220630174121047\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630174312360.png\" alt=\"image-20220630174312360\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630174640373.png\" alt=\"image-20220630174640373\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630174826297.png\" alt=\"image-20220630174826297\"></p>\n<h5 id=\"b树的插入和删除\"><a class=\"anchor\" href=\"#b树的插入和删除\">#</a> B 树的插入和删除</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630183615233.png\" alt=\"image-20220630183615233\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630183919880.png\" alt=\"image-20220630183919880\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630184112791.png\" alt=\"image-20220630184112791\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630184339131.png\" alt=\"image-20220630184339131\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630184635862.png\" alt=\"image-20220630184635862\"></p>\n<h5 id=\"b树-2\"><a class=\"anchor\" href=\"#b树-2\">#</a> B + 树</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630185211191.png\" alt=\"image-20220630185211191\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630184949369.png\" alt=\"image-20220630184949369\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630185334326.png\" alt=\"image-20220630185334326\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630185415874.png\" alt=\"image-20220630185415874\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630185448793.png\" alt=\"image-20220630185448793\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630185520561.png\" alt=\"image-20220630185520561\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630185715319.png\" alt=\"image-20220630185715319\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630185727361.png\" alt=\"image-20220630185727361\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630185807311.png\" alt=\"image-20220630185807311\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630185836618.png\" alt=\"image-20220630185836618\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630185903959.png\" alt=\"image-20220630185903959\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630185921282.png\" alt=\"image-20220630185921282\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630190008559.png\" alt=\"image-20220630190008559\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630190059031.png\" alt=\"image-20220630190059031\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630190259644.png\" alt=\"image-20220630190259644\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630190459416.png\" alt=\"image-20220630190459416\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630190610659.png\" alt=\"image-20220630190610659\"></p>\n<h5 id=\"散列查找\"><a class=\"anchor\" href=\"#散列查找\">#</a> 散列查找</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630201828489.png\" alt=\"image-20220630201828489\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630201923122.png\" alt=\"image-20220630201923122\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630202006770.png\" alt=\"image-20220630202006770\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630202033042.png\" alt=\"image-20220630202033042\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630202131520.png\" alt=\"image-20220630202131520\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630202427602.png\" alt=\"image-20220630202427602\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630202600860.png\" alt=\"image-20220630202600860\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630202742734.png\" alt=\"image-20220630202742734\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630203012587.png\" alt=\"image-20220630203012587\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630203036284.png\" alt=\"image-20220630203036284\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630203314290.png\" alt=\"image-20220630203314290\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630203453349.png\" alt=\"image-20220630203453349\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630203946973.png\" alt=\"image-20220630203946973\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630204203594.png\" alt=\"image-20220630204203594\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220630204305978.png\" alt=\"image-20220630204305978\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701094007211.png\" alt=\"image-20220701094007211\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701094124470.png\" alt=\"image-20220701094124470\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701094359936.png\" alt=\"image-20220701094359936\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701094524136.png\" alt=\"image-20220701094524136\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701094617206.png\" alt=\"image-20220701094617206\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701094739247.png\" alt=\"image-20220701094739247\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701094835953.png\" alt=\"image-20220701094835953\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701094915426.png\" alt=\"image-20220701094915426\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701094957816.png\" alt=\"image-20220701094957816\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701095054260.png\" alt=\"image-20220701095054260\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701095558312.png\" alt=\"image-20220701095558312\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701095658545.png\" alt=\"image-20220701095658545\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701100005268.png\" alt=\"image-20220701100005268\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701100148748.png\" alt=\"image-20220701100148748\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701100522287.png\" alt=\"image-20220701100522287\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701100556326.png\" alt=\"image-20220701100556326\"></p>\n<h4 id=\"排序\"><a class=\"anchor\" href=\"#排序\">#</a> 排序</h4>\n<h5 id=\"排序的基本概念\"><a class=\"anchor\" href=\"#排序的基本概念\">#</a> 排序的基本概念</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701100945996.png\" alt=\"image-20220701100945996\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701101012461.png\" alt=\"image-20220701101012461\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701101156601.png\" alt=\"image-20220701101156601\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701101400763.png\" alt=\"image-20220701101400763\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701101611526.png\" alt=\"image-20220701101611526\"></p>\n<h5 id=\"插入排序\"><a class=\"anchor\" href=\"#插入排序\">#</a> 插入排序</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701102032045.png\" alt=\"image-20220701102032045\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701102001163.png\" alt=\"image-20220701102001163\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701102211781.png\" alt=\"image-20220701102211781\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701102336139.png\" alt=\"image-20220701102336139\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701102405470.png\" alt=\"image-20220701102405470\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701102451794.png\" alt=\"image-20220701102451794\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701102516844.png\" alt=\"image-20220701102516844\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701102652240.png\" alt=\"image-20220701102652240\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701103551259.png\" alt=\"image-20220701103551259\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701103701683.png\" alt=\"image-20220701103701683\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701103740097.png\" alt=\"image-20220701103740097\"></p>\n<h5 id=\"希尔排序\"><a class=\"anchor\" href=\"#希尔排序\">#</a> 希尔排序</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701163948839.png\" alt=\"image-20220701163948839\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701164050985.png\" alt=\"image-20220701164050985\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701164140908.png\" alt=\"image-20220701164140908\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701164253732.png\" alt=\"image-20220701164253732\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701164357574.png\" alt=\"image-20220701164357574\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701164648874.png\" alt=\"image-20220701164648874\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701165241747.png\" alt=\"image-20220701165241747\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701165401931.png\" alt=\"image-20220701165401931\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701165453214.png\" alt=\"image-20220701165453214\"></p>\n<h5 id=\"冒泡排序\"><a class=\"anchor\" href=\"#冒泡排序\">#</a> 冒泡排序</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701165554077.png\" alt=\"image-20220701165554077\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701170042365.png\" alt=\"image-20220701170042365\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701170356469.png\" alt=\"image-20220701170356469\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701170523836.png\" alt=\"image-20220701170523836\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701170601963.png\" alt=\"image-20220701170601963\"></p>\n<h5 id=\"快速排序\"><a class=\"anchor\" href=\"#快速排序\">#</a> 快速排序</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701170727782.png\" alt=\"image-20220701170727782\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701170855964.png\" alt=\"image-20220701170855964\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701171236662.png\" alt=\"image-20220701171236662\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701173923572.png\" alt=\"image-20220701173923572\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701174001855.png\" alt=\"image-20220701174001855\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701185451740.png\" alt=\"image-20220701185451740\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701185529642.png\" alt=\"image-20220701185529642\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701185632653.png\" alt=\"image-20220701185632653\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701185802217.png\" alt=\"image-20220701185802217\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701185915458.png\" alt=\"image-20220701185915458\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701190101576.png\" alt=\"image-20220701190101576\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701190149692.png\" alt=\"image-20220701190149692\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701190318812.png\" alt=\"image-20220701190318812\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701190426469.png\" alt=\"image-20220701190426469\"></p>\n<h5 id=\"简单选择排序\"><a class=\"anchor\" href=\"#简单选择排序\">#</a> 简单选择排序</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701190526486.png\" alt=\"image-20220701190526486\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701190706892.png\" alt=\"image-20220701190706892\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701190727185.png\" alt=\"image-20220701190727185\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701190808719.png\" alt=\"image-20220701190808719\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701190913947.png\" alt=\"image-20220701190913947\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701190948481.png\" alt=\"image-20220701190948481\"></p>\n<h5 id=\"堆排序\"><a class=\"anchor\" href=\"#堆排序\">#</a> 堆排序</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701191924532.png\" alt=\"image-20220701191924532\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701192009735.png\" alt=\"image-20220701192009735\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701192115604.png\" alt=\"image-20220701192115604\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701192231297.png\" alt=\"image-20220701192231297\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701192356369.png\" alt=\"image-20220701192356369\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701192520399.png\" alt=\"image-20220701192520399\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701192729023.png\" alt=\"image-20220701192729023\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701192834030.png\" alt=\"image-20220701192834030\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701193339923.png\" alt=\"image-20220701193339923\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701193720045.png\" alt=\"image-20220701193720045\"><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701193741458.png\" alt=\"image-20220701193741458\"><br>\n<img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701194105093.png\" alt=\"image-20220701194105093\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701194244907.png\" alt=\"image-20220701194244907\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701194449584.png\" alt=\"image-20220701194449584\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701195007553.png\" alt=\"image-20220701195007553\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701195055154.png\" alt=\"image-20220701195055154\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701195222113.png\" alt=\"image-20220701195222113\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701195301496.png\" alt=\"image-20220701195301496\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701195351504.png\" alt=\"image-20220701195351504\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701195428979.png\" alt=\"image-20220701195428979\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701195540866.png\" alt=\"image-20220701195540866\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220701195606735.png\" alt=\"image-20220701195606735\"></p>\n<h5 id=\"堆的插入和删除\"><a class=\"anchor\" href=\"#堆的插入和删除\">#</a> 堆的插入和删除</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702101546444.png\" alt=\"image-20220702101546444\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702101635487.png\" alt=\"image-20220702101635487\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702101751705.png\" alt=\"image-20220702101751705\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702101833583-16567283149501.png\" alt=\"image-20220702101833583\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702101924968.png\" alt=\"image-20220702101924968\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702102029821.png\" alt=\"image-20220702102029821\"></p>\n<h5 id=\"归并排序\"><a class=\"anchor\" href=\"#归并排序\">#</a> 归并排序</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702102230153.png\" alt=\"image-20220702102230153\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702102300639.png\" alt=\"image-20220702102300639\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702102337784.png\" alt=\"image-20220702102337784\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702102448815.png\" alt=\"image-20220702102448815\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702102739893.png\" alt=\"image-20220702102739893\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702103418092.png\" alt=\"image-20220702103418092\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702103547929.png\" alt=\"image-20220702103547929\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702103720217.png\" alt=\"image-20220702103720217\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702104135924.png\" alt=\"image-20220702104135924\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702104238496.png\" alt=\"image-20220702104238496\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702104327457.png\" alt=\"image-20220702104327457\"></p>\n<h5 id=\"基数排序\"><a class=\"anchor\" href=\"#基数排序\">#</a> 基数排序</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702104647135.png\" alt=\"image-20220702104647135\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702104658015.png\" alt=\"image-20220702104658015\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702104817385.png\" alt=\"image-20220702104817385\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702104855697.png\" alt=\"image-20220702104855697\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702104932144.png\" alt=\"image-20220702104932144\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702105010358.png\" alt=\"image-20220702105010358\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702105022649.png\" alt=\"image-20220702105022649\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702105115168.png\" alt=\"image-20220702105115168\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702105130851.png\" alt=\"image-20220702105130851\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702105144476.png\" alt=\"image-20220702105144476\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702105204611.png\" alt=\"image-20220702105204611\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702105435484.png\" alt=\"image-20220702105435484\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702105811542.png\" alt=\"image-20220702105811542\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702105857262.png\" alt=\"image-20220702105857262\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702110146489.png\" alt=\"image-20220702110146489\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702110215884.png\" alt=\"image-20220702110215884\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702110417028.png\" alt=\"image-20220702110417028\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702110442842.png\" alt=\"image-20220702110442842\"></p>\n<h5 id=\"外部排序\"><a class=\"anchor\" href=\"#外部排序\">#</a> 外部排序</h5>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702141738658.png\" alt=\"image-20220702141738658\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702142008399.png\" alt=\"image-20220702142008399\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702142353455.png\" alt=\"image-20220702142353455\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702142417741.png\" alt=\"image-20220702142417741\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702142648215.png\" alt=\"image-20220702142648215\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702142706693.png\" alt=\"image-20220702142706693\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702142728913.png\" alt=\"image-20220702142728913\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702142746858.png\" alt=\"image-20220702142746858\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702142810499.png\" alt=\"image-20220702142810499\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702142831831.png\" alt=\"image-20220702142831831\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702143035289.png\" alt=\"image-20220702143035289\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702143102606.png\" alt=\"image-20220702143102606\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702143121993.png\" alt=\"image-20220702143121993\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702143446328.png\" alt=\"image-20220702143446328\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702143544423.png\" alt=\"image-20220702143544423\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702143603179.png\" alt=\"image-20220702143603179\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702143843999.png\" alt=\"image-20220702143843999\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702143929380.png\" alt=\"image-20220702143929380\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702143950499.png\" alt=\"image-20220702143950499\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702144126935.png\" alt=\"image-20220702144126935\"></p>\n<p><img data-src=\"https://raw.githubusercontent.com/zhihao-a/blog-img/main/image-20220702144607852.png\" alt=\"image-20220702144607852\"></p>\n",
            "tags": [
                "数据结构记录"
            ]
        },
        {
            "id": "https://zhihao-a.github.io/2023/12/17/Linux%E5%B8%B8%E7%94%A8%E8%AF%AD%E6%B3%95/",
            "url": "https://zhihao-a.github.io/2023/12/17/Linux%E5%B8%B8%E7%94%A8%E8%AF%AD%E6%B3%95/",
            "title": "My First Post",
            "date_published": "2023-12-17T04:58:59.000Z",
            "content_html": "<h1 id=\"linux基础命令\"><a class=\"anchor\" href=\"#linux基础命令\">#</a> Linux 基础命令</h1>\n<h2 id=\"linux的目录结构\"><a class=\"anchor\" href=\"#linux的目录结构\">#</a> Linux 的目录结构</h2>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027214128.png\" alt=\"image-20221027214128453\"></p>\n<ul>\n<li><code>/</code> ，根目录是最顶级的目录了</li>\n<li>Linux 只有一个顶级目录： <code>/</code></li>\n<li>路径描述的层次关系同样适用 <code>/</code>  来表示</li>\n<li>/home/itheima/a.txt，表示根目录下的 home 文件夹内有 itheima 文件夹，内有 a.txt</li>\n</ul>\n<h2 id=\"ls命令\"><a class=\"anchor\" href=\"#ls命令\">#</a> ls 命令</h2>\n<p>功能：列出文件夹信息</p>\n<p>语法： <code>ls [-l -h -a] [参数]</code></p>\n<ul>\n<li>参数：被查看的文件夹，不提供参数，表示查看当前工作目录</li>\n<li>-l，以列表形式查看</li>\n<li>-h，配合 - l，以更加人性化的方式显示文件大小</li>\n<li>-a，显示隐藏文件</li>\n</ul>\n<h3 id=\"隐藏文件-文件夹\"><a class=\"anchor\" href=\"#隐藏文件-文件夹\">#</a> 隐藏文件、文件夹</h3>\n<p>在 Linux 中以 <code>.</code>  开头的，均是隐藏的。</p>\n<p>默认不显示出来，需要 <code>-a</code>  选项才可查看到。</p>\n<h2 id=\"pwd命令\"><a class=\"anchor\" href=\"#pwd命令\">#</a> pwd 命令</h2>\n<p>功能：展示当前工作目录</p>\n<p>语法： <code>pwd</code></p>\n<h2 id=\"cd命令\"><a class=\"anchor\" href=\"#cd命令\">#</a> cd 命令</h2>\n<p>功能：切换工作目录</p>\n<p>语法： <code>cd [目标目录]</code></p>\n<p>参数：目标目录，要切换去的地方，不提供默认切换到 <code>当前登录用户HOME目录</code></p>\n<h2 id=\"home目录\"><a class=\"anchor\" href=\"#home目录\">#</a> HOME 目录</h2>\n<p>每一个用户在 Linux 系统中都有自己的专属工作目录，称之为 HOME 目录。</p>\n<ul>\n<li>\n<p>普通用户的 HOME 目录，默认在： <code>/home/用户名</code></p>\n</li>\n<li>\n<p>root 用户的 HOME 目录，在： <code>/root</code></p>\n</li>\n</ul>\n<p>FinalShell 登陆终端后，默认的工作目录就是用户的 HOME 目录</p>\n<h2 id=\"相对路径-绝对路径\"><a class=\"anchor\" href=\"#相对路径-绝对路径\">#</a> 相对路径、绝对路径</h2>\n<ul>\n<li>\n<p>相对路径，<mark>非</mark> <code>/</code>  开头的称之为相对路径</p>\n<p>相对路径表示以 <code>当前目录</code> 作为起点，去描述路径，如 <code>test/a.txt</code> ，表示当前工作目录内的 test 文件夹内的 a.txt 文件</p>\n</li>\n<li>\n<p>绝对路径，<mark>以</mark> <code>/</code>  开头的称之为绝对路径</p>\n<p>绝对路径从 <code>根</code> 开始描述路径</p>\n</li>\n</ul>\n<h2 id=\"特殊路径符\"><a class=\"anchor\" href=\"#特殊路径符\">#</a> 特殊路径符</h2>\n<ul>\n<li><code>.</code> ，表示当前，比如./a.txt，表示当前文件夹内的 <code>a.txt</code>  文件</li>\n<li><code>..</code> ，表示上级目录，比如 <code>../</code>  表示上级目录， <code>../../</code>  表示上级的上级目录</li>\n<li><code>~</code> ，表示用户的 HOME 目录，比如 <code>cd ~</code> ，即可切回用户 HOME 目录</li>\n</ul>\n<h2 id=\"mkdir命令\"><a class=\"anchor\" href=\"#mkdir命令\">#</a> mkdir 命令</h2>\n<p>功能：创建文件夹</p>\n<p>语法： <code>mkdir [-p] 参数</code></p>\n<ul>\n<li>参数：被创建文件夹的路径</li>\n<li>选项：-p，可选，表示创建前置路径</li>\n</ul>\n<h2 id=\"touch命令\"><a class=\"anchor\" href=\"#touch命令\">#</a> touch 命令</h2>\n<p>功能：创建文件</p>\n<p>语法： <code>touch 参数</code></p>\n<ul>\n<li>参数：被创建的文件路径</li>\n</ul>\n<h2 id=\"cat命令\"><a class=\"anchor\" href=\"#cat命令\">#</a> cat 命令</h2>\n<p>功能：查看文件内容</p>\n<p>语法： <code>cat 参数</code></p>\n<ul>\n<li>参数：被查看的文件路径</li>\n</ul>\n<h2 id=\"more命令\"><a class=\"anchor\" href=\"#more命令\">#</a> more 命令</h2>\n<p>功能：查看文件，可以支持翻页查看</p>\n<p>语法： <code>more 参数</code></p>\n<ul>\n<li>参数：被查看的文件路径</li>\n<li>在查看过程中：\n<ul>\n<li><code>空格</code> 键翻页</li>\n<li><code>q</code>  退出查看</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"cp命令\"><a class=\"anchor\" href=\"#cp命令\">#</a> cp 命令</h2>\n<p>功能：复制文件、文件夹</p>\n<p>语法： <code>cp [-r] 参数1 参数2</code></p>\n<ul>\n<li>参数 1，被复制的</li>\n<li>参数 2，要复制去的地方</li>\n<li>选项：-r，可选，复制文件夹使用</li>\n</ul>\n<p>示例：</p>\n<ul>\n<li>cp a.txt b.txt，复制当前目录下 a.txt 为 b.txt</li>\n<li>cp a.txt test/，复制当前目录 a.txt 到 test 文件夹内</li>\n<li>cp -r test test2，复制文件夹 test 到当前文件夹内为 test2 存在</li>\n</ul>\n<h2 id=\"mv命令\"><a class=\"anchor\" href=\"#mv命令\">#</a> mv 命令</h2>\n<p>功能：移动文件、文件夹</p>\n<p>语法： <code>mv 参数1 参数2</code></p>\n<ul>\n<li>参数 1：被移动的</li>\n<li>参数 2：要移动去的地方，参数 2 如果不存在，则会进行改名</li>\n</ul>\n<h2 id=\"rm命令\"><a class=\"anchor\" href=\"#rm命令\">#</a> rm 命令</h2>\n<p>功能：删除文件、文件夹</p>\n<p>语法： <code>rm [-r -f] 参数...参数</code></p>\n<ul>\n<li>参数：支持多个，每一个表示被删除的，空格进行分隔</li>\n<li>选项：-r，删除文件夹使用</li>\n<li>选项：-f，强制删除，不会给出确认提示，一般 root 用户会用到</li>\n</ul>\n<blockquote>\n<p>rm 命令很危险，一定要注意，特别是切换到 root 用户的时候。</p>\n</blockquote>\n<h2 id=\"which命令\"><a class=\"anchor\" href=\"#which命令\">#</a> which 命令</h2>\n<p>功能：查看命令的程序本体文件路径</p>\n<p>语法： <code>which 参数</code></p>\n<ul>\n<li>参数：被查看的命令</li>\n</ul>\n<h2 id=\"find命令\"><a class=\"anchor\" href=\"#find命令\">#</a> find 命令</h2>\n<p>功能：搜索文件</p>\n<p>语法 1 按文件名搜索： <code>find 路径 -name 参数</code></p>\n<ul>\n<li>路径，搜索的起始路径</li>\n<li>参数，搜索的关键字，支持通配符 *， 比如： <code>*</code> test 表示搜索任意以 test 结尾的文件</li>\n</ul>\n<h2 id=\"grep命令\"><a class=\"anchor\" href=\"#grep命令\">#</a> grep 命令</h2>\n<p>功能：过滤关键字</p>\n<p>语法： <code>grep [-n] 关键字 文件路径</code></p>\n<ul>\n<li>选项 - n，可选，表示在结果中显示匹配的行的行号。</li>\n<li>参数，关键字，必填，表示过滤的关键字，带有空格或其它特殊符号，建议使用”” 将关键字包围起来</li>\n<li>参数，文件路径，必填，表示要过滤内容的文件路径，可作为内容输入端口</li>\n</ul>\n<blockquote>\n<p>参数文件路径，可以作为管道符的输入</p>\n</blockquote>\n<h2 id=\"wc命令\"><a class=\"anchor\" href=\"#wc命令\">#</a> wc 命令</h2>\n<p>功能：统计</p>\n<p>语法： <code>wc [-c -m -l -w] 文件路径</code></p>\n<ul>\n<li>选项，-c，统计 bytes 数量</li>\n<li>选项，-m，统计字符数量</li>\n<li>选项，-l，统计行数</li>\n<li>选项，-w，统计单词数量</li>\n<li>参数，文件路径，被统计的文件，可作为内容输入端口</li>\n</ul>\n<blockquote>\n<p>参数文件路径，可作为管道符的输入</p>\n</blockquote>\n<h2 id=\"管道符\"><a class=\"anchor\" href=\"#管道符\">#</a> 管道符 |</h2>\n<p>写法： <code>|</code></p>\n<p>功能：将符号左边的结果，作为符号右边的输入</p>\n<p>示例：</p>\n<p><code>cat a.txt | grep itheima</code> ，将 cat a.txt 的结果，作为 grep 命令的输入，用来过滤 <code>itheima</code>  关键字</p>\n<p>可以支持嵌套：</p>\n<p><code>cat a.txt | grep itheima | grep itcast</code></p>\n<h2 id=\"echo命令\"><a class=\"anchor\" href=\"#echo命令\">#</a> echo 命令</h2>\n<p>功能：输出内容</p>\n<p>语法： <code>echo 参数</code></p>\n<ul>\n<li>参数：被输出的内容</li>\n</ul>\n<h2 id=\"反引号\"><a class=\"anchor\" href=\"#反引号\">#</a> ` 反引号</h2>\n<p>功能：被两个反引号包围的内容，会作为命令执行</p>\n<p>示例：</p>\n<ul>\n<li>echo `pwd`，会输出当前工作目录</li>\n</ul>\n<h2 id=\"tail命令\"><a class=\"anchor\" href=\"#tail命令\">#</a> tail 命令</h2>\n<p>功能：查看文件尾部内容</p>\n<p>语法： <code>tail [-f，-num] 参数</code></p>\n<ul>\n<li>参数：被查看的文件</li>\n<li>选项：-num ，具体的数字，表示查看倒数多少行，不写默认十行</li>\n<li>选项：-f，持续跟踪文件修改</li>\n</ul>\n<h2 id=\"head命令\"><a class=\"anchor\" href=\"#head命令\">#</a> head 命令</h2>\n<p>功能：查看文件头部内容</p>\n<p>语法： <code>head [-n] 参数</code></p>\n<ul>\n<li>参数：被查看的文件</li>\n<li>选项：-n，查看的行数</li>\n</ul>\n<h2 id=\"重定向符\"><a class=\"anchor\" href=\"#重定向符\">#</a> 重定向符</h2>\n<p>功能：将符号左边的结果，输出到右边指定的文件中去</p>\n<ul>\n<li><code>&gt;</code> ，表示覆盖输出</li>\n<li><code>&gt;&gt;</code> ，表示追加输出</li>\n</ul>\n<h2 id=\"vi编辑器\"><a class=\"anchor\" href=\"#vi编辑器\">#</a> vi 编辑器</h2>\n<h3 id=\"命令模式快捷键\"><a class=\"anchor\" href=\"#命令模式快捷键\">#</a> 命令模式快捷键</h3>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027215841.png\" alt=\"image-20221027215841573\"></p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027215846.png\" alt=\"image-20221027215846581\"></p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027215849.png\" alt=\"image-20221027215849668\"></p>\n<h3 id=\"底线命令快捷键\"><a class=\"anchor\" href=\"#底线命令快捷键\">#</a> 底线命令快捷键</h3>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027215858.png\" alt=\"image-20221027215858967\"></p>\n<h2 id=\"命令的选项\"><a class=\"anchor\" href=\"#命令的选项\">#</a> 命令的选项</h2>\n<p>我们学习的一系列 Linux 命令，它们所拥有的选项都是非常多的。</p>\n<p>比如，简单的 ls 命令就有：-a -A -b -c -C -d -D -f -F -g -G -h -H -i -I -k -l -L -m -n -N -o -p -q -Q -r-R -s -S -t -T -u -U -v -w -x -X -1 等选项，可以发现选项是极其多的。</p>\n<p>课程中， 并不会将全部的选项都进行讲解，否则，一个 ls 命令就可能讲解 2 小时之久。</p>\n<p>课程中，会对常见的选项进行讲解， 足够满足绝大多数的学习、工作场景。</p>\n<h3 id=\"查看命令的帮助\"><a class=\"anchor\" href=\"#查看命令的帮助\">#</a> 查看命令的帮助</h3>\n<p>可以通过： <code>命令 --help</code>  查看命令的帮助手册</p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027220005.png\" alt=\"image-20221027220005610\"></p>\n<h3 id=\"查看命令的详细手册\"><a class=\"anchor\" href=\"#查看命令的详细手册\">#</a> 查看命令的详细手册</h3>\n<p>可以通过： <code>man 命令</code> 查看某命令的详细手册</p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027220010.png\" alt=\"image-20221027220009949\"></p>\n<h1 id=\"linux常用操作\"><a class=\"anchor\" href=\"#linux常用操作\">#</a> Linux 常用操作</h1>\n<h2 id=\"软件安装\"><a class=\"anchor\" href=\"#软件安装\">#</a> 软件安装</h2>\n<ul>\n<li>CentOS 系统使用：\n<ul>\n<li>yum [install remove search] [-y] 软件名称\n<ul>\n<li>install 安装</li>\n<li>remove 卸载</li>\n<li>search 搜索</li>\n<li>-y，自动确认</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Ubuntu 系统使用\n<ul>\n<li>apt [install remove search] [-y] 软件名称\n<ul>\n<li>install 安装</li>\n<li>remove 卸载</li>\n<li>search 搜索</li>\n<li>-y，自动确认</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>yum 和 apt 均需要 root 权限</p>\n</blockquote>\n<h2 id=\"systemctl\"><a class=\"anchor\" href=\"#systemctl\">#</a> systemctl</h2>\n<p>功能：控制系统服务的启动关闭等</p>\n<p>语法： <code>systemctl start | stop | restart | disable | enable | status 服务名</code></p>\n<ul>\n<li>start，启动</li>\n<li>stop，停止</li>\n<li>status，查看状态</li>\n<li>disable，关闭开机自启</li>\n<li>enable，开启开机自启</li>\n<li>restart，重启</li>\n</ul>\n<h2 id=\"软链接\"><a class=\"anchor\" href=\"#软链接\">#</a> 软链接</h2>\n<p>功能：创建文件、文件夹软链接（快捷方式）</p>\n<p>语法： <code>ln -s 参数1 参数2</code></p>\n<ul>\n<li>参数 1：被链接的</li>\n<li>参数 2：要链接去的地方（快捷方式的名称和存放位置）</li>\n</ul>\n<h2 id=\"日期\"><a class=\"anchor\" href=\"#日期\">#</a> 日期</h2>\n<p>语法： <code>date [-d] [+格式化字符串]</code></p>\n<ul>\n<li>\n<p>-d 按照给定的字符串显示日期，一般用于日期计算</p>\n</li>\n<li>\n<p>格式化字符串：通过特定的字符串标记，来控制显示的日期格式</p>\n<ul>\n<li>% Y   年 % y   年份后两位数字 (00…99)</li>\n<li>% m   月份 (01…12)</li>\n<li>% d   日 (01…31)</li>\n<li>% H   小时 (00…23)</li>\n<li>% M   分钟 (00…59)</li>\n<li>% S   秒 (00…60)</li>\n<li>% s   自 1970-01-01 00:00:00 UTC 到现在的秒数</li>\n</ul>\n</li>\n</ul>\n<p>示例：</p>\n<ul>\n<li>\n<p>按照 2022-01-01 的格式显示日期</p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027220514.png\" alt=\"image-20221027220514640\"></p>\n</li>\n<li>\n<p>按照 2022-01-01 10:00:00 的格式显示日期</p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027220525.png\" alt=\"image-20221027220525625\"></p>\n</li>\n<li>\n<p>-d 选项日期计算</p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027220429.png\" alt=\"image-20221027220429831\"></p>\n<ul>\n<li>\n<p>支持的时间标记为：</p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027220449.png\" alt=\"image-20221027220449312\"></p>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"时区\"><a class=\"anchor\" href=\"#时区\">#</a> 时区</h2>\n<p>修改时区为中国时区</p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027220554.png\" alt=\"image-20221027220554654\"></p>\n<h2 id=\"ntp\"><a class=\"anchor\" href=\"#ntp\">#</a> ntp</h2>\n<p>功能：同步时间</p>\n<p>安装： <code>yum install -y ntp</code></p>\n<p>启动管理： <code>systemctl start | stop | restart | status | disable | enable ntpd</code></p>\n<p>手动校准时间： <code>ntpdate -u ntp.aliyun.com</code></p>\n<h2 id=\"ip地址\"><a class=\"anchor\" href=\"#ip地址\">#</a> ip 地址</h2>\n<p>格式：a.b.c.d</p>\n<ul>\n<li>abcd 为 0~255 的数字</li>\n</ul>\n<p>特殊 IP：</p>\n<ul>\n<li>127.0.0.1，表示本机</li>\n<li>0.0.0.0\n<ul>\n<li>可以表示本机</li>\n<li>也可以表示任意 IP（看使用场景）</li>\n</ul>\n</li>\n</ul>\n<p>查看 ip： <code>ifconfig</code></p>\n<h2 id=\"主机名\"><a class=\"anchor\" href=\"#主机名\">#</a> 主机名</h2>\n<p>功能：Linux 系统的名称</p>\n<p>查看： <code>hostname</code></p>\n<p>设置： <code>hostnamectl set-hostname 主机名</code></p>\n<h2 id=\"配置vmware固定ip\"><a class=\"anchor\" href=\"#配置vmware固定ip\">#</a> 配置 VMware 固定 IP</h2>\n<ol>\n<li>\n<p>修改 VMware 网络，参阅 PPT，图太多</p>\n</li>\n<li>\n<p>设置 Linux 内部固定 IP</p>\n<p>修改文件： <code>/etc/sysconfig/network-scripts/ifcfg-ens33</code></p>\n<p>示例文件内容：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">TYPE=&quot;Ethernet&quot;</span><br><span class=\"line\">PROXY_METHOD=&quot;none&quot;</span><br><span class=\"line\">BROWSER_ONLY=&quot;no&quot;</span><br><span class=\"line\">BOOTPROTO=&quot;static&quot;\t\t\t# 改为static，固定IP</span><br><span class=\"line\">DEFROUTE=&quot;yes&quot;</span><br><span class=\"line\">IPV4_FAILURE_FATAL=&quot;no&quot;</span><br><span class=\"line\">IPV6INIT=&quot;yes&quot;</span><br><span class=\"line\">IPV6_AUTOCONF=&quot;yes&quot;</span><br><span class=\"line\">IPV6_DEFROUTE=&quot;yes&quot;</span><br><span class=\"line\">IPV6_FAILURE_FATAL=&quot;no&quot;</span><br><span class=\"line\">IPV6_ADDR_GEN_MODE=&quot;stable-privacy&quot;</span><br><span class=\"line\">NAME=&quot;ens33&quot;</span><br><span class=\"line\">UUID=&quot;1b0011cb-0d2e-4eaa-8a11-af7d50ebc876&quot;</span><br><span class=\"line\">DEVICE=&quot;ens33&quot;</span><br><span class=\"line\">ONBOOT=&quot;yes&quot;</span><br><span class=\"line\">IPADDR=&quot;192.168.88.131&quot;\t\t# IP地址，自己设置，要匹配网络范围</span><br><span class=\"line\">NETMASK=&quot;255.255.255.0&quot;\t\t# 子网掩码，固定写法255.255.255.0</span><br><span class=\"line\">GATEWAY=&quot;192.168.88.2&quot;\t\t# 网关，要和VMware中配置的一致</span><br><span class=\"line\">DNS1=&quot;192.168.88.2&quot;\t\t\t# DNS1服务器，和网关一致即可</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h2 id=\"ps命令\"><a class=\"anchor\" href=\"#ps命令\">#</a> ps 命令</h2>\n<p>功能：查看进程信息</p>\n<p>语法： <code>ps -ef</code> ，查看全部进程信息，可以搭配 grep 做过滤： <code>ps -ef | grep xxx</code></p>\n<h2 id=\"kill命令\"><a class=\"anchor\" href=\"#kill命令\">#</a> kill 命令</h2>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027221303.png\" alt=\"image-20221027221303037\"></p>\n<h2 id=\"nmap命令\"><a class=\"anchor\" href=\"#nmap命令\">#</a> nmap 命令</h2>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027221241.png\" alt=\"image-20221027221241123\"></p>\n<h2 id=\"netstat命令\"><a class=\"anchor\" href=\"#netstat命令\">#</a> netstat 命令</h2>\n<p>功能：查看端口占用</p>\n<p>用法： <code>netstat -anp | grep xxx</code></p>\n<h2 id=\"ping命令\"><a class=\"anchor\" href=\"#ping命令\">#</a> ping 命令</h2>\n<p>测试网络是否联通</p>\n<p>语法： <code>ping [-c num] 参数</code></p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027221129.png\" alt=\"image-20221027221129782\"></p>\n<h2 id=\"wget命令\"><a class=\"anchor\" href=\"#wget命令\">#</a> wget 命令</h2>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027221149.png\" alt=\"image-20221027221148964\"></p>\n<h2 id=\"curl命令\"><a class=\"anchor\" href=\"#curl命令\">#</a> curl 命令</h2>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027221201.png\" alt=\"image-20221027221201079\"></p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027221210.png\" alt=\"image-20221027221210518\"></p>\n<h2 id=\"top命令\"><a class=\"anchor\" href=\"#top命令\">#</a> top 命令</h2>\n<p>功能：查看主机运行状态</p>\n<p>语法： <code>top</code> ，查看基础信息</p>\n<p>可用选项：</p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027221340.png\" alt=\"image-20221027221340729\"></p>\n<p>交互式模式中，可用快捷键：</p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027221354.png\" alt=\"image-20221027221354137\"></p>\n<h2 id=\"df命令\"><a class=\"anchor\" href=\"#df命令\">#</a> df 命令</h2>\n<p>查看磁盘占用</p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027221413.png\" alt=\"image-20221027221413787\"></p>\n<h2 id=\"iostat命令\"><a class=\"anchor\" href=\"#iostat命令\">#</a> iostat 命令</h2>\n<p>查看 CPU、磁盘的相关信息</p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027221440.png\" alt=\"image-20221027221439990\"></p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027221514.png\" alt=\"image-20221027221514237\"></p>\n<h2 id=\"sar命令\"><a class=\"anchor\" href=\"#sar命令\">#</a> sar 命令</h2>\n<p>查看网络统计</p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027221545.png\" alt=\"image-20221027221545822\"></p>\n<h2 id=\"环境变量\"><a class=\"anchor\" href=\"#环境变量\">#</a> 环境变量</h2>\n<ul>\n<li>临时设置：export 变量名 = 变量值</li>\n<li>永久设置：\n<ul>\n<li>针对用户，设置用户 HOME 目录内： <code>.bashrc</code>  文件</li>\n<li>针对全局，设置 <code>/etc/profile</code></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"path变量\"><a class=\"anchor\" href=\"#path变量\">#</a> PATH 变量</h3>\n<p>记录了执行程序的搜索路径</p>\n<p>可以将自定义路径加入 PATH 内，实现自定义命令在任意地方均可执行的效果</p>\n<h2 id=\"符号\"><a class=\"anchor\" href=\"#符号\">#</a> $ 符号</h2>\n<p>可以取出指定的环境变量的值</p>\n<p>语法： <code>$变量名</code></p>\n<p>示例：</p>\n<p><code>echo $PATH</code> ，输出 PATH 环境变量的值</p>\n<p><code>echo $&#123;PATH&#125;ABC</code> ，输出 PATH 环境变量的值以及 ABC</p>\n<p>如果变量名和其它内容混淆在一起，可以使用 ${}</p>\n<h2 id=\"压缩解压\"><a class=\"anchor\" href=\"#压缩解压\">#</a> 压缩解压</h2>\n<h3 id=\"压缩\"><a class=\"anchor\" href=\"#压缩\">#</a> 压缩</h3>\n<p><code>tar -zcvf 压缩包 被压缩1...被压缩2...被压缩N</code></p>\n<ul>\n<li>-z 表示使用 gzip，可以不写</li>\n</ul>\n<p><code>zip [-r] 参数1 参数2 参数N</code></p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027221906.png\" alt=\"image-20221027221906247\"></p>\n<h3 id=\"解压\"><a class=\"anchor\" href=\"#解压\">#</a> 解压</h3>\n<p><code>tar -zxvf 被解压的文件 -C 要解压去的地方</code></p>\n<ul>\n<li>-z 表示使用 gzip，可以省略</li>\n<li>-C，可以省略，指定要解压去的地方，不写解压到当前目录</li>\n</ul>\n<p><code>unzip [-d] 参数</code></p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027221939.png\" alt=\"image-20221027221939899\"></p>\n<h2 id=\"su命令\"><a class=\"anchor\" href=\"#su命令\">#</a> su 命令</h2>\n<p>切换用户</p>\n<p>语法： <code>su [-] [用户]</code></p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027222021.png\" alt=\"image-20221027222021619\"></p>\n<h2 id=\"sudo命令\"><a class=\"anchor\" href=\"#sudo命令\">#</a> sudo 命令</h2>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027222035.png\" alt=\"image-20221027222035337\"></p>\n<p>比如：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">itheima ALL=(ALL)       NOPASSWD: ALL</span><br></pre></td></tr></table></figure>\n<p>在 visudo 内配置如上内容，可以让 itheima 用户，无需密码直接使用 <code>sudo</code></p>\n<h2 id=\"chmod命令\"><a class=\"anchor\" href=\"#chmod命令\">#</a> chmod 命令</h2>\n<p>修改文件、文件夹权限</p>\n<p>语法： <code>chmod [-R] 权限 参数</code></p>\n<ul>\n<li>\n<p>权限，要设置的权限，比如 755，表示： <code>rwxr-xr-x</code></p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027222157.png\" alt=\"image-20221027222157276\"></p>\n</li>\n<li>\n<p>参数，被修改的文件、文件夹</p>\n</li>\n<li>\n<p>选项 - R，设置文件夹和其内部全部内容一样生效</p>\n</li>\n</ul>\n<h2 id=\"chown命令\"><a class=\"anchor\" href=\"#chown命令\">#</a> chown 命令</h2>\n<p>修改文件、文件夹所属用户、组</p>\n<p>语法： <code>chown [-R] [用户][:][用户组] 文件或文件夹</code></p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027222326.png\" alt=\"image-20221027222326192\"></p>\n<h2 id=\"用户组管理\"><a class=\"anchor\" href=\"#用户组管理\">#</a> 用户组管理</h2>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027222354.png\" alt=\"image-20221027222354498\"></p>\n<h2 id=\"用户管理\"><a class=\"anchor\" href=\"#用户管理\">#</a> 用户管理</h2>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027222407.png\" alt=\"image-20221027222407618\"></p>\n<h2 id=\"genenv命令\"><a class=\"anchor\" href=\"#genenv命令\">#</a> genenv 命令</h2>\n<ul>\n<li>\n<p><code>getenv group</code> ，查看系统全部的用户组</p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027222446.png\" alt=\"image-20221027222446514\"></p>\n</li>\n<li>\n<p><code>getenv passwd</code> ，查看系统全部的用户</p>\n<p><img data-src=\"https://image-set.oss-cn-zhangjiakou.aliyuncs.com/img-out/2022/10/27/20221027222512.png\" alt=\"image-20221027222512274\"></p>\n</li>\n</ul>\n<h2 id=\"env命令\"><a class=\"anchor\" href=\"#env命令\">#</a> env 命令</h2>\n<p>查看系统全部的环境变量</p>\n<p>语法： <code>env</code></p>\n",
            "tags": [
                "Linux"
            ]
        }
    ]
}