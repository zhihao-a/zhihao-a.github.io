<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="氨基酸小童鞋的博客" href="https://zhihao-a.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="氨基酸小童鞋的博客" href="https://zhihao-a.github.io/atom.xml"><link rel="alternate" type="application/json" title="氨基酸小童鞋的博客" href="https://zhihao-a.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="Git"><link rel="canonical" href="https://zhihao-a.github.io/2024/03/21/git%E9%85%8D%E7%BD%AE%E7%9B%B8%E5%85%B3/"><title>git配置相关 | 氨基酸小童鞋 = 氨基酸小童鞋的博客 = 氨基酸小童鞋的博客</title><meta name="generator" content="Hexo 7.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">git配置相关</h1><div class="meta"><span class="item" title="创建时间：2024-03-21 23:37:11"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2024-03-21T23:37:11+08:00">2024-03-21</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>9k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>8 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">氨基酸小童鞋</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2023/12/17/aef587a6506849f9.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2023/12/17/834185a7da19730b.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2023/12/17/07607a8d73361125.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2023/12/17/694c7ce95dcbdbb7.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2023/12/17/d381655addb17c95.jpg"></li><li class="item" data-background-image="https://s3.bmp.ovh/imgs/2023/12/17/5e4a3be0bf1ee4cc.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://zhihao-a.github.io/2024/03/21/git%E9%85%8D%E7%BD%AE%E7%9B%B8%E5%85%B3/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="氨基酸小童鞋"><meta itemprop="description" content="氨基酸小童鞋的博客, 氨基酸小童鞋的博客"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="氨基酸小童鞋的博客"></span><div class="body md" itemprop="articleBody"><h1 id="imggit-bash-的配置"><a class="anchor" href="#imggit-bash-的配置">#</a> <img data-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==" alt="img">Git Bash 的配置</h1><p>通过这篇文章，可以了解到:</p><ul><li><strong>为什么要使用 Git-Bash, 以及 Git-Bash 的优点</strong></li><li><strong>Git-Bash 的外观主题配置</strong></li><li><strong>Git-Bash 修改提示符 PS1</strong></li><li><strong>Git-Bash 命令行基础</strong></li><li><strong>Git-Bash 快捷键</strong></li></ul><p>可以在这里 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0hlbnJ5VFNaL2ZpbGVzL3RyZWUvbWFzdGVyL2dpdC1iYXNo">files/git-bash at master · HenryTSZ/files (opens new window)</span> 获取设置文件，下载后放到 <code>C:\Users\你电脑的用户名</code></p><h2><a class="anchor" href="#">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNnaXQtYmFzaC0lRTclOUElODQlRTQlQkMlOTglRTclODIlQjk=">#</span>Git-Bash 的优点</h2><p>在开发的过程中，我们可能需要使用大量的命令行工具，或者远程连接到服务器进行操作。然而，由于 <code>Window</code> 自带的 <code>CMD</code> 和 <code>PowerShell</code> 都不太好用，而且在 <code>Window</code> 下的命令又与 <code>Linux</code> 和 <code>MacOS</code> 的命令不太一样，如果需要经常跨平台操作，学习 <code>Window</code> 的命令行命令无疑是增加了学习成本，因此就有了需要一个能做到通用命令的工具.</p><p>在 <code>Window</code> 下使用类似 <code>Linux</code> 命令的工具有很多，例如 <code>Window10</code> 上提供的 <code>WSL(Window Sub Linux)</code> , <code>CygWin</code> 以及 <code>Git-Bash</code> .</p><h3 id="-2"><a class="anchor" href="#-2">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyN3c2w=">#</span>WSL</h3><blockquote><p>The Windows Subsystem for Linux lets developers run Linux environments – including most command-line tools, utilities, and applications – directly on Windows, unmodified, without the overhead of a virtual machine.</p></blockquote><p><code>WSL</code> 是微软提供的一套可以运行 <code>Linux</code> 环境而又不用加载虚拟机的子系统。使用 <code>WSL</code> 可以像使用 <code>Ubuntu</code> 一样的操作，而且还能访问 <code>Window</code> 上的文件系统.</p><h3 id="-3"><a class="anchor" href="#-3">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNjeWd3aW4=">#</span>CygWin</h3><p><code>CygWin</code> 是运行在 <code>Window</code> 平台的类 <code>Unix</code> 环境， <code>CygWIn</code> 通过将部分 <code>Posix</code> 调用转换成 <code>Window</code> 的 <code>API</code> 调用，从而实现相关功能.</p><h3 id="-4"><a class="anchor" href="#-4">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNnaXQtYmFzaA==">#</span>Git-Bash</h3><p>我们这篇文章介绍的 <code>Git-Bash</code> , 是 <span class="exturl" data-url="aHR0cHM6Ly9naXQtc2NtLmNvbS8=">Git 官网 (opens new window)</span> 上提供的一个 <code>Git</code> 开发工具包里的一个命令行组件.</p><p><code>Git-Bash</code> 源自 <code>MinGW</code> , 是一个用于开发原生 <code>Window</code> 应用的开发环境，提供了针对 <code>Win32</code> 应用的 <code>GCC、GNUbinutils</code> 等工具.</p><p>我们可以根据自己的需求，进行选择，这里我选择 <code>Git-Bash</code> 的原因，是我的开发需求主要为启动前端服务及提交代码，因此选择 <code>Git-Bash</code> 较为方便、简单.</p><h2 id="-5"><a class="anchor" href="#-5">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNnaXQtYmFzaC0lRTQlQjglOEIlRTglQkQlQkQlRTUlQUUlODklRTglQTMlODU=">#</span>Git-Bash 下载安装</h2><p>可以在 <span class="exturl" data-url="aHR0cHM6Ly9naXQtc2NtLmNvbS9kb3dubG9hZHM=">Git 官网 (opens new window)</span> 下载，不过国内比较慢；推荐从<span class="exturl" data-url="aHR0cHM6Ly9ucG0udGFvYmFvLm9yZy9taXJyb3JzL2dpdC1mb3Itd2luZG93cy8=">淘宝镜像 (opens new window)</span> 下载</p><p>安装比较简单，基本上就是傻瓜式安装: <span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC8xNTc1ODIwNTE=">Windows Git 2.27.0 的快速下载与安装 - 知乎 (opens new window)</span></p><h2 id="-6"><a class="anchor" href="#-6">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNnaXQtYmFzaC0lRTclOUElODQlRTQlQjglQkIlRTklQTIlOTglRTklODUlOEQlRTclQkQlQUU=">#</span>Git-Bash 的主题配置</h2><p><code>Git-Bash</code> 原生的主题，其实也并不难看，更换 <code>Git-Bash</code> 的需求主要在于: <code>Git-Bash</code> 原生的主题配色和 <code>MacOS</code> 下 <code>iTerm Solarized</code> 主题配色差距甚大。因此，一是视觉上不统一，看上去不习惯，二是本着手贱的探索精神，总希望做点特别的挑战，就有了去修改 <code>Git-Bash</code> 主题的需求.</p><p>修改 <code>Git-Bash</code> 主题主要有两个困难：一是 <code>Git-Bash</code> 自带的 <code>Options</code> 下 <code>Text</code> 设置有缺陷，只有有限的字体可选，一些系统上已经安装了的字体，这里并没有得选择。二要使用 <code>Git-Bash SSH</code> 连接使用了 <code>agnoster</code> 主题的 <code>ZSH</code> , 需要一种含特殊字符的字体 <code>Powerline</code> , 没有了这种字体，就会出现乱码.</p><h3 id="-7"><a class="anchor" href="#-7">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNnaXQtYmFzaC0lRTklODUlOEQlRTglODklQjIlRTQlQjglQkIlRTklQTIlOTglRTglQUUlQkUlRTclQkQlQUU=">#</span>Git-Bash 配色主题设置</h3><p>配置方法很简单，在 <code>Git-Bash</code> 中我们输入以下代码: <code>vi ~/.minttyrc</code> , 然后把以下内容添加到配置文件里面</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">BoldAsFont=<span class="built_in">yes</span></span><br><span class="line">FontHeight=12</span><br><span class="line">Scrollbar=none</span><br><span class="line">Term=xterm-256color</span><br><span class="line">BoldAsColour=<span class="built_in">yes</span></span><br><span class="line">Black=7,54,66</span><br><span class="line">Red=220,50,47</span><br><span class="line">Green=133,153,0</span><br><span class="line">Yellow=181,137,0</span><br><span class="line">Blue=38,139,210</span><br><span class="line">Magenta=211,54,130</span><br><span class="line">Cyan=42,161,152</span><br><span class="line">White=238,232,213</span><br><span class="line">BoldBlack=0,43,54</span><br><span class="line">BoldRed=203,75,22</span><br><span class="line">BoldGreen=88,110,117</span><br><span class="line">BoldYellow=101,123,131</span><br><span class="line">BoldBlue=131,148,150</span><br><span class="line">BoldMagenta=108,113,196</span><br><span class="line">BoldCyan=147,161,161</span><br><span class="line">BoldWhite=253,246,227</span><br><span class="line">ForegroundColour=192,192,192</span><br><span class="line">BackgroundColour=0,43,54</span><br><span class="line">CursorColour=133,153,0</span><br><span class="line">Columns=80</span><br><span class="line">Rows=25</span><br><span class="line"></span><br><span class="line">BoldAsFont=-1</span><br><span class="line">Locale=zh_CN</span><br><span class="line">Charset=UTF-8</span><br><span class="line">Font=Consolas</span><br><span class="line">Transparency=off</span><br><span class="line">CursorType=block</span><br><span class="line">CursorBlinks=<span class="built_in">yes</span></span><br></pre></td></tr></table></figure><p>在 <code>vim</code> 编辑器下，你可以使用方向键移动光标，按 <code>i</code> 进入编辑模式，编辑好后按 <code>esc</code> 退出编辑模式，随后输入 <code>:wq</code> 并回车即可保存。有关 <code>Vim</code> 的更多使用方法你可以参考<span class="exturl" data-url="aHR0cHM6Ly93d3cucnVub29iLmNvbS9saW51eC9saW51eC12aW0uaHRtbA==">这篇教程 (opens new window)</span>.</p><p>然后重启 <code>Git-Bash</code> , 即可看到新的主题配色，以下是我的 <code>Git-Bash</code> 外观主题配置样例.</p><p><img data-src="https://tszv.vercel.app/img/git/014.png" alt="img"></p><h2 id="-8"><a class="anchor" href="#-8">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNnaXQtYmFzaC0lRTQlQkYlQUUlRTYlOTQlQjklRTYlOEYlOTAlRTclQTQlQkElRTclQUMlQTYtcHMx">#</span>Git-Bash 修改提示符 PS1</h2><p><code>PS1</code> 被称为 <code>prompt</code> (提示符), 是终端环境变量的其中之一，主要用于 <code>bash</code> 命令前的提示词。可以改成各种奇形怪状的内容，自定义空间超大。除了 <code>PS1</code> , 还有 <code>PS2-4</code> , 这些暂时没有用到。搜索 <code>linux ps1</code> 能看到相关介绍.</p><p><img data-src="https://tszv.vercel.app/img/git/015.png" alt="default PS1"></p><p>默认的 <code>PS1</code> 最前面的 用户名 @主机名 一般我们是用不到的，一层一层目录实在太长太占地方，而且截屏时也不方便把全路径显示出来， <code>git</code> 分支没有提示当前状态，配色也不太好看，丑兮兮的</p><h3 id="-9"><a class="anchor" href="#-9">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyMlRTglOEUlQjclRTUlOEYlOTYlRTUlQkQlOTMlRTUlODklOEQtcHMxLSVFOSU4NSU4RCVFNyVCRCVBRQ==">#</span>获取当前 PS1 配置</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$PS1</span></span><br></pre></td></tr></table></figure><h3 id="-10"><a class="anchor" href="#-10">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNwczEtJUU0JUJGJUFFJUU2JTk0JUI5JUU4JUFGJUFEJUU2JUIzJTk1">#</span>PS1 修改语法</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 引号里面可以写任何内容</span></span><br><span class="line"><span class="built_in">export</span> PS1=<span class="string">&quot;$&quot;</span></span><br></pre></td></tr></table></figure><h3 id="-11"><a class="anchor" href="#-11">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNwczEtJUU0JUJGJUFFJUU2JTk0JUI5JUU2JUFEJUE1JUU5JUFBJUE0">#</span>PS1 修改步骤</h3><ol><li><p>打开 bash 配置文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi ~/.bash_profile</span><br></pre></td></tr></table></figure></li><li><p>添加 PS1 配置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 折叠路径</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">_getShortPwd</span></span>() &#123;</span><br><span class="line">  <span class="built_in">echo</span> -n `<span class="built_in">pwd</span> | sed -e <span class="string">&quot;s!<span class="variable">$HOME</span>!~!&quot;</span> | sed <span class="string">&quot;s:\([^/]\)[^/]*/:\1/:g&quot;</span>`</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># git</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">_getGitPS1</span></span>() &#123;</span><br><span class="line">  git status &gt; /dev/null 2&gt;&amp;1</span><br><span class="line">  <span class="keyword">if</span> [ $? == 0 ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">local</span> branch= `git branch | grep \* | <span class="built_in">cut</span> -d <span class="string">&#x27; &#x27;</span> -f2`</span><br><span class="line">    status= `git status 2&gt;&amp;1 | <span class="built_in">tee</span>`</span><br><span class="line">    dirty= `<span class="built_in">echo</span> -n <span class="string">&quot;<span class="variable">$&#123;status&#125;</span>&quot;</span> 2&gt; /dev/null | grep <span class="string">&quot;modified:&quot;</span> &amp;&gt; /dev/null; <span class="built_in">echo</span> <span class="string">&quot;$?&quot;</span>`</span><br><span class="line">    untracked= `<span class="built_in">echo</span> -n <span class="string">&quot;<span class="variable">$&#123;status&#125;</span>&quot;</span> 2&gt; /dev/null | grep <span class="string">&quot;Untracked files&quot;</span> &amp;&gt; /dev/null; <span class="built_in">echo</span> <span class="string">&quot;$?&quot;</span>`</span><br><span class="line">    ahead= `<span class="built_in">echo</span> -n <span class="string">&quot;<span class="variable">$&#123;status&#125;</span>&quot;</span> 2&gt; /dev/null | grep <span class="string">&quot;Your branch is ahead of&quot;</span> &amp;&gt; /dev/null; <span class="built_in">echo</span> <span class="string">&quot;$?&quot;</span>`</span><br><span class="line">    newfile= `<span class="built_in">echo</span> -n <span class="string">&quot;<span class="variable">$&#123;status&#125;</span>&quot;</span> 2&gt; /dev/null | grep <span class="string">&quot;new file:&quot;</span> &amp;&gt; /dev/null; <span class="built_in">echo</span> <span class="string">&quot;$?&quot;</span>`</span><br><span class="line">    renamed= `<span class="built_in">echo</span> -n <span class="string">&quot;<span class="variable">$&#123;status&#125;</span>&quot;</span> 2&gt; /dev/null | grep <span class="string">&quot;renamed:&quot;</span> &amp;&gt; /dev/null; <span class="built_in">echo</span> <span class="string">&quot;$?&quot;</span>`</span><br><span class="line">    deleted= `<span class="built_in">echo</span> -n <span class="string">&quot;<span class="variable">$&#123;status&#125;</span>&quot;</span> 2&gt; /dev/null | grep <span class="string">&quot;deleted:&quot;</span> &amp;&gt; /dev/null; <span class="built_in">echo</span> <span class="string">&quot;$?&quot;</span>`</span><br><span class="line">    bits=<span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$&#123;renamed&#125;</span>&quot;</span> == <span class="string">&quot;0&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">      bits=<span class="string">&quot;&gt;<span class="variable">$&#123;bits&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$&#123;ahead&#125;</span>&quot;</span> == <span class="string">&quot;0&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">      bits=<span class="string">&quot;*<span class="variable">$&#123;bits&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$&#123;newfile&#125;</span>&quot;</span> == <span class="string">&quot;0&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">      bits=<span class="string">&quot;+<span class="variable">$&#123;bits&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$&#123;untracked&#125;</span>&quot;</span> == <span class="string">&quot;0&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">      bits=<span class="string">&quot;?<span class="variable">$&#123;bits&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$&#123;deleted&#125;</span>&quot;</span> == <span class="string">&quot;0&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">      bits=<span class="string">&quot;x<span class="variable">$&#123;bits&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$&#123;dirty&#125;</span>&quot;</span> == <span class="string">&quot;0&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">      bits=<span class="string">&quot;!<span class="variable">$&#123;bits&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="keyword">if</span> [ ! <span class="string">&quot;<span class="variable">$&#123;bits&#125;</span>&quot;</span> == <span class="string">&quot;&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">      <span class="built_in">echo</span> <span class="string">&quot; <span class="variable">$branch</span> <span class="variable">$bits</span>&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      <span class="built_in">echo</span> <span class="string">&quot; <span class="variable">$branch</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">PS1=<span class="string">&#x27;\[\e[38;5;166m\]$(_getShortPwd)\[\e[0m\]\[\e[38;5;135m\] &gt;\[\e[0m\]\[\e[38;5;118m\]$(_getGitPS1)\[\e[0m\] \$ &#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># title show path</span></span><br><span class="line"><span class="built_in">export</span> PS1=<span class="string">&quot;\[\e]0;\w\a\]<span class="variable">$PS1</span>&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>生效配置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.bash_profile</span><br></pre></td></tr></table></figure><p>1</p></li></ol><p><img data-src="https://tszv.vercel.app/img/git/016.png" alt="changed PS1"></p><p>以上配置大部分参考了这篇文章: <span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC81MTAwODA4Nw==">你不需要花哨的命令提示符 - 知乎 (opens new window)</span></p><p><code>PS1</code> 具体配置可以看这篇文章: <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvNmNlNDg0Lw==">linux 下 PS1 命令提示符设置</span>，这里就不再详述</p><h2 id="-12"><a class="anchor" href="#-12">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNnaXQtYmFzaC0lRTUlOTElQkQlRTQlQkIlQTQlRTglQTElOEMlRTUlOUYlQkElRTclQTElODA=">#</span>Git-Bash 命令行基础</h2><h3 id="-13"><a class="anchor" href="#-13">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyMlRTQlQjglODAlRTMlODAlODElRTUlQjglQjglRTglQTclODElRTUlOTElQkQlRTQlQkIlQTQ=">#</span>一、常见命令</h3><table><thead><tr><th>操作</th><th>命令</th></tr></thead><tbody><tr><td>进入目录</td><td>cd</td></tr><tr><td>显示当前目录</td><td>pwd</td></tr><tr><td>创建目录</td><td>mkdir 目录名</td></tr><tr><td>创建目录</td><td>mkdir -p 目录路径</td></tr><tr><td>我是谁</td><td>whoami</td></tr><tr><td>查看路径</td><td>ls 路径</td></tr><tr><td>查看路径</td><td>ls -a 路径 (显示隐藏文件)</td></tr><tr><td>查看路径</td><td>ls -l 路径 (显示更多信息 (drwx:d 是否是目录，rw 是否可以读写，x 是否可以执行))</td></tr><tr><td>查看路径</td><td>ls -al 路径 (显示隐藏信息和详细信息)</td></tr><tr><td>创建文件</td><td>echo ‘1’ &gt; 文件路径 (并且把内容 &quot;1&quot; 写入文件)</td></tr><tr><td>强制创建文件</td><td>echo ‘1’ &gt;! 文件路径 (只能用在 linux, windows 出错) 强制重定向，覆盖原来有的内容</td></tr><tr><td>追加文件内容</td><td>echo ‘1’ &gt;&gt; 文件路径 (只能用在 linux, windows 出错)</td></tr><tr><td>创建文件</td><td>touch 文件名</td></tr><tr><td>改变文件更新时间</td><td>touch 文件名</td></tr><tr><td>复制文件</td><td>cp 源路径 目标路径 (可以覆盖原来有的文件)</td></tr><tr><td>复制目录</td><td>cp -r 源路径 目标路径</td></tr><tr><td>移动节点</td><td>mv 源路径 目标路径 (修改文件名)</td></tr><tr><td>删除文件</td><td>rm 文件路径</td></tr><tr><td>强制删除文件</td><td>rm -f 文件路径</td></tr><tr><td>删除目录</td><td>rm -r 目录路径</td></tr><tr><td>强制删除目录</td><td>rm -rf 目录路径</td></tr><tr><td>查看目录结构</td><td>tree (windows 不支持)</td></tr><tr><td>建立软链接</td><td>ln -s 真实文件 链接</td></tr><tr><td>下载文件</td><td>curl -L <span class="exturl" data-url="aHR0cHM6Ly93d3cuYmFpZHUuY29tLw==">https://www.baidu.com (opens new window)</span> &gt; baidu.html</td></tr><tr><td>拷贝网页</td><td>wget -p -H -e robots=off <span class="exturl" data-url="aHR0cHM6Ly93d3cuYmFpZHUuY29tLw==">https://www.baidu.com (opens new window)</span> (整个网页所有文件)</td></tr><tr><td>磁盘占用</td><td>df -kh</td></tr><tr><td>当前目录大小</td><td>du -sh .</td></tr><tr><td>各文件大小</td><td>du -h</td></tr><tr><td>查看文件内容</td><td>cat</td></tr></tbody></table><h4 id="-14"><a class="anchor" href="#-14">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyMlRTklOUMlODAlRTglQTYlODElRTYlQjMlQTglRTYlODQlOEYlRTclOUElODQlRTclODIlQjk=">#</span>需要注意的点</h4><ol><li>各种符号代表的含义</li></ol><ul><li><code>~</code> : 用户目录：我的电脑上就是 <code>C:/Users/lih-y</code></li><li><code>/</code> : 根目录，一个 <code>/</code> 就是根目录，不管你有多少个硬盘，他会把所有硬盘联合起来当作一块</li><li><code>.</code> : 一个点表示当前目录，</li><li><code>../</code> : 两个点表示父目录</li><li>TAB 键可以补全文件名或者目录</li></ul><ol><li>绝对路径与相对路径</li></ol><ul><li>如果一个路径是用 <code>/</code> 开始的，Windows 就从根目录开始找起 (绝对路径), 否则就从当前目录开始找 (相对路径).</li></ul><h3 id="-15"><a class="anchor" href="#-15">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyMlRTQlQkElOEMlRTMlODAlODElRTUlOTElQkQlRTQlQkIlQTQlRTglQTElOEMlRTYlOEElODAlRTUlQjclQTc=">#</span>二、命令行技巧</h3><h4 id="-16"><a class="anchor" href="#-16">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNfMS0lRTYlODklOTMlRTUlQkMlODAtZ2l0LWJhc2gtJUU4JTg3JUFBJUU1JThBJUE4JUU4JUJGJTkwJUU4JUExJThD">#</span>1. 打开 Git Bash 自动运行</h4><ol><li>首先在命令行输入 <code>vi ~/.bashrc</code> 创建一下这个文件</li><li>按 <code>i</code> 进入编辑模式编辑这个文件，内容为 <code>echo 'Hi'</code></li><li>你也可以用命令行编辑文件 <code>echo &quot;echo 'hi'&quot; &gt;&gt; ~/.bashrc</code></li><li>关闭退出 Git Bash, 然后打开 Git Bash, 是不是看到了 Hi, 这说明每次进入 Git Bash, 就会优先运行 <code>~/.bashrc</code> 里面的命令</li><li>如果没有看到 Hi, 运行 <code>source ~/.bashrc</code> , 作用是执行 <code>~/.bashrc</code></li><li>重新编辑 <code>~/.bashrc</code> , 内容改为 <code>cd ~/Desktop</code> , 重启 Git Bash, 有没有发现默认就进入桌面目录了？</li><li>你可以用 <code>~/.bashrc</code> 在进入 Git Bash 前执行任何命令，十分方便.</li></ol><h4 id="-17"><a class="anchor" href="#-17">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNfMi1hbGlhcy0lRTUlOTElQkQlRTQlQkIlQTQlRTglQTElOEMlRTclQkMlQTklRTUlODYlOTk=">#</span>2. <code>alias</code> 命令行缩写</h4><ol><li><p>在 <code>~/.bashrc</code> 里新增一行 <code>alias f=&quot;echo 'frank is awesome'&quot;</code> , 等于号两边不能有空格，你最好一个字都不要错.</p></li><li><p>运行 <code>source ~/.bashrc</code> , 作用是执行 <code>~/.bashrc</code></p></li><li><p>运行 <code>f</code> , 就会看到 <code>frank is awesome</code></p></li><li><p>也就是说，现在 <code>f</code> 就是 <code>echo 'frank is awesome'</code> 的缩写了，利用这个技巧，我们可以把很多常见的命令缩写一下，比如:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> ll=<span class="string">&#x27;ls -l&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> .=<span class="string">&#x27;../&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> ..=<span class="string">&#x27;../../&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> ...=<span class="string">&#x27;../../../&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">alias</span> gl=<span class="string">&#x27;git pull&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> gaa=<span class="string">&#x27;git add .&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> gcmsg=<span class="string">&#x27;git commit -m&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> gcam=<span class="string">&#x27;git commit -a -m&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> gp=<span class="string">&#x27;git push&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> gco=<span class="string">&#x27;git checkout&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> gm=<span class="string">&#x27;git merge&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> gss=<span class="string">&#x27;git status -s&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> glol=<span class="string">&#x27;git log –graph –pretty = format:’%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset’ –abbrev-commit&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> grh=<span class="string">&#x27;git reset HEAD&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> gba=<span class="string">&#x27;git branch -a&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> gcf=<span class="string">&#x27;git config –list&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> gcl=<span class="string">&#x27;git clone –recursive&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> gd=<span class="string">&#x27;git diff&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> ghh=<span class="string">&#x27;git help&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">alias</span> ns=<span class="string">&#x27;npm run serve&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> nb=<span class="string">&#x27;npm run build&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> nd=<span class="string">&#x27;npm run dev&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>保存退出，然后运行 <code>source ~/.bashrc</code></p><p>这样一来，你的 Git 操作就会简单很多:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gl</span><br><span class="line">gaa</span><br><span class="line">gcam <span class="string">&#x27;msg&#x27;</span></span><br><span class="line">gp</span><br></pre></td></tr></table></figure></li></ol><h4 id="-18"><a class="anchor" href="#-18">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNfMy0lRTUlOTAlQUYlRTUlOEElQTglRTklOTclQUUlRTUlODAlOTklRTglQUYlQUQ=">#</span>3. 启动问候语</h4><p>设想一下：每次打开 Git Bash, 就会输出问候语，告诉你当前时间，今天天气状况，是不是感觉一天的心情都是棒棒哒.</p><p>在命令行获取天气可以使用 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2NodWJpbi93dHRyLmlu">chubin/wttr.in: The right way to check the weather (opens new window)</span> 这个库</p><p>在 <code>~/.bashrc</code> 里新增以下代码:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">hello</span></span>() &#123;</span><br><span class="line">  weather=$(curl wttr.in/?format=<span class="string">&quot;%E6%82%A8%E7%8E%B0%E5%9C%A8%E7%9A%84%E4%BD%8D%E7%BD%AE%E5%9C%A8:%20%l,%20%E5%A4%A9%E6%B0%94%E4%B8%BA:%20%C,%20%E6%B8%A9%E5%BA%A6%E4%B8%BA:%20%t,%20%E6%B9%BF%E5%BA%A6%E4%B8%BA:%20%h,%20%E9%A3%8E%E5%8A%9B%E4%B8%BA:%20%w,%20%E9%99%8D%E6%B0%B4%E4%B8%BA:%20%p&amp;lang=zh&quot;</span> -#)</span><br><span class="line">  me=<span class="string">&quot;亲爱的 <span class="subst">$(whoami)</span>,&quot;</span></span><br><span class="line">  time=<span class="string">&quot;今天是 <span class="subst">$(date <span class="string">&quot;+%F %T %A&quot;</span>)</span>,&quot;</span></span><br><span class="line"></span><br><span class="line">  arr=(<span class="string">&#x27;Hi!&#x27;</span> <span class="variable">$&#123;me&#125;</span> <span class="variable">$&#123;time&#125;</span> <span class="variable">$&#123;weather&#125;</span>)</span><br><span class="line"></span><br><span class="line">  i=0</span><br><span class="line">  l=<span class="variable">$&#123;#arr[*]&#125;</span></span><br><span class="line">  <span class="keyword">while</span> [ <span class="variable">$i</span> -le <span class="variable">$l</span> ]</span><br><span class="line">  <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> [ <span class="variable">$i</span> == <span class="variable">$l</span> ]</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">      <span class="built_in">echo</span> <span class="variable">$&#123;arr[$i]&#125;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      <span class="built_in">echo</span> -e <span class="string">&quot;<span class="variable">$&#123;arr[$i]&#125;</span> \c&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="built_in">let</span> <span class="string">&quot;i++&quot;</span></span><br><span class="line">    <span class="built_in">sleep</span> 0.2</span><br><span class="line">    <span class="built_in">wait</span></span><br><span class="line">  <span class="keyword">done</span></span><br><span class="line">&#125;</span><br><span class="line">hello</span><br></pre></td></tr></table></figure><p><img data-src="https://tszv.vercel.app/img/git/017.png" alt="hello"></p><h3 id="-19"><a class="anchor" href="#-19">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyMlRTQlQjglODktJUU4JUE3JUEzJUU1JTg2JUIzLWJhc2hyYy0lRTYlOTYlODclRTQlQkIlQjYlRTYlQUYlOEYlRTYlQUMlQTElRTYlODklOTMlRTUlQkMlODAlRTclQkIlODglRTclQUIlQUYlRTklODMlQkQlRTklOUMlODAlRTglQTYlODEtc291cmNlLSVFNyU5QSU4NCVFOSU5NyVBRSVFOSVBMiU5OA==">#</span>三。解决.bashrc 文件每次打开终端都需要 source 的问题</h3><p>这个问题困扰我很久，我明明改了 <code>~/.bashrc</code> 文件，每次打开 Git Bash 都要手动输入 <code>source ~/.bashrc</code> , 配置才会生效，很是头疼，于是我就研究了一下解决办法以及问题的原因是什么.</p><h4 id="-20"><a class="anchor" href="#-20">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyMlRTglQTclQTMlRTUlODYlQjMlRTYlOTYlQjklRTYlQjMlOTU=">#</span>解决方法</h4><p><code>vi ~/.bash_profile</code> 在文件内部输入:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Loading .bashrc File</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">test</span> -f ~/.bashrc; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">source</span> ~/.bashrc</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><p>在 <code>.bash_profile</code> 文件中自动加载 <code>.bashrc</code> 文件.</p><h2 id="-21"><a class="anchor" href="#-21">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyNnaXQtYmFzaC0lRTUlQkYlQUIlRTYlOEQlQjclRTklOTQlQUU=">#</span>Git-Bash 快捷键</h2><h3 id="-22"><a class="anchor" href="#-22">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyMlRTUlOUYlQkElRTYlOUMlQUMlRTYlOTMlOEQlRTQlQkQlOUM=">#</span>基本操作</h3><table><thead><tr><th>命令</th><th>介绍</th></tr></thead><tbody><tr><td>Ctrl + Insert</td><td>复制</td></tr><tr><td>Shift + Insert</td><td>黏贴</td></tr></tbody></table><h3 id="-23"><a class="anchor" href="#-23">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyMlRTYlOEUlQTclRTUlODglQjYlRTUlOTElQkQlRTQlQkIlQTQ=">#</span>控制命令</h3><table><thead><tr><th>命令</th><th>介绍</th></tr></thead><tbody><tr><td>Ctrl + l</td><td>清屏</td></tr><tr><td>Ctrl + o</td><td>执行当前命令，并选择上一条命令</td></tr><tr><td>Ctrl + s</td><td>阻止屏幕输出</td></tr><tr><td>Ctrl + q</td><td>允许屏幕输出</td></tr><tr><td>Ctrl + c</td><td>终止命令</td></tr><tr><td>Ctrl + z</td><td>挂起命令</td></tr></tbody></table><h3 id="-24"><a class="anchor" href="#-24">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyMlRTclQkMlOTYlRTglQkUlOTElRTUlOTElQkQlRTQlQkIlQTQ=">#</span>编辑命令</h3><table><thead><tr><th>命令</th><th>介绍</th></tr></thead><tbody><tr><td>Ctrl + a</td><td>移到命令行首</td></tr><tr><td>Ctrl + e</td><td>移到命令行尾</td></tr><tr><td>Ctrl + f</td><td>按字符前移 (右向)</td></tr><tr><td>Ctrl + b</td><td>按字符后移 (左向)</td></tr><tr><td>Alt + f</td><td>按单词前移 (右向)</td></tr><tr><td>Alt + b</td><td>按单词后移 (左向)</td></tr><tr><td>Ctrl + xx</td><td>在命令行首和光标之间移动</td></tr><tr><td>Ctrl + u</td><td>从光标处删除至命令行首</td></tr><tr><td>Ctrl + k</td><td>从光标处删除至命令行尾</td></tr><tr><td>Ctrl + w</td><td>从光标处删除至字首</td></tr><tr><td>Alt + d</td><td>从光标处删除至字尾</td></tr><tr><td>Ctrl + d</td><td>删除光标处的字符</td></tr><tr><td>Ctrl + h</td><td>删除光标前的字符</td></tr><tr><td>Ctrl + y</td><td>粘贴至光标后</td></tr><tr><td>Alt + c</td><td>从光标处更改为首字母大写的单词</td></tr><tr><td>Alt + u</td><td>从光标处更改为全部大写的单词</td></tr><tr><td>Alt + l</td><td>从光标处更改为全部小写的单词</td></tr><tr><td>Ctrl + t</td><td>交换光标处和之前的字符</td></tr><tr><td>Alt + t</td><td>交换光标处和之前的单词</td></tr><tr><td>Alt + Backspace</td><td>与 Ctrl + w 类似，分隔符有些差别</td></tr></tbody></table><h3 id="-25"><a class="anchor" href="#-25">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyMlRTklODclOEQlRTYlOTYlQjAlRTYlODklQTclRTglQTElOEMlRTUlOTElQkQlRTQlQkIlQTQ=">#</span>重新执行命令</h3><table><thead><tr><th>命令</th><th>介绍</th></tr></thead><tbody><tr><td>Ctrl + r</td><td>逆向搜索命令历史</td></tr><tr><td>Ctrl + g</td><td>从历史搜索模式退出</td></tr><tr><td>Ctrl + p</td><td>历史中的上一条命令</td></tr><tr><td>Ctrl + n</td><td>历史中的下一条命令</td></tr><tr><td>Alt + .</td><td>使用上一条命令的最后一个参数</td></tr></tbody></table><h2 id="-26"><a class="anchor" href="#-26">#</a> <span class="exturl" data-url="aHR0cHM6Ly90c3p2LnZlcmNlbC5hcHAvcGFnZXMvMzY4Y2NmLyMlRTUlOEYlODIlRTglODAlODMlRTglQjUlODQlRTYlOTYlOTk=">#</span>参考资料</h2><ul><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC81YWNiOGQ4Y2VmMzI=">Window 平台 Git-Bash 的主题配置 - 简书 (opens new window)</span></li><li><span class="exturl" data-url="aHR0cDovL3d3dy5tYW5vbmdqYy5jb20vYXJ0aWNsZS83OTE0Ny5odG1s">Git Bash 主题配置 - 码农教程 (opens new window)</span></li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC9lZTQ0MmNiNGQ2YzI=">Bash shell / Zsh 里修改前缀 (隐藏用户 @主机，添加 Git 分支名称) - 简书 (opens new window)</span></li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC9jZTU3M2MxOGIyOTM=">终端可以使用 emoji🖖🏻 表情作为提示词呢 - Coder 们，来搞一个花哨的终端吧！- 简书 (opens new window)</span></li><li><span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC81MTAwODA4Nw==">你不需要花哨的命令提示符 - 知乎 (opens new window)</span></li><li><span class="exturl" data-url="aHR0cHM6Ly9zZWdtZW50ZmF1bHQuY29tL2EvMTE5MDAwMDAxMzczNjcxMQ==">Git Bash 命令行基础 - 马涛涛的博客 —— 前端的征途 - SegmentFault 思否 (opens new window)</span></li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC9jNDk0NjAyNGI5NDY=">解决.bashrc 文件每次打开终端都需要 source 的问题 - 简书 (opens new window)</span></li><li><span class="exturl" data-url="aHR0cHM6Ly93d3cua2FuY2xvdWQuY24vYW1laGltZS9sYXJhdmVsLW5vdGUvNDcwOTk3">Git Bash 使用技巧・Laravel 5.5 学习笔记・看云</span></li></ul><div class="tags"><a href="/tags/Git/" rel="tag"><i class="ic i-tag"></i> Git</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2024-03-21 23:40:38" itemprop="dateModified" datetime="2024-03-21T23:40:38+08:00">2024-03-21</time></span></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>氨基酸小童鞋 <i class="ic i-at"><em>@</em></i>氨基酸小童鞋的博客</li><li class="link"><strong>本文链接：</strong> <a href="https://zhihao-a.github.io/2024/03/21/git%E9%85%8D%E7%BD%AE%E7%9B%B8%E5%85%B3/" title="git配置相关">https://zhihao-a.github.io/2024/03/21/git配置相关/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2024/03/02/Domain-adversarial-neural-networks-for-domain-generalizationwhen-it-works-and-how-to-improve/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;s3.bmp.ovh&#x2F;imgs&#x2F;2023&#x2F;12&#x2F;17&#x2F;003de54d666d08f8.jpg" title="Domain adversarial neural networks for domain generalizationwhen it works and how to improve"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i></span><h3>Domain adversarial neural networks for domain generalizationwhen it works and how to improve</h3></a></div><div class="item right"><a href="/2024/05/21/bug%E6%B1%87%E6%80%BB/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;s3.bmp.ovh&#x2F;imgs&#x2F;2023&#x2F;12&#x2F;17&#x2F;d381655addb17c95.jpg" title="bug汇总"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i></span><h3>bug汇总</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#imggit-bash-%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="toc-number">1.</span> <span class="toc-text">Git Bash 的配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-number">1.1.</span> <span class="toc-text">#Git-Bash 的优点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-2"><span class="toc-number">1.1.1.</span> <span class="toc-text">#WSL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-3"><span class="toc-number">1.1.2.</span> <span class="toc-text">#CygWin</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-4"><span class="toc-number">1.1.3.</span> <span class="toc-text">#Git-Bash</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-5"><span class="toc-number">1.2.</span> <span class="toc-text">#Git-Bash 下载安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-6"><span class="toc-number">1.3.</span> <span class="toc-text">#Git-Bash 的主题配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-7"><span class="toc-number">1.3.1.</span> <span class="toc-text">#Git-Bash 配色主题设置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-8"><span class="toc-number">1.4.</span> <span class="toc-text">#Git-Bash 修改提示符 PS1</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-9"><span class="toc-number">1.4.1.</span> <span class="toc-text">#获取当前 PS1 配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-10"><span class="toc-number">1.4.2.</span> <span class="toc-text">#PS1 修改语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-11"><span class="toc-number">1.4.3.</span> <span class="toc-text">#PS1 修改步骤</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-12"><span class="toc-number">1.5.</span> <span class="toc-text">#Git-Bash 命令行基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-13"><span class="toc-number">1.5.1.</span> <span class="toc-text">#一、常见命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#-14"><span class="toc-number">1.5.1.1.</span> <span class="toc-text">#需要注意的点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-15"><span class="toc-number">1.5.2.</span> <span class="toc-text">#二、命令行技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#-16"><span class="toc-number">1.5.2.1.</span> <span class="toc-text">#1. 打开 Git Bash 自动运行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-17"><span class="toc-number">1.5.2.2.</span> <span class="toc-text">#2. alias 命令行缩写</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-18"><span class="toc-number">1.5.2.3.</span> <span class="toc-text">#3. 启动问候语</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-19"><span class="toc-number">1.5.3.</span> <span class="toc-text">#三。解决.bashrc 文件每次打开终端都需要 source 的问题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#-20"><span class="toc-number">1.5.3.1.</span> <span class="toc-text">#解决方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-21"><span class="toc-number">1.6.</span> <span class="toc-text">#Git-Bash 快捷键</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-22"><span class="toc-number">1.6.1.</span> <span class="toc-text">#基本操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-23"><span class="toc-number">1.6.2.</span> <span class="toc-text">#控制命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-24"><span class="toc-number">1.6.3.</span> <span class="toc-text">#编辑命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-25"><span class="toc-number">1.6.4.</span> <span class="toc-text">#重新执行命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-26"><span class="toc-number">1.7.</span> <span class="toc-text">#参考资料</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="氨基酸小童鞋" data-src="/images/avatar.jpg"><p class="name" itemprop="name">氨基酸小童鞋</p><div class="description" itemprop="description">氨基酸小童鞋的博客</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">15</span> <span class="name">文章</span></a></div><div class="item tags"><a href="/tags/"><span class="count">10</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly96aGloYW8tYS5naXRodWIuY29tLw==" title="https:&#x2F;&#x2F;zhihao-a.github.com&#x2F;"><i class="ic i-github"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>文章</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>friends</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2024/03/02/Domain-adversarial-neural-networks-for-domain-generalizationwhen-it-works-and-how-to-improve/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2024/05/21/bug%E6%B1%87%E6%80%BB/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"></div><span><a href="/2023/12/17/javaWeb%E5%85%A8%E6%A0%88/" title="javaWeb全栈">javaWeb全栈</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/05/27/%E8%AF%AD%E6%B3%95%E7%9F%A5%E8%AF%86%E8%AE%B0%E5%BD%95/" title="语法知识记录">语法知识记录</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/03/02/Domain-adversarial-neural-networks-for-domain-generalizationwhen-it-works-and-how-to-improve/" title="Domain adversarial neural networks for domain generalizationwhen it works and how to improve">Domain adversarial neural networks for domain generalizationwhen it works and how to improve</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/12/17/Linux%E5%B8%B8%E7%94%A8%E8%AF%AD%E6%B3%95/" title="My First Post">My First Post</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/12/17/Pandas&Numpy/" title="Pandas&amp;Numpy">Pandas&Numpy</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/03/02/Domain-Agnostic-Learning-with-Disentangled-Representations/" title="Domain Agnostic Learning with Disentangled Representations">Domain Agnostic Learning with Disentangled Representations</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/05/21/bug%E6%B1%87%E6%80%BB/" title="bug汇总">bug汇总</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/08/28/docker/" title="docker">docker</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/12/17/%E7%AE%97%E6%B3%95%E5%8E%9F%E5%9E%8B/" title="算法原型">算法原型</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2024/03/21/git%E9%85%8D%E7%BD%AE%E7%9B%B8%E5%85%B3/" title="git配置相关">git配置相关</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2023 – <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-garden hamster"></i> </span><span class="author" itemprop="copyrightHolder">氨基酸小童鞋 @ 氨基酸小童鞋</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">416k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">6:18</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2024/03/21/git配置相关/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>